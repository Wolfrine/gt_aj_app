import{$ as Vi,$a as Ct,$b as Ve,A as qu,Aa as qb,Ab as ct,B as lc,Ba as hc,Bb as bc,C as Fi,Ca as Hb,Cb as Zb,D as Vb,Da as Le,Db as Jb,E as Hu,Ea as ke,Eb as tv,F as Sr,Fa as ss,Fb as Nr,G as Lt,Ga as fc,Gb as ev,H as Gu,Ha as kr,Hb as vc,I as Rr,Ia as Gb,Ib as yc,J as Li,Ja as as,Jb as rh,K as Wu,Ka as nt,Kb as cs,L as Ku,La as R,Lb as Bi,M as _e,Ma as Pr,Mb as nv,N as Ub,Na as Ui,Nb as wc,O as dc,Oa as Wb,Ob as qe,P as rs,Pa as mc,Pb as iv,Q as oi,Qa as pc,Qb as rv,R as Yu,Ra as Or,Rb as Qe,S as jb,Sa as gc,Sb as ov,T as Qu,Ta as $,Tb as Fr,U as Xu,Ua as th,Ub as sv,V as uc,Va as Mr,Vb as av,W as dn,Wa as Ht,Wb as Q,X as Ie,Xa as Ln,Xb as cv,Y as le,Ya as Kb,Yb as oh,Z as qt,Za as eh,Zb as lv,_ as Pt,_a as nh,_b as dv,a as M,aa as U,ab as Gt,ac as sh,b as Et,ba as dt,bb as Wt,bc as uv,c as Mb,ca as Bb,cb as At,cc as hv,d as ri,da as z,db as _c,dc as fv,e as b,ea as Zu,eb as de,ec as xc,f as Mn,fa as S,fb as V,fc as Xe,g as Vu,ga as F,gb as j,gc as mv,h as Re,ha as Ee,hb as ft,hc as Ic,i as Uu,ia as zb,ib as ci,ic as ls,j as ju,ja as os,jb as ji,jc as Ec,k as J,ka as wt,kb as Yb,kc as pv,l as De,la as at,lb as St,m as Nb,ma as ut,mb as Qb,n as Fb,na as X,nb as te,nc as Tc,o as ln,oa as Fe,ob as $e,oc as ds,p as cc,pa as $b,pb as Ot,q as Bu,qa as Dr,qb as Ye,qc as zi,r as zu,ra as Nn,rb as Te,rc as us,s as Zt,sa as ze,sb as Mt,sc as hs,t as G,ta as si,tb as Nt,u as is,ua as ai,ub as ih,v as $u,va as Fn,vb as Y,w as Lb,wa as Rt,wb as un,x as lt,xa as Ju,xb as Vn,y as Ar,ya as ht,yb as Xb,z as Ne,za as Jt,zb as Ce}from"./chunk-GAJKT6UY.js";var Ac=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var Iv=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Iv||{}),ah=class{constructor(t,i=Ev.Ok,n="OK"){this.headers=t.headers||new Ac,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Sc=class e extends ah{constructor(t={}){super(t),this.type=Iv.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var Ev=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Ev||{});var dC=new z("");var gv="b",_v="h",bv="s",vv="st",yv="u",wv="rt",Cc=new z(""),uC=["GET","HEAD"];function hC(e,t){let p=F(Cc),{isCacheActive:i}=p,n=Mb(p,["isCacheActive"]),{transferCache:r,method:o}=e;if(!i||o==="POST"&&!n.includePostRequests&&!r||o!=="POST"&&!uC.includes(o)||r===!1||n.filter?.(e)===!1)return t(e);let s=F(fc),c=mC(e),l=s.get(c,null),u=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(u=r.includeHeaders),l){let{[gv]:_,[wv]:T,[_v]:k,[bv]:O,[vv]:P,[yv]:H}=l,K=_;switch(T){case"arraybuffer":K=new TextEncoder().encode(_).buffer;break;case"blob":K=new Blob([_]);break}let Z=new Ac(k);return G(new Sc({body:K,headers:Z,status:O,statusText:P,url:H}))}let f=ls(F(Le));return t(e).pipe(qt(_=>{_ instanceof Sc&&f&&s.set(c,{[gv]:_.body,[_v]:fC(_.headers,u),[bv]:_.status,[vv]:_.statusText,[yv]:_.url||"",[wv]:e.responseType})}))}function fC(e,t){if(!t)return{};let i={};for(let n of t){let r=e.getAll(n);r!==null&&(i[n]=r)}return i}function xv(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function mC(e){let{params:t,method:i,responseType:n,url:r}=e,o=xv(t),s=e.serializeBody();s instanceof URLSearchParams?s=xv(s):typeof s!="string"&&(s="");let c=[i,n,r,s,o].join("|"),l=pC(c);return l}function pC(e){let t=0;for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function Tv(e){return[{provide:Cc,useFactory:()=>(gc("NgHttpTransferCache"),M({isCacheActive:!0},e))},{provide:dC,useValue:hC,multi:!0,deps:[fc,Cc]},{provide:cs,multi:!0,useFactory:()=>{let t=F(Bi),i=F(Cc);return()=>{nv(t).then(()=>{i.isCacheActive=!1})}}}]}var dh=class extends av{constructor(){super(...arguments),this.supportsDOMEvents=!0}},uh=class e extends dh{static makeCurrent(){sv(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=_C();return i==null?null:bC(i)}resetBaseElement(){fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return sh(document.cookie,t)}},fs=null;function _C(){return fs=fs||document.querySelector("base"),fs?fs.getAttribute("href"):null}function bC(e){return new URL(e,document.baseURI).pathname}var vC=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),hh=new z(""),Sv=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Pt(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(S(hh),S($))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Rc=class{constructor(t){this._doc=t}},ch="ng-app-id",Rv=(()=>{let t=class t{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ls(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${ch}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(ch),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(ch,this.appId),n.appendChild(c),c}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(S(Q),S(hc),S(ss,8),S(Le))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),lh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ph=/%COMP%/g,Dv="%COMP%",yC=`_nghost-${Dv}`,wC=`_ngcontent-${Dv}`,xC=!0,IC=new z("",{providedIn:"root",factory:()=>xC});function EC(e){return wC.replace(ph,e)}function TC(e){return yC.replace(ph,e)}function kv(e,t){return t.map(i=>i.replace(ph,e))}var Dc=(()=>{let t=class t{constructor(n,r,o,s,c,l,u,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=l,this.ngZone=u,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=ls(l),this.defaultRenderer=new ms(n,c,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===os.ShadowDom&&(r=Et(M({},r),{encapsulation:os.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof kc?o.applyToHost(n):o instanceof ps&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,l=this.ngZone,u=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(r.encapsulation){case os.Emulated:s=new kc(u,f,r,this.appId,p,c,l,_);break;case os.ShadowDom:return new fh(u,f,n,r,c,l,this.nonce,_);default:s=new ps(u,f,r,p,c,l,_);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(S(Sv),S(Rv),S(hc),S(IC),S(Q),S(Le),S($),S(ss))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),ms=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(lh[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(Cv(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(Cv(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Pt(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let o=lh[r];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=lh[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(as.DashCase|as.Important)?t.style.setProperty(i,n,r&as.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&as.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=Fr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function Cv(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var fh=class extends ms{constructor(t,i,n,r,o,s,c,l){super(t,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=kv(r.id,r.styles);for(let f of u){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ps=class extends ms{constructor(t,i,n,r,o,s,c,l){super(t,o,s,c),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?kv(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},kc=class extends ps{constructor(t,i,n,r,o,s,c,l){let u=r+"-"+n.id;super(t,i,n,o,s,c,l,u),this.contentAttr=EC(u),this.hostAttr=TC(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},CC=(()=>{let t=class t extends Rc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Av=["alt","control","meta","shift"],AC={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SC={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},RC=(()=>{let t=class t extends Rc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fr().onAndCancel(n,s.domEventName,c))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),Av.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=c,u}static matchEventFullKeyCode(n,r){let o=AC[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Av.forEach(c=>{if(c!==o){let l=SC[c];l(n)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function Pv(e,t){return iv(M({rootComponent:e},DC(t)))}function DC(e){return{appProviders:[...NC,...e?.providers??[]],platformProviders:MC}}function kC(){uh.makeCurrent()}function PC(){return new Ju}function OC(){return qb(document),document}var MC=[{provide:Le,useValue:mv},{provide:Hb,useValue:kC,multi:!0},{provide:Q,useFactory:OC,deps:[]}];var NC=[{provide:$b,useValue:"root"},{provide:Ju,useFactory:PC,deps:[]},{provide:hh,useClass:CC,multi:!0,deps:[Q,$,Le]},{provide:hh,useClass:RC,multi:!0,deps:[Q]},Dc,Rv,Sv,{provide:pc,useExisting:Dc},{provide:pv,useClass:vC,deps:[]},[]];var Pc=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mh=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(mh||{});function Ov(...e){let t=[],i=new Set,n=i.has(mh.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of e)i.add(o),r.length&&t.push(r);return Fe([[],rv(),i.has(mh.NoHttpTransferCache)||n?[]:Tv({}),t])}var ot="primary",ks=Symbol("RouteTitle"),yh=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Br(e){return new yh(e)}function LC(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],c=e[o];if(s.startsWith(":"))r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function VC(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!hn(e[i],t[i]))return!1;return!0}function hn(e,t){let i=e?wh(e):void 0,n=t?wh(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!$v(e[r],t[r]))return!1;return!0}function wh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function $v(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,o)=>n[o]===r)}else return e===t}function qv(e){return e.length>0?e[e.length-1]:null}function hi(e){return $u(e)?e:yc(e)?Zt(Promise.resolve(e)):G(e)}var UC={exact:Gv,subset:Wv},Hv={exact:jC,subset:BC,ignored:()=>!0};function Nv(e,t,i){return UC[i.paths](e.root,t.root,i.matrixParams)&&Hv[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function jC(e,t){return hn(e,t)}function Gv(e,t,i){if(!qi(e.segments,t.segments)||!Nc(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!Gv(e.children[n],t.children[n],i))return!1;return!0}function BC(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>$v(e[i],t[i]))}function Wv(e,t,i){return Kv(e,t,t.segments,i)}function Kv(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!qi(r,i)||t.hasChildren()||!Nc(r,i,n))}else if(e.segments.length===i.length){if(!qi(e.segments,i)||!Nc(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!Wv(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!qi(e.segments,r)||!Nc(e.segments,r,n)||!e.children[ot]?!1:Kv(e.children[ot],t,o,n)}}function Nc(e,t,i){return t.every((n,r)=>Hv[i](e[r].parameters,n.parameters))}var li=class{constructor(t=new It([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Br(this.queryParams),this._queryParamMap}toString(){return qC.serialize(this)}},It=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fc(this)}},$i=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Br(this.parameters),this._parameterMap}toString(){return Qv(this)}};function zC(e,t){return qi(e,t)&&e.every((i,n)=>hn(i.parameters,t[n].parameters))}function qi(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function $C(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===ot&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==ot&&(i=i.concat(t(r,n)))}),i}var Ps=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>new xs,providedIn:"root"});let e=t;return e})(),xs=class{parse(t){let i=new Ih(t);return new li(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${gs(t.root,!0)}`,n=WC(t.queryParams),r=typeof t.fragment=="string"?`#${HC(t.fragment)}`:"";return`${i}${n}${r}`}},qC=new xs;function Fc(e){return e.segments.map(t=>Qv(t)).join("/")}function gs(e,t){if(!e.hasChildren())return Fc(e);if(t){let i=e.children[ot]?gs(e.children[ot],!1):"",n=[];return Object.entries(e.children).forEach(([r,o])=>{r!==ot&&n.push(`${r}:${gs(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=$C(e,(n,r)=>r===ot?[gs(e.children[ot],!1)]:[`${r}:${gs(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[ot]!=null?`${Fc(e)}/${i[0]}`:`${Fc(e)}/(${i.join("//")})`}}function Yv(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Oc(e){return Yv(e).replace(/%3B/gi,";")}function HC(e){return encodeURI(e)}function xh(e){return Yv(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lc(e){return decodeURIComponent(e)}function Fv(e){return Lc(e.replace(/\+/g,"%20"))}function Qv(e){return`${xh(e.path)}${GC(e.parameters)}`}function GC(e){return Object.entries(e).map(([t,i])=>`;${xh(t)}=${xh(i)}`).join("")}function WC(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Oc(i)}=${Oc(r)}`).join("&"):`${Oc(i)}=${Oc(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var KC=/^[^\/()?;#]+/;function gh(e){let t=e.match(KC);return t?t[0]:""}var YC=/^[^\/()?;=#]+/;function QC(e){let t=e.match(YC);return t?t[0]:""}var XC=/^[^=?&#]+/;function ZC(e){let t=e.match(XC);return t?t[0]:""}var JC=/^[^&#]+/;function tA(e){let t=e.match(JC);return t?t[0]:""}var Ih=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new It([],{}):new It([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[ot]=new It(t,i)),n}parseSegment(){let t=gh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Pt(4009,!1);return this.capture(t),new $i(Lc(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=QC(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=gh(this.remaining);r&&(n=r,this.capture(n))}t[Lc(i)]=Lc(n)}parseQueryParam(t){let i=ZC(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=tA(this.remaining);s&&(n=s,this.capture(n))}let r=Fv(i),o=Fv(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=gh(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Pt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ot);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[ot]:new It([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Pt(4011,!1)}};function Xv(e){return e.segments.length>0?new It([],{[ot]:e}):e}function Zv(e){let t={};for(let[n,r]of Object.entries(e.children)){let o=Zv(r);if(n===ot&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new It(e.segments,t);return eA(i)}function eA(e){if(e.numberOfChildren===1&&e.children[ot]){let t=e.children[ot];return new It(e.segments.concat(t.segments),t.children)}return e}function zr(e){return e instanceof li}function nA(e,t,i=null,n=null){let r=Jv(e);return ty(r,t,i,n)}function Jv(e){let t;function i(o){let s={};for(let l of o.children){let u=i(l);s[l.outlet]=u}let c=new It(o.url,s);return o===e&&(t=c),c}let n=i(e.root),r=Xv(n);return t??r}function ty(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return _h(r,r,r,i,n);let o=iA(t);if(o.toRoot())return _h(r,r,new It([],{}),i,n);let s=rA(o,r,e),c=s.processChildren?vs(s.segmentGroup,s.index,o.commands):ny(s.segmentGroup,s.index,o.commands);return _h(r,s.segmentGroup,c,i,n)}function Vc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Is(e){return typeof e=="object"&&e!=null&&e.outlets}function _h(e,t,i,n,r){let o={};n&&Object.entries(n).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let s;e===t?s=i:s=ey(e,t,i);let c=Xv(Zv(s));return new li(c,o,r)}function ey(e,t,i){let n={};return Object.entries(e.children).forEach(([r,o])=>{o===t?n[r]=i:n[r]=ey(o,t,i)}),new It(e.segments,n)}var Uc=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Vc(n[0]))throw new Pt(4003,!1);let r=n.find(Is);if(r&&r!==qv(n))throw new Pt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iA(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Uc(!0,0,e);let t=0,i=!1,n=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,u])=>{c[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?i=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Uc(i,t,n)}var Ur=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function rA(e,t,i){if(e.isAbsolute)return new Ur(t,!0,0);if(!i)return new Ur(t,!1,NaN);if(i.parent===null)return new Ur(i,!0,0);let n=Vc(e.commands[0])?0:1,r=i.segments.length-1+n;return oA(i,r,e.numberOfDoubleDots)}function oA(e,t,i){let n=e,r=t,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Pt(4005,!1);r=n.segments.length}return new Ur(n,!1,r-o)}function sA(e){return Is(e[0])?e[0].outlets:{[ot]:e}}function ny(e,t,i){if(e??=new It([],{}),e.segments.length===0&&e.hasChildren())return vs(e,t,i);let n=aA(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new It(e.segments.slice(0,n.pathIndex),{});return o.children[ot]=new It(e.segments.slice(n.pathIndex),e.children),vs(o,0,r)}else return n.match&&r.length===0?new It(e.segments,{}):n.match&&!e.hasChildren()?Eh(e,t,i):n.match?vs(e,0,r):Eh(e,t,i)}function vs(e,t,i){if(i.length===0)return new It(e.segments,{});{let n=sA(i),r={};if(Object.keys(n).some(o=>o!==ot)&&e.children[ot]&&e.numberOfChildren===1&&e.children[ot].segments.length===0){let o=vs(e.children[ot],t,i);return new It(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=ny(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new It(e.segments,r)}}function aA(e,t,i){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return o;let s=e.segments[r],c=i[n];if(Is(c))break;let l=`${c}`,u=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Vv(l,u,s))return o;n+=2}else{if(!Vv(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Eh(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(Is(o)){let l=cA(o.outlets);return new It(n,l)}if(r===0&&Vc(i[0])){let l=e.segments[t];n.push(new $i(l.path,Lv(i[0]))),r++;continue}let s=Is(o)?o.outlets[ot]:`${o}`,c=r<i.length-1?i[r+1]:null;s&&c&&Vc(c)?(n.push(new $i(s,Lv(c))),r+=2):(n.push(new $i(s,{})),r++)}return new It(n,{})}function cA(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=Eh(new It([],{}),0,n))}),t}function Lv(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function Vv(e,t,i){return e==i.path&&hn(t,i.parameters)}var ys="imperative",se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(se||{}),He=class{constructor(t,i){this.id=t,this.url=i}},$r=class extends He{constructor(t,i,n="imperative",r=null){super(t,i),this.type=se.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ze=class extends He{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=se.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},je=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(je||{}),jc=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(jc||{}),di=class extends He{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=se.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ui=class extends He{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=se.NavigationSkipped}},Es=class extends He{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=se.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Bc=class extends He{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=se.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Th=class extends He{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=se.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ch=class extends He{constructor(t,i,n,r,o){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=se.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ah=class extends He{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=se.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sh=class extends He{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=se.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rh=class{constructor(t){this.route=t,this.type=se.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dh=class{constructor(t){this.route=t,this.type=se.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},kh=class{constructor(t){this.snapshot=t,this.type=se.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ph=class{constructor(t){this.snapshot=t,this.type=se.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oh=class{constructor(t){this.snapshot=t,this.type=se.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mh=class{constructor(t){this.snapshot=t,this.type=se.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zc=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=se.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ts=class{},Cs=class{constructor(t){this.url=t}};var Nh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Os,this.attachRef=null}},Os=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Nh,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$c=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Fh(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=Fh(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Lh(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Lh(t,this._root).map(i=>i.value)}};function Fh(e,t){if(e===t.value)return t;for(let i of t.children){let n=Fh(e,i);if(n)return n}return null}function Lh(e,t){if(e===t.value)return[t];for(let i of t.children){let n=Lh(e,i);if(n.length)return n.unshift(t),n}return[]}var Ue=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function Vr(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var qc=class extends $c{constructor(t,i){super(t),this.snapshot=i,Wh(this,t)}toString(){return this.snapshot.toString()}};function iy(e){let t=lA(e),i=new De([new $i("",{})]),n=new De({}),r=new De({}),o=new De({}),s=new De(""),c=new Un(i,n,o,s,r,ot,e,t.root);return c.snapshot=t.root,new qc(new Ue(c,[]),t)}function lA(e){let t={},i={},n={},r="",o=new As([],t,n,r,i,ot,e,null,{});return new Hc("",new Ue(o,[]))}var Un=class{constructor(t,i,n,r,o,s,c,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(lt(u=>u[ks]))??G(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(lt(t=>Br(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(lt(t=>Br(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gh(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:M(M({},t.params),e.params),data:M(M({},t.data),e.data),resolve:M(M(M(M({},e.data),t.data),r?.data),e._resolvedData)}:n={params:M({},e.params),data:M({},e.data),resolve:M(M({},e.data),e._resolvedData??{})},r&&oy(r)&&(n.resolve[ks]=r.title),n}var As=class{get title(){return this.data?.[ks]}constructor(t,i,n,r,o,s,c,l,u){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Br(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Br(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Hc=class extends $c{constructor(t,i){super(i),this.url=t,Wh(this,i)}toString(){return ry(this._root)}};function Wh(e,t){t.value._routerState=e,t.children.forEach(i=>Wh(e,i))}function ry(e){let t=e.children.length>0?` { ${e.children.map(ry).join(", ")} } `:"";return`${e.value}${t}`}function bh(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,hn(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),hn(t.params,i.params)||e.paramsSubject.next(i.params),VC(t.url,i.url)||e.urlSubject.next(i.url),hn(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Vh(e,t){let i=hn(e.params,t.params)&&zC(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||Vh(e.parent,t.parent))}function oy(e){return typeof e.title=="string"||e.title===null}var Kh=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new Jt,this.deactivateEvents=new Jt,this.attachEvents=new Jt,this.detachEvents=new Jt,this.parentContexts=F(Os),this.location=F(Mr),this.changeDetector=F(qe),this.environmentInjector=F(Dr),this.inputBinder=F(Yc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Pt(4013,!1);this._activatedRoute=n;let o=this.location,c=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new Uh(n,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ze]});let e=t;return e})(),Uh=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Un?this.route:t===Os?this.childContexts:this.parent.get(t,i)}},Yc=new z(""),Uv=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Ar([r.queryParams,r.params,r.data]).pipe(Ie(([s,c,l],u)=>(l=M(M(M({},s),c),l),u===0?G(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let c=ov(r.component);if(!c){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of c.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function dA(e,t,i){let n=Ss(e,t._root,i?i._root:void 0);return new qc(n,t)}function Ss(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=uA(e,t,i);return new Ue(n,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>Ss(e,c)),s}}let n=hA(t.value),r=t.children.map(o=>Ss(e,o));return new Ue(n,r)}}function uA(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return Ss(e,n,r);return Ss(e,n)})}function hA(e){return new Un(new De(e.url),new De(e.params),new De(e.queryParams),new De(e.fragment),new De(e.data),e.outlet,e.component,e)}var sy="ngNavigationCancelingError";function ay(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=zr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=cy(!1,je.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function cy(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[sy]=!0,i.cancellationCode=t,i}function fA(e){return ly(e)&&zr(e.url)}function ly(e){return!!e&&e[sy]}var mA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=at({type:t,selectors:[["ng-component"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(r,o){r&1&&ft(0,"router-outlet")},dependencies:[Kh],encapsulation:2});let e=t;return e})();function pA(e,t){return e.providers&&!e._injector&&(e._injector=eh(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Yh(e){let t=e.children&&e.children.map(Yh),i=t?Et(M({},e),{children:t}):M({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==ot&&(i.component=mA),i}function fn(e){return e.outlet||ot}function gA(e,t){let i=e.filter(n=>fn(n)===t);return i.push(...e.filter(n=>fn(n)!==t)),i}function Ms(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var _A=(e,t,i,n)=>lt(r=>(new jh(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),jh=class{constructor(t,i,n,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),bh(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=Vr(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=Vr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=Vr(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=Vr(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Mh(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Ph(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(bh(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),bh(c.route.value),this.activateChildRoutes(t,null,s.children)}else{let c=Ms(r.snapshot);s.attachRef=null,s.route=r,s.injector=c,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},Gc=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jr=class{constructor(t,i){this.component=t,this.route=i}};function bA(e,t,i){let n=e._root,r=t?t._root:null;return _s(n,r,i,[n.value])}function vA(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Hr(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!Bb(e)?e:t.get(e):n}function _s(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vr(t);return e.children.forEach(s=>{yA(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ws(c,i.getContext(s),r)),r}function yA(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,c=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=wA(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Gc(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?_s(e,t,c?c.children:null,n,r):_s(e,t,i,n,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new jr(c.outlet.component,s))}else s&&ws(t,c,r),r.canActivateChecks.push(new Gc(n)),o.component?_s(e,null,c?c.children:null,n,r):_s(e,null,i,n,r);return r}function wA(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!qi(e.url,t.url);case"pathParamsOrQueryParamsChange":return!qi(e.url,t.url)||!hn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vh(e,t)||!hn(e.queryParams,t.queryParams);case"paramsChange":default:return!Vh(e,t)}}function ws(e,t,i){let n=Vr(e),r=e.value;Object.entries(n).forEach(([o,s])=>{r.component?t?ws(s,t.children.getContext(o),i):ws(s,null,i):ws(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new jr(t.outlet.component,r)):i.canDeactivateChecks.push(new jr(null,r)):i.canDeactivateChecks.push(new jr(null,r))}function Ns(e){return typeof e=="function"}function xA(e){return typeof e=="boolean"}function IA(e){return e&&Ns(e.canLoad)}function EA(e){return e&&Ns(e.canActivate)}function TA(e){return e&&Ns(e.canActivateChild)}function CA(e){return e&&Ns(e.canDeactivate)}function AA(e){return e&&Ns(e.canMatch)}function dy(e){return e instanceof Lb||e?.name==="EmptyError"}var Mc=Symbol("INITIAL_VALUE");function qr(){return Ie(e=>Ar(e.map(t=>t.pipe(_e(1),dn(Mc)))).pipe(lt(t=>{for(let i of t)if(i!==!0){if(i===Mc)return Mc;if(i===!1||i instanceof li)return i}return!0}),Lt(t=>t!==Mc),_e(1)))}function SA(e,t){return Ne(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?G(Et(M({},i),{guardsResult:!0})):RA(s,n,r,e).pipe(Ne(c=>c&&xA(c)?DA(n,o,e,t):G(c)),lt(c=>Et(M({},i),{guardsResult:c})))})}function RA(e,t,i,n){return Zt(e).pipe(Ne(r=>NA(r.component,r.route,i,t,n)),oi(r=>r!==!0,!0))}function DA(e,t,i,n){return Zt(t).pipe(Li(r=>lc(PA(r.route.parent,n),kA(r.route,n),MA(e,r.path,i),OA(e,r.route,i))),oi(r=>r!==!0,!0))}function kA(e,t){return e!==null&&t&&t(new Oh(e)),G(!0)}function PA(e,t){return e!==null&&t&&t(new kh(e)),G(!0)}function OA(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return G(!0);let r=n.map(o=>Fi(()=>{let s=Ms(t)??i,c=Hr(o,s),l=EA(c)?c.canActivate(t,e):Nn(s,()=>c(t,e));return hi(l).pipe(oi())}));return G(r).pipe(qr())}function MA(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>vA(s)).filter(s=>s!==null).map(s=>Fi(()=>{let c=s.guards.map(l=>{let u=Ms(s.node)??i,f=Hr(l,u),p=TA(f)?f.canActivateChild(n,e):Nn(u,()=>f(n,e));return hi(p).pipe(oi())});return G(c).pipe(qr())}));return G(o).pipe(qr())}function NA(e,t,i,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let l=Ms(t)??r,u=Hr(c,l),f=CA(u)?u.canDeactivate(e,t,i,n):Nn(l,()=>u(e,t,i,n));return hi(f).pipe(oi())});return G(s).pipe(qr())}function FA(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return G(!0);let o=r.map(s=>{let c=Hr(s,e),l=IA(c)?c.canLoad(t,i):Nn(e,()=>c(t,i));return hi(l)});return G(o).pipe(qr(),uy(n))}function uy(e){return Vu(qt(t=>{if(zr(t))throw ay(e,t)}),lt(t=>t===!0))}function LA(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return G(!0);let o=r.map(s=>{let c=Hr(s,e),l=AA(c)?c.canMatch(t,i):Nn(e,()=>c(t,i));return hi(l)});return G(o).pipe(qr(),uy(n))}var Rs=class{constructor(t){this.segmentGroup=t||null}},Wc=class extends Error{constructor(t){super(),this.urlTree=t}};function Lr(e){return is(new Rs(e))}function VA(e){return is(new Pt(4e3,!1))}function UA(e){return is(cy(!1,je.GuardRejected))}var Bh=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return G(n);if(r.numberOfChildren>1||!r.children[ot])return VA(t.redirectTo);r=r.children[ot]}}applyRedirectCommands(t,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i.startsWith("/"))throw new Wc(r);return r}applyRedirectCreateUrlTree(t,i,n,r){let o=this.createSegmentGroup(t,i.root,n,r);return new li(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);n[r]=i[c]}else n[r]=o}),n}createSegmentGroup(t,i,n,r){let o=this.createSegments(t,i.segments,n,r),s={};return Object.entries(i.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(t,l,n,r)}),new It(o,s)}createSegments(t,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new Pt(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},zh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jA(e,t,i,n,r){let o=Qh(e,t,i);return o.matched?(n=pA(t,n),LA(n,t,i,r).pipe(lt(s=>s===!0?o:M({},zh)))):G(o)}function Qh(e,t,i){if(t.path==="**")return BA(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?M({},zh):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||LC)(i,e,t);if(!r)return M({},zh);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function BA(e){return{matched:!0,parameters:e.length>0?qv(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function jv(e,t,i,n){return i.length>0&&qA(e,i,n)?{segmentGroup:new It(t,$A(n,new It(i,e.children))),slicedSegments:[]}:i.length===0&&HA(e,i,n)?{segmentGroup:new It(e.segments,zA(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new It(e.segments,e.children),slicedSegments:i}}function zA(e,t,i,n){let r={};for(let o of i)if(Qc(e,t,o)&&!n[fn(o)]){let s=new It([],{});r[fn(o)]=s}return M(M({},n),r)}function $A(e,t){let i={};i[ot]=t;for(let n of e)if(n.path===""&&fn(n)!==ot){let r=new It([],{});i[fn(n)]=r}return i}function qA(e,t,i){return i.some(n=>Qc(e,t,n)&&fn(n)!==ot)}function HA(e,t,i){return i.some(n=>Qc(e,t,n))}function Qc(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function GA(e,t,i,n){return fn(e)!==n&&(n===ot||!Qc(t,i,e))?!1:Qh(t,e,i).matched}function WA(e,t,i){return t.length===0&&!e.children[i]}var $h=class{};function KA(e,t,i,n,r,o,s="emptyOnly"){return new qh(e,t,i,n,r,s,o).recognize()}var YA=31,qh=class{constructor(t,i,n,r,o,s,c){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Bh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Pt(4002,`'${t.segmentGroup}'`)}recognize(){let t=jv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(lt(i=>{let n=new As([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},ot,this.rootComponentType,null,{}),r=new Ue(n,i),o=new Hc("",r),s=nA(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,ot).pipe(Rr(n=>{if(n instanceof Wc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Rs?this.noMatchError(n):n}))}inheritParamsAndData(t,i){let n=t.value,r=Gh(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0).pipe(lt(o=>o instanceof Ue?[o]:[]))}processChildren(t,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return Zt(r).pipe(Li(o=>{let s=n.children[o],c=gA(i,o);return this.processSegmentGroup(t,c,s,o)}),Qu((o,s)=>(o.push(...s),o)),Ku(null),jb(),Ne(o=>{if(o===null)return Lr(n);let s=hy(o);return QA(s),G(s)}))}processSegment(t,i,n,r,o,s){return Zt(i).pipe(Li(c=>this.processSegmentAgainstRoute(c._injector??t,i,c,n,r,o,s).pipe(Rr(l=>{if(l instanceof Rs)return G(null);throw l}))),oi(c=>!!c),Rr(c=>{if(dy(c))return WA(n,r,o)?G(new $h):Lr(n);throw c}))}processSegmentAgainstRoute(t,i,n,r,o,s,c){return GA(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s):Lr(r):Lr(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s){let{matched:c,consumedSegments:l,positionalParamSegments:u,remainingSegments:f}=Qh(i,r,o);if(!c)return Lr(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>YA&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,p).pipe(Ne(_=>this.processSegment(t,n,i,_.concat(f),s,!1)))}matchSegmentAgainstRoute(t,i,n,r,o){let s=jA(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(Ie(c=>c.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(Ie(({routes:l})=>{let u=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:_}=c,T=new As(f,_,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,ZA(n),fn(n),n.component??n._loadedComponent??null,n,JA(n)),{segmentGroup:k,slicedSegments:O}=jv(i,f,p,l);if(O.length===0&&k.hasChildren())return this.processChildren(u,l,k).pipe(lt(H=>H===null?null:new Ue(T,H)));if(l.length===0&&O.length===0)return G(new Ue(T,[]));let P=fn(n)===o;return this.processSegment(u,l,k,O,P?ot:o,!0).pipe(lt(H=>new Ue(T,H instanceof Ue?[H]:[])))}))):Lr(i)))}getChildConfig(t,i,n){return i.children?G({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?G({routes:i._loadedRoutes,injector:i._loadedInjector}):FA(t,i,n,this.urlSerializer).pipe(Ne(r=>r?this.configLoader.loadChildren(t,i).pipe(qt(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):UA(i))):G({routes:[],injector:t})}};function QA(e){e.sort((t,i)=>t.value.outlet===ot?-1:i.value.outlet===ot?1:t.value.outlet.localeCompare(i.value.outlet))}function XA(e){let t=e.value.routeConfig;return t&&t.path===""}function hy(e){let t=[],i=new Set;for(let n of e){if(!XA(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=hy(n.children);t.push(new Ue(n.value,r))}return t.filter(n=>!i.has(n))}function ZA(e){return e.data||{}}function JA(e){return e.resolve||{}}function tS(e,t,i,n,r,o){return Ne(s=>KA(e,t,i,n,s.extractedUrl,r,o).pipe(lt(({state:c,tree:l})=>Et(M({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function eS(e,t){return Ne(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return G(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of fy(l))s.add(u);let c=0;return Zt(s).pipe(Li(l=>o.has(l)?nS(l,n,e,t):(l.data=Gh(l,l.parent,e).resolve,G(void 0))),qt(()=>c++),Yu(1),Ne(l=>c===s.size?G(i):ln))})}function fy(e){let t=e.children.map(i=>fy(i)).flat();return[e,...t]}function nS(e,t,i,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!oy(r)&&(o[ks]=r.title),iS(o,e,t,n).pipe(lt(s=>(e._resolvedData=s,e.data=Gh(e,e.parent,i).resolve,null)))}function iS(e,t,i,n){let r=wh(e);if(r.length===0)return G({});let o={};return Zt(r).pipe(Ne(s=>rS(e[s],t,i,n).pipe(oi(),qt(c=>{o[s]=c}))),Yu(1),Ub(o),Rr(s=>dy(s)?ln:is(s)))}function rS(e,t,i,n){let r=Ms(t)??n,o=Hr(e,r),s=o.resolve?o.resolve(t,i):Nn(r,()=>o(t,i));return hi(s)}function vh(e){return Ie(t=>{let i=e(t);return i?Zt(i).pipe(lt(()=>t)):G(t)})}var my=(()=>{let t=class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===ot);return r}getResolvedTitleForRoute(n){return n.data[ks]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(oS),providedIn:"root"});let e=t;return e})(),oS=(()=>{let t=class t extends my{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(S(Pc))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Fs=new z("",{providedIn:"root",factory:()=>({})}),Ds=new z(""),Xh=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(wc)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=hi(n.loadComponent()).pipe(lt(py),qt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),rs(()=>{this.componentLoaders.delete(n)})),o=new ju(r,()=>new J).pipe(Uu());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=sS(r,this.compiler,n,this.onLoadEndListener).pipe(rs(()=>{this.childrenLoaders.delete(r)})),c=new ju(s,()=>new J).pipe(Uu());return this.childrenLoaders.set(r,c),c}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function sS(e,t,i,n){return hi(e.loadChildren()).pipe(lt(py),Ne(r=>r instanceof Kb||Array.isArray(r)?G(r):Zt(t.compileModuleAsync(r))),lt(r=>{n&&n(e);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(i).injector,s=o.get(Ds,[],{optional:!0,self:!0}).flat()),{routes:s.map(Yh),injector:o}}))}function aS(e){return e&&typeof e=="object"&&"default"in e}function py(e){return aS(e)?e.default:e}var Zh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(cS),providedIn:"root"});let e=t;return e})(),cS=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),gy=new z(""),_y=new z("");function lS(e,t,i){let n=e.get(_y),r=e.get(Q);return e.get($).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),c=r.startViewTransition(()=>(o(),dS(e))),{onViewTransitionCreated:l}=n;return l&&Nn(e,()=>l({transition:c,from:t,to:i})),s})}function dS(e){return new Promise(t=>{th(t,{injector:e})})}var Jh=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new J,this.transitionAbortSubject=new J,this.configLoader=F(Xh),this.environmentInjector=F(Dr),this.urlSerializer=F(Ps),this.rootContexts=F(Os),this.location=F(Ve),this.inputBindingEnabled=F(Yc,{optional:!0})!==null,this.titleStrategy=F(my),this.options=F(Fs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Zh),this.createViewTransition=F(gy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Rh(o)),r=o=>this.events.next(new Dh(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Et(M(M({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new De({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ys,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lt(s=>s.id!==0),lt(s=>Et(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ie(s=>{let c=!1,l=!1;return G(s).pipe(Ie(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",je.SupersededByNewNavigation),ln;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Et(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&p!=="reload"){let _="";return this.events.next(new ui(u.id,this.urlSerializer.serialize(u.rawUrl),_,jc.IgnoredSameUrlNavigation)),u.resolve(null),ln}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return G(u).pipe(Ie(_=>{let T=this.transitions?.getValue();return this.events.next(new $r(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),T!==this.transitions?.getValue()?ln:Promise.resolve(_)}),tS(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),qt(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=Et(M({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let T=new Bc(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(T)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:_,extractedUrl:T,source:k,restoredState:O,extras:P}=u,H=new $r(_,this.urlSerializer.serialize(T),k,O);this.events.next(H);let K=iy(this.rootComponentType).snapshot;return this.currentTransition=s=Et(M({},u),{targetSnapshot:K,urlAfterRedirects:T,extras:Et(M({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=T,G(s)}else{let _="";return this.events.next(new ui(u.id,this.urlSerializer.serialize(u.extractedUrl),_,jc.IgnoredByUrlHandlingStrategy)),u.resolve(null),ln}}),qt(u=>{let f=new Th(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),lt(u=>(this.currentTransition=s=Et(M({},u),{guards:bA(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),SA(this.environmentInjector,u=>this.events.next(u)),qt(u=>{if(s.guardsResult=u.guardsResult,zr(u.guardsResult))throw ay(this.urlSerializer,u.guardsResult);let f=new Ch(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(f)}),Lt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",je.GuardRejected),!1)),vh(u=>{if(u.guards.canActivateChecks.length)return G(u).pipe(qt(f=>{let p=new Ah(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Ie(f=>{let p=!1;return G(f).pipe(eS(this.paramsInheritanceStrategy,this.environmentInjector),qt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",je.NoDataFromResolver)}}))}),qt(f=>{let p=new Sh(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),vh(u=>{let f=p=>{let _=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(p.routeConfig).pipe(qt(T=>{p.component=T}),lt(()=>{})));for(let T of p.children)_.push(...f(T));return _};return Ar(f(u.targetSnapshot.root)).pipe(Ku(null),_e(1))}),vh(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:u,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,f.root);return p?Zt(p).pipe(lt(()=>s)):G(s)}),lt(u=>{let f=dA(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Et(M({},u),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),qt(()=>{this.events.next(new Ts)}),_A(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),_e(1),qt({next:u=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ze(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{c=!0}}),le(this.transitionAbortSubject.pipe(qt(u=>{throw u}))),rs(()=>{!c&&!l&&this.cancelNavigationTransition(s,"",je.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Rr(u=>{if(l=!0,ly(u))this.events.next(new di(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),fA(u)?this.events.next(new Cs(u.url)):s.resolve(!1);else{this.events.next(new Es(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(u))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return ln}))}))}cancelNavigationTransition(n,r,o){let s=new di(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function uS(e){return e!==ys}var hS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(fS),providedIn:"root"});let e=t;return e})(),Hh=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},fS=(()=>{let t=class t extends Hh{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),by=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(mS),providedIn:"root"});let e=t;return e})(),mS=(()=>{let t=class t extends by{constructor(){super(...arguments),this.location=F(Ve),this.urlSerializer=F(Ps),this.options=F(Fs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Zh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new li,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iy(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof $r)this.stateMemento=this.createStateMemento();else if(n instanceof ui)this.rawUrlTree=r.initialUrl;else if(n instanceof Bc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Ts?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof di&&(n.code===je.GuardRejected||n.code===je.NoDataFromResolver)?this.restoreHistory(r):n instanceof Es?this.restoreHistory(r,!0):n instanceof Ze&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=M(M({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),bs=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(bs||{});function vy(e,t){e.events.pipe(Lt(i=>i instanceof Ze||i instanceof di||i instanceof Es||i instanceof ui),lt(i=>i instanceof Ze||i instanceof ui?bs.COMPLETE:(i instanceof di?i.code===je.Redirect||i.code===je.SupersededByNewNavigation:!1)?bs.REDIRECTING:bs.FAILED),Lt(i=>i!==bs.REDIRECTING),_e(1)).subscribe(()=>{t()})}function pS(e){throw e}var gS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_S={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},be=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=F(vc),this.stateManager=F(by),this.options=F(Fs,{optional:!0})||{},this.pendingTasks=F(nh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(Jh),this.urlSerializer=F(Ps),this.location=F(Ve),this.urlHandlingStrategy=F(Zh),this._events=new J,this.errorHandler=this.options.errorHandler||pS,this.navigated=!1,this.routeReuseStrategy=F(hS),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Ds,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Yc,{optional:!0}),this.eventsSubscription=new Mn,this.isNgZoneEnabled=F($)instanceof $&&$.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof di&&r.code!==je.Redirect&&r.code!==je.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ze)this.navigated=!0;else if(r instanceof Cs){let c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||uS(o.source)};this.scheduleNavigation(c,ys,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}vS(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ys,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let u=M({},o);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Yh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:l,preserveFragment:u}=r,f=u?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let _;try{let T=o?o.snapshot:this.routerState.snapshot.root;_=Jv(T)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),_=this.currentUrlTree.root}return ty(_,n,p,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=zr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ys,null,r)}navigate(n,r={skipLocationChange:!1}){return bS(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=M({},gS):r===!1?o=M({},_S):o=r,zr(n))return Nv(this.currentUrlTree,n,o);let s=this.parseUrl(n);return Nv(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let l,u,f;c?(l=c.resolve,u=c.reject,f=c.promise):f=new Promise((_,T)=>{l=_,u=T});let p=this.pendingTasks.add();return vy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:u,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function bS(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Pt(4008,!1)}function vS(e){return!(e instanceof Ts)&&!(e instanceof Cs)}var Kc=class{};var yS=(()=>{let t=class t{constructor(n,r,o,s,c){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Lt(n=>n instanceof Ze),Li(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=eh(s.providers,n,`Route: ${s.path}`));let c=s._injector??n,l=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Zt(o).pipe(qu())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=G(null);let s=o.pipe(Ne(c=>c===null?G(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return Zt([s,c]).pipe(qu())}else return s})}};t.\u0275fac=function(r){return new(r||t)(S(be),S(wc),S(Dr),S(Kc),S(Xh))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yy=new z(""),wS=(()=>{let t=class t{constructor(n,r,o,s,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=F(Dr),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof $r?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Ze?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ui&&n.code===jc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof zc&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),th(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new zc(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){Pr()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function wy(e,...t){return Fe([{provide:Ds,multi:!0,useValue:e},[],{provide:Un,useFactory:xy,deps:[be]},{provide:cs,multi:!0,useFactory:Iy},t.map(i=>i.\u0275providers)])}function xy(e){return e.routerState.root}function Ls(e,t){return{\u0275kind:e,\u0275providers:t}}function Iy(){let e=F(Rt);return t=>{let i=e.get(Bi);if(t!==i.components[0])return;let n=e.get(be),r=e.get(Ey);e.get(tf)===1&&n.initialNavigation(),e.get(Ty,null,Zu.Optional)?.setUpPreloading(),e.get(yy,null,Zu.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Ey=new z("",{factory:()=>new J}),tf=new z("",{providedIn:"root",factory:()=>1});function xS(){return Ls(2,[{provide:tf,useValue:0},{provide:rh,multi:!0,deps:[Rt],useFactory:t=>{let i=t.get(cv,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(be),o=t.get(Ey);vy(r,()=>{n(!0)}),t.get(Jh).afterPreactivation=()=>(n(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}])}function IS(){return Ls(3,[{provide:rh,multi:!0,useFactory:()=>{let t=F(be);return()=>{t.setUpLocationChangeListener()}}},{provide:tf,useValue:2}])}var Ty=new z("");function ES(e){return Ls(0,[{provide:Ty,useExisting:yS},{provide:Kc,useExisting:e}])}function TS(){return Ls(8,[Uv,{provide:Yc,useExisting:Uv}])}function CS(e){let t=[{provide:gy,useValue:lS},{provide:_y,useValue:M({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ls(9,t)}var Bv=new z("ROUTER_FORROOT_GUARD"),AS=[Ve,{provide:Ps,useClass:xs},be,Os,{provide:Un,useFactory:xy,deps:[be]},Xh,[]],Cy=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[AS,[],{provide:Ds,multi:!0,useValue:n},{provide:Bv,useFactory:kS,deps:[[be,new Ee,new zb]]},{provide:Fs,useValue:r||{}},r?.useHash?RS():DS(),SS(),r?.preloadingStrategy?ES(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?PS(r):[],r?.bindToComponentInputs?TS().\u0275providers:[],r?.enableViewTransitions?CS().\u0275providers:[],OS()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ds,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(S(Bv,8))},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})();function SS(){return{provide:yy,useFactory:()=>{let e=F(Ec),t=F($),i=F(Fs),n=F(Jh),r=F(Ps);return i.scrollOffset&&e.setOffset(i.scrollOffset),new wS(r,n,e,t,i)}}}function RS(){return{provide:oh,useClass:dv}}function DS(){return{provide:oh,useClass:lv}}function kS(e){return"guarded"}function PS(e){return[e.initialNavigation==="disabled"?IS().\u0275providers:[],e.initialNavigation==="enabledBlocking"?xS().\u0275providers:[]]}var zv=new z("");function OS(){return[{provide:zv,useFactory:Iy},{provide:cs,multi:!0,useExisting:zv}]}function mn(e){return e!=null&&`${e}`!="false"}function Gr(e,t=0){return MS(e)?Number(e):t}function MS(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Wr(e){return Array.isArray(e)?e:[e]}function Kt(e){return e==null?"":typeof e=="string"?e:`${e}px`}function Ge(e){return e instanceof ht?e.nativeElement:e}var nf;try{nf=typeof Intl<"u"&&Intl.v8BreakIterator}catch{nf=!1}var vt=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Ic(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||nf)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(S(Le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Kr,Ay=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rf(){if(Kr)return Kr;if(typeof document!="object"||!document)return Kr=new Set(Ay),Kr;let e=document.createElement("input");return Kr=new Set(Ay.filter(t=>(e.setAttribute("type",t),e.type===t))),Kr}var Vs;function NS(){if(Vs==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vs=!0}))}finally{Vs=Vs||!1}return Vs}function fi(e){return NS()?e:!!e.capture}var Hi;function Sy(){if(Hi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Hi=!1,Hi;if("scrollBehavior"in document.documentElement.style)Hi=!0;else{let e=Element.prototype.scrollTo;e?Hi=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Hi=!1}}return Hi}var ef;function FS(){if(ef==null){let e=typeof document<"u"?document.head:null;ef=!!(e&&(e.createShadowRoot||e.attachShadow))}return ef}function Ry(e){if(FS()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Us(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Je(e){return e.composedPath?e.composedPath()[0]:e.target}function js(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Zc(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var LS=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Dy=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({providers:[LS]});let e=t;return e})();var ky=new Set,Gi,VS=(()=>{let t=class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):jS}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&US(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(r){return new(r||t)(S(vt),S(ss,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function US(e,t){if(!ky.has(e))try{Gi||(Gi=document.createElement("style"),t&&Gi.setAttribute("nonce",t),Gi.setAttribute("type","text/css"),document.head.appendChild(Gi)),Gi.sheet&&(Gi.sheet.insertRule(`@media ${e} {body{ }}`,0),ky.add(e))}catch(i){console.error(i)}}function jS(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Jc=(()=>{let t=class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new J}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Py(Wr(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=Py(Wr(n)).map(c=>this._registerQuery(c).observable),s=Ar(o);return s=lc(s.pipe(_e(1)),s.pipe(uc(1),Wu(0))),s.pipe(lt(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:u,query:f})=>{l.matches=l.matches||u,l.breakpoints[f]=u}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Re(c=>{let l=u=>this._zone.run(()=>c.next(u));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(dn(r),lt(({matches:c})=>({query:n,matches:c})),le(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};t.\u0275fac=function(r){return new(r||t)(S(VS),S($))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Py(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var Oy={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Bs=(()=>{let t=class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return $S(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=zS(XS(n));if(r&&(My(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=My(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!YS(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return QS(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};t.\u0275fac=function(r){return new(r||t)(S(vt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function zS(e){try{return e.frameElement}catch{return null}}function $S(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function qS(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function HS(e){return WS(e)&&e.type=="hidden"}function GS(e){return KS(e)&&e.hasAttribute("href")}function WS(e){return e.nodeName.toLowerCase()=="input"}function KS(e){return e.nodeName.toLowerCase()=="a"}function Ly(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function My(e){if(!Ly(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function YS(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function QS(e){return HS(e)?!1:qS(e)||GS(e)||e.hasAttribute("contenteditable")||Ly(e)}function XS(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var sf=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,r,o=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(_e(1)).subscribe(t)}},nl=(()=>{let t=class t{constructor(n,r,o){this._checker=n,this._ngZone=r,this._document=o}create(n,r=!1){return new sf(n,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(S(Bs),S($),S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function af(e){return e.buttons===0||e.detail===0}function cf(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var ZS=new z("cdk-input-modality-detector-options"),JS={ignoreKeys:[18,17,224,91,16]},Vy=650,Yr=fi({passive:!0,capture:!0}),tR=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new De(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Je(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Vy||(this._modality.next(af(c)?"keyboard":"mouse"),this._mostRecentTarget=Je(c))},this._onTouchstart=c=>{if(cf(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Je(c)},this._options=M(M({},JS),s),this.modalityDetected=this._modality.pipe(uc(1)),this.modalityChanged=this.modalityDetected.pipe(dc()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Yr),o.addEventListener("mousedown",this._onMousedown,Yr),o.addEventListener("touchstart",this._onTouchstart,Yr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yr),document.removeEventListener("mousedown",this._onMousedown,Yr),document.removeEventListener("touchstart",this._onTouchstart,Yr))}};t.\u0275fac=function(r){return new(r||t)(S(vt),S($),S(Q),S(ZS,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),eR=new z("liveAnnouncerElement",{providedIn:"root",factory:nR});function nR(){return null}var iR=new z("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),rR=0,Uy=(()=>{let t=class t{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,c;return r.length===1&&typeof r[0]=="number"?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),c==null&&o&&(c=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof c=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${rR++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}};t.\u0275fac=function(r){return new(r||t)(S(eR,8),S($),S(Q),S(iR,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var el=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(el||{}),oR=new z("cdk-focus-monitor-default-options"),tl=fi({passive:!0,capture:!0}),Qr=(()=>{let t=class t{constructor(n,r,o,s,c){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new J,this._rootNodeFocusAndBlurListener=l=>{let u=Je(l);for(let f=u;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=c?.detectionMode||el.IMMEDIATE}monitor(n,r=!1){let o=Ge(n);if(!this._platform.isBrowser||o.nodeType!==1)return G();let s=Ry(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new J,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=Ge(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=Ge(n),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([l,u])=>this._originChanged(l,r,u)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===el.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===el.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Vy:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=Je(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,tl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,tl)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(le(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(S($),S(vt),S(tR),S(Q,8),S(oR,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Wi=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Wi||{}),Ny="cdk-high-contrast-black-on-white",Fy="cdk-high-contrast-white-on-black",of="cdk-high-contrast-active",jy=(()=>{let t=class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=F(Jc).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Wi.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Wi.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Wi.BLACK_ON_WHITE}return Wi.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(of,Ny,Fy),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Wi.BLACK_ON_WHITE?n.add(of,Ny):r===Wi.WHITE_ON_BLACK&&n.add(of,Fy)}}};t.\u0275fac=function(r){return new(r||t)(S(vt),S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var sR=new z("cdk-dir-doc",{providedIn:"root",factory:aR});function aR(){return F(Q)}var cR=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function lR(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?cR.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var Ki=(()=>{let t=class t{constructor(n){if(this.value="ltr",this.change=new Jt,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=lR(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(S(sR,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var lf=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})();function dR(){return!0}var uR=new z("mat-sanity-checks",{providedIn:"root",factory:dR}),ee=(()=>{let t=class t{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return js()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(r){return new(r||t)(S(jy),S(uR,8),S(Q))},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[lf,lf]});let e=t;return e})();var ol=class{constructor(t,i,n,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Qy=(()=>{let t=class t{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var We=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(We||{}),hf=class{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=We.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},zy=fi({passive:!0,capture:!0}),ff=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=Je(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,zy)})}removeHandler(t,i,n){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,zy)))}},$y={enterDuration:225,exitDuration:150},hR=800,qy=fi({passive:!0,capture:!0}),Hy=["mousedown","touchstart"],Gy=["mouseup","mouseleave","touchend","touchcancel"],zs=class zs{constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ge(n))}fadeInRipple(t,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=M(M({},$y),n.animation);n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||fR(t,i,r),c=t-r.left,l=i-r.top,u=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${l-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,n.color!=null&&(f.style.backgroundColor=n.color),f.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),_=p.transitionProperty,T=p.transitionDuration,k=_==="none"||T==="0s"||T==="0s, 0s"||r.width===0&&r.height===0,O=new hf(this,f,n,k);f.style.transform="scale3d(1, 1, 1)",O.state=We.FADING_IN,n.persistent||(this._mostRecentTransientRipple=O);let P=null;return!k&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let H=()=>this._finishRippleTransition(O),K=()=>this._destroyRipple(O);f.addEventListener("transitionend",H),f.addEventListener("transitioncancel",K),P={onTransitionEnd:H,onTransitionCancel:K}}),this._activeRipples.set(O,P),(k||!u)&&this._finishRippleTransition(O),O}fadeOutRipple(t){if(t.state===We.FADING_OUT||t.state===We.HIDDEN)return;let i=t.element,n=M(M({},$y),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=We.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=Ge(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Hy.forEach(n=>{zs._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Gy.forEach(i=>{this._triggerElement.addEventListener(i,this,qy)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===We.FADING_IN?this._startFadeOutTransition(t):t.state===We.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=We.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=We.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=af(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+hR;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!cf(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===We.VISIBLE||t.config.terminateOnPointerUp&&t.state===We.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Hy.forEach(i=>zs._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(Gy.forEach(i=>t.removeEventListener(i,this,qy)),this._pointerUpEventsRegistered=!1))}};zs._eventManager=new ff;var mf=zs;function fR(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}var Xy=new z("mat-ripple-global-options"),pf=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new mf(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:M(M(M({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,M(M({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,M(M({},this.rippleConfig),n))}};t.\u0275fac=function(r){return new(r||t)(R(ht),R($),R(vt),R(Xy,8),R(ke,8))},t.\u0275dir=X({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&At("mat-ripple-unbounded",o.unbounded)},inputs:{color:[wt.None,"matRippleColor","color"],unbounded:[wt.None,"matRippleUnbounded","unbounded"],centered:[wt.None,"matRippleCentered","centered"],radius:[wt.None,"matRippleRadius","radius"],animation:[wt.None,"matRippleAnimation","animation"],disabled:[wt.None,"matRippleDisabled","disabled"],trigger:[wt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),sl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,ee]});let e=t;return e})();var Wy={capture:!0},Ky=["focus","click","mouseenter","touchstart"],df="mat-ripple-loader-uninitialized",uf="mat-ripple-loader-class-name",Yy="mat-ripple-loader-centered",rl="mat-ripple-loader-disabled",Zy=(()=>{let t=class t{constructor(){this._document=F(Q,{optional:!0}),this._animationMode=F(ke,{optional:!0}),this._globalRippleOptions=F(Xy,{optional:!0}),this._platform=F(vt),this._ngZone=F($),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${df}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of Ky)this._document?.addEventListener(n,this._onInteraction,Wy)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of Ky)this._document?.removeEventListener(r,this._onInteraction,Wy)}configureRipple(n,r){n.setAttribute(df,""),(r.className||!n.hasAttribute(uf))&&n.setAttribute(uf,r.className||""),r.centered&&n.setAttribute(Yy,""),r.disabled&&n.setAttribute(rl,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(rl,""):n.removeAttribute(rl)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(uf)),n.append(o);let s=new pf(new ht(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(Yy),s.disabled=n.hasAttribute(rl),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(df),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mi=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=mn(n)}get inset(){return this._inset}set inset(n){this._inset=mn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=at({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(Gt("aria-orientation",o.vertical?"vertical":"horizontal"),At("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[ct],decls:0,vars:0,template:function(r,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Xr=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,ee]});let e=t;return e})();var e0=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:r<2048?(t[i++]=r>>6|192,t[i++]=r&63|128):(r&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++n)&1023),t[i++]=r>>18|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128,t[i++]=r&63|128):(t[i++]=r>>12|224,t[i++]=r>>6&63|128,t[i++]=r&63|128)}return t},mR=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[i++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[i++],s=e[i++],c=e[i++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=e[i++],s=e[i++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},n0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,c=s?e[r+1]:0,l=r+2<e.length,u=l?e[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,_=(c&15)<<2|u>>6,T=u&63;l||(T=64,s||(_=64)),n.push(i[f],i[p],i[_],i[T])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(e0(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):mR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){let o=i[e.charAt(r++)],c=r<e.length?i[e.charAt(r)]:0;++r;let u=r<e.length?i[e.charAt(r)]:64;++r;let p=r<e.length?i[e.charAt(r)]:64;if(++r,o==null||c==null||u==null||p==null)throw new bf;let _=o<<2|c>>4;if(n.push(_),u!==64){let T=c<<4&240|u>>2;if(n.push(T),p!==64){let k=u<<6&192|p;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},bf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},pR=function(e){let t=e0(e);return n0.encodeByteArray(t,!0)},$s=function(e){return pR(e).replace(/\./g,"")},yf=function(e){try{return n0.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _R=()=>gR().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},vR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&yf(e[1]);return t&&JSON.parse(t)},cl=()=>{try{return _R()||bR()||vR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wf=e=>{var t,i;return(i=(t=cl())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},ll=e=>{let t=wf(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),n]:[t.substring(0,i),n]},xf=()=>{var e;return(e=cl())===null||e===void 0?void 0:e.config},If=e=>{var t;return(t=cl())===null||t===void 0?void 0:t[`_${e}`]};var al=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,n))}}};function dl(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[$s(JSON.stringify(i)),$s(JSON.stringify(s)),""].join(".")}function oe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function yR(){var e;let t=(e=cl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function r0(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function o0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s0(){let e=oe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function a0(){return!yR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ef(){try{return typeof indexedDB=="object"}catch{return!1}}function c0(){return new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){t(i)}})}var wR="FirebaseError",Ae=class e extends Error{constructor(t,i,n){super(i),this.code=t,this.customData=n,this.name=wR,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}},jn=class{constructor(t,i,n){this.service=t,this.serviceName=i,this.errors=n}create(t,...i){let n=i[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?xR(o,n):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Ae(r,c,n)}};function xR(e,t){return e.replace(IR,(i,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var IR=/\{\$([^}]+)}/g;function l0(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yi(e,t){if(e===t)return!0;let i=Object.keys(e),n=Object.keys(t);for(let r of i){if(!n.includes(r))return!1;let o=e[r],s=t[r];if(t0(o)&&t0(s)){if(!Yi(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!i.includes(r))return!1;return!0}function t0(e){return e!==null&&typeof e=="object"}function Zr(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function d0(e,t){let i=new vf(e,t);return i.subscribe.bind(i)}var vf=class{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,n){let r;if(t===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");ER(t,["next","error","complete"])?r=t:r={next:t,error:i,complete:n},r.next===void 0&&(r.next=_f),r.error===void 0&&(r.error=_f),r.complete===void 0&&(r.complete=_f);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ER(e,t){if(typeof e!="object"||e===null)return!1;for(let i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function _f(){}var oU=4*60*60*1e3;function Vt(e){return e&&e._delegate?e._delegate:e}var Pe=class{constructor(t,i,n){this.name=t,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Qi="[DEFAULT]";var Tf=class{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){let n=new al;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(CR(t))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(let[i,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(t=Qi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return b(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Qi){return this.instances.has(t)}getOptions(t=Qi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:i={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);n===c&&s.resolve(r)}return r}onInit(t,i){var n;let r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){let n=this.onInitCallbacks.get(i);if(n)for(let r of n)try{r(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:TR(t),options:i}),this.instances.set(t,n),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Qi){return this.component?this.component.multipleInstances?t:Qi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TR(e){return e===Qi?void 0:e}function CR(e){return e.instantiationMode==="EAGER"}var ul=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let i=new Tf(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}};var AR=[],mt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(mt||{}),SR={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},RR=mt.INFO,DR={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},kR=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=DR[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},pi=class{constructor(t){this.name=t,this._logLevel=RR,this._logHandler=kR,this._userLogHandler=null,AR.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...t),this._logHandler(this,mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...t),this._logHandler(this,mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...t),this._logHandler(this,mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...t),this._logHandler(this,mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...t),this._logHandler(this,mt.ERROR,...t)}};var PR=(e,t)=>t.some(i=>e instanceof i),u0,h0;function OR(){return u0||(u0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var f0=new WeakMap,Af=new WeakMap,m0=new WeakMap,Cf=new WeakMap,Rf=new WeakMap;function NR(e){let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{i(pn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(i=>{i instanceof IDBCursor&&f0.set(i,e)}).catch(()=>{}),Rf.set(t,e),t}function FR(e){if(Af.has(e))return;let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{i(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Af.set(e,t)}var Sf={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Af.get(e);if(t==="objectStoreNames")return e.objectStoreNames||m0.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pn(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function p0(e){Sf=e(Sf)}function LR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){let n=e.call(hl(this),t,...i);return m0.set(n,t.sort?t.sort():[t]),pn(n)}:MR().includes(e)?function(...t){return e.apply(hl(this),t),pn(f0.get(this))}:function(...t){return pn(e.apply(hl(this),t))}}function VR(e){return typeof e=="function"?LR(e):(e instanceof IDBTransaction&&FR(e),PR(e,OR())?new Proxy(e,Sf):e)}function pn(e){if(e instanceof IDBRequest)return NR(e);if(Cf.has(e))return Cf.get(e);let t=VR(e);return t!==e&&(Cf.set(e,t),Rf.set(t,e)),t}var hl=e=>Rf.get(e);function _0(e,t,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(e,t),c=pn(s);return n&&s.addEventListener("upgradeneeded",l=>{n(pn(s.result),l.oldVersion,l.newVersion,pn(s.transaction),l)}),i&&s.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var UR=["get","getKey","getAll","getAllKeys","count"],jR=["put","add","delete","clear"],Df=new Map;function g0(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Df.get(t))return Df.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=jR.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||UR.includes(i)))return;let o=function(s,...c){return b(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),u=l.store;return n&&(u=u.index(c.shift())),(yield Promise.all([u[i](...c),r&&l.done]))[0]})};return Df.set(t,o),o}p0(e=>Et(M({},e),{get:(t,i,n)=>g0(t,i)||e.get(t,i,n),has:(t,i)=>!!g0(t,i)||e.has(t,i)}));var Pf=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BR(i)){let n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}};function BR(e){let t=e.getComponent();return t?.type==="VERSION"}var Of="@firebase/app",b0="0.10.5";var Xi=new pi("@firebase/app"),zR="@firebase/app-compat",$R="@firebase/analytics-compat",qR="@firebase/analytics",HR="@firebase/app-check-compat",GR="@firebase/app-check",WR="@firebase/auth",KR="@firebase/auth-compat",YR="@firebase/database",QR="@firebase/database-compat",XR="@firebase/functions",ZR="@firebase/functions-compat",JR="@firebase/installations",tD="@firebase/installations-compat",eD="@firebase/messaging",nD="@firebase/messaging-compat",iD="@firebase/performance",rD="@firebase/performance-compat",oD="@firebase/remote-config",sD="@firebase/remote-config-compat",aD="@firebase/storage",cD="@firebase/storage-compat",lD="@firebase/firestore",dD="@firebase/vertexai-preview",uD="@firebase/firestore-compat",hD="firebase",fD="10.12.2";var Mf="[DEFAULT]",mD={[Of]:"fire-core",[zR]:"fire-core-compat",[qR]:"fire-analytics",[$R]:"fire-analytics-compat",[GR]:"fire-app-check",[HR]:"fire-app-check-compat",[WR]:"fire-auth",[KR]:"fire-auth-compat",[YR]:"fire-rtdb",[QR]:"fire-rtdb-compat",[XR]:"fire-fn",[ZR]:"fire-fn-compat",[JR]:"fire-iid",[tD]:"fire-iid-compat",[eD]:"fire-fcm",[nD]:"fire-fcm-compat",[iD]:"fire-perf",[rD]:"fire-perf-compat",[oD]:"fire-rc",[sD]:"fire-rc-compat",[aD]:"fire-gcs",[cD]:"fire-gcs-compat",[lD]:"fire-fst",[uD]:"fire-fst-compat",[dD]:"fire-vertex","fire-js":"fire-js",[hD]:"fire-js-all"};var qs=new Map,pD=new Map,Nf=new Map;function v0(e,t){try{e.container.addComponent(t)}catch(i){Xi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function gn(e){let t=e.name;if(Nf.has(t))return Xi.debug(`There were multiple attempts to register component ${t}.`),!1;Nf.set(t,e);for(let i of qs.values())v0(i,e);for(let i of pD.values())v0(i,e);return!0}function Zi(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function _n(e){return e.settings!==void 0}var gD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new jn("app","Firebase",gD);var Ff=class{constructor(t,i,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Pe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};var bn=fD;function Uf(e,t={}){let i=e;typeof t!="object"&&(t={name:t});let n=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw gi.create("bad-app-name",{appName:String(r)});if(i||(i=xf()),!i)throw gi.create("no-options");let o=qs.get(r);if(o){if(Yi(i,o.options)&&Yi(n,o.config))return o;throw gi.create("duplicate-app",{appName:r})}let s=new ul(r);for(let l of Nf.values())s.addComponent(l);let c=new Ff(i,n,s);return qs.set(r,c),c}function _i(e=Mf){let t=qs.get(e);if(!t&&e===Mf&&xf())return Uf();if(!t)throw gi.create("no-app",{appName:e});return t}function fl(){return Array.from(qs.values())}function jt(e,t,i){var n;let r=(n=mD[e])!==null&&n!==void 0?n:e;i&&(r+=`-${i}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xi.warn(c.join(" "));return}gn(new Pe(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var _D="firebase-heartbeat-database",bD=1,Hs="firebase-heartbeat-store",kf=null;function I0(){return kf||(kf=_0(_D,bD,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Hs)}catch(i){console.warn(i)}}}}).catch(e=>{throw gi.create("idb-open",{originalErrorMessage:e.message})})),kf}function vD(e){return b(this,null,function*(){try{let i=(yield I0()).transaction(Hs),n=yield i.objectStore(Hs).get(E0(e));return yield i.done,n}catch(t){if(t instanceof Ae)Xi.warn(t.message);else{let i=gi.create("idb-get",{originalErrorMessage:t?.message});Xi.warn(i.message)}}})}function y0(e,t){return b(this,null,function*(){try{let n=(yield I0()).transaction(Hs,"readwrite");yield n.objectStore(Hs).put(t,E0(e)),yield n.done}catch(i){if(i instanceof Ae)Xi.warn(i.message);else{let n=gi.create("idb-set",{originalErrorMessage:i?.message});Xi.warn(n.message)}}})}function E0(e){return`${e.name}!${e.options.appId}`}var yD=1024,wD=30*24*60*60*1e3,Lf=class{constructor(t){this.container=t,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new Vf(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return b(this,null,function*(){var t,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=w0();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=wD}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=w0(),{heartbeatsToSend:n,unsentEntries:r}=xD(this._heartbeatsCache.heartbeats),o=$s(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function w0(){return new Date().toISOString().substring(0,10)}function xD(e,t=yD){let i=[],n=e.slice();for(let r of e){let o=i.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),x0(i)>t){o.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),x0(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}var Vf=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Ef()?c0().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield vD(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return y0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return y0(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function x0(e){return $s(JSON.stringify({version:2,heartbeats:e})).length}function ID(e){gn(new Pe("platform-logger",t=>new Pf(t),"PRIVATE")),gn(new Pe("heartbeat",t=>new Lf(t),"PRIVATE")),jt(Of,b0,e),jt(Of,b0,"esm2017"),jt("fire-js","")}ID("");var ED="firebase",TD="10.12.2";jt(ED,TD,"app");var tr=new Nr("ANGULARFIRE2_VERSION");function pl(e,t,i){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(e).getImmediate({optional:!0})}var Gs=(e,t)=>{let i=t?[t]:fl(),n=[];return i.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},to=class{constructor(){return Gs(CD)}},CD="app-check";function Jr(){}var ml=class{zone;delegate;constructor(t,i=Fb){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},jf=class{zone;task=null;constructor(t){this.zone=t}call(t,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jr,{},Jr,Jr)),i.pipe(qt({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},eo=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new ml(Zone.current)),this.insideAngular=i.run(()=>new ml(Zone.current,Nb)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||e)(S($))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gl(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function AD(e){return gl().ngZone.runOutsideAngular(()=>e())}function Ji(e){return gl().ngZone.run(()=>e())}function SD(e){return RD(gl())(e)}function RD(e){return function(i){return i=i.lift(new jf(e.ngZone)),i.pipe(zu(e.outsideAngular),Bu(e.insideAngular))}}var DD=(e,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),Ji(()=>e.apply(void 0,n))},Yt=(e,t)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(i||=Ji(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jr,{},Jr,Jr))),n[o]=DD(n[o],i));let r=AD(()=>e.apply(this,n));if(!t)if(r instanceof Re){let o=gl();return r.pipe(zu(o.outsideAngular),Bu(o.insideAngular))}else return Ji(()=>r);return r instanceof Re?r.pipe(SD):r instanceof Promise?Ji(()=>new Promise((o,s)=>r.then(c=>Ji(()=>o(c)),c=>Ji(()=>s(c))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:Ji(()=>r)};var Bn=class{constructor(t){return t}},er=class{constructor(){return fl()}};function kD(e){return e&&e.length===1?e[0]:new Bn(_i())}var Bf=new z("angularfire2._apps"),PD={provide:Bn,useFactory:kD,deps:[[new Ee,Bf]]},OD={provide:er,deps:[[new Ee,Bf]]};function MD(e){return(t,i)=>{let n=i.get(Le);jt("angularfire",tr.full,"core"),jt("angularfire",tr.full,"app"),jt("angular",ev.full,n.toString());let r=t.runOutsideAngular(()=>e(i));return new Bn(r)}}function T0(e,...t){return Fe([PD,OD,{provide:Bf,useFactory:MD(e),multi:!0,deps:[$,Rt,eo,...t]}])}var C0=Yt(Uf,!0);function B0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var z0=B0,$0=new jn("auth","Firebase",B0());var xl=new pi("@firebase/auth");function ND(e,...t){xl.logLevel<=mt.WARN&&xl.warn(`Auth (${bn}): ${e}`,...t)}function bl(e,...t){xl.logLevel<=mt.ERROR&&xl.error(`Auth (${bn}): ${e}`,...t)}function yn(e,...t){throw om(e,...t)}function en(e,...t){return om(e,...t)}function rm(e,t,i){let n=Object.assign(Object.assign({},z0()),{[t]:i});return new jn("auth","Firebase",n).create(t,{appName:e.name})}function nr(e){return rm(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FD(e,t,i){let n=i;if(!(t instanceof n))throw n.name!==t.constructor.name&&yn(e,"argument-error"),rm(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function om(e,...t){if(typeof e!="string"){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return $0.create(e,...t)}function et(e,t,...i){if(!e)throw om(t,...i)}function zn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw bl(t),new Error(t)}function qn(e,t){e||zn(t)}function qf(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function LD(){return A0()==="http:"||A0()==="https:"}function A0(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function VD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||r0()||"connection"in navigator)?navigator.onLine:!0}function UD(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var ir=class{constructor(t,i){this.shortDelay=t,this.longDelay=i,qn(i>t,"Short delay should be less than long delay!"),this.isMobile=i0()||o0()}get(){return VD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sm(e,t){qn(e.emulator,"Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}var Il=class{static initialize(t,i,n){this.fetchImpl=t,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var jD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var BD=new ir(3e4,6e4);function am(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ro(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){return q0(e,r,()=>b(this,null,function*(){let u={},f={};n&&(t==="GET"?f=n:u={body:JSON.stringify(n)});let p=Zr(Object.assign({key:e.config.apiKey},f)).slice(1),_=yield e._getAdditionalHeaders();return _["Content-Type"]="application/json",e.languageCode&&(_["X-Firebase-Locale"]=e.languageCode),Il.fetch()(H0(e,e.config.apiHost,i,p),Object.assign({method:t,headers:_,referrerPolicy:"no-referrer"},u))}))})}function q0(e,t,i){return b(this,null,function*(){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},jD),t);try{let r=new Hf(e),o=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw _l(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,u]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _l(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw _l(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw _l(e,"user-disabled",s);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw rm(e,f,u);yn(e,f)}}catch(r){if(r instanceof Ae)throw r;yn(e,"network-request-failed",{message:String(r)})}})}function zD(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){let u=yield ro(e,t,i,n,r);return"mfaPendingCredential"in u&&yn(e,"multi-factor-auth-required",{_serverResponse:u}),u})}function H0(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?sm(e.config,r):`${e.config.apiScheme}://${r}`}var Hf=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(en(this.auth,"network-request-failed")),BD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _l(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=en(e,t,n);return r.customData._tokenResponse=i,r}function $D(e,t){return b(this,null,function*(){return ro(e,"POST","/v1/accounts:delete",t)})}function G0(e,t){return b(this,null,function*(){return ro(e,"POST","/v1/accounts:lookup",t)})}function Ws(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function cm(e,t=!1){return b(this,null,function*(){let i=Vt(e),n=yield i.getIdToken(t),r=lm(n);et(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:Ws(zf(r.auth_time)),issuedAtTime:Ws(zf(r.iat)),expirationTime:Ws(zf(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zf(e){return Number(e)*1e3}function lm(e){let[t,i,n]=e.split(".");if(t===void 0||i===void 0||n===void 0)return bl("JWT malformed, contained fewer than 3 sections"),null;try{let r=yf(i);return r?JSON.parse(r):(bl("Failed to decode base64 JWT payload"),null)}catch(r){return bl("Caught error parsing JWT payload as JSON",r?.toString()),null}}function S0(e){let t=lm(e);return et(t,"internal-error"),et(typeof t.exp<"u","internal-error"),et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Ys(e,t,i=!1){return b(this,null,function*(){if(i)return t;try{return yield t}catch(n){throw n instanceof Ae&&qD(n)&&e.auth.currentUser===e&&(yield e.auth.signOut()),n}})}function qD({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Gf=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let i=this.getInterval(t);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),i)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Qs=class{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ws(this.lastLoginAt),this.creationTime=Ws(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function El(e){return b(this,null,function*(){var t;let i=e.auth,n=yield e.getIdToken(),r=yield Ys(e,G0(i,{idToken:n}));et(r?.users.length,i,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?W0(o.providerUserInfo):[],c=HD(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!c?.length,f=l?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Qs(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)})}function dm(e){return b(this,null,function*(){let t=Vt(e);yield El(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function HD(e,t){return[...e.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function W0(e){return e.map(t=>{var{providerId:i}=t,n=cc(t,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function GD(e,t){return b(this,null,function*(){let i=yield q0(e,{},()=>b(this,null,function*(){let n=Zr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=H0(e,r,"/v1/token",`key=${o}`),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Il.fetch()(s,{method:"POST",headers:c,body:n})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function WD(e,t){return b(this,null,function*(){return ro(e,"POST","/v2/accounts:revokeToken",am(e,t))})}var Ks=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){et(t.idToken,"internal-error"),et(typeof t.idToken<"u","internal-error"),et(typeof t.refreshToken<"u","internal-error");let i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):S0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){et(t.length!==0,"internal-error");let i=S0(t);this.updateTokensAndExpiration(t,null,i)}getToken(t,i=!1){return b(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,i){return b(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield GD(t,i);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,i,n){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,i){let{refreshToken:n,accessToken:r,expirationTime:o}=i,s=new e;return n&&(et(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(et(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(et(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return zn("not implemented")}};function bi(e,t){et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var io=class e{constructor(t){var{uid:i,auth:n,stsTokenManager:r}=t,o=cc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qs(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return b(this,null,function*(){let i=yield Ys(this,this.stsTokenManager.getToken(this.auth,t));return et(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(t){return cm(this,t)}reload(){return dm(this)}_assign(t){this!==t&&(et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let i=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,i=!1){return b(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),i&&(yield El(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(_n(this.auth.app))return Promise.reject(nr(this.auth));let t=yield this.getIdToken();return yield Ys(this,$D(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var n,r,o,s,c,l,u,f;let p=(n=i.displayName)!==null&&n!==void 0?n:void 0,_=(r=i.email)!==null&&r!==void 0?r:void 0,T=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=i.photoURL)!==null&&s!==void 0?s:void 0,O=(c=i.tenantId)!==null&&c!==void 0?c:void 0,P=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,H=(u=i.createdAt)!==null&&u!==void 0?u:void 0,K=(f=i.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:st,isAnonymous:Xt,providerData:bt,stsTokenManager:x}=i;et(Z&&x,t,"internal-error");let g=Ks.fromJSON(this.name,x);et(typeof Z=="string",t,"internal-error"),bi(p,t.name),bi(_,t.name),et(typeof st=="boolean",t,"internal-error"),et(typeof Xt=="boolean",t,"internal-error"),bi(T,t.name),bi(k,t.name),bi(O,t.name),bi(P,t.name),bi(H,t.name),bi(K,t.name);let y=new e({uid:Z,auth:t,email:_,emailVerified:st,displayName:p,isAnonymous:Xt,photoURL:k,phoneNumber:T,tenantId:O,stsTokenManager:g,createdAt:H,lastLoginAt:K});return bt&&Array.isArray(bt)&&(y.providerData=bt.map(w=>Object.assign({},w))),P&&(y._redirectEventId=P),y}static _fromIdTokenResponse(t,i,n=!1){return b(this,null,function*(){let r=new Ks;r.updateFromServerResponse(i);let o=new e({uid:i.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield El(o),o})}static _fromGetAccountInfoResponse(t,i,n){return b(this,null,function*(){let r=i.users[0];et(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?W0(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new Ks;c.updateFromIdToken(n);let l=new e({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Qs(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var R0=new Map;function $n(e){qn(e instanceof Function,"Expected a class definition");let t=R0.get(e);return t?(qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,R0.set(e,t),t)}var KD=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(i,n){return b(this,null,function*(){this.storage[i]=n})}_get(i){return b(this,null,function*(){let n=this.storage[i];return n===void 0?null:n})}_remove(i){return b(this,null,function*(){delete this.storage[i]})}_addListener(i,n){}_removeListener(i,n){}}return e.type="NONE",e})(),Wf=KD;function vl(e,t,i){return`firebase:${e}:${t}:${i}`}var Tl=class e{constructor(t,i,n){this.persistence=t,this.auth=i,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=vl(this.userKey,r.apiKey,o),this.fullPersistenceKey=vl("persistence",r.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return b(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?io._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return b(this,null,function*(){if(this.persistence===t)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,i,n="authUser"){return b(this,null,function*(){if(!i.length)return new e($n(Wf),t,n);let r=(yield Promise.all(i.map(u=>b(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=r[0]||$n(Wf),s=vl(n,t.config.apiKey,t.name),c=null;for(let u of i)try{let f=yield u._get(s);if(f){let p=io._fromJSON(t,f);u!==o&&(c=p),o=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new e(o,t,n):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(i.map(u=>b(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new e(o,t,n))})}};function D0(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Q0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Z0(t))return"Blackberry";if(J0(t))return"Webos";if(um(t))return"Safari";if((t.includes("chrome/")||Y0(t))&&!t.includes("edge/"))return"Chrome";if(X0(t))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(i);if(n?.length===2)return n[1]}return"Other"}function K0(e=oe()){return/firefox\//i.test(e)}function um(e=oe()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Y0(e=oe()){return/crios\//i.test(e)}function Q0(e=oe()){return/iemobile/i.test(e)}function X0(e=oe()){return/android/i.test(e)}function Z0(e=oe()){return/blackberry/i.test(e)}function J0(e=oe()){return/webos/i.test(e)}function Ml(e=oe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function YD(e=oe()){var t;return Ml(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function QD(){return s0()&&document.documentMode===10}function tw(e=oe()){return Ml(e)||X0(e)||J0(e)||Z0(e)||/windows phone/i.test(e)||Q0(e)}function XD(){try{return!!(window&&window!==window.top)}catch{return!1}}function ew(e,t=[]){let i;switch(e){case"Browser":i=D0(oe());break;case"Worker":i=`${D0(oe())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${bn}/${n}`}var Kf=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){let n=o=>new Promise((s,c)=>{try{let l=t(o);s(l)}catch(l){c(l)}});n.onAbort=i,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return b(this,null,function*(){if(this.auth.currentUser===t)return;let i=[];try{for(let n of this.queue)yield n(t),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function ZD(i){return b(this,arguments,function*(e,t={}){return ro(e,"GET","/v2/passwordPolicy",am(e,t))})}var JD=6,Yf=class{constructor(t){var i,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=s.minPasswordLength)!==null&&i!==void 0?i:JD,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,n,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,i){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=t.length>=n),r&&(i.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,i,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Qf=class{constructor(t,i,n,r){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cl(this),this.idTokenSubscription=new Cl(this),this.beforeStateQueue=new Kf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$n(i)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Tl.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return b(this,null,function*(){try{let i=yield G0(this,{idToken:t}),n=yield io._fromGetAccountInfoResponse(this,i,t);yield this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return b(this,null,function*(){var i;if(_n(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return b(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(t){return b(this,null,function*(){try{yield El(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=UD()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return b(this,null,function*(){if(_n(this.app))return Promise.reject(nr(this));let i=t?Vt(t):null;return i&&et(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(t,i=!1){return b(this,null,function*(){if(!this._deleted)return t&&et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return _n(this.app)?Promise.reject(nr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return _n(this.app)?Promise.reject(nr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence($n(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let t=yield ZD(this),i=new Yf(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new jn("auth","Firebase",t())}onAuthStateChanged(t,i,n){return this.registerStateListener(this.authStateSubscription,t,i,n)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,n){return this.registerStateListener(this.idTokenSubscription,t,i,n)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},i)}})}revokeAccessToken(t){return b(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),yield WD(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,i){return b(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(i);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return b(this,null,function*(){if(!this.redirectPersistenceManager){let i=t&&$n(t)||this._popupRedirectResolver;et(i,this,"argument-error"),this.redirectPersistenceManager=yield Tl.create(this,[$n(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return b(this,null,function*(){var i,n;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return b(this,null,function*(){if(t===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,n,r){if(this._deleted)return()=>{};let o=typeof i=="function"?i:i.next.bind(i),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof i=="function"){let l=t.addObserver(i,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(i);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return b(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var t;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(i["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return b(this,null,function*(){var t;let i=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return i?.error&&ND(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function Nl(e){return Vt(e)}var Cl=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=d0(i=>this.observer=i)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hm={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tk(e){hm=e}function ek(e){return hm.loadJS(e)}function nk(){return hm.gapiScript}function nw(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function fm(e,t){let i=Zi(e,"auth");if(i.isInitialized()){let r=i.getImmediate(),o=i.getOptions();if(Yi(o,t??{}))return r;yn(r,"already-initialized")}return i.initialize({options:t})}function ik(e,t){let i=t?.persistence||[],n=(Array.isArray(i)?i:[i]).map($n);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}function mm(e,t,i){let n=Nl(e);et(n._canInitEmulator,n,"emulator-config-failed"),et(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!i?.disableWarnings,o=iw(t),{host:s,port:c}=rk(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||ok()}function iw(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function rk(e){let t=iw(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:k0(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:k0(s)}}}function k0(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function ok(){function e(){let t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Xs=class{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return zn("not implemented")}_getIdTokenResponse(t){return zn("not implemented")}_linkToIdToken(t,i){return zn("not implemented")}_getReauthenticationResolver(t){return zn("not implemented")}};function no(e,t){return b(this,null,function*(){return zD(e,"POST","/v1/accounts:signInWithIdp",am(e,t))})}var sk="http://localhost",Al=class e extends Xs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let i=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):yn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let i=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=i,o=cc(i,["providerId","signInMethod"]);if(!n||!r)return null;let s=new e(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let i=this.buildRequest();return no(t,i)}_linkToIdToken(t,i){let n=this.buildRequest();return n.idToken=i,no(t,n)}_getReauthenticationResolver(t){let i=this.buildRequest();return i.autoCreate=!1,no(t,i)}buildRequest(){let t={requestUri:sk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Zr(i)}return t}};var Zs=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Sl=class extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var pm=(()=>{class e extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(i,n){return Al._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:n})}static credentialFromResult(i){return e.credentialFromTaggedObject(i)}static credentialFromError(i){return e.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;let{oauthIdToken:n,oauthAccessToken:r}=i;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}}e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com";return e})();var Js=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,i,n,r=!1){return b(this,null,function*(){let o=yield io._fromIdTokenResponse(t,n,r),s=P0(n);return new e({user:o,providerId:s,_tokenResponse:n,operationType:i})})}static _forOperation(t,i,n){return b(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=P0(n);return new e({user:t,providerId:r,_tokenResponse:n,operationType:i})})}};function P0(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Xf=class e extends Ae{constructor(t,i,n,r){var o;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,i,n,r){return new e(t,i,n,r)}};function rw(e,t,i,n){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(e,o,t,n):o})}function ak(e,t,i=!1){return b(this,null,function*(){let n=yield Ys(e,t._linkToIdToken(e.auth,yield e.getIdToken()),i);return Js._forOperation(e,"link",n)})}function ck(e,t,i=!1){return b(this,null,function*(){let{auth:n}=e;if(_n(n.app))return Promise.reject(nr(n));let r="reauthenticate";try{let o=yield Ys(e,rw(n,r,t,e),i);et(o.idToken,n,"internal-error");let s=lm(o.idToken);et(s,n,"internal-error");let{sub:c}=s;return et(e.uid===c,n,"user-mismatch"),Js._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&yn(n,"user-mismatch"),o}})}function lk(e,t,i=!1){return b(this,null,function*(){if(_n(e.app))return Promise.reject(nr(e));let n="signIn",r=yield rw(e,n,t),o=yield Js._fromIdTokenResponse(e,n,r);return i||(yield e._updateCurrentUser(o.user)),o})}function Fl(e,t,i,n){return Vt(e).onIdTokenChanged(t,i,n)}function gm(e,t,i){return Vt(e).beforeAuthStateChanged(t,i)}function Ll(e,t,i,n){return Vt(e).onAuthStateChanged(t,i,n)}function _m(e){return Vt(e).signOut()}var Rl="__sak";var Dl=class{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Rl,"1"),this.storage.removeItem(Rl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){let i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};function dk(){let e=oe();return um(e)||Ml(e)}var uk=1e3,hk=10,fk=(()=>{class e extends Dl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,n)=>this.onStorageEvent(i,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dk()&&XD(),this.fallbackToPolling=tw(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&i(n,o,r)}}onStorageEvent(i,n=!1){if(!i.key){this.forAllChangedKeys((c,l,u)=>{this.notifyListeners(c,u)});return}let r=i.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(i.newValue!==c)i.newValue!==null?this.storage.setItem(r,i.newValue):this.storage.removeItem(r);else if(this.localCache[r]===i.newValue&&!n)return}let o=()=>{let c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);QD()&&s!==i.newValue&&i.newValue!==i.oldValue?setTimeout(o,hk):o()}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:n,newValue:r}),!0)})},uk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(i,n){return b(this,null,function*(){yield ri(e.prototype,this,"_set").call(this,i,n),this.localCache[i]=JSON.stringify(n)})}_get(i){return b(this,null,function*(){let n=yield ri(e.prototype,this,"_get").call(this,i);return this.localCache[i]=JSON.stringify(n),n})}_remove(i){return b(this,null,function*(){yield ri(e.prototype,this,"_remove").call(this,i),delete this.localCache[i]})}}return e.type="LOCAL",e})(),ow=fk;var mk=(()=>{class e extends Dl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,n){}_removeListener(i,n){}}return e.type="SESSION",e})(),bm=mk;function pk(e){return Promise.all(e.map(t=>b(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}})))}var gk=(()=>{class e{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){let n=this.receivers.find(o=>o.isListeningto(i));if(n)return n;let r=new e(i);return this.receivers.push(r),r}isListeningto(i){return this.eventTarget===i}handleEvent(i){return b(this,null,function*(){let n=i,{eventId:r,eventType:o,data:s}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(f=>b(this,null,function*(){return f(n.origin,s)})),u=yield pk(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:u})})}_subscribe(i,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(n)}_unsubscribe(i,n){this.handlersMap[i]&&n&&this.handlersMap[i].delete(n),(!n||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function vm(e="",t=10){let i="";for(let n=0;n<t;n++)i+=Math.floor(Math.random()*10);return e+i}var Zf=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,i,n=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let u=vm("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(p){let _=p;if(_.data.eventId===u)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:i},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function vn(){return window}function _k(e){vn().location.href=e}function sw(){return typeof vn().WorkerGlobalScope<"u"&&typeof vn().importScripts=="function"}function bk(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function vk(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function yk(){return sw()?self:null}var aw="firebaseLocalStorageDb",wk=1,kl="firebaseLocalStorage",cw="fbase_key",rr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}};function Vl(e,t){return e.transaction([kl],t?"readwrite":"readonly").objectStore(kl)}function xk(){let e=indexedDB.deleteDatabase(aw);return new rr(e).toPromise()}function Jf(){let e=indexedDB.open(aw,wk);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let n=e.result;try{n.createObjectStore(kl,{keyPath:cw})}catch(r){i(r)}}),e.addEventListener("success",()=>b(this,null,function*(){let n=e.result;n.objectStoreNames.contains(kl)?t(n):(n.close(),yield xk(),t(yield Jf()))}))})}function O0(e,t,i){return b(this,null,function*(){let n=Vl(e,!0).put({[cw]:t,value:i});return new rr(n).toPromise()})}function Ik(e,t){return b(this,null,function*(){let i=Vl(e,!1).get(t),n=yield new rr(i).toPromise();return n===void 0?null:n.value})}function M0(e,t){let i=Vl(e,!0).delete(t);return new rr(i).toPromise()}var Ek=800,Tk=3,Ck=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Jf(),this.db)})}_withRetries(i){return b(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield i(r)}catch(r){if(n++>Tk)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return sw()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=gk._getInstance(yk()),this.receiver._subscribe("keyChanged",(i,n)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(i,n)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var i,n;if(this.activeServiceWorker=yield bk(),!this.activeServiceWorker)return;this.sender=new Zf(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((i=r[0])===null||i===void 0)&&i.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(i){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||vk()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let i=yield Jf();return yield O0(i,Rl,"1"),yield M0(i,Rl),!0}catch{}return!1})}_withPendingWrite(i){return b(this,null,function*(){this.pendingWrites++;try{yield i()}finally{this.pendingWrites--}})}_set(i,n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>O0(r,i,n)),this.localCache[i]=n,this.notifyServiceWorker(i)}))})}_get(i){return b(this,null,function*(){let n=yield this._withRetries(r=>Ik(r,i));return this.localCache[i]=n,n})}_remove(i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(n=>M0(n,i)),delete this.localCache[i],this.notifyServiceWorker(i)}))})}_poll(){return b(this,null,function*(){let i=yield this._withRetries(o=>{let s=Vl(o,!1).getAll();return new rr(s).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(i.length!==0)for(let{fbase_key:o,value:s}of i)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),Ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),lw=Ck;var JU=nw("rcb"),tj=new ir(3e4,6e4);function dw(e,t){return t?$n(t):(et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var ta=class extends Xs{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,i){return no(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){let i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}};function Ak(e){return lk(e.auth,new ta(e),e.bypassAuthState)}function Sk(e){let{auth:t,user:i}=e;return et(i,t,"internal-error"),ck(i,new ta(e),e.bypassAuthState)}function Rk(e){return b(this,null,function*(){let{auth:t,user:i}=e;return et(i,t,"internal-error"),ak(i,new ta(e),e.bypassAuthState)})}var Pl=class{constructor(t,i,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise((t,i)=>b(this,null,function*(){this.pendingPromise={resolve:t,reject:i};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return b(this,null,function*(){let{urlResponse:i,sessionId:n,postBody:r,tenantId:o,error:s,type:c}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:i,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(u){this.reject(u)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ak;case"linkViaPopup":case"linkViaRedirect":return Rk;case"reauthViaPopup":case"reauthViaRedirect":return Sk;default:yn(this.auth,"internal-error")}}resolve(t){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Dk=new ir(2e3,1e4);function ym(e,t,i){return b(this,null,function*(){if(_n(e.app))return Promise.reject(en(e,"operation-not-supported-in-this-environment"));let n=Nl(e);FD(e,t,Zs);let r=dw(n,i);return new kk(n,"signInViaPopup",t,r).executeNotNull()})}var kk=(()=>{class e extends Pl{constructor(i,n,r,o,s){super(i,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){return b(this,null,function*(){let i=yield this.execute();return et(i,this.auth,"internal-error"),i})}onExecution(){return b(this,null,function*(){qn(this.filter.length===1,"Popup operations only handle one event");let i=vm();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(en(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(en(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let i=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(en(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,Dk.get())};i()}}e.currentPopupAction=null;return e})(),Pk="pendingRedirect",yl=new Map,tm=class e extends Pl{constructor(t,i,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}execute(){return b(this,null,function*(){let t=yl.get(this.auth._key());if(!t){try{let n=(yield Ok(this.resolver,this.auth))?yield ri(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(i){t=()=>Promise.reject(i)}yl.set(this.auth._key(),t)}return this.bypassAuthState||yl.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return b(this,null,function*(){if(t.type==="signInViaRedirect")return ri(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let i=yield this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,ri(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function Ok(e,t){return b(this,null,function*(){let i=Fk(t),n=Nk(e);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(i))==="true";return yield n._remove(i),r})}function Mk(e,t){yl.set(e._key(),t)}function Nk(e){return $n(e._redirectPersistence)}function Fk(e){return vl(Pk,e.config.apiKey,e.name)}function Lk(e,t,i=!1){return b(this,null,function*(){if(_n(e.app))return Promise.reject(nr(e));let n=Nl(e),r=dw(n,t),s=yield new tm(n,r,i).execute();return s&&!i&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,t)),s})}var Vk=10*60*1e3,em=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(i=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Uk(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var n;if(t.error&&!uw(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(en(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){let n=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Vk&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(t))}saveEventToCache(t){this.cachedEventUids.add(N0(t)),this.lastProcessedEventTime=Date.now()}};function N0(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function uw({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function Uk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uw(e);default:return!1}}function jk(i){return b(this,arguments,function*(e,t={}){return ro(e,"GET","/v1/projects",t)})}var Bk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zk=/^https?/;function $k(e){return b(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield jk(e);for(let i of t)try{if(qk(i))return}catch{}yn(e,"unauthorized-domain")})}function qk(e){let t=qf(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&n===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&s.hostname===n}if(!zk.test(i))return!1;if(Bk.test(e))return n===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var Hk=new ir(3e4,6e4);function F0(){let e=vn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function Gk(e){return new Promise((t,i)=>{var n,r,o;function s(){F0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{F0(),i(en(e,"network-request-failed"))},timeout:Hk.get()})}if(!((r=(n=vn().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=vn().gapi)===null||o===void 0)&&o.load)s();else{let c=nw("iframefcb");return vn()[c]=()=>{gapi.load?s():i(en(e,"network-request-failed"))},ek(`${nk()}?onload=${c}`).catch(l=>i(l))}}).catch(t=>{throw wl=null,t})}var wl=null;function Wk(e){return wl=wl||Gk(e),wl}var Kk=new ir(5e3,15e3),Yk="__/auth/iframe",Qk="emulator/auth/iframe",Xk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jk(e){let t=e.config;et(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?sm(t,Qk):`https://${e.config.authDomain}/${Yk}`,n={apiKey:t.apiKey,appName:e.name,v:bn},r=Zk.get(e.config.apiHost);r&&(n.eid=r);let o=e._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${Zr(n).slice(1)}`}function tP(e){return b(this,null,function*(){let t=yield Wk(e),i=vn().gapi;return et(i,e,"internal-error"),t.open({where:document.body,url:Jk(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xk,dontclear:!0},n=>new Promise((r,o)=>b(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=en(e,"network-request-failed"),c=vn().setTimeout(()=>{o(s)},Kk.get());function l(){vn().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var eP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nP=500,iP=600,rP="_blank",oP="http://localhost",Ol=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function sP(e,t,i,n=nP,r=iP){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},eP),{width:n.toString(),height:r.toString(),top:o,left:s}),u=oe().toLowerCase();i&&(c=Y0(u)?rP:i),K0(u)&&(t=t||oP,l.scrollbars="yes");let f=Object.entries(l).reduce((_,[T,k])=>`${_}${T}=${k},`,"");if(YD(u)&&c!=="_self")return aP(t||"",c),new Ol(null);let p=window.open(t||"",c,f);et(p,e,"popup-blocked");try{p.focus()}catch{}return new Ol(p)}function aP(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}var cP="__/auth/handler",lP="emulator/auth/handler",dP=encodeURIComponent("fac");function L0(e,t,i,n,r,o){return b(this,null,function*(){et(e.config.authDomain,e,"auth-domain-config-required"),et(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:bn,eventId:r};if(t instanceof Zs){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",l0(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(t instanceof Sl){let f=t.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}e.tenantId&&(s.tid=e.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield e._getAppCheckToken(),u=l?`#${dP}=${encodeURIComponent(l)}`:"";return`${uP(e)}?${Zr(c).slice(1)}${u}`})}function uP({config:e}){return e.emulator?sm(e,lP):`https://${e.authDomain}/${cP}`}var $f="webStorageSupport",nm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bm,this._completeRedirectFn=Lk,this._overrideRedirectResult=Mk}_openPopup(t,i,n,r){return b(this,null,function*(){var o;qn((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield L0(t,i,n,qf(),r);return sP(t,s,vm())})}_openRedirect(t,i,n,r){return b(this,null,function*(){yield this._originValidation(t);let o=yield L0(t,i,n,qf(),r);return _k(o),new Promise(()=>{})})}_initialize(t){let i=t._key();if(this.eventManagers[i]){let{manager:r,promise:o}=this.eventManagers[i];return r?Promise.resolve(r):(qn(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(t);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}initAndGetManager(t){return b(this,null,function*(){let i=yield tP(t),n=new em(t);return i.register("authEvent",r=>(et(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=i,n})}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($f,{type:$f},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[$f];s!==void 0&&i(!!s),yn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=$k(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return tw()||um()||Ml()}},hw=nm;var V0="@firebase/auth",U0="1.7.4";var im=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let i=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hP(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fP(e){gn(new Pe("auth",(t,{options:i})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;et(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ew(e)},u=new Qf(n,r,o,l);return ik(u,i),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,n)=>{t.getProvider("auth-internal").initialize()})),gn(new Pe("auth-internal",t=>{let i=Nl(t.getProvider("auth").getImmediate());return(n=>new im(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),jt(V0,U0,hP(e)),jt(V0,U0,"esm2017")}var mP=5*60,pP=If("authIdTokenMaxAge")||mP,j0=null,gP=e=>t=>b(void 0,null,function*(){let i=t&&(yield t.getIdTokenResult()),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>pP)return;let r=i?.token;j0!==r&&(j0=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function wm(e=_i()){let t=Zi(e,"auth");if(t.isInitialized())return t.getImmediate();let i=fm(e,{popupRedirectResolver:hw,persistence:[lw,ow,bm]}),n=If("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=gP(o.toString());gm(i,s,()=>s(i.currentUser)),Fl(i,c=>s(c))}}let r=wf("auth");return r&&mm(i,`http://${r}`),i}function _P(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}tk({loadJS(e){return new Promise((t,i)=>{let n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=r=>{let o=en("internal-error");o.customData=r,i(o)},n.type="text/javascript",n.charset="UTF-8",_P().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fP("Browser");function xm(e){return new Re(function(t){var i=Ll(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:i}})}var mw="auth",or=class{constructor(t){return t}},ea=class{constructor(){return Gs(mw)}};var Im=new z("angularfire2.auth-instances");function a1(e,t){let i=pl(mw,e,t);return i&&new or(i)}function c1(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new or(n)}}var l1={provide:ea,deps:[[new Ee,Im]]},d1={provide:or,useFactory:a1,deps:[[new Ee,Im],Bn]};function pw(e,...t){return jt("angularfire",tr.full,"auth"),Fe([d1,l1,{provide:Im,useFactory:c1(e),multi:!0,deps:[$,Rt,eo,er,[new Ee,to],...t]}])}var gw=Yt(wm,!0);var _w=Yt(ym,!0);var bw=Yt(_m,!0);var vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yw={};var vi,Em;(function(){var e;function t(x,g){function y(){}y.prototype=g.prototype,x.D=g.prototype,x.prototype=new y,x.prototype.constructor=x,x.C=function(w,I,C){for(var v=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)v[kn-2]=arguments[kn];return g.prototype[I].apply(w,v)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,g,y){y||(y=0);var w=Array(16);if(typeof g=="string")for(var I=0;16>I;++I)w[I]=g.charCodeAt(y++)|g.charCodeAt(y++)<<8|g.charCodeAt(y++)<<16|g.charCodeAt(y++)<<24;else for(I=0;16>I;++I)w[I]=g[y++]|g[y++]<<8|g[y++]<<16|g[y++]<<24;g=x.g[0],y=x.g[1],I=x.g[2];var C=x.g[3],v=g+(C^y&(I^C))+w[0]+3614090360&4294967295;g=y+(v<<7&4294967295|v>>>25),v=C+(I^g&(y^I))+w[1]+3905402710&4294967295,C=g+(v<<12&4294967295|v>>>20),v=I+(y^C&(g^y))+w[2]+606105819&4294967295,I=C+(v<<17&4294967295|v>>>15),v=y+(g^I&(C^g))+w[3]+3250441966&4294967295,y=I+(v<<22&4294967295|v>>>10),v=g+(C^y&(I^C))+w[4]+4118548399&4294967295,g=y+(v<<7&4294967295|v>>>25),v=C+(I^g&(y^I))+w[5]+1200080426&4294967295,C=g+(v<<12&4294967295|v>>>20),v=I+(y^C&(g^y))+w[6]+2821735955&4294967295,I=C+(v<<17&4294967295|v>>>15),v=y+(g^I&(C^g))+w[7]+4249261313&4294967295,y=I+(v<<22&4294967295|v>>>10),v=g+(C^y&(I^C))+w[8]+1770035416&4294967295,g=y+(v<<7&4294967295|v>>>25),v=C+(I^g&(y^I))+w[9]+2336552879&4294967295,C=g+(v<<12&4294967295|v>>>20),v=I+(y^C&(g^y))+w[10]+4294925233&4294967295,I=C+(v<<17&4294967295|v>>>15),v=y+(g^I&(C^g))+w[11]+2304563134&4294967295,y=I+(v<<22&4294967295|v>>>10),v=g+(C^y&(I^C))+w[12]+1804603682&4294967295,g=y+(v<<7&4294967295|v>>>25),v=C+(I^g&(y^I))+w[13]+4254626195&4294967295,C=g+(v<<12&4294967295|v>>>20),v=I+(y^C&(g^y))+w[14]+2792965006&4294967295,I=C+(v<<17&4294967295|v>>>15),v=y+(g^I&(C^g))+w[15]+1236535329&4294967295,y=I+(v<<22&4294967295|v>>>10),v=g+(I^C&(y^I))+w[1]+4129170786&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^I&(g^y))+w[6]+3225465664&4294967295,C=g+(v<<9&4294967295|v>>>23),v=I+(g^y&(C^g))+w[11]+643717713&4294967295,I=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(I^C))+w[0]+3921069994&4294967295,y=I+(v<<20&4294967295|v>>>12),v=g+(I^C&(y^I))+w[5]+3593408605&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^I&(g^y))+w[10]+38016083&4294967295,C=g+(v<<9&4294967295|v>>>23),v=I+(g^y&(C^g))+w[15]+3634488961&4294967295,I=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(I^C))+w[4]+3889429448&4294967295,y=I+(v<<20&4294967295|v>>>12),v=g+(I^C&(y^I))+w[9]+568446438&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^I&(g^y))+w[14]+3275163606&4294967295,C=g+(v<<9&4294967295|v>>>23),v=I+(g^y&(C^g))+w[3]+4107603335&4294967295,I=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(I^C))+w[8]+1163531501&4294967295,y=I+(v<<20&4294967295|v>>>12),v=g+(I^C&(y^I))+w[13]+2850285829&4294967295,g=y+(v<<5&4294967295|v>>>27),v=C+(y^I&(g^y))+w[2]+4243563512&4294967295,C=g+(v<<9&4294967295|v>>>23),v=I+(g^y&(C^g))+w[7]+1735328473&4294967295,I=C+(v<<14&4294967295|v>>>18),v=y+(C^g&(I^C))+w[12]+2368359562&4294967295,y=I+(v<<20&4294967295|v>>>12),v=g+(y^I^C)+w[5]+4294588738&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^I)+w[8]+2272392833&4294967295,C=g+(v<<11&4294967295|v>>>21),v=I+(C^g^y)+w[11]+1839030562&4294967295,I=C+(v<<16&4294967295|v>>>16),v=y+(I^C^g)+w[14]+4259657740&4294967295,y=I+(v<<23&4294967295|v>>>9),v=g+(y^I^C)+w[1]+2763975236&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^I)+w[4]+1272893353&4294967295,C=g+(v<<11&4294967295|v>>>21),v=I+(C^g^y)+w[7]+4139469664&4294967295,I=C+(v<<16&4294967295|v>>>16),v=y+(I^C^g)+w[10]+3200236656&4294967295,y=I+(v<<23&4294967295|v>>>9),v=g+(y^I^C)+w[13]+681279174&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^I)+w[0]+3936430074&4294967295,C=g+(v<<11&4294967295|v>>>21),v=I+(C^g^y)+w[3]+3572445317&4294967295,I=C+(v<<16&4294967295|v>>>16),v=y+(I^C^g)+w[6]+76029189&4294967295,y=I+(v<<23&4294967295|v>>>9),v=g+(y^I^C)+w[9]+3654602809&4294967295,g=y+(v<<4&4294967295|v>>>28),v=C+(g^y^I)+w[12]+3873151461&4294967295,C=g+(v<<11&4294967295|v>>>21),v=I+(C^g^y)+w[15]+530742520&4294967295,I=C+(v<<16&4294967295|v>>>16),v=y+(I^C^g)+w[2]+3299628645&4294967295,y=I+(v<<23&4294967295|v>>>9),v=g+(I^(y|~C))+w[0]+4096336452&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~I))+w[7]+1126891415&4294967295,C=g+(v<<10&4294967295|v>>>22),v=I+(g^(C|~y))+w[14]+2878612391&4294967295,I=C+(v<<15&4294967295|v>>>17),v=y+(C^(I|~g))+w[5]+4237533241&4294967295,y=I+(v<<21&4294967295|v>>>11),v=g+(I^(y|~C))+w[12]+1700485571&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~I))+w[3]+2399980690&4294967295,C=g+(v<<10&4294967295|v>>>22),v=I+(g^(C|~y))+w[10]+4293915773&4294967295,I=C+(v<<15&4294967295|v>>>17),v=y+(C^(I|~g))+w[1]+2240044497&4294967295,y=I+(v<<21&4294967295|v>>>11),v=g+(I^(y|~C))+w[8]+1873313359&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~I))+w[15]+4264355552&4294967295,C=g+(v<<10&4294967295|v>>>22),v=I+(g^(C|~y))+w[6]+2734768916&4294967295,I=C+(v<<15&4294967295|v>>>17),v=y+(C^(I|~g))+w[13]+1309151649&4294967295,y=I+(v<<21&4294967295|v>>>11),v=g+(I^(y|~C))+w[4]+4149444226&4294967295,g=y+(v<<6&4294967295|v>>>26),v=C+(y^(g|~I))+w[11]+3174756917&4294967295,C=g+(v<<10&4294967295|v>>>22),v=I+(g^(C|~y))+w[2]+718787259&4294967295,I=C+(v<<15&4294967295|v>>>17),v=y+(C^(I|~g))+w[9]+3951481745&4294967295,x.g[0]=x.g[0]+g&4294967295,x.g[1]=x.g[1]+(I+(v<<21&4294967295|v>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+C&4294967295}n.prototype.u=function(x,g){g===void 0&&(g=x.length);for(var y=g-this.blockSize,w=this.B,I=this.h,C=0;C<g;){if(I==0)for(;C<=y;)r(this,x,C),C+=this.blockSize;if(typeof x=="string"){for(;C<g;)if(w[I++]=x.charCodeAt(C++),I==this.blockSize){r(this,w),I=0;break}}else for(;C<g;)if(w[I++]=x[C++],I==this.blockSize){r(this,w),I=0;break}}this.h=I,this.o+=g},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var g=1;g<x.length-8;++g)x[g]=0;var y=8*this.o;for(g=x.length-8;g<x.length;++g)x[g]=y&255,y/=256;for(this.u(x),x=Array(16),g=y=0;4>g;++g)for(var w=0;32>w;w+=8)x[y++]=this.g[g]>>>w&255;return x};function o(x,g){var y=c;return Object.prototype.hasOwnProperty.call(y,x)?y[x]:y[x]=g(x)}function s(x,g){this.h=g;for(var y=[],w=!0,I=x.length-1;0<=I;I--){var C=x[I]|0;w&&C==g||(y[I]=C,w=!1)}this.g=y}var c={};function l(x){return-128<=x&&128>x?o(x,function(g){return new s([g|0],0>g?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return P(u(-x));for(var g=[],y=1,w=0;x>=y;w++)g[w]=x/y|0,y*=4294967296;return new s(g,0)}function f(x,g){if(x.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(x.charAt(0)=="-")return P(f(x.substring(1),g));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=u(Math.pow(g,8)),w=p,I=0;I<x.length;I+=8){var C=Math.min(8,x.length-I),v=parseInt(x.substring(I,I+C),g);8>C?(C=u(Math.pow(g,C)),w=w.j(C).add(u(v))):(w=w.j(y),w=w.add(u(v)))}return w}var p=l(0),_=l(1),T=l(16777216);e=s.prototype,e.m=function(){if(O(this))return-P(this).m();for(var x=0,g=1,y=0;y<this.g.length;y++){var w=this.i(y);x+=(0<=w?w:4294967296+w)*g,g*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(O(this))return"-"+P(this).toString(x);for(var g=u(Math.pow(x,6)),y=this,w="";;){var I=st(y,g).g;y=H(y,I.j(g));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(x);if(y=I,k(y))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var g=0;g<x.g.length;g++)if(x.g[g]!=0)return!1;return!0}function O(x){return x.h==-1}e.l=function(x){return x=H(this,x),O(x)?-1:k(x)?0:1};function P(x){for(var g=x.g.length,y=[],w=0;w<g;w++)y[w]=~x.g[w];return new s(y,~x.h).add(_)}e.abs=function(){return O(this)?P(this):this},e.add=function(x){for(var g=Math.max(this.g.length,x.g.length),y=[],w=0,I=0;I<=g;I++){var C=w+(this.i(I)&65535)+(x.i(I)&65535),v=(C>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);w=v>>>16,C&=65535,v&=65535,y[I]=v<<16|C}return new s(y,y[y.length-1]&-2147483648?-1:0)};function H(x,g){return x.add(P(g))}e.j=function(x){if(k(this)||k(x))return p;if(O(this))return O(x)?P(this).j(P(x)):P(P(this).j(x));if(O(x))return P(this.j(P(x)));if(0>this.l(T)&&0>x.l(T))return u(this.m()*x.m());for(var g=this.g.length+x.g.length,y=[],w=0;w<2*g;w++)y[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<x.g.length;I++){var C=this.i(w)>>>16,v=this.i(w)&65535,kn=x.i(I)>>>16,Vo=x.i(I)&65535;y[2*w+2*I]+=v*Vo,K(y,2*w+2*I),y[2*w+2*I+1]+=C*Vo,K(y,2*w+2*I+1),y[2*w+2*I+1]+=v*kn,K(y,2*w+2*I+1),y[2*w+2*I+2]+=C*kn,K(y,2*w+2*I+2)}for(w=0;w<g;w++)y[w]=y[2*w+1]<<16|y[2*w];for(w=g;w<2*g;w++)y[w]=0;return new s(y,0)};function K(x,g){for(;(x[g]&65535)!=x[g];)x[g+1]+=x[g]>>>16,x[g]&=65535,g++}function Z(x,g){this.g=x,this.h=g}function st(x,g){if(k(g))throw Error("division by zero");if(k(x))return new Z(p,p);if(O(x))return g=st(P(x),g),new Z(P(g.g),P(g.h));if(O(g))return g=st(x,P(g)),new Z(P(g.g),g.h);if(30<x.g.length){if(O(x)||O(g))throw Error("slowDivide_ only works with positive integers.");for(var y=_,w=g;0>=w.l(x);)y=Xt(y),w=Xt(w);var I=bt(y,1),C=bt(w,1);for(w=bt(w,2),y=bt(y,2);!k(w);){var v=C.add(w);0>=v.l(x)&&(I=I.add(y),C=v),w=bt(w,1),y=bt(y,1)}return g=H(x,I.j(g)),new Z(I,g)}for(I=p;0<=x.l(g);){for(y=Math.max(1,Math.floor(x.m()/g.m())),w=Math.ceil(Math.log(y)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=u(y),v=C.j(g);O(v)||0<v.l(x);)y-=w,C=u(y),v=C.j(g);k(C)&&(C=_),I=I.add(C),x=H(x,v)}return new Z(I,x)}e.A=function(x){return st(this,x).h},e.and=function(x){for(var g=Math.max(this.g.length,x.g.length),y=[],w=0;w<g;w++)y[w]=this.i(w)&x.i(w);return new s(y,this.h&x.h)},e.or=function(x){for(var g=Math.max(this.g.length,x.g.length),y=[],w=0;w<g;w++)y[w]=this.i(w)|x.i(w);return new s(y,this.h|x.h)},e.xor=function(x){for(var g=Math.max(this.g.length,x.g.length),y=[],w=0;w<g;w++)y[w]=this.i(w)^x.i(w);return new s(y,this.h^x.h)};function Xt(x){for(var g=x.g.length+1,y=[],w=0;w<g;w++)y[w]=x.i(w)<<1|x.i(w-1)>>>31;return new s(y,x.h)}function bt(x,g){var y=g>>5;g%=32;for(var w=x.g.length-y,I=[],C=0;C<w;C++)I[C]=0<g?x.i(C+y)>>>g|x.i(C+y+1)<<32-g:x.i(C+y);return new s(I,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Em=yw.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,vi=yw.Integer=s}).apply(typeof vw<"u"?vw:typeof self<"u"?self:typeof window<"u"?window:{});var Ul=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hn={};var Tm,Cm,oo,Am,na,jl,Sm,Rm,Dm;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ul=="object"&&Ul];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var n=i(this);function r(a,d){if(d)t:{var h=n;a=a.split(".");for(var m=0;m<a.length-1;m++){var E=a[m];if(!(E in h))break t;h=h[E]}a=a[a.length-1],m=h[a],d=d(m),d!=m&&d!=null&&t(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,m=!1,E={next:function(){if(!m&&h<a.length){var A=h++;return{value:d(A,a[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}r("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function l(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,m),a.apply(d,E)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,_.apply(null,arguments)}function T(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function k(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,E,A){for(var L=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)L[Tt-2]=arguments[Tt];return d.prototype[E].apply(m,L)}}function O(a){let d=a.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=a[m];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let E=a.length||0,A=m.length||0;a.length=E+A;for(let L=0;L<A;L++)a[E+L]=m[L]}else a.push(m)}}class H{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function st(a){return st[" "](a),a}st[" "]=function(){};var Xt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function bt(a,d,h){for(let m in a)d.call(h,a[m],m,a)}function x(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function g(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,d){let h,m;for(let E=1;E<arguments.length;E++){m=arguments[E];for(h in m)a[h]=m[h];for(let A=0;A<y.length;A++)h=y[A],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function I(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function v(){var a=fu;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class kn{constructor(){this.h=this.g=null}add(d,h){let m=Vo.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Vo=new H(()=>new ST,a=>a.reset());class ST{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Uo,jo=!1,fu=new kn,O_=()=>{let a=c.Promise.resolve(void 0);Uo=()=>{a.then(RT)}};var RT=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){C(h)}var d=Vo;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}jo=!1};function ti(){this.s=this.s,this.C=this.C}ti.prototype.s=!1,ti.prototype.ma=function(){this.s||(this.s=!0,this.N())},ti.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var DT=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function Bo(a,d){if(fe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Xt){t:{try{st(d.nodeName);var E=!0;break t}catch{}E=!1}E||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:kT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Bo.aa.h.call(this)}}k(Bo,fe);var kT={2:"touch",3:"pen",4:"mouse"};Bo.prototype.h=function(){Bo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var zo="closure_listenable_"+(1e6*Math.random()|0),PT=0;function OT(a,d,h,m,E){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=E,this.key=++PT,this.da=this.fa=!1}function Ha(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ga(a){this.src=a,this.g={},this.h=0}Ga.prototype.add=function(a,d,h,m,E){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var L=pu(a,d,m,E);return-1<L?(d=a[L],h||(d.fa=!1)):(d=new OT(d,this.src,A,!!m,E),d.fa=h,a.push(d)),d};function mu(a,d){var h=d.type;if(h in a.g){var m=a.g[h],E=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=E)&&Array.prototype.splice.call(m,E,1),A&&(Ha(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function pu(a,d,h,m){for(var E=0;E<a.length;++E){var A=a[E];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==m)return E}return-1}var gu="closure_lm_"+(1e6*Math.random()|0),_u={};function M_(a,d,h,m,E){if(m&&m.once)return F_(a,d,h,m,E);if(Array.isArray(d)){for(var A=0;A<d.length;A++)M_(a,d[A],h,m,E);return null}return h=wu(h),a&&a[zo]?a.K(d,h,u(m)?!!m.capture:!!m,E):N_(a,d,h,!1,m,E)}function N_(a,d,h,m,E,A){if(!d)throw Error("Invalid event type");var L=u(E)?!!E.capture:!!E,Tt=vu(a);if(Tt||(a[gu]=Tt=new Ga(a)),h=Tt.add(d,h,m,L,A),h.proxy)return h;if(m=MT(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)DT||(E=L),E===void 0&&(E=!1),a.addEventListener(d.toString(),m,E);else if(a.attachEvent)a.attachEvent(V_(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function MT(){function a(h){return d.call(a.src,a.listener,h)}let d=NT;return a}function F_(a,d,h,m,E){if(Array.isArray(d)){for(var A=0;A<d.length;A++)F_(a,d[A],h,m,E);return null}return h=wu(h),a&&a[zo]?a.L(d,h,u(m)?!!m.capture:!!m,E):N_(a,d,h,!0,m,E)}function L_(a,d,h,m,E){if(Array.isArray(d))for(var A=0;A<d.length;A++)L_(a,d[A],h,m,E);else m=u(m)?!!m.capture:!!m,h=wu(h),a&&a[zo]?(a=a.i,d=String(d).toString(),d in a.g&&(A=a.g[d],h=pu(A,h,m,E),-1<h&&(Ha(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[d],a.h--)))):a&&(a=vu(a))&&(d=a.g[d.toString()],a=-1,d&&(a=pu(d,h,m,E)),(h=-1<a?d[a]:null)&&bu(h))}function bu(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[zo])mu(d.i,a);else{var h=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(h,m,a.capture):d.detachEvent?d.detachEvent(V_(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=vu(d))?(mu(h,a),h.h==0&&(h.src=null,d[gu]=null)):Ha(a)}}}function V_(a){return a in _u?_u[a]:_u[a]="on"+a}function NT(a,d){if(a.da)a=!0;else{d=new Bo(d,this);var h=a.listener,m=a.ha||a.src;a.fa&&bu(a),a=h.call(m,d)}return a}function vu(a){return a=a[gu],a instanceof Ga?a:null}var yu="__closure_events_fn_"+(1e9*Math.random()>>>0);function wu(a){return typeof a=="function"?a:(a[yu]||(a[yu]=function(d){return a.handleEvent(d)}),a[yu])}function me(){ti.call(this),this.i=new Ga(this),this.M=this,this.F=null}k(me,ti),me.prototype[zo]=!0,me.prototype.removeEventListener=function(a,d,h,m){L_(this,a,d,h,m)};function we(a,d){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new fe(d,a);else if(d instanceof fe)d.target=d.target||a;else{var E=d;d=new fe(m,a),w(d,E)}if(E=!0,h)for(var A=h.length-1;0<=A;A--){var L=d.g=h[A];E=Wa(L,m,!0,d)&&E}if(L=d.g=a,E=Wa(L,m,!0,d)&&E,E=Wa(L,m,!1,d)&&E,h)for(A=0;A<h.length;A++)L=d.g=h[A],E=Wa(L,m,!1,d)&&E}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],m=0;m<h.length;m++)Ha(h[m]);delete a.g[d],a.h--}}this.F=null},me.prototype.K=function(a,d,h,m){return this.i.add(String(a),d,!1,h,m)},me.prototype.L=function(a,d,h,m){return this.i.add(String(a),d,!0,h,m)};function Wa(a,d,h,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var E=!0,A=0;A<d.length;++A){var L=d[A];if(L&&!L.da&&L.capture==h){var Tt=L.listener,ce=L.ha||L.src;L.fa&&mu(a.i,L),E=Tt.call(ce,m)!==!1&&E}}return E&&!m.defaultPrevented}function U_(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function j_(a){a.g=U_(()=>{a.g=null,a.i&&(a.i=!1,j_(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class FT extends ti{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:j_(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $o(a){ti.call(this),this.h=a,this.g={}}k($o,ti);var B_=[];function z_(a){bt(a.g,function(d,h){this.g.hasOwnProperty(h)&&bu(d)},a),a.g={}}$o.prototype.N=function(){$o.aa.N.call(this),z_(this)},$o.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xu=c.JSON.stringify,LT=c.JSON.parse,VT=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Iu(){}Iu.prototype.h=null;function $_(a){return a.h||(a.h=a.i())}function q_(){}var qo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Eu(){fe.call(this,"d")}k(Eu,fe);function Tu(){fe.call(this,"c")}k(Tu,fe);var Pi={},H_=null;function Ka(){return H_=H_||new me}Pi.La="serverreachability";function G_(a){fe.call(this,Pi.La,a)}k(G_,fe);function Ho(a){let d=Ka();we(d,new G_(d))}Pi.STAT_EVENT="statevent";function W_(a,d){fe.call(this,Pi.STAT_EVENT,a),this.stat=d}k(W_,fe);function xe(a){let d=Ka();we(d,new W_(d,a))}Pi.Ma="timingevent";function K_(a,d){fe.call(this,Pi.Ma,a),this.size=d}k(K_,fe);function Go(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Wo(){this.g=!0}Wo.prototype.xa=function(){this.g=!1};function UT(a,d,h,m,E,A){a.info(function(){if(a.g)if(A)for(var L="",Tt=A.split("&"),ce=0;ce<Tt.length;ce++){var yt=Tt[ce].split("=");if(1<yt.length){var pe=yt[0];yt=yt[1];var ge=pe.split("_");L=2<=ge.length&&ge[1]=="type"?L+(pe+"="+yt+"&"):L+(pe+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+m+") [attempt "+E+"]: "+d+`
`+h+`
`+L})}function jT(a,d,h,m,E,A,L){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+E+"]: "+d+`
`+h+`
`+A+" "+L})}function Ir(a,d,h,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+zT(a,h)+(m?" "+m:"")})}function BT(a,d){a.info(function(){return"TIMEOUT: "+d})}Wo.prototype.info=function(){};function zT(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var E=m[1];if(Array.isArray(E)&&!(1>E.length)){var A=E[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<E.length;L++)E[L]=""}}}}return xu(h)}catch{return d}}var Ya={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Y_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cu;function Qa(){}k(Qa,Iu),Qa.prototype.g=function(){return new XMLHttpRequest},Qa.prototype.i=function(){return{}},Cu=new Qa;function ei(a,d,h,m){this.j=a,this.i=d,this.l=h,this.R=m||1,this.U=new $o(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Q_}function Q_(){this.i=null,this.g="",this.h=!1}var X_={},Au={};function Su(a,d,h){a.L=1,a.v=tc(Pn(d)),a.m=h,a.P=!0,Z_(a,null)}function Z_(a,d){a.F=Date.now(),Xa(a),a.A=Pn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),hb(h.i,"t",m),a.C=0,h=a.j.J,a.h=new Q_,a.g=Db(a.j,h?d:null,!a.m),0<a.O&&(a.M=new FT(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,m=a.ca;var E="readystatechange";Array.isArray(E)||(E&&(B_[0]=E.toString()),E=B_);for(var A=0;A<E.length;A++){var L=M_(h,E[A],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Ho(),UT(a.i,a.u,a.A,a.l,a.R,a.m)}ei.prototype.ca=function(a){a=a.target;let d=this.M;d&&On(a)==3?d.j():this.Y(a)},ei.prototype.Y=function(a){try{if(a==this.g)t:{let ge=On(this.g);var d=this.g.Ba();let Cr=this.g.Z();if(!(3>ge)&&(ge!=3||this.g&&(this.h.h||this.g.oa()||vb(this.g)))){this.J||ge!=4||d==7||(d==8||0>=Cr?Ho(3):Ho(2)),Ru(this);var h=this.g.Z();this.X=h;e:if(J_(this)){var m=vb(this.g);a="";var E=m.length,A=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oi(this),Ko(this);var L="";break e}this.h.i=new c.TextDecoder}for(d=0;d<E;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(A&&d==E-1)});m.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,jT(this.i,this.u,this.A,this.l,this.R,ge,h),this.o){if(this.T&&!this.K){e:{if(this.g){var Tt,ce=this.g;if((Tt=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Tt)){var yt=Tt;break e}}yt=null}if(h=yt)Ir(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Du(this,h);else{this.o=!1,this.s=3,xe(12),Oi(this),Ko(this);break t}}if(this.P){h=!0;let Ke;for(;!this.J&&this.C<L.length;)if(Ke=$T(this,L),Ke==Au){ge==4&&(this.s=4,xe(14),h=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==X_){this.s=4,xe(15),Ir(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else Ir(this.i,this.l,Ke,null),Du(this,Ke);if(J_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||L.length!=0||this.h.h||(this.s=1,xe(16),h=!1),this.o=this.o&&h,!h)Ir(this.i,this.l,L,"[Invalid Chunked Response]"),Oi(this),Ko(this);else if(0<L.length&&!this.W){this.W=!0;var pe=this.j;pe.g==this&&pe.ba&&!pe.M&&(pe.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Fu(pe),pe.M=!0,xe(11))}}else Ir(this.i,this.l,L,null),Du(this,L);ge==4&&Oi(this),this.o&&!this.J&&(ge==4?Cb(this.j,this):(this.o=!1,Xa(this)))}else sC(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Oi(this),Ko(this)}}}catch{}finally{}};function J_(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function $T(a,d){var h=a.C,m=d.indexOf(`
`,h);return m==-1?Au:(h=Number(d.substring(h,m)),isNaN(h)?X_:(m+=1,m+h>d.length?Au:(d=d.slice(m,m+h),a.C=m+h,d)))}ei.prototype.cancel=function(){this.J=!0,Oi(this)};function Xa(a){a.S=Date.now()+a.I,tb(a,a.I)}function tb(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Go(_(a.ba,a),d)}function Ru(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ei.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(BT(this.i,this.A),this.L!=2&&(Ho(),xe(17)),Oi(this),this.s=2,Ko(this)):tb(this,this.S-a)};function Ko(a){a.j.G==0||a.J||Cb(a.j,a)}function Oi(a){Ru(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,z_(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Du(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||ku(h.h,a))){if(!a.K&&ku(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var E=m;if(E[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)oc(h),ic(h);else break t;Nu(h),xe(18)}}else h.za=E[1],0<h.za-h.T&&37500>E[2]&&h.F&&h.v==0&&!h.C&&(h.C=Go(_(h.Za,h),6e3));if(1>=ib(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ni(h,11)}else if((a.K||h.g==a)&&oc(h),!K(d))for(E=h.Da.g.parse(d),d=0;d<E.length;d++){let yt=E[d];if(h.T=yt[0],yt=yt[1],h.G==2)if(yt[0]=="c"){h.K=yt[1],h.ia=yt[2];let pe=yt[3];pe!=null&&(h.la=pe,h.j.info("VER="+h.la));let ge=yt[4];ge!=null&&(h.Aa=ge,h.j.info("SVER="+h.Aa));let Cr=yt[5];Cr!=null&&typeof Cr=="number"&&0<Cr&&(m=1.5*Cr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let Ke=a.g;if(Ke){let ac=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ac){var A=m.h;A.g||ac.indexOf("spdy")==-1&&ac.indexOf("quic")==-1&&ac.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Pu(A,A.h),A.h=null))}if(m.D){let Lu=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Lu&&(m.ya=Lu,kt(m.I,m.D,Lu))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var L=a;if(m.qa=Rb(m,m.J?m.ia:null,m.W),L.K){rb(m.h,L);var Tt=L,ce=m.L;ce&&(Tt.I=ce),Tt.B&&(Ru(Tt),Xa(Tt)),m.g=L}else Eb(m);0<h.i.length&&rc(h)}else yt[0]!="stop"&&yt[0]!="close"||Ni(h,7);else h.G==3&&(yt[0]=="stop"||yt[0]=="close"?yt[0]=="stop"?Ni(h,7):Mu(h):yt[0]!="noop"&&h.l&&h.l.ta(yt),h.v=0)}}Ho(4)}catch{}}var qT=class{constructor(a,d){this.g=a,this.map=d}};function eb(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nb(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ib(a){return a.h?1:a.g?a.g.size:0}function ku(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Pu(a,d){a.g?a.g.add(d):a.h=d}function rb(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}eb.prototype.cancel=function(){if(this.i=ob(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function ob(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return O(a.i)}function HT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var d=[],h=a.length,m=0;m<h;m++)d.push(a[m]);return d}d=[],h=0;for(m in a)d[h++]=a[m];return d}function GT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let m in a)d[h++]=m;return d}}}function sb(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=GT(a),m=HT(a),E=m.length,A=0;A<E;A++)d.call(void 0,m[A],h&&h[A],a)}var ab=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WT(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),E=null;if(0<=m){var A=a[h].substring(0,m);E=a[h].substring(m+1)}else A=a[h];d(A,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Mi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Mi){this.h=a.h,Za(this,a.j),this.o=a.o,this.g=a.g,Ja(this,a.s),this.l=a.l;var d=a.i,h=new Xo;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),cb(this,h),this.m=a.m}else a&&(d=String(a).match(ab))?(this.h=!1,Za(this,d[1]||"",!0),this.o=Yo(d[2]||""),this.g=Yo(d[3]||"",!0),Ja(this,d[4]),this.l=Yo(d[5]||"",!0),cb(this,d[6]||"",!0),this.m=Yo(d[7]||"")):(this.h=!1,this.i=new Xo(null,this.h))}Mi.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Qo(d,lb,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Qo(d,lb,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Qo(h,h.charAt(0)=="/"?QT:YT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Qo(h,ZT)),a.join("")};function Pn(a){return new Mi(a)}function Za(a,d,h){a.j=h?Yo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Ja(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function cb(a,d,h){d instanceof Xo?(a.i=d,JT(a.i,a.h)):(h||(d=Qo(d,XT)),a.i=new Xo(d,a.h))}function kt(a,d,h){a.i.set(d,h)}function tc(a){return kt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Yo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qo(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,KT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function KT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var lb=/[#\/\?@]/g,YT=/[#\?:]/g,QT=/[#\?]/g,XT=/[#\?@]/g,ZT=/#/g;function Xo(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function ni(a){a.g||(a.g=new Map,a.h=0,a.i&&WT(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}e=Xo.prototype,e.add=function(a,d){ni(this),this.i=null,a=Er(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function db(a,d){ni(a),d=Er(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function ub(a,d){return ni(a),d=Er(a,d),a.g.has(d)}e.forEach=function(a,d){ni(this),this.g.forEach(function(h,m){h.forEach(function(E){a.call(d,E,m,this)},this)},this)},e.na=function(){ni(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let E=a[m];for(let A=0;A<E.length;A++)h.push(d[m])}return h},e.V=function(a){ni(this);let d=[];if(typeof a=="string")ub(this,a)&&(d=d.concat(this.g.get(Er(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},e.set=function(a,d){return ni(this),this.i=null,a=Er(this,a),ub(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},e.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function hb(a,d,h){db(a,d),0<h.length&&(a.i=null,a.g.set(Er(a,d),O(h)),a.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let A=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var E=A;L[m]!==""&&(E+="="+encodeURIComponent(String(L[m]))),a.push(E)}}return this.i=a.join("&")};function Er(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function JT(a,d){d&&!a.j&&(ni(a),a.i=null,a.g.forEach(function(h,m){var E=m.toLowerCase();m!=E&&(db(this,m),hb(this,E,h))},a)),a.j=d}function tC(a,d){let h=new Wo;if(c.Image){let m=new Image;m.onload=T(ii,h,"TestLoadImage: loaded",!0,d,m),m.onerror=T(ii,h,"TestLoadImage: error",!1,d,m),m.onabort=T(ii,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=T(ii,h,"TestLoadImage: timeout",!1,d,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function eC(a,d){let h=new Wo,m=new AbortController,E=setTimeout(()=>{m.abort(),ii(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(A=>{clearTimeout(E),A.ok?ii(h,"TestPingServer: ok",!0,d):ii(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(E),ii(h,"TestPingServer: error",!1,d)})}function ii(a,d,h,m,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),m(h)}catch{}}function nC(){this.g=new VT}function iC(a,d,h){let m=h||"";try{sb(a,function(E,A){let L=E;u(E)&&(L=xu(E)),d.push(m+A+"="+encodeURIComponent(L))})}catch(E){throw d.push(m+"type="+encodeURIComponent("_badmap")),E}}function Zo(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Zo,Iu),Zo.prototype.g=function(){return new ec(this.l,this.j)},Zo.prototype.i=function(a){return function(){return a}}({});function ec(a,d){me.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ec,me),e=ec.prototype,e.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ts(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ts(this)),this.g&&(this.readyState=3,ts(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fb(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function fb(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Jo(this):ts(this),this.readyState==3&&fb(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,Jo(this))},e.Qa=function(a){this.g&&(this.response=a,Jo(this))},e.ga=function(){this.g&&Jo(this)};function Jo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ts(a)}e.setRequestHeader=function(a,d){this.u.append(a,d)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function ts(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ec.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function mb(a){let d="";return bt(a,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function Ou(a,d,h){t:{for(m in h){var m=!1;break t}m=!0}m||(h=mb(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):kt(a,d,h))}function Ut(a){me.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ut,me);var rC=/^https?$/i,oC=["POST","PUT"];e=Ut.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cu.g(),this.v=this.o?$_(this.o):$_(Cu),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(A){pb(this,A);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var E in m)h.set(E,m[E]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())h.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),E=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(oC,d,void 0))||m||E||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of h)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bb(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){pb(this,A)}};function pb(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,gb(a),nc(a)}function gb(a){a.A||(a.A=!0,we(a,"complete"),we(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,we(this,"complete"),we(this,"abort"),nc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nc(this,!0)),Ut.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?_b(this):this.bb())},e.bb=function(){_b(this)};function _b(a){if(a.h&&typeof s<"u"&&(!a.v[1]||On(a)!=4||a.Z()!=2)){if(a.u&&On(a)==4)U_(a.Ea,0,a);else if(we(a,"readystatechange"),On(a)==4){a.h=!1;try{let L=a.Z();t:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var h;if(!(h=d)){var m;if(m=L===0){var E=String(a.D).match(ab)[1]||null;!E&&c.self&&c.self.location&&(E=c.self.location.protocol.slice(0,-1)),m=!rC.test(E?E.toLowerCase():"")}h=m}if(h)we(a,"complete"),we(a,"success");else{a.m=6;try{var A=2<On(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",gb(a)}}finally{nc(a)}}}}function nc(a,d){if(a.g){bb(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||we(a,"ready");try{h.onreadystatechange=m}catch{}}}function bb(a){a.I&&(c.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function On(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),LT(d)}};function vb(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function sC(a){let d={};a=(a.g&&2<=On(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(K(a[m]))continue;var h=I(a[m]);let E=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[E]||[];d[E]=A,A.push(h)}x(d,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function es(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function yb(a){this.Aa=0,this.i=[],this.j=new Wo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=es("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=es("baseRetryDelayMs",5e3,a),this.cb=es("retryDelaySeedMs",1e4,a),this.Wa=es("forwardChannelMaxRetries",2,a),this.wa=es("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new eb(a&&a.concurrentRequestLimit),this.Da=new nC,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=yb.prototype,e.la=8,e.G=1,e.connect=function(a,d,h,m){xe(0),this.W=a,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Rb(this,null,this.W),rc(this)};function Mu(a){if(wb(a),a.G==3){var d=a.U++,h=Pn(a.I);if(kt(h,"SID",a.K),kt(h,"RID",d),kt(h,"TYPE","terminate"),ns(a,h),d=new ei(a,a.j,d),d.L=2,d.v=tc(Pn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=Db(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Xa(d)}Sb(a)}function ic(a){a.g&&(Fu(a),a.g.cancel(),a.g=null)}function wb(a){ic(a),a.u&&(c.clearTimeout(a.u),a.u=null),oc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function rc(a){if(!nb(a.h)&&!a.s){a.s=!0;var d=a.Ga;Uo||O_(),jo||(Uo(),jo=!0),fu.add(d,a),a.B=0}}function aC(a,d){return ib(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Go(_(a.Ga,a,d),Ab(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let E=new ei(this,this.j,a),A=this.o;if(this.S&&(A?(A=g(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(E.H=A,A=null),this.P)t:{for(var d=0,h=0;h<this.i.length;h++){e:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break t}if(d===4096||h===this.i.length-1){d=h+1;break t}}d=1e3}else d=1e3;d=Ib(this,E,d),h=Pn(this.I),kt(h,"RID",a),kt(h,"CVER",22),this.D&&kt(h,"X-HTTP-Session-Id",this.D),ns(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(mb(A)))+"&"+d:this.m&&Ou(h,this.m,A)),Pu(this.h,E),this.Ua&&kt(h,"TYPE","init"),this.P?(kt(h,"$req",d),kt(h,"SID","null"),E.T=!0,Su(E,h,null)):Su(E,h,d),this.G=2}}else this.G==3&&(a?xb(this,a):this.i.length==0||nb(this.h)||xb(this))};function xb(a,d){var h;d?h=d.l:h=a.U++;let m=Pn(a.I);kt(m,"SID",a.K),kt(m,"RID",h),kt(m,"AID",a.T),ns(a,m),a.m&&a.o&&Ou(m,a.m,a.o),h=new ei(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=Ib(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Pu(a.h,h),Su(h,m,d)}function ns(a,d){a.H&&bt(a.H,function(h,m){kt(d,m,h)}),a.l&&sb({},function(h,m){kt(d,m,h)})}function Ib(a,d,h){h=Math.min(a.i.length,h);var m=a.l?_(a.l.Na,a.l,a):null;t:{var E=a.i;let A=-1;for(;;){let L=["count="+h];A==-1?0<h?(A=E[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Tt=!0;for(let ce=0;ce<h;ce++){let yt=E[ce].g,pe=E[ce].map;if(yt-=A,0>yt)A=Math.max(0,E[ce].g-100),Tt=!1;else try{iC(pe,L,"req"+yt+"_")}catch{m&&m(pe)}}if(Tt){m=L.join("&");break t}}}return a=a.i.splice(0,h),d.D=a,m}function Eb(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Uo||O_(),jo||(Uo(),jo=!0),fu.add(d,a),a.v=0}}function Nu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Go(_(a.Fa,a),Ab(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,Tb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Go(_(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),ic(this),Tb(this))};function Fu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Tb(a){a.g=new ei(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Pn(a.qa);kt(d,"RID","rpc"),kt(d,"SID",a.K),kt(d,"AID",a.T),kt(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&kt(d,"TO",a.ja),kt(d,"TYPE","xmlhttp"),ns(a,d),a.m&&a.o&&Ou(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=tc(Pn(d)),h.m=null,h.P=!0,Z_(h,a)}e.Za=function(){this.C!=null&&(this.C=null,ic(this),Nu(this),xe(19))};function oc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Cb(a,d){var h=null;if(a.g==d){oc(a),Fu(a),a.g=null;var m=2}else if(ku(a.h,d))h=d.D,rb(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var E=a.B;m=Ka(),we(m,new K_(m,h)),rc(a)}else Eb(a);else if(E=d.s,E==3||E==0&&0<d.X||!(m==1&&aC(a,d)||m==2&&Nu(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),E){case 1:Ni(a,5);break;case 4:Ni(a,10);break;case 3:Ni(a,6);break;default:Ni(a,2)}}}function Ab(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Ni(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),m=a.Xa;let E=!m;m=new Mi(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Za(m,"https"),tc(m),E?tC(m.toString(),h):eC(m.toString(),h)}else xe(2);a.G=0,a.l&&a.l.sa(d),Sb(a),wb(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))};function Sb(a){if(a.G=0,a.ka=[],a.l){let d=ob(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function Rb(a,d,h){var m=h instanceof Mi?Pn(h):new Mi(h);if(m.g!="")d&&(m.g=d+"."+m.g),Ja(m,m.s);else{var E=c.location;m=E.protocol,d=d?d+"."+E.hostname:E.hostname,E=+E.port;var A=new Mi(null);m&&Za(A,m),d&&(A.g=d),E&&Ja(A,E),h&&(A.l=h),m=A}return h=a.D,d=a.ya,h&&d&&kt(m,h,d),kt(m,"VER",a.la),ns(a,m),m}function Db(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Ut(new Zo({eb:h})):new Ut(a.pa),d.Ha(a.J),d}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function kb(){}e=kb.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function sc(){}sc.prototype.g=function(a,d){return new Me(a,d)};function Me(a,d){me.call(this),this.g=new yb(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Tr(this)}k(Me,me),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){Mu(this.g)},Me.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=xu(a),a=h);d.i.push(new qT(d.Ya++,a)),d.G==3&&rc(d)},Me.prototype.N=function(){this.g.l=null,delete this.j,Mu(this.g),delete this.g,Me.aa.N.call(this)};function Pb(a){Eu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){t:{for(let h in d){a=h;break t}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}k(Pb,Eu);function Ob(){Tu.call(this),this.status=1}k(Ob,Tu);function Tr(a){this.g=a}k(Tr,kb),Tr.prototype.ua=function(){we(this.g,"a")},Tr.prototype.ta=function(a){we(this.g,new Pb(a))},Tr.prototype.sa=function(a){we(this.g,new Ob)},Tr.prototype.ra=function(){we(this.g,"b")},sc.prototype.createWebChannel=sc.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,Dm=Hn.createWebChannelTransport=function(){return new sc},Rm=Hn.getStatEventTarget=function(){return Ka()},Sm=Hn.Event=Pi,jl=Hn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ya.NO_ERROR=0,Ya.TIMEOUT=8,Ya.HTTP_ERROR=6,na=Hn.ErrorCode=Ya,Y_.COMPLETE="complete",Am=Hn.EventType=Y_,q_.EventType=qo,qo.OPEN="a",qo.CLOSE="b",qo.ERROR="c",qo.MESSAGE="d",me.prototype.listen=me.prototype.K,oo=Hn.WebChannel=q_,Cm=Hn.FetchXmlHttpFactory=Zo,Ut.prototype.listenOnce=Ut.prototype.L,Ut.prototype.getLastError=Ut.prototype.Ka,Ut.prototype.getLastErrorCode=Ut.prototype.Ba,Ut.prototype.getStatus=Ut.prototype.Z,Ut.prototype.getResponseJson=Ut.prototype.Oa,Ut.prototype.getResponseText=Ut.prototype.oa,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Ha,Tm=Hn.XhrIo=Ut}).apply(typeof Ul<"u"?Ul:typeof self<"u"?self:typeof window<"u"?window:{});var ww="@firebase/firestore";var ae=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ae.UNAUTHENTICATED=new ae(null),ae.GOOGLE_CREDENTIALS=new ae("google-credentials-uid"),ae.FIRST_PARTY=new ae("first-party-uid"),ae.MOCK_USER=new ae("mock-user");var To="10.12.1";var lr=new pi("@firebase/firestore");function ia(){return lr.logLevel}function q(e,...t){if(lr.logLevel<=mt.DEBUG){let i=t.map(fg);lr.debug(`Firestore (${To}): ${e}`,...i)}}function Gn(e,...t){if(lr.logLevel<=mt.ERROR){let i=t.map(fg);lr.error(`Firestore (${To}): ${e}`,...i)}}function mo(e,...t){if(lr.logLevel<=mt.WARN){let i=t.map(fg);lr.warn(`Firestore (${To}): ${e}`,...i)}}function fg(e){if(typeof e=="string")return e;try{return function(i){return JSON.stringify(i)}(e)}catch{return e}}function tt(e="Unexpected state"){let t=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+e;throw Gn(t),new Error(t)}function Dt(e,t){e||tt()}function it(e,t){return e}var D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Ae{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var rn=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var Hl=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Nm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ae.UNAUTHENTICATED))}shutdown(){}},Fm=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},Lm=class{constructor(t){this.t=t,this.currentUser=ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),o=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new rn,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;t.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new rn)}},0),s()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Dt(typeof n.accessToken=="string"),new Hl(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return Dt(t===null||typeof t=="string"),new ae(t)}},Vm=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n,this.type="FirstParty",this.user=ae.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Um=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n}getToken(){return Promise.resolve(new Vm(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}},jm=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bm=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){let n=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Dt(typeof i.token=="string"),this.R=i.token,new jm(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function h1(e){let t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let n=0;n<e;n++)i[n]=Math.floor(256*Math.random());return i}var Gl=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,n="";for(;n.length<20;){let r=h1(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=t.charAt(r[o]%t.length))}return n}};function xt(e,t){return e<t?-1:e>t?1:0}function po(e,t,i){return e.length===t.length&&e.every((n,r)=>i(n,t[r]))}var ue=class e{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new B(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new B(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new B(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let i=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*i));return new e(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var rt=class e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new e(t)}static min(){return new e(new ue(0,0))}static max(){return new e(new ue(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Wl=class e{constructor(t,i,n){i===void 0?i=0:i>t.length&&tt(),n===void 0?n=t.length-i:n>t.length-i&&tt(),this.segments=t,this.offset=i,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(n=>{i.push(n)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,n=this.limit();i<n;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let n=Math.min(t.length,i.length);for(let r=0;r<n;r++){let o=t.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<i.length?-1:t.length>i.length?1:0}},Ft=class e extends Wl{construct(t,i,n){return new e(t,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let n of t){if(n.indexOf("//")>=0)throw new B(D.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new e(i)}static emptyPath(){return new e([])}},f1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Be=class e extends Wl{construct(t,i,n){return new e(t,i,n)}static isValidIdentifier(t){return f1.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new e(["__name__"])}static fromServerFormat(t){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new B(D.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<t.length;){let c=t[r];if(c==="\\"){if(r+1===t.length)throw new B(D.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(n+=c,r++):(o(),r++)}if(o(),s)throw new B(D.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)}static emptyPath(){return new e([])}};var W=class e{constructor(t){this.path=t}static fromPath(t){return new e(Ft.fromString(t))}static fromName(t){return new e(Ft.fromString(t).popFirst(5))}static empty(){return new e(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ft.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ft.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new e(new Ft(t.slice()))}};var zm=class{constructor(t,i,n,r){this.indexId=t,this.collectionGroup=i,this.fields=n,this.indexState=r}};zm.UNKNOWN_ID=-1;function m1(e,t){let i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=rt.fromTimestamp(n===1e9?new ue(i+1,0):new ue(i,n));return new dr(r,W.empty(),t)}function p1(e){return new dr(e.readTime,e.key,-1)}var dr=class e{constructor(t,i,n){this.readTime=t,this.documentKey=i,this.largestBatchId=n}static min(){return new e(rt.min(),W.empty(),-1)}static max(){return new e(rt.max(),W.empty(),-1)}};function g1(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=W.comparator(e.documentKey,t.documentKey),i!==0?i:xt(e.largestBatchId,t.largestBatchId))}var _1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$m=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Ea(e){return b(this,null,function*(){if(e.code!==D.FAILED_PRECONDITION||e.message!==_1)throw e;q("LocalStore","Unexpectedly lost primary lease")})}var N=class e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new e((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{let i=t();return i instanceof e?i:e.resolve(i)}catch(i){return e.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):e.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):e.reject(i)}static resolve(t){return new e((i,n)=>{i(t)})}static reject(t){return new e((i,n)=>{n(t)})}static waitFor(t){return new e((i,n)=>{let r=0,o=0,s=!1;t.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&i()},l=>n(l))}),s=!0,o===r&&i()})}static or(t){let i=e.resolve(!1);for(let n of t)i=i.next(r=>r?e.resolve(r):n());return i}static forEach(t,i){let n=[];return t.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(t,i){return new e((n,r)=>{let o=t.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let u=l;i(t[u]).next(f=>{s[u]=f,++c,c===o&&n(s)},f=>r(f))}})}static doWhile(t,i){return new e((n,r)=>{let o=()=>{t()===!0?i().next(()=>{o()},r):n()};o()})}};function b1(e){let t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ta(e){return e.name==="IndexedDbTransactionError"}var Zw=(()=>{class e{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return e.oe=-1,e})();function Id(e){return e==null}function ca(e){return e===0&&1/e==-1/0}function v1(e){return typeof e=="number"&&Number.isInteger(e)&&!ca(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var y1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Jj=[...y1,"documentOverlays"],w1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],x1=w1,tB=[...x1,"indexConfiguration","indexState","indexEntries"];function xw(e){let t=0;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Co(e,t){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function Jw(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var zt=class e{constructor(t,i){this.comparator=t,this.root=i||In.EMPTY}insert(t,i){return new e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,In.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,In.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(t,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(t){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,n)=>(t(i,n),!1))}toString(){let t=[];return this.inorderTraversal((i,n)=>(t.push(`${i}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lo(this.root,t,this.comparator,!1)}getReverseIterator(){return new lo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lo(this.root,t,this.comparator,!0)}},lo=class{constructor(t,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?n(t.key,i):1,i&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},In=class e{constructor(t,i,n,r,o){this.key=t,this.value=i,this.color=n??e.RED,this.left=r??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,n,r,o){return new e(t??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let n,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();let t=this.left.check();if(t!==this.right.check())throw tt();return t+(this.isRed()?0:1)}};In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(t,i,n,r,o){return this}insert(t,i,n){return new In(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ye=class e{constructor(t){this.comparator=t,this.data=new zt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,n)=>(t(i),!1))}forEachInRange(t,i){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Kl(this.data.getIterator())}getIteratorFrom(t){return new Kl(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(n=>{i=i.add(n)}),i}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.data.getIterator(),n=t.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new e(this.comparator);return i.data=t,i}},Kl=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xn=class e{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new e([])}unionWith(t){let i=new ye(Be.comparator);for(let n of this.fields)i=i.add(n);for(let n of t)i=i.add(n);return new e(i.toArray())}covers(t){for(let i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,(i,n)=>i.isEqual(n))}};var Yl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Se=class e{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Yl("Invalid base64 string: "+o):o}}(t);return new e(i)}static fromUint8Array(t){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Se.EMPTY_BYTE_STRING=new Se("");var I1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(e){if(Dt(!!e),typeof e=="string"){let t=0,i=I1.exec(e);if(Dt(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Bt(e.seconds),nanos:Bt(e.nanos)}}function Bt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function xi(e){return typeof e=="string"?Se.fromBase64String(e):Se.fromUint8Array(e)}function Ed(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function mg(e){let t=e.mapValue.fields.__previous_value__;return Ed(t)?mg(t):t}function la(e){let t=Wn(e.mapValue.fields.__local_write_time__.timestampValue);return new ue(t.seconds,t.nanos)}var qm=class{constructor(t,i,n,r,o,s,c,l,u){this.databaseId=t,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=u}},Ql=class e{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new e("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};var Bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ur(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ed(e)?4:tx(e)?9007199254740991:10:tt()}function An(e,t){if(e===t)return!0;let i=ur(e);if(i!==ur(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return la(e).isEqual(la(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Wn(r.timestampValue),c=Wn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return xi(r.bytesValue).isEqual(xi(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Bt(r.geoPointValue.latitude)===Bt(o.geoPointValue.latitude)&&Bt(r.geoPointValue.longitude)===Bt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Bt(r.integerValue)===Bt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Bt(r.doubleValue),c=Bt(o.doubleValue);return s===c?ca(s)===ca(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return po(e.arrayValue.values||[],t.arrayValue.values||[],An);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(xw(s)!==xw(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!An(s[l],c[l])))return!1;return!0}(e,t);default:return tt()}}function da(e,t){return(e.values||[]).find(i=>An(i,t))!==void 0}function go(e,t){if(e===t)return 0;let i=ur(e),n=ur(t);if(i!==n)return xt(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(e.booleanValue,t.booleanValue);case 2:return function(o,s){let c=Bt(o.integerValue||o.doubleValue),l=Bt(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return Iw(e.timestampValue,t.timestampValue);case 4:return Iw(la(e),la(t));case 5:return xt(e.stringValue,t.stringValue);case 6:return function(o,s){let c=xi(o),l=xi(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let u=0;u<c.length&&u<l.length;u++){let f=xt(c[u],l[u]);if(f!==0)return f}return xt(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){let c=xt(Bt(o.latitude),Bt(s.latitude));return c!==0?c:xt(Bt(o.longitude),Bt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){let c=o.values||[],l=s.values||[];for(let u=0;u<c.length&&u<l.length;++u){let f=go(c[u],l[u]);if(f)return f}return xt(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Bl.mapValue&&s===Bl.mapValue)return 0;if(o===Bl.mapValue)return 1;if(s===Bl.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),u=s.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let _=xt(l[p],f[p]);if(_!==0)return _;let T=go(c[l[p]],u[f[p]]);if(T!==0)return T}return xt(l.length,f.length)}(e.mapValue,t.mapValue);default:throw tt()}}function Iw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return xt(e,t);let i=Wn(e),n=Wn(t),r=xt(i.seconds,n.seconds);return r!==0?r:xt(i.nanos,n.nanos)}function _o(e){return Hm(e)}function Hm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){let n=Wn(i);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return xi(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return W.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=Hm(o);return n+"]"}(e.arrayValue):"mapValue"in e?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${Hm(i.fields[s])}`;return r+"}"}(e.mapValue):tt()}function Xl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Gm(e){return!!e&&"integerValue"in e}function pg(e){return!!e&&"arrayValue"in e}function Ew(e){return!!e&&"nullValue"in e}function Tw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function $l(e){return!!e&&"mapValue"in e}function oa(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return Co(e.mapValue.fields,(i,n)=>t.mapValue.fields[i]=oa(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=oa(e.arrayValue.values[i]);return t}return Object.assign({},e)}function tx(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class e{constructor(t){this.value=t}static empty(){return new e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let n=0;n<t.length-1;++n)if(i=(i.mapValue.fields||{})[t.get(n)],!$l(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=oa(i)}setAll(t){let i=Be.emptyPath(),n={},r=[];t.forEach((s,c)=>{if(!i.isImmediateParentOf(c)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=c.popLast()}s?n[c.lastSegment()]=oa(s):r.push(c.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(t){let i=this.field(t.popLast());$l(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return An(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=i.mapValue.fields[t.get(n)];$l(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,n){Co(i,(r,o)=>t[r]=o);for(let r of n)delete t[r]}clone(){return new e(oa(this.value))}};function ex(e){let t=[];return Co(e.fields,(i,n)=>{let r=new Be([i]);if($l(n)){let o=ex(n.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new xn(t)}var on=class e{constructor(t,i,n,r,o,s,c){this.key=t,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(t){return new e(t,0,rt.min(),rt.min(),rt.min(),nn.empty(),0)}static newFoundDocument(t,i,n,r){return new e(t,1,i,rt.min(),n,r,0)}static newNoDocument(t,i){return new e(t,2,i,rt.min(),rt.min(),nn.empty(),0)}static newUnknownDocument(t,i){return new e(t,3,i,rt.min(),rt.min(),nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ii=class{constructor(t,i){this.position=t,this.inclusive=i}};function Cw(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){let o=t[r],s=e.position[r];if(o.field.isKeyField()?n=W.comparator(W.fromName(s.referenceValue),i.key):n=go(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function Aw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!An(e.position[i],t.position[i]))return!1;return!0}var hr=class{constructor(t,i="asc"){this.field=t,this.dir=i}};function E1(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Zl=class{},re=class e extends Zl{constructor(t,i,n){super(),this.field=t,this.op=i,this.value=n}static create(t,i,n){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,n):new Km(t,i,n):i==="array-contains"?new Xm(t,n):i==="in"?new Zm(t,n):i==="not-in"?new Jm(t,n):i==="array-contains-any"?new tp(t,n):new e(t,i,n)}static createKeyFieldInFilter(t,i,n){return i==="in"?new Ym(t,n):new Qm(t,n)}matches(t){let i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(go(i,this.value)):i!==null&&ur(this.value)===ur(i)&&this.matchesComparison(go(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},sn=class e extends Zl{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new e(t,i)}matches(t){return nx(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function nx(e){return e.op==="and"}function ix(e){return T1(e)&&nx(e)}function T1(e){for(let t of e.filters)if(t instanceof sn)return!1;return!0}function Wm(e){if(e instanceof re)return e.field.canonicalString()+e.op.toString()+_o(e.value);if(ix(e))return e.filters.map(t=>Wm(t)).join(",");{let t=e.filters.map(i=>Wm(i)).join(",");return`${e.op}(${t})`}}function rx(e,t){return e instanceof re?function(n,r){return r instanceof re&&n.op===r.op&&n.field.isEqual(r.field)&&An(n.value,r.value)}(e,t):e instanceof sn?function(n,r){return r instanceof sn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,c)=>o&&rx(s,r.filters[c]),!0):!1}(e,t):void tt()}function ox(e){return e instanceof re?function(i){return`${i.field.canonicalString()} ${i.op} ${_o(i.value)}`}(e):e instanceof sn?function(i){return i.op.toString()+" {"+i.getFilters().map(ox).join(" ,")+"}"}(e):"Filter"}var Km=class extends re{constructor(t,i,n){super(t,i,n),this.key=W.fromName(n.referenceValue)}matches(t){let i=W.comparator(t.key,this.key);return this.matchesComparison(i)}},Ym=class extends re{constructor(t,i){super(t,"in",i),this.keys=sx("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}},Qm=class extends re{constructor(t,i){super(t,"not-in",i),this.keys=sx("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}};function sx(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>W.fromName(n.referenceValue))}var Xm=class extends re{constructor(t,i){super(t,"array-contains",i)}matches(t){let i=t.data.field(this.field);return pg(i)&&da(i.arrayValue,this.value)}},Zm=class extends re{constructor(t,i){super(t,"in",i)}matches(t){let i=t.data.field(this.field);return i!==null&&da(this.value.arrayValue,i)}},Jm=class extends re{constructor(t,i){super(t,"not-in",i)}matches(t){if(da(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=t.data.field(this.field);return i!==null&&!da(this.value.arrayValue,i)}},tp=class extends re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){let i=t.data.field(this.field);return!(!pg(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>da(this.value.arrayValue,n))}};var ep=class{constructor(t,i=null,n=[],r=[],o=null,s=null,c=null){this.path=t,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function Sw(e,t=null,i=[],n=[],r=null,o=null,s=null){return new ep(e,t,i,n,r,o,s)}function gg(e){let t=it(e);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(n=>Wm(n)).join(","),i+="|ob:",i+=t.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Id(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>_o(n)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>_o(n)).join(",")),t.ue=i}return t.ue}function _g(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!E1(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!rx(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Aw(e.startAt,t.startAt)&&Aw(e.endAt,t.endAt)}function np(e){return W.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var Kn=class{constructor(t,i=null,n=[],r=[],o=null,s="F",c=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function C1(e,t,i,n,r,o,s,c){return new Kn(e,t,i,n,r,o,s,c)}function Td(e){return new Kn(e)}function Rw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function bg(e){return e.collectionGroup!==null}function uo(e){let t=it(e);if(t.ce===null){t.ce=[];let i=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new ye(Be.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(c=c.add(u.field))})}),c})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new hr(o,n))}),i.has(Be.keyField().canonicalString())||t.ce.push(new hr(Be.keyField(),n))}return t.ce}function En(e){let t=it(e);return t.le||(t.le=A1(t,uo(e))),t.le}function A1(e,t){if(e.limitType==="F")return Sw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new hr(r.field,o)});let i=e.endAt?new Ii(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Ii(e.startAt.position,e.startAt.inclusive):null;return Sw(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}function ip(e,t){let i=e.filters.concat([t]);return new Kn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function Jl(e,t,i){return new Kn(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Cd(e,t){return _g(En(e),En(t))&&e.limitType===t.limitType}function ax(e){return`${gg(En(e))}|lt:${e.limitType}`}function so(e){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>ox(r)).join(", ")}]`),Id(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>_o(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>_o(r)).join(",")),`Target(${n})`}(En(e))}; limitType=${e.limitType})`}function Ad(e,t){return t.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):W.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(let o of uo(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,c,l){let u=Cw(s,c,l);return s.inclusive?u<=0:u<0}(n.startAt,uo(n),r)||n.endAt&&!function(s,c,l){let u=Cw(s,c,l);return s.inclusive?u>=0:u>0}(n.endAt,uo(n),r))}(e,t)}function S1(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function cx(e){return(t,i)=>{let n=!1;for(let r of uo(e)){let o=R1(r,t,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function R1(e,t,i){let n=e.field.isKeyField()?W.comparator(t.key,i.key):function(o,s,c){let l=s.data.field(o),u=c.data.field(o);return l!==null&&u!==null?go(l,u):tt()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return tt()}}var Ei=class{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Co(this.inner,(i,n)=>{for(let[r,o]of n)t(r,o)})}isEmpty(){return Jw(this.inner)}size(){return this.innerSize}};var D1=new zt(W.comparator);function Yn(){return D1}var lx=new zt(W.comparator);function ra(...e){let t=lx;for(let i of e)t=t.insert(i.key,i);return t}function dx(e){let t=lx;return e.forEach((i,n)=>t=t.insert(i,n.overlayedDocument)),t}function sr(){return sa()}function ux(){return sa()}function sa(){return new Ei(e=>e.toString(),(e,t)=>e.isEqual(t))}var k1=new zt(W.comparator),P1=new ye(W.comparator);function pt(...e){let t=P1;for(let i of e)t=t.add(i);return t}var O1=new ye(xt);function M1(){return O1}function hx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ca(t)?"-0":t}}function fx(e){return{integerValue:""+e}}function N1(e,t){return v1(t)?fx(t):hx(e,t)}var bo=class{constructor(){this._=void 0}};function F1(e,t,i){return e instanceof vo?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ed(o)&&(o=mg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,t):e instanceof fr?px(e,t):e instanceof mr?gx(e,t):function(r,o){let s=mx(r,o),c=Dw(s)+Dw(r.Pe);return Gm(s)&&Gm(r.Pe)?fx(c):hx(r.serializer,c)}(e,t)}function L1(e,t,i){return e instanceof fr?px(e,t):e instanceof mr?gx(e,t):i}function mx(e,t){return e instanceof yo?function(n){return Gm(n)||function(o){return!!o&&"doubleValue"in o}(n)}(t)?t:{integerValue:0}:null}var vo=class extends bo{},fr=class extends bo{constructor(t){super(),this.elements=t}};function px(e,t){let i=_x(t);for(let n of e.elements)i.some(r=>An(r,n))||i.push(n);return{arrayValue:{values:i}}}var mr=class extends bo{constructor(t){super(),this.elements=t}};function gx(e,t){let i=_x(t);for(let n of e.elements)i=i.filter(r=>!An(r,n));return{arrayValue:{values:i}}}var yo=class extends bo{constructor(t,i){super(),this.serializer=t,this.Pe=i}};function Dw(e){return Bt(e.integerValue||e.doubleValue)}function _x(e){return pg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function V1(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof fr&&r instanceof fr||n instanceof mr&&r instanceof mr?po(n.elements,r.elements,An):n instanceof yo&&r instanceof yo?An(n.Pe,r.Pe):n instanceof vo&&r instanceof vo}(e.transform,t.transform)}var rp=class{constructor(t,i){this.version=t,this.transformResults=i}},yi=class e{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function ql(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var wo=class{};function bx(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ua(e.key,yi.none()):new pr(e.key,e.data,yi.none());{let i=e.data,n=nn.empty(),r=new ye(Be.comparator);for(let o of t.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new Qn(e.key,n,new xn(r.toArray()),yi.none())}}function U1(e,t,i){e instanceof pr?function(r,o,s){let c=r.value.clone(),l=Pw(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,i):e instanceof Qn?function(r,o,s){if(!ql(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=Pw(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(vx(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,i)}function aa(e,t,i,n){return e instanceof pr?function(o,s,c,l){if(!ql(o.precondition,s))return c;let u=o.value.clone(),f=Ow(o.fieldTransforms,l,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,i,n):e instanceof Qn?function(o,s,c,l){if(!ql(o.precondition,s))return c;let u=Ow(o.fieldTransforms,l,s),f=s.data;return f.setAll(vx(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(e,t,i,n):function(o,s,c){return ql(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(e,t,i)}function j1(e,t){let i=null;for(let n of e.fieldTransforms){let r=t.data.field(n.field),o=mx(n.transform,r||null);o!=null&&(i===null&&(i=nn.empty()),i.set(n.field,o))}return i||null}function kw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&po(n,r,(o,s)=>V1(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var pr=class extends wo{constructor(t,i,n,r=[]){super(),this.key=t,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Qn=class extends wo{constructor(t,i,n,r,o=[]){super(),this.key=t,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function vx(e){let t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=e.data.field(i);t.set(i,n)}}),t}function Pw(e,t,i){let n=new Map;Dt(e.length===i.length);for(let r=0;r<i.length;r++){let o=e[r],s=o.transform,c=t.data.field(o.field);n.set(o.field,L1(s,c,i[r]))}return n}function Ow(e,t,i){let n=new Map;for(let r of e){let o=r.transform,s=i.data.field(r.field);n.set(r.field,F1(o,s,t))}return n}var ua=class extends wo{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},op=class extends wo{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var sp=class{constructor(t,i,n,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&U1(o,t,n[r])}}applyToLocalView(t,i){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(i=aa(n,t,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(i=aa(n,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){let n=ux();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=i.has(r.key)?null:c;let l=bx(s,c);l!==null&&n.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(rt.min())}),n}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),pt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,(i,n)=>kw(i,n))&&po(this.baseMutations,t.baseMutations,(i,n)=>kw(i,n))}},ap=class e{constructor(t,i,n,r){this.batch=t,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(t,i,n){Dt(t.mutations.length===n.length);let r=function(){return k1}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new e(t,i,n,r)}};var cp=class{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var lp=class{constructor(t,i){this.count=t,this.unchangedNames=i}};var ne,_t;function B1(e){switch(e){default:return tt();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function yx(e){if(e===void 0)return Gn("GRPC error has no .code"),D.UNKNOWN;switch(e){case ne.OK:return D.OK;case ne.CANCELLED:return D.CANCELLED;case ne.UNKNOWN:return D.UNKNOWN;case ne.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ne.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ne.INTERNAL:return D.INTERNAL;case ne.UNAVAILABLE:return D.UNAVAILABLE;case ne.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ne.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ne.NOT_FOUND:return D.NOT_FOUND;case ne.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ne.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ne.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ne.ABORTED:return D.ABORTED;case ne.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ne.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ne.DATA_LOSS:return D.DATA_LOSS;default:return tt()}}(_t=ne||(ne={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";var Mw=null;function z1(){return new TextEncoder}var $1=new vi([4294967295,4294967295],0);function Nw(e){let t=z1().encode(e),i=new Em;return i.update(t),new Uint8Array(i.digest())}function Fw(e){let t=new DataView(e.buffer),i=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new vi([i,n],0),new vi([r,o],0)]}var dp=class e{constructor(t,i,n){if(this.bitmap=t,this.padding=i,this.hashCount=n,i<0||i>=8)throw new ar(`Invalid padding: ${i}`);if(n<0)throw new ar(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ar(`Invalid hash count: ${n}`);if(t.length===0&&i!==0)throw new ar(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=vi.fromNumber(this.Ie)}Ee(t,i,n){let r=t.add(i.multiply(vi.fromNumber(n)));return r.compare($1)===1&&(r=new vi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let i=Nw(t),[n,r]=Fw(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);if(!this.de(s))return!1}return!0}static create(t,i,n){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new e(o,r,i);return n.forEach(c=>s.insert(c)),s}insert(t){if(this.Ie===0)return;let i=Nw(t),[n,r]=Fw(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);this.Ae(s)}}Ae(t){let i=Math.floor(t/8),n=t%8;this.bitmap[i]|=1<<n}},ar=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var td=class e{constructor(t,i,n,r,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,n){let r=new Map;return r.set(t,ha.createSynthesizedTargetChangeForCurrentChange(t,i,n)),new e(rt.min(),r,new zt(xt),Yn(),pt())}},ha=class e{constructor(t,i,n,r,o){this.resumeToken=t,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,n){return new e(n,i,pt(),pt(),pt())}};var ho=class{constructor(t,i,n,r){this.Re=t,this.removedTargetIds=i,this.key=n,this.Ve=r}},ed=class{constructor(t,i){this.targetId=t,this.me=i}},nd=class{constructor(t,i,n=Se.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=n,this.cause=r}},id=class{constructor(){this.fe=0,this.ge=Vw(),this.pe=Se.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=pt(),i=pt(),n=pt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:tt()}}),new ha(this.pe,this.ye,t,i,n)}ve(){this.we=!1,this.ge=Vw()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},up=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=Yn(),this.qe=Lw(),this.Qe=new zt(xt)}Ke(t){for(let i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(let i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{let n=this.Ge(i);switch(t.state){case 0:this.ze(i)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(t.resumeToken));break;default:tt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(t){let i=t.targetId,n=t.me.count,r=this.Je(i);if(r){let o=r.target;if(np(o))if(n===0){let s=new W(o.path);this.Ue(i,s,on.newNoDocument(s,rt.min()))}else Dt(n===1);else{let s=this.Ye(i);if(s!==n){let c=this.Ze(t),l=c?this.Xe(c,t,s):1;if(l!==0){this.je(i);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,u)}Mw?.et(function(f,p,_,T,k){var O,P,H,K,Z,st;let Xt={localCacheCount:f,existenceFilterCount:p.count,databaseId:_.database,projectId:_.projectId},bt=p.unchangedNames;return bt&&(Xt.bloomFilter={applied:k===0,hashCount:(O=bt?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(K=(H=(P=bt?.bits)===null||P===void 0?void 0:P.bitmap)===null||H===void 0?void 0:H.length)!==null&&K!==void 0?K:0,padding:(st=(Z=bt?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&st!==void 0?st:0,mightContain:x=>{var g;return(g=T?.mightContain(x))!==null&&g!==void 0&&g}}),Xt}(s,t.me,this.Le.tt(),c,l))}}}}Ze(t){let i=t.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,c;try{s=xi(n).toUint8Array()}catch(l){if(l instanceof Yl)return mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new dp(s,r,o)}catch(l){return mo(l instanceof ar?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,i,n){return i.me.count===n-this.nt(t,i.targetId)?0:2}nt(t,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(i,o,null),r++)}),r}rt(t){let i=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&np(c.target)){let l=new W(c.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,on.newNoDocument(l,t))}o.be&&(i.set(s,o.Ce()),o.ve())}});let n=pt();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new td(t,i,this.Qe,this.ke,n);return this.ke=Yn(),this.qe=Lw(),this.Qe=new zt(xt),r}$e(t,i){if(!this.ze(t))return;let n=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,n){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(t){this.Be.delete(t)}Ye(t){let i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new id,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new ye(xt),this.qe=this.qe.insert(t,i)),i}ze(t){let i=this.Je(t)!==null;return i||q("WatchChangeAggregator","Detected inactive target",t),i}Je(t){let i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new id),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}};function Lw(){return new zt(W.comparator)}function Vw(){return new zt(W.comparator)}var q1={asc:"ASCENDING",desc:"DESCENDING"},H1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G1={and:"AND",or:"OR"},hp=class{constructor(t,i){this.databaseId=t,this.useProto3Json=i}};function fp(e,t){return e.useProto3Json||Id(t)?t:{value:t}}function rd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wx(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function W1(e,t){return rd(e,t.toTimestamp())}function Tn(e){return Dt(!!e),rt.fromTimestamp(function(i){let n=Wn(i);return new ue(n.seconds,n.nanos)}(e))}function vg(e,t){return mp(e,t).canonicalString()}function mp(e,t){let i=function(r){return new Ft(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?i:i.child(t)}function xx(e){let t=Ft.fromString(e);return Dt(Ax(t)),t}function pp(e,t){return vg(e.databaseId,t.path)}function km(e,t){let i=xx(t);if(i.get(1)!==e.databaseId.projectId)throw new B(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new B(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new W(Ex(i))}function Ix(e,t){return vg(e.databaseId,t)}function K1(e){let t=xx(e);return t.length===4?Ft.emptyPath():Ex(t)}function gp(e){return new Ft(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ex(e){return Dt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Uw(e,t,i){return{name:pp(e,t),fields:i.value.mapValue.fields}}function Y1(e,t){let i;if("targetChange"in t){t.targetChange;let n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(u,f){return u.useProto3Json?(Dt(f===void 0||typeof f=="string"),Se.fromBase64String(f||"")):(Dt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Se.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,c=s&&function(u){let f=u.code===void 0?D.UNKNOWN:yx(u.code);return new B(f,u.message||"")}(s);i=new nd(n,r,o,c||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=km(e,n.document.name),o=Tn(n.document.updateTime),s=n.document.createTime?Tn(n.document.createTime):rt.min(),c=new nn({mapValue:{fields:n.document.fields}}),l=on.newFoundDocument(r,o,s,c),u=n.targetIds||[],f=n.removedTargetIds||[];i=new ho(u,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=km(e,n.document),o=n.readTime?Tn(n.readTime):rt.min(),s=on.newNoDocument(r,o),c=n.removedTargetIds||[];i=new ho([],c,s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=km(e,n.document),o=n.removedTargetIds||[];i=new ho([],o,r,null)}else{if(!("filter"in t))return tt();{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new lp(r,o),c=n.targetId;i=new ed(c,s)}}return i}function Q1(e,t){let i;if(t instanceof pr)i={update:Uw(e,t.key,t.value)};else if(t instanceof ua)i={delete:pp(e,t.key)};else if(t instanceof Qn)i={update:Uw(e,t.key,t.data),updateMask:oO(t.fieldMask)};else{if(!(t instanceof op))return tt();i={verify:pp(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(n=>function(o,s){let c=s.transform;if(c instanceof vo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof mr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof yo)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw tt()}(0,n))),t.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:W1(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:tt()}(e,t.precondition)),i}function X1(e,t){return e&&e.length>0?(Dt(t!==void 0),e.map(i=>function(r,o){let s=r.updateTime?Tn(r.updateTime):Tn(o);return s.isEqual(rt.min())&&(s=Tn(o)),new rp(s,r.transformResults||[])}(i,t))):[]}function Z1(e,t){return{documents:[Ix(e,t.path)]}}function J1(e,t){let i={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=Ix(e,r);let o=function(u){if(u.length!==0)return Cx(sn.create(u,"and"))}(t.filters);o&&(i.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(f=>function(_){return{field:ao(_.field),direction:nO(_.dir)}}(f))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);let c=fp(e,t.limit);return c!==null&&(i.structuredQuery.limit=c),t.startAt&&(i.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:i,parent:r}}function tO(e){let t=K1(e.parent),i=e.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){Dt(n===1);let f=i.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let o=[];i.where&&(o=function(p){let _=Tx(p);return _ instanceof sn&&ix(_)?_.getFilters():[_]}(i.where));let s=[];i.orderBy&&(s=function(p){return p.map(_=>function(k){return new hr(co(k.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(_))}(i.orderBy));let c=null;i.limit&&(c=function(p){let _;return _=typeof p=="object"?p.value:p,Id(_)?null:_}(i.limit));let l=null;i.startAt&&(l=function(p){let _=!!p.before,T=p.values||[];return new Ii(T,_)}(i.startAt));let u=null;return i.endAt&&(u=function(p){let _=!p.before,T=p.values||[];return new Ii(T,_)}(i.endAt)),C1(t,r,s,o,c,"F",l,u)}function eO(e,t){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Tx(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=co(i.unaryFilter.field);return re.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=co(i.unaryFilter.field);return re.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=co(i.unaryFilter.field);return re.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=co(i.unaryFilter.field);return re.create(s,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(e):e.fieldFilter!==void 0?function(i){return re.create(co(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return sn.create(i.compositeFilter.filters.map(n=>Tx(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return tt()}}(i.compositeFilter.op))}(e):tt()}function nO(e){return q1[e]}function iO(e){return H1[e]}function rO(e){return G1[e]}function ao(e){return{fieldPath:e.canonicalString()}}function co(e){return Be.fromServerFormat(e.fieldPath)}function Cx(e){return e instanceof re?function(i){if(i.op==="=="){if(Tw(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NAN"}};if(Ew(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tw(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NAN"}};if(Ew(i.value))return{unaryFilter:{field:ao(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(i.field),op:iO(i.op),value:i.value}}}(e):e instanceof sn?function(i){let n=i.getFilters().map(r=>Cx(r));return n.length===1?n[0]:{compositeFilter:{op:rO(i.op),filters:n}}}(e):tt()}function oO(e){let t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Ax(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}var fa=class e{constructor(t,i,n,r,o=rt.min(),s=rt.min(),c=Se.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var _p=class{constructor(t){this.ct=t}};function sO(e){let t=tO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Jl(t,t.limit,"L"):t}var od=class{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(Bt(t.integerValue));else if("doubleValue"in t){let n=Bt(t.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),ca(n)?i.dt(0):i.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(i,20),typeof n=="string"&&(n=Wn(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(xi(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){let n=t.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in t?tx(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):tt()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){let n=t.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(t,i){let n=t.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(t,i){this.Et(i,37),W.fromName(t).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}};od.bt=new od;var bp=class{constructor(){this._n=new vp}addToCollectionParentIndex(t,i){return this._n.add(i),N.resolve()}getCollectionParents(t,i){return N.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return N.resolve()}deleteFieldIndex(t,i){return N.resolve()}deleteAllFieldIndexes(t){return N.resolve()}createTargetIndexes(t,i){return N.resolve()}getDocumentsMatchingTarget(t,i){return N.resolve(null)}getIndexType(t,i){return N.resolve(0)}getFieldIndexes(t,i){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,i){return N.resolve(dr.min())}getMinOffsetFromCollectionGroup(t,i){return N.resolve(dr.min())}updateCollectionGroup(t,i,n){return N.resolve()}updateIndexEntries(t,i){return N.resolve()}},vp=class{constructor(){this.index={}}add(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i]||new ye(Ft.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(t){return(this.index[t]||new ye(Ft.comparator)).toArray()}};var nB=new Uint8Array(0);var wn=class e{constructor(t,i,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);var ma=class e{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new e(0)}static Ln(){return new e(-1)}};var yp=class{constructor(){this.changes=new Ei(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,on.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?N.resolve(n):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var wp=class{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}};var xp=class{constructor(t,i,n,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,i){let n=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(n!==null&&aa(n.mutation,r,xn.empty(),ue.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.getLocalViewOfDocuments(t,n,pt()).next(()=>n))}getLocalViewOfDocuments(t,i,n=pt()){let r=sr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,n).next(o=>{let s=ra();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,i){let n=sr();return this.populateOverlays(t,n,i).next(()=>this.computeViews(t,i,n,pt()))}populateOverlays(t,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,c)=>{i.set(s,c)})})}computeViews(t,i,n,r){let o=Yn(),s=sa(),c=function(){return sa()}();return i.forEach((l,u)=>{let f=n.get(u.key);r.has(u.key)&&(f===void 0||f.mutation instanceof Qn)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),aa(f.mutation,u,f.mutation.getFieldMask(),ue.now())):s.set(u.key,xn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((u,f)=>s.set(u,f)),i.forEach((u,f)=>{var p;return c.set(u,new wp(f,(p=s.get(u))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,i){let n=sa(),r=new zt((s,c)=>s-c),o=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(s=>{for(let c of s)c.keys().forEach(l=>{let u=i.get(l);if(u===null)return;let f=n.get(l)||xn.empty();f=c.applyToLocalView(u,f),n.set(l,f);let p=(r.get(c.batchId)||pt()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),u=l.key,f=l.value,p=ux();f.forEach(_=>{if(!o.has(_)){let T=bx(i.get(_),n.get(_));T!==null&&p.set(_,T),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,p))}return N.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,i,n,r){return function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):bg(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,n,r):this.getDocumentsMatchingCollectionQuery(t,i,n,r)}getNextDocuments(t,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,n.largestBatchId,r-o.size):N.resolve(sr()),c=-1,l=o;return s.next(u=>N.forEach(u,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(t,f).next(_=>{l=l.insert(f,_)}))).next(()=>this.populateOverlays(t,u,o)).next(()=>this.computeViews(t,l,u,pt())).next(f=>({batchId:c,changes:dx(f)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new W(i)).next(n=>{let r=ra();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,n,r){let o=i.collectionGroup,s=ra();return this.indexManager.getCollectionParents(t,o).next(c=>N.forEach(c,l=>{let u=function(p,_){return new Kn(_,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,u,n,r).next(f=>{f.forEach((p,_)=>{s=s.insert(p,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,n,o,r))).next(s=>{o.forEach((l,u)=>{let f=u.getKey();s.get(f)===null&&(s=s.insert(f,on.newInvalidDocument(f)))});let c=ra();return s.forEach((l,u)=>{let f=o.get(l);f!==void 0&&aa(f.mutation,u,xn.empty(),ue.now()),Ad(i,u)&&(c=c.insert(l,u))}),c})}};var Ip=class{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return N.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Tn(r.createTime)}}(i)),N.resolve()}getNamedQuery(t,i){return N.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,function(r){return{name:r.name,query:sO(r.bundledQuery),readTime:Tn(r.readTime)}}(i)),N.resolve()}};var Ep=class{constructor(){this.overlays=new zt(W.comparator),this.hr=new Map}getOverlay(t,i){return N.resolve(this.overlays.get(i))}getOverlays(t,i){let n=sr();return N.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(t,i,n){return n.forEach((r,o)=>{this.ht(t,i,o)}),N.resolve()}removeOverlaysForBatchId(t,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),N.resolve()}getOverlaysForCollection(t,i,n){let r=sr(),o=i.length+1,s=new W(i.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,u=l.getKey();if(!i.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return N.resolve(r)}getOverlaysForCollectionGroup(t,i,n,r){let o=new zt((u,f)=>u-f),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===i&&u.largestBatchId>n){let f=o.get(u.largestBatchId);f===null&&(f=sr(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let c=sr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>c.set(u,f)),!(c.size()>=r)););return N.resolve(c)}ht(t,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new cp(i,n));let o=this.hr.get(i);o===void 0&&(o=pt(),this.hr.set(i,o)),this.hr.set(i,o.add(n.key))}};var pa=class{constructor(){this.Pr=new ye(ie.Ir),this.Tr=new ye(ie.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){let n=new ie(t,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,i){t.forEach(n=>this.addReference(n,i))}removeReference(t,i){this.Ar(new ie(t,i))}Rr(t,i){t.forEach(n=>this.removeReference(n,i))}Vr(t){let i=new W(new Ft([])),n=new ie(i,t),r=new ie(i,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){let i=new W(new Ft([])),n=new ie(i,t),r=new ie(i,t+1),o=pt();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){let i=new ie(t,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&t.isEqual(n.key)}},ie=class{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return W.comparator(t.key,i.key)||xt(t.pr,i.pr)}static Er(t,i){return xt(t.pr,i.pr)||W.comparator(t.key,i.key)}};var Tp=class{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new ye(ie.Ir)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,n,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new sp(o,i,n,r);this.mutationQueue.push(s);for(let c of r)this.wr=this.wr.add(new ie(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(t,i){return N.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){let n=i+1,r=this.br(n),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){let n=new ie(i,0),r=new ie(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{let c=this.Sr(s.pr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new ye(xt);return i.forEach(r=>{let o=new ie(r,0),s=new ie(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],c=>{n=n.add(c.pr)})}),N.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,i){let n=i.path,r=n.length+1,o=n;W.isDocumentKey(o)||(o=o.child(""));let s=new ie(new W(o),0),c=new ye(xt);return this.wr.forEachWhile(l=>{let u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===r&&(c=c.add(l.pr)),!0)},s),N.resolve(this.Dr(c))}Dr(t){let i=[];return t.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(t,i){Dt(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return N.forEach(i.mutations,r=>{let o=new ie(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,i){let n=new ie(i,0),r=this.wr.firstAfterOrEqual(n);return N.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Cr(t,i){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){let i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var Cp=class{constructor(t){this.vr=t,this.docs=function(){return new zt(W.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){let n=this.docs.get(i);return N.resolve(n?n.document.mutableCopy():on.newInvalidDocument(i))}getEntries(t,i){let n=Yn();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():on.newInvalidDocument(r))}),N.resolve(n)}getDocumentsMatchingQuery(t,i,n,r){let o=Yn(),s=i.path,c=new W(s.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:u,value:{document:f}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||g1(p1(f),n)<=0||(r.has(f.key)||Ad(i,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(t,i,n,r){tt()}Fr(t,i){return N.forEach(this.docs,n=>i(n))}newChangeBuffer(t){return new Ap(this)}getSize(t){return N.resolve(this.size)}},Ap=class extends yp{constructor(t){super(),this.ar=t}applyChanges(t){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),N.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}};var Sp=class{constructor(t){this.persistence=t,this.Mr=new Ei(i=>gg(i),_g),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pa,this.targetCount=0,this.Lr=ma.Nn()}forEachTarget(t,i){return this.Mr.forEach((n,r)=>i(r)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),N.resolve()}qn(t){this.Mr.set(t.target,t);let i=t.targetId;i>this.highestTargetId&&(this.Lr=new ma(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,N.resolve()}updateTargetData(t,i){return this.qn(i),N.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,i,n){let r=0,o=[];return this.Mr.forEach((s,c)=>{c.sequenceNumber<=i&&n.get(c.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,i){let n=this.Mr.get(i)||null;return N.resolve(n)}addMatchingKeys(t,i,n){return this.Nr.dr(i,n),N.resolve()}removeMatchingKeys(t,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),N.resolve()}getMatchingKeysForTargetId(t,i){let n=this.Nr.gr(i);return N.resolve(n)}containsKey(t,i){return N.resolve(this.Nr.containsKey(i))}};var Rp=class{constructor(t,i){this.Br={},this.overlays={},this.kr=new Zw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Sp(this),this.indexManager=new bp,this.remoteDocumentCache=function(r){return new Cp(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new _p(i),this.$r=new Ip(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ep,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let n=this.Br[t.toKey()];return n||(n=new Tp(i,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,n){q("MemoryPersistence","Starting transaction:",t);let r=new Dp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,i){return N.or(Object.values(this.Br).map(n=>()=>n.containsKey(t,i)))}},Dp=class extends $m{constructor(t){super(),this.currentSequenceNumber=t}},kp=class e{constructor(t){this.persistence=t,this.zr=new pa,this.jr=null}static Hr(t){return new e(t)}get Jr(){if(this.jr)return this.jr;throw tt()}addReference(t,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),N.resolve()}removeReference(t,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),N.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),N.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,n=>{let r=W.fromPath(n);return this.Yr(t,r).next(o=>{o||i.removeEntry(r,rt.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return N.or([()=>N.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}};var Pp=class e{constructor(t,i,n,r){this.targetId=t,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(t,i){let n=pt(),r=pt();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e(t,i.fromCache,n,r)}};var Op=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var Mp=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return a0()?8:b1(oe())>0?6:4}()}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,n,r){let o={result:null};return this.ji(t,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Op;return this.Ji(t,i,s).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,i,s,c.size)})}).next(()=>o.result)}Yi(t,i,n,r){return n.documentReadCount<this.Wi?(ia()<=mt.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",so(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):(ia()<=mt.DEBUG&&q("QueryEngine","Query:",so(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(ia()<=mt.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",so(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,En(i))):N.resolve())}ji(t,i){if(Rw(i))return N.resolve(null);let n=En(i);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Jl(i,null,"F"),n=En(i)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{let s=pt(...o);return this.zi.getDocuments(t,s).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{let u=this.Zi(i,c);return this.Xi(i,u,s,l.readTime)?this.ji(t,Jl(i,null,"F")):this.es(t,u,i,l)}))})))}Hi(t,i,n,r){return Rw(i)||r.isEqual(rt.min())?N.resolve(null):this.zi.getDocuments(t,n).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,n,r)?N.resolve(null):(ia()<=mt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),so(i)),this.es(t,s,i,m1(r,-1)).next(c=>c))})}Zi(t,i){let n=new ye(cx(t));return i.forEach((r,o)=>{Ad(t,o)&&(n=n.add(o))}),n}Xi(t,i,n,r){if(t.limit===null)return!1;if(n.size!==i.size)return!0;let o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,i,n){return ia()<=mt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",so(i)),this.zi.getDocumentsMatchingQuery(t,i,dr.min(),n)}es(t,i,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Np=class{constructor(t,i,n,r){this.persistence=t,this.ts=i,this.serializer=r,this.ns=new zt(xt),this.rs=new Ei(o=>gg(o),_g),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}};function aO(e,t,i,n){return new Np(e,t,i,n)}function Sx(e,t){return b(this,null,function*(){let i=it(e);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i._s(t),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],c=[],l=pt();for(let u of r){s.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}for(let u of o){c.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}return i.localDocuments.getDocuments(n,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:c}))})})})}function cO(e,t){let i=it(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(c,l,u,f){let p=u.batch,_=p.keys(),T=N.resolve();return _.forEach(k=>{T=T.next(()=>f.getEntry(l,k)).next(O=>{let P=u.docVersions.get(k);Dt(P!==null),O.version.compareTo(P)<0&&(p.applyToRemoteDocument(O,u),O.isValidDocument()&&(O.setReadTime(u.commitVersion),f.addEntry(O)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(i,n,t,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=pt();for(let u=0;u<c.mutationResults.length;++u)c.mutationResults[u].transformResults.length>0&&(l=l.add(c.batch.mutations[u].key));return l}(t))).next(()=>i.localDocuments.getDocuments(n,r))})}function Rx(e){let t=it(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function lO(e,t){let i=it(e),n=t.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let c=[];t.targetChanges.forEach((f,p)=>{let _=r.get(p);if(!_)return;c.push(i.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>i.Qr.addMatchingKeys(o,f.addedDocuments,p)));let T=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(p)!==null?T=T.withResumeToken(Se.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):f.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(f.resumeToken,n)),r=r.insert(p,T),function(O,P,H){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(_,T,f)&&c.push(i.Qr.updateTargetData(o,T))});let l=Yn(),u=pt();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(dO(o,s,t.documentUpdates).next(f=>{l=f.cs,u=f.ls})),!n.isEqual(rt.min())){let f=i.Qr.getLastRemoteSnapshotVersion(o).next(p=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(i.ns=r,o))}function dO(e,t,i){let n=pt(),r=pt();return i.forEach(o=>n=n.add(o)),t.getEntries(e,n).next(o=>{let s=Yn();return i.forEach((c,l)=>{let u=o.get(c);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(rt.min())?(t.removeEntry(c,l.readTime),s=s.insert(c,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(c,l)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:r}})}function uO(e,t){let i=it(e);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function hO(e,t){let i=it(e);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,t).next(o=>o?(r=o,N.resolve(r)):i.Qr.allocateTargetId(n).next(s=>(r=new fa(t,s,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(t,n.targetId)),n})}function Fp(e,t,i){return b(this,null,function*(){let n=it(e),r=n.ns.get(t),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Ta(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)})}function jw(e,t,i){let n=it(e),r=rt.min(),o=pt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,f){let p=it(l),_=p.rs.get(f);return _!==void 0?N.resolve(p.ns.get(_)):p.Qr.getTargetData(u,f)}(n,s,En(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,i?r:rt.min(),i?o:pt())).next(c=>(fO(n,S1(t),c),{documents:c,hs:o})))}function fO(e,t,i){let n=e.ss.get(t)||rt.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),e.ss.set(t,n)}var sd=class{constructor(){this.activeTargetIds=M1()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var Lp=class{constructor(){this.no=new sd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,n){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new sd,Promise.resolve()}handleUserChange(t,i,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var Vp=class{io(t){}shutdown(){}};var ad=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.uo)t(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var zl=null;function Pm(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}var mO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Up=class{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}};var ve="WebChannelConnection",jp=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,n,r,o,s){let c=Pm(),l=this.vo(i,n.toUriEncodedString());q("RestConnection",`Sending RPC '${i}' ${c}:`,l,r);let u={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(u,o,s),this.Mo(i,l,u,r).then(f=>(q("RestConnection",`Received RPC '${i}' ${c}: `,f),f),f=>{throw mo("RestConnection",`RPC '${i}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(i,n,r,o,s,c){return this.Co(i,n,r,o,s)}Fo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,n){let r=mO[i];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,n,r){let o=Pm();return new Promise((s,c)=>{let l=new Tm;l.setWithCredentials(!0),l.listenOnce(Am.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case na.NO_ERROR:let f=l.getResponseJson();q(ve,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),s(f);break;case na.TIMEOUT:q(ve,`RPC '${t}' ${o} timed out`),c(new B(D.DEADLINE_EXCEEDED,"Request time out"));break;case na.HTTP_ERROR:let p=l.getStatus();if(q(ve,`RPC '${t}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let _=l.getResponseJson();Array.isArray(_)&&(_=_[0]);let T=_?.error;if(T&&T.status&&T.message){let k=function(P){let H=P.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(H)>=0?H:D.UNKNOWN}(T.status);c(new B(k,T.message))}else c(new B(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new B(D.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{q(ve,`RPC '${t}' ${o} completed.`)}});let u=JSON.stringify(r);q(ve,`RPC '${t}' ${o} sending request:`,r),l.send(i,"POST",u,n,15)})}Oo(t,i,n){let r=Pm(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Dm(),c=Rm(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Cm({})),this.Fo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let f=o.join("");q(ve,`Creating RPC '${t}' stream ${r}: ${f}`,l);let p=s.createWebChannel(f,l),_=!1,T=!1,k=new Up({lo:P=>{T?q(ve,`Not sending because RPC '${t}' stream ${r} is closed:`,P):(_||(q(ve,`Opening RPC '${t}' stream ${r} transport.`),p.open(),_=!0),q(ve,`RPC '${t}' stream ${r} sending:`,P),p.send(P))},ho:()=>p.close()}),O=(P,H,K)=>{P.listen(H,Z=>{try{K(Z)}catch(st){setTimeout(()=>{throw st},0)}})};return O(p,oo.EventType.OPEN,()=>{T||(q(ve,`RPC '${t}' stream ${r} transport opened.`),k.mo())}),O(p,oo.EventType.CLOSE,()=>{T||(T=!0,q(ve,`RPC '${t}' stream ${r} transport closed`),k.po())}),O(p,oo.EventType.ERROR,P=>{T||(T=!0,mo(ve,`RPC '${t}' stream ${r} transport errored:`,P),k.po(new B(D.UNAVAILABLE,"The operation could not be completed")))}),O(p,oo.EventType.MESSAGE,P=>{var H;if(!T){let K=P.data[0];Dt(!!K);let Z=K,st=Z.error||((H=Z[0])===null||H===void 0?void 0:H.error);if(st){q(ve,`RPC '${t}' stream ${r} received error:`,st);let Xt=st.status,bt=function(y){let w=ne[y];if(w!==void 0)return yx(w)}(Xt),x=st.message;bt===void 0&&(bt=D.INTERNAL,x="Unknown error status: "+Xt+" with message "+st.message),T=!0,k.po(new B(bt,x)),p.close()}else q(ve,`RPC '${t}' stream ${r} received:`,K),k.yo(K)}}),O(c,Sm.STAT_EVENT,P=>{P.stat===jl.PROXY?q(ve,`RPC '${t}' stream ${r} detected buffering proxy`):P.stat===jl.NOPROXY&&q(ve,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}};function Om(){return typeof document<"u"?document:null}function Sd(e){return new hp(e,!0)}var cd=class{constructor(t,i,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=i,this.No=n,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();let i=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-n);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var ld=class{constructor(t,i,n,r,o,s,c,l){this.oi=t,this.Go=n,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new cd(t,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return b(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){return b(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){return b(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():i&&i.code===D.RESOURCE_EXHAUSTED?(Gn(i.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===i&&this.u_(n,r)},n=>{t(()=>{let r=new B(D.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(t,i){let n=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>b(this,null,function*(){this.state=0,this.start()}))}c_(t){return q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Bp=class extends ld{constructor(t,i,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();let i=Y1(this.serializer,t),n=function(o){if(!("targetChange"in o))return rt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?rt.min():s.readTime?Tn(s.readTime):rt.min()}(t);return this.listener.h_(i,n)}P_(t){let i={};i.database=gp(this.serializer),i.addTarget=function(o,s){let c,l=s.target;if(c=np(l)?{documents:Z1(o,l)}:{query:J1(o,l)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=wx(o,s.resumeToken);let u=fp(o,s.expectedCount);u!==null&&(c.expectedCount=u)}else if(s.snapshotVersion.compareTo(rt.min())>0){c.readTime=rd(o,s.snapshotVersion.toTimestamp());let u=fp(o,s.expectedCount);u!==null&&(c.expectedCount=u)}return c}(this.serializer,t);let n=eO(this.serializer,t);n&&(i.labels=n),this.i_(i)}I_(t){let i={};i.database=gp(this.serializer),i.removeTarget=t,this.i_(i)}},zp=class extends ld{constructor(t,i,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();let i=X1(t.writeResults,t.commitTime),n=Tn(t.commitTime);return this.listener.A_(n,i)}return Dt(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let t={};t.database=gp(this.serializer),this.i_(t)}d_(t){let i={streamToken:this.lastStreamToken,writes:t.map(n=>Q1(this.serializer,n))};this.i_(i)}};var $p=class extends class{}{constructor(t,i,n,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new B(D.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,mp(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(D.UNKNOWN,o.toString())})}xo(t,i,n,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.xo(t,mp(i,n),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(D.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},qp=class{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Gn(i),this.y_=!1):q("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Hp=class{constructor(t,i,n,r,o){this.localStore=t,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{n.enqueueAndForget(()=>b(this,null,function*(){gr(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(l){return b(this,null,function*(){let u=it(l);u.M_.add(4),yield Ca(u),u.N_.set("Unknown"),u.M_.delete(4),yield Rd(u)})}(this))}))}),this.N_=new qp(n,r)}};function Rd(e){return b(this,null,function*(){if(gr(e))for(let t of e.x_)yield t(!0)})}function Ca(e){return b(this,null,function*(){for(let t of e.x_)yield t(!1)})}function Dx(e,t){let i=it(e);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),Ig(i)?xg(i):Ao(i).Xo()&&wg(i,t))}function yg(e,t){let i=it(e),n=Ao(i);i.F_.delete(t),n.Xo()&&kx(i,t),i.F_.size===0&&(n.Xo()?n.n_():gr(i)&&i.N_.set("Unknown"))}function wg(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(rt.min())>0){let i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ao(e).P_(t)}function kx(e,t){e.L_.xe(t),Ao(e).I_(t)}function xg(e){e.L_=new up({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ao(e).start(),e.N_.w_()}function Ig(e){return gr(e)&&!Ao(e).Zo()&&e.F_.size>0}function gr(e){return it(e).M_.size===0}function Px(e){e.L_=void 0}function pO(e){return b(this,null,function*(){e.N_.set("Online")})}function gO(e){return b(this,null,function*(){e.F_.forEach((t,i)=>{wg(e,t)})})}function _O(e,t){return b(this,null,function*(){Px(e),Ig(e)?(e.N_.D_(t),xg(e)):e.N_.set("Unknown")})}function bO(e,t,i){return b(this,null,function*(){if(e.N_.set("Online"),t instanceof nd&&t.state===2&&t.cause)try{yield function(r,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.F_.delete(c),r.L_.removeTarget(c))})}(e,t)}catch(n){q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield dd(e,n)}else if(t instanceof ho?e.L_.Ke(t):t instanceof ed?e.L_.He(t):e.L_.We(t),!i.isEqual(rt.min()))try{let n=yield Rx(e.localStore);i.compareTo(n)>=0&&(yield function(o,s){let c=o.L_.rt(s);return c.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.F_.get(u);f&&o.F_.set(u,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,u)=>{let f=o.F_.get(l);if(!f)return;o.F_.set(l,f.withResumeToken(Se.EMPTY_BYTE_STRING,f.snapshotVersion)),kx(o,l);let p=new fa(f.target,l,u,f.sequenceNumber);wg(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(e,i))}catch(n){q("RemoteStore","Failed to raise snapshot:",n),yield dd(e,n)}})}function dd(e,t,i){return b(this,null,function*(){if(!Ta(t))throw t;e.M_.add(1),yield Ca(e),e.N_.set("Offline"),i||(i=()=>Rx(e.localStore)),e.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield i(),e.M_.delete(1),yield Rd(e)}))})}function Ox(e,t){return t().catch(i=>dd(e,i,t))}function Dd(e){return b(this,null,function*(){let t=it(e),i=Ti(t),n=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;vO(t);)try{let r=yield uO(t.localStore,n);if(r===null){t.v_.length===0&&i.n_();break}n=r.batchId,yO(t,r)}catch(r){yield dd(t,r)}Mx(t)&&Nx(t)})}function vO(e){return gr(e)&&e.v_.length<10}function yO(e,t){e.v_.push(t);let i=Ti(e);i.Xo()&&i.E_&&i.d_(t.mutations)}function Mx(e){return gr(e)&&!Ti(e).Zo()&&e.v_.length>0}function Nx(e){Ti(e).start()}function wO(e){return b(this,null,function*(){Ti(e).V_()})}function xO(e){return b(this,null,function*(){let t=Ti(e);for(let i of e.v_)t.d_(i.mutations)})}function IO(e,t,i){return b(this,null,function*(){let n=e.v_.shift(),r=ap.from(n,t,i);yield Ox(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield Dd(e)})}function EO(e,t){return b(this,null,function*(){t&&Ti(e).E_&&(yield function(n,r){return b(this,null,function*(){if(function(s){return B1(s)&&s!==D.ABORTED}(r.code)){let o=n.v_.shift();Ti(n).t_(),yield Ox(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Dd(n)}})}(e,t)),Mx(e)&&Nx(e)})}function Bw(e,t){return b(this,null,function*(){let i=it(e);i.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let n=gr(i);i.M_.add(3),yield Ca(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield Rd(i)})}function TO(e,t){return b(this,null,function*(){let i=it(e);t?(i.M_.delete(2),yield Rd(i)):t||(i.M_.add(2),yield Ca(i),i.N_.set("Unknown"))})}function Ao(e){return e.B_||(e.B_=function(i,n,r){let o=it(i);return o.f_(),new Bp(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:pO.bind(null,e),To:gO.bind(null,e),Ao:_O.bind(null,e),h_:bO.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.B_.t_(),Ig(e)?xg(e):e.N_.set("Unknown")):(yield e.B_.stop(),Px(e))}))),e.B_}function Ti(e){return e.k_||(e.k_=function(i,n,r){let o=it(i);return o.f_(),new zp(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:wO.bind(null,e),Ao:EO.bind(null,e),R_:xO.bind(null,e),A_:IO.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.k_.t_(),yield Dd(e)):(yield e.k_.stop(),e.v_.length>0&&(q("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}var Gp=class e{constructor(t,i,n,r,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,n,r,o){let s=Date.now()+n,c=new e(t,i,s,r,o);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(D.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Eg(e,t){if(Gn("AsyncQueue",`${t}: ${e}`),Ta(e))return new B(D.UNAVAILABLE,`${t}: ${e}`);throw e}var ud=class e{constructor(t){this.comparator=t?(i,n)=>t(i,n)||W.comparator(i.key,n.key):(i,n)=>W.comparator(i.key,n.key),this.keyedMap=ra(),this.sortedSet=new zt(this.comparator)}static emptySet(t){return new e(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,n)=>(t(i),!1))}add(t){let i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){let i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){let n=new e;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=i,n}};var hd=class{constructor(){this.q_=new zt(W.comparator)}track(t){let i=t.doc.key,n=this.q_.get(i);n?t.type!==0&&n.type===3?this.q_=this.q_.insert(i,t):t.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.q_=this.q_.remove(i):t.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):tt():this.q_=this.q_.insert(i,t)}Q_(){let t=[];return this.q_.inorderTraversal((i,n)=>{t.push(n)}),t}},xo=class e{constructor(t,i,n,r,o,s,c,l,u){this.query=t,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,i,n,r,o){let s=[];return i.forEach(c=>{s.push({type:0,doc:c})}),new e(t,i,ud.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let i=this.docChanges,n=t.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var Wp=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},Kp=class{constructor(){this.queries=new Ei(t=>ax(t),Cd),this.onlineState="Unknown",this.z_=new Set}};function Tg(e,t){return b(this,null,function*(){let i=it(e),n=3,r=t.query,o=i.queries.get(r);o?!o.W_()&&t.G_()&&(n=2):(o=new Wp,n=t.G_()?0:1);try{switch(n){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let c=Eg(s,`Initialization of query '${so(t.query)}' failed`);return void t.onError(c)}i.queries.set(r,o),o.U_.push(t),t.j_(i.onlineState),o.K_&&t.H_(o.K_)&&Ag(i)})}function Cg(e,t){return b(this,null,function*(){let i=it(e),n=t.query,r=3,o=i.queries.get(n);if(o){let s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function CO(e,t){let i=it(e),n=!1;for(let r of t){let o=r.query,s=i.queries.get(o);if(s){for(let c of s.U_)c.H_(r)&&(n=!0);s.K_=r}}n&&Ag(i)}function AO(e,t,i){let n=it(e),r=n.queries.get(t);if(r)for(let o of r.U_)o.onError(i);n.queries.delete(t)}function Ag(e){e.z_.forEach(t=>{t.next()})}var Yp,zw;(zw=Yp||(Yp={})).J_="default",zw.Cache="cache";var ga=class{constructor(t,i,n){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new xo(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){if(!t.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(t){t=xo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Yp.Cache}};var fd=class{constructor(t){this.key=t}},md=class{constructor(t){this.key=t}},Qp=class{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=pt(),this.mutatedKeys=pt(),this.Ia=cx(t),this.Ta=new ud(this.Ia)}get Ea(){return this.la}da(t,i){let n=i?i.Aa:new hd,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{let _=r.get(f),T=Ad(this.query,p)?p:null,k=!!_&&this.mutatedKeys.has(_.key),O=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations),P=!1;_&&T?_.data.isEqual(T.data)?k!==O&&(n.track({type:3,doc:T}),P=!0):this.Ra(_,T)||(n.track({type:2,doc:T}),P=!0,(l&&this.Ia(T,l)>0||u&&this.Ia(T,u)<0)&&(c=!0)):!_&&T?(n.track({type:0,doc:T}),P=!0):_&&!T&&(n.track({type:1,doc:_}),P=!0,(l||u)&&(c=!0)),P&&(T?(s=s.add(T),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),n.track({type:1,doc:f})}return{Ta:s,Aa:n,Xi:c,mutatedKeys:o}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,n,r){let o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let s=t.Aa.Q_();s.sort((f,p)=>function(T,k){let O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return O(T)-O(k)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(n),r=r!=null&&r;let c=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,u=l!==this.ha;return this.ha=l,s.length!==0||u?{snapshot:new xo(this.query,t.Ta,o,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new hd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=pt(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return t.forEach(n=>{this.Pa.has(n)||i.push(new md(n))}),this.Pa.forEach(n=>{t.has(n)||i.push(new fd(n))}),i}pa(t){this.la=t.hs,this.Pa=pt();let i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return xo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},Xp=class{constructor(t,i,n){this.query=t,this.targetId=i,this.view=n}},Zp=class{constructor(t){this.key=t,this.wa=!1}},Jp=class{constructor(t,i,n,r,o,s){this.localStore=t,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ei(c=>ax(c),Cd),this.Da=new Map,this.Ca=new Set,this.va=new zt(W.comparator),this.Fa=new Map,this.Ma=new pa,this.xa={},this.Oa=new Map,this.Na=ma.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function SO(e,t,i=!0){return b(this,null,function*(){let n=Bx(e),r,o=n.ba.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield Fx(n,t,i,!0),r})}function RO(e,t){return b(this,null,function*(){let i=Bx(e);yield Fx(i,t,!0,!1)})}function Fx(e,t,i,n){return b(this,null,function*(){let r=yield hO(e.localStore,En(t)),o=r.targetId,s=i?e.sharedClientState.addLocalQueryTarget(o):"not-current",c;return n&&(c=yield DO(e,t,o,s==="current",r.resumeToken)),e.isPrimaryClient&&i&&Dx(e.remoteStore,r),c})}function DO(e,t,i,n,r){return b(this,null,function*(){e.Ba=(p,_,T)=>function(O,P,H,K){return b(this,null,function*(){let Z=P.view.da(H);Z.Xi&&(Z=yield jw(O.localStore,P.query,!1).then(({documents:x})=>P.view.da(x,Z)));let st=K&&K.targetChanges.get(P.targetId),Xt=K&&K.targetMismatches.get(P.targetId)!=null,bt=P.view.applyChanges(Z,O.isPrimaryClient,st,Xt);return qw(O,P.targetId,bt.fa),bt.snapshot})}(e,p,_,T);let o=yield jw(e.localStore,t,!0),s=new Qp(t,o.hs),c=s.da(o.documents),l=ha.createSynthesizedTargetChangeForCurrentChange(i,n&&e.onlineState!=="Offline",r),u=s.applyChanges(c,e.isPrimaryClient,l);qw(e,i,u.fa);let f=new Xp(t,i,s);return e.ba.set(t,f),e.Da.has(i)?e.Da.get(i).push(t):e.Da.set(i,[t]),u.snapshot})}function kO(e,t,i){return b(this,null,function*(){let n=it(e),r=n.ba.get(t),o=n.Da.get(r.targetId);if(o.length>1)return n.Da.set(r.targetId,o.filter(s=>!Cd(s,t))),void n.ba.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Fp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&yg(n.remoteStore,r.targetId),tg(n,r.targetId)}).catch(Ea))):(tg(n,r.targetId),yield Fp(n.localStore,r.targetId,!0))})}function PO(e,t){return b(this,null,function*(){let i=it(e),n=i.ba.get(t),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),yg(i.remoteStore,n.targetId))})}function OO(e,t,i){return b(this,null,function*(){let n=jO(e);try{let r=yield function(s,c){let l=it(s),u=ue.now(),f=c.reduce((T,k)=>T.add(k.key),pt()),p,_;return l.persistence.runTransaction("Locally write mutations","readwrite",T=>{let k=Yn(),O=pt();return l.os.getEntries(T,f).next(P=>{k=P,k.forEach((H,K)=>{K.isValidDocument()||(O=O.add(H))})}).next(()=>l.localDocuments.getOverlayedDocuments(T,k)).next(P=>{p=P;let H=[];for(let K of c){let Z=j1(K,p.get(K.key).overlayedDocument);Z!=null&&H.push(new Qn(K.key,Z,ex(Z.value.mapValue),yi.exists(!0)))}return l.mutationQueue.addMutationBatch(T,u,H,c)}).next(P=>{_=P;let H=P.applyToLocalDocumentSet(p,O);return l.documentOverlayCache.saveOverlays(T,P.batchId,H)})}).then(()=>({batchId:_.batchId,changes:dx(p)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,c,l){let u=s.xa[s.currentUser.toKey()];u||(u=new zt(xt)),u=u.insert(c,l),s.xa[s.currentUser.toKey()]=u}(n,r.batchId,i),yield Aa(n,r.changes),yield Dd(n.remoteStore)}catch(r){let o=Eg(r,"Failed to persist write");i.reject(o)}})}function Lx(e,t){return b(this,null,function*(){let i=it(e);try{let n=yield lO(i.localStore,t);t.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?Dt(s.wa):r.removedDocuments.size>0&&(Dt(s.wa),s.wa=!1))}),yield Aa(i,n,t)}catch(n){yield Ea(n)}})}function $w(e,t,i){let n=it(e);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((o,s)=>{let c=s.view.j_(t);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=it(s);l.onlineState=c;let u=!1;l.queries.forEach((f,p)=>{for(let _ of p.U_)_.j_(c)&&(u=!0)}),u&&Ag(l)}(n.eventManager,t),r.length&&n.Sa.h_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function MO(e,t,i){return b(this,null,function*(){let n=it(e);n.sharedClientState.updateQueryState(t,"rejected",i);let r=n.Fa.get(t),o=r&&r.key;if(o){let s=new zt(W.comparator);s=s.insert(o,on.newNoDocument(o,rt.min()));let c=pt().add(o),l=new td(rt.min(),new Map,new zt(xt),s,c);yield Lx(n,l),n.va=n.va.remove(o),n.Fa.delete(t),Sg(n)}else yield Fp(n.localStore,t,!1).then(()=>tg(n,t,i)).catch(Ea)})}function NO(e,t){return b(this,null,function*(){let i=it(e),n=t.batch.batchId;try{let r=yield cO(i.localStore,t);Ux(i,n,null),Vx(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Aa(i,r)}catch(r){yield Ea(r)}})}function FO(e,t,i){return b(this,null,function*(){let n=it(e);try{let r=yield function(s,c){let l=it(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,c).next(p=>(Dt(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})}(n.localStore,t);Ux(n,t,i),Vx(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),yield Aa(n,r)}catch(r){yield Ea(r)}})}function Vx(e,t){(e.Oa.get(t)||[]).forEach(i=>{i.resolve()}),e.Oa.delete(t)}function Ux(e,t,i){let n=it(e),r=n.xa[n.currentUser.toKey()];if(r){let o=r.get(t);o&&(i?o.reject(i):o.resolve(),r=r.remove(t)),n.xa[n.currentUser.toKey()]=r}}function tg(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(let n of e.Da.get(t))e.ba.delete(n),i&&e.Sa.ka(n,i);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(n=>{e.Ma.containsKey(n)||jx(e,n)})}function jx(e,t){e.Ca.delete(t.path.canonicalString());let i=e.va.get(t);i!==null&&(yg(e.remoteStore,i),e.va=e.va.remove(t),e.Fa.delete(i),Sg(e))}function qw(e,t,i){for(let n of i)n instanceof fd?(e.Ma.addReference(n.key,t),LO(e,n)):n instanceof md?(q("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,t),e.Ma.containsKey(n.key)||jx(e,n.key)):tt()}function LO(e,t){let i=t.key,n=i.path.canonicalString();e.va.get(i)||e.Ca.has(n)||(q("SyncEngine","New document in limbo: "+i),e.Ca.add(n),Sg(e))}function Sg(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){let t=e.Ca.values().next().value;e.Ca.delete(t);let i=new W(Ft.fromString(t)),n=e.Na.next();e.Fa.set(n,new Zp(i)),e.va=e.va.insert(i,n),Dx(e.remoteStore,new fa(En(Td(i.path)),n,"TargetPurposeLimboResolution",Zw.oe))}}function Aa(e,t,i){return b(this,null,function*(){let n=it(e),r=[],o=[],s=[];n.ba.isEmpty()||(n.ba.forEach((c,l)=>{s.push(n.Ba(l,t,i).then(u=>{if((u||i)&&n.isPrimaryClient){let f=u&&!u.fromCache;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){r.push(u);let f=Pp.Ki(l.targetId,u);o.push(f)}}))}),yield Promise.all(s),n.Sa.h_(r),yield function(l,u){return b(this,null,function*(){let f=it(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(u,_=>N.forEach(_.qi,T=>f.persistence.referenceDelegate.addReference(p,_.targetId,T)).next(()=>N.forEach(_.Qi,T=>f.persistence.referenceDelegate.removeReference(p,_.targetId,T)))))}catch(p){if(!Ta(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let _=p.targetId;if(!p.fromCache){let T=f.ns.get(_),k=T.snapshotVersion,O=T.withLastLimboFreeSnapshotVersion(k);f.ns=f.ns.insert(_,O)}}})}(n.localStore,o))})}function VO(e,t){return b(this,null,function*(){let i=it(e);if(!i.currentUser.isEqual(t)){q("SyncEngine","User change. New user:",t.toKey());let n=yield Sx(i.localStore,t);i.currentUser=t,function(o,s){o.Oa.forEach(c=>{c.forEach(l=>{l.reject(new B(D.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Aa(i,n.us)}})}function UO(e,t){let i=it(e),n=i.Fa.get(t);if(n&&n.wa)return pt().add(n.key);{let r=pt(),o=i.Da.get(t);if(!o)return r;for(let s of o){let c=i.ba.get(s);r=r.unionWith(c.view.Ea)}return r}}function Bx(e){let t=it(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=UO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MO.bind(null,t),t.Sa.h_=CO.bind(null,t.eventManager),t.Sa.ka=AO.bind(null,t.eventManager),t}function jO(e){let t=it(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=NO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FO.bind(null,t),t}var pd=class{constructor(){this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Sd(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return aO(this.persistence,new Mp,t.initialUser,this.serializer)}createPersistence(t){return new Rp(kp.Hr,this.serializer)}createSharedClientState(t){return new Lp}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var eg=class{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$w(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=VO.bind(null,this.syncEngine),yield TO(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Kp}()}createDatastore(t){let i=Sd(t.databaseInfo.databaseId),n=function(o){return new jp(o)}(t.databaseInfo);return function(o,s,c,l){return new $p(o,s,c,l)}(t.authCredentials,t.appCheckCredentials,n,i)}createRemoteStore(t){return function(n,r,o,s,c){return new Hp(n,r,o,s,c)}(this.localStore,this.datastore,t.asyncQueue,i=>$w(this.syncEngine,i,0),function(){return ad.D()?new ad:new Vp}())}createSyncEngine(t,i){return function(r,o,s,c,l,u,f){let p=new Jp(r,o,s,c,l,u);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t;yield function(n){return b(this,null,function*(){let r=it(n);q("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Ca(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};var _a=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Gn("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}};var ng=class{constructor(t,i,n,r){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=ae.UNAUTHENTICATED,this.clientId=Gl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>b(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){let n=Eg(i,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function Mm(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let i=e.configuration;yield t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(r=>b(this,null,function*(){n.isEqual(r)||(yield Sx(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t})}function Hw(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress();let i=yield zO(e);q("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,e.configuration),e.setCredentialChangeListener(n=>Bw(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>Bw(t.remoteStore,r)),e._onlineComponents=t})}function BO(e){return e.name==="FirebaseError"?e.code===D.FAILED_PRECONDITION||e.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}function zO(e){return b(this,null,function*(){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mm(e,e._uninitializedComponentsProvider._offline)}catch(t){let i=t;if(!BO(i))throw i;mo("Error using user provided cache. Falling back to memory cache: "+i),yield Mm(e,new pd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield Mm(e,new pd);return e._offlineComponents})}function zx(e){return b(this,null,function*(){return e._onlineComponents||(e._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield Hw(e,e._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield Hw(e,new eg))),e._onlineComponents})}function $O(e){return zx(e).then(t=>t.syncEngine)}function gd(e){return b(this,null,function*(){let t=yield zx(e),i=t.eventManager;return i.onListen=SO.bind(null,t.syncEngine),i.onUnlisten=kO.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=RO.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=PO.bind(null,t.syncEngine),i})}function qO(e,t,i={}){let n=new rn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,u){let f=new _a({next:_=>{s.enqueueAndForget(()=>Cg(o,p));let T=_.docs.has(c);!T&&_.fromCache?u.reject(new B(D.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&_.fromCache&&l&&l.source==="server"?u.reject(new B(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(_)},error:_=>u.reject(_)}),p=new ga(Td(c.path),f,{includeMetadataChanges:!0,ra:!0});return Tg(o,p)}(yield gd(e),e.asyncQueue,t,i,n)})),n.promise}function HO(e,t,i={}){let n=new rn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,u){let f=new _a({next:_=>{s.enqueueAndForget(()=>Cg(o,p)),_.fromCache&&l.source==="server"?u.reject(new B(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(_)},error:_=>u.reject(_)}),p=new ga(c,f,{includeMetadataChanges:!0,ra:!0});return Tg(o,p)}(yield gd(e),e.asyncQueue,t,i,n)})),n.promise}function $x(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var Gw=new Map;function qx(e,t,i){if(!i)throw new B(D.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function GO(e,t,i,n){if(t===!0&&n===!0)throw new B(D.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function Ww(e){if(!W.isDocumentKey(e))throw new B(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Kw(e){if(W.isDocumentKey(e))throw new B(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function kd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{let t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":tt()}function Cn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=kd(e);throw new B(D.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function WO(e,t){if(t<=0)throw new B(D.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}var _d=class{constructor(t){var i,n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}GO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$x((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(D.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Io=class{constructor(t,i,n,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _d({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _d(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Nm;switch(n.type){case"firstParty":return new Um(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=Gw.get(i);n&&(q("ComponentProvider","Removing Datastore"),Gw.delete(i),n.terminate())}(this),Promise.resolve()}};function Hx(e,t,i,n={}){var r;let o=(e=Cn(e,Io))._getSettings(),s=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=ae.MOCK_USER;else{c=dl(n.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);let u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new B(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ae(u)}e._authCredentials=new Fm(new Hl(c,l))}}var Sn=class e{constructor(t,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new e(this.firestore,t,this._query)}},Oe=class e{constructor(t,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},wi=class e extends Sn{constructor(t,i,n){super(t,i,Td(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new W(t))}withConverter(t){return new e(this.firestore,t,this._path)}};function Gx(e,t,...i){if(e=Vt(e),qx("collection","path",t),e instanceof Io){let n=Ft.fromString(t,...i);return Kw(n),new wi(e,null,n)}{if(!(e instanceof Oe||e instanceof wi))throw new B(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(Ft.fromString(t,...i));return Kw(n),new wi(e.firestore,null,n)}}function Rg(e,t,...i){if(e=Vt(e),arguments.length===1&&(t=Gl.newId()),qx("doc","path",t),e instanceof Io){let n=Ft.fromString(t,...i);return Ww(n),new Oe(e,null,new W(n))}{if(!(e instanceof Oe||e instanceof wi))throw new B(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(Ft.fromString(t,...i));return Ww(n),new Oe(e.firestore,e instanceof wi?e.converter:null,new W(n))}}var ig=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new cd(this,"async_queue_retry"),this.hu=()=>{let i=Om();i&&q("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let t=Om();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let i=Om();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new rn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!Ta(t))throw t;q("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(t){let i=this.iu.then(()=>(this.uu=!0,t().catch(n=>{this.au=n,this.uu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(n);throw Gn("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(t,i,n){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);let r=Gp.createAndSchedule(this,t,i,n,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&tt()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let i=this._u.indexOf(t);this._u.splice(i,1)}};function Yw(e){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(e,["next","error","complete"])}var Xn=class extends Io{constructor(t,i,n,r){super(t,i,n,r),this.type="firestore",this._queue=function(){return new ig}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}};function Wx(e,t){let i=typeof e=="object"?e:_i(),n=typeof e=="string"?e:t||"(default)",r=Zi(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=ll("firestore");o&&Hx(r,...o)}return r}function Pd(e){return e._firestoreClient||Kx(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Kx(e){var t,i,n;let r=e._freezeSettings(),o=function(c,l,u,f){return new qm(c,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$x(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new ng(e._authCredentials,e._appCheckCredentials,e._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var ba=class e{constructor(t){this._byteString=t}static fromBase64String(t){try{return new e(Se.fromBase64String(t))}catch(i){throw new B(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new e(Se.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var va=class{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new B(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var bd=class{constructor(t){this._methodName=t}};var ya=class{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new B(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new B(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}};var KO=/^__.*__$/,rg=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return this.fieldMask!==null?new Qn(t,this.data,this.fieldMask,i,this.fieldTransforms):new pr(t,this.data,i,this.fieldTransforms)}};function Yx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}var og=class e{constructor(t,i,n,r,o,s){this.settings=t,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return vd(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(Yx(this.fu)&&KO.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},sg=class{constructor(t,i,n){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=n||Sd(t)}Fu(t,i,n,r=!1){return new og({fu:t,methodName:i,vu:n,path:Be.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Dg(e){let t=e._freezeSettings(),i=Sd(e._databaseId);return new sg(e._databaseId,!!t.ignoreUndefinedProperties,i)}function YO(e,t,i,n,r,o={}){let s=e.Fu(o.merge||o.mergeFields?2:0,t,i,r);Jx("Data must be an object, but it was:",s,n);let c=Xx(n,s),l,u;if(o.merge)l=new xn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let _=QO(t,p,i);if(!s.contains(_))throw new B(D.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ZO(f,_)||f.push(_)}l=new xn(f),u=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=s.fieldTransforms;return new rg(new nn(c),l,u)}function Qx(e,t,i,n=!1){return kg(i,e.Fu(n?4:3,t))}function kg(e,t){if(Zx(e=Vt(e)))return Jx("Unsupported field value:",t,e),Xx(e,t);if(e instanceof bd)return function(n,r){if(!Yx(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let c of n){let l=kg(c,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return N1(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=ue.fromDate(n);return{timestampValue:rd(r.serializer,o)}}if(n instanceof ue){let o=new ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:rd(r.serializer,o)}}if(n instanceof ya)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ba)return{bytesValue:wx(r.serializer,n._byteString)};if(n instanceof Oe){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${kd(n)}`)}(e,t)}function Xx(e,t){let i={};return Jw(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Co(e,(n,r)=>{let o=kg(r,t.pu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function Zx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ue||e instanceof ya||e instanceof ba||e instanceof Oe||e instanceof bd)}function Jx(e,t,i){if(!Zx(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=kd(i);throw n==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+n)}}function QO(e,t,i){if((t=Vt(t))instanceof va)return t._internalPath;if(typeof t=="string")return tI(e,t);throw vd("Field path arguments must be of type string or ",e,!1,void 0,i)}var XO=new RegExp("[~\\*/\\[\\]]");function tI(e,t,i){if(t.search(XO)>=0)throw vd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new va(...t.split("."))._internalPath}catch{throw vd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function vd(e,t,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,c=`Function ${t}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${r}`),l+=")"),new B(D.INVALID_ARGUMENT,c+e+l)}function ZO(e,t){return e.some(i=>i.isEqual(t))}var wa=class{constructor(t,i,n,r,o){this._firestore=t,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new ag(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let i=this._document.data.field(Od("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}},ag=class extends wa{data(){return super.data()}};function Od(e,t){return typeof t=="string"?tI(e,t):t instanceof va?t._internalPath:t._delegate._internalPath}function eI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new B(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xa=class{},Eo=class extends xa{};function nI(e,t,...i){let n=[];t instanceof xa&&n.push(t),n=n.concat(i),function(o){let s=o.filter(l=>l instanceof cg).length,c=o.filter(l=>l instanceof yd).length;if(s>1||s>0&&c>0)throw new B(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)e=r._apply(e);return e}var yd=class e extends Eo{constructor(t,i,n){super(),this._field=t,this._op=i,this._value=n,this.type="where"}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=this._parse(t);return aI(t._query,i),new Sn(t.firestore,t.converter,ip(t._query,i))}_parse(t){let i=Dg(t.firestore);return function(o,s,c,l,u,f,p){let _;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Xw(p,f);let T=[];for(let k of p)T.push(Qw(l,o,k));_={arrayValue:{values:T}}}else _=Qw(l,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Xw(p,f),_=Qx(c,s,p,f==="in"||f==="not-in");return re.create(u,f,_)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}};function iI(e,t,i){let n=t,r=Od("where",e);return yd._create(r,n,i)}var cg=class e extends xa{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new e(t,i)}_parse(t){let i=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:sn.create(i,this._getOperator())}_apply(t){let i=this._parse(t);return i.getFilters().length===0?t:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let l of c)aI(s,l),s=ip(s,l)}(t._query,i),new Sn(t.firestore,t.converter,ip(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var lg=class e extends Eo{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new e(t,i)}_apply(t){let i=function(r,o,s){if(r.startAt!==null)throw new B(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hr(o,s)}(t._query,this._field,this._direction);return new Sn(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new Kn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}};function rI(e,t="asc"){let i=t,n=Od("orderBy",e);return lg._create(n,i)}var dg=class e extends Eo{constructor(t,i,n){super(),this.type=t,this._limit=i,this._limitType=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){return new Sn(t.firestore,t.converter,Jl(t._query,this._limit,this._limitType))}};function oI(e){return WO("limit",e),dg._create("limit",e,"F")}var ug=class e extends Eo{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=JO(t,this.type,this._docOrFields,this._inclusive);return new Sn(t.firestore,t.converter,function(r,o){return new Kn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,i))}};function sI(...e){return ug._create("startAfter",e,!1)}function JO(e,t,i,n){if(i[0]=Vt(i[0]),i[0]instanceof wa)return function(o,s,c,l,u){if(!l)throw new B(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let p of uo(o))if(p.field.isKeyField())f.push(Xl(s,l.key));else{let _=l.data.field(p.field);if(Ed(_))throw new B(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(_===null){let T=p.field.canonicalString();throw new B(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${T}' (used as the orderBy) does not exist.`)}f.push(_)}return new Ii(f,u)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{let r=Dg(e.firestore);return function(s,c,l,u,f,p){let _=s.explicitOrderBy;if(f.length>_.length)throw new B(D.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let T=[];for(let k=0;k<f.length;k++){let O=f[k];if(_[k].field.isKeyField()){if(typeof O!="string")throw new B(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof O}`);if(!bg(s)&&O.indexOf("/")!==-1)throw new B(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${O}' contains a slash.`);let P=s.path.child(Ft.fromString(O));if(!W.isDocumentKey(P))throw new B(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);let H=new W(P);T.push(Xl(c,H))}else{let P=Qx(l,u,O);T.push(P)}}return new Ii(T,p)}(e._query,e.firestore._databaseId,r,t,i,n)}}function Qw(e,t,i){if(typeof(i=Vt(i))=="string"){if(i==="")throw new B(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bg(t)&&i.indexOf("/")!==-1)throw new B(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=t.path.child(Ft.fromString(i));if(!W.isDocumentKey(n))throw new B(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Xl(e,new W(n))}if(i instanceof Oe)return Xl(e,i._key);throw new B(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kd(i)}.`)}function Xw(e,t){if(!Array.isArray(e)||e.length===0)throw new B(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aI(e,t){let i=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new B(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new B(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}var hg=class{convertValue(t,i="none"){switch(ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Bt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(xi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw tt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){let n={};return Co(t,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(t){return new ya(Bt(t.latitude),Bt(t.longitude))}convertArray(t,i){return(t.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(t,i){switch(i){case"previous":let n=mg(t);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(la(t));default:return null}}convertTimestamp(t){let i=Wn(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){let n=Ft.fromString(t);Dt(Ax(n));let r=new Ql(n.get(1),n.get(3)),o=new W(n.popFirst(5));return r.isEqual(i)||Gn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function tM(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}var cr=class{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},wd=class extends wa{constructor(t,i,n,r,o,s){super(t,i,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let i=new fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){let n=this._document.data.field(Od("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},fo=class extends wd{data(t={}){return super.data(t)}},xd=class{constructor(t,i,n,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new cr(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(n=>{t.call(i,new fo(this._firestore,this._userDataWriter,n.key,n,new cr(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new B(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new fo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new cr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new fo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new cr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,f=-1;return c.type!==0&&(u=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:eM(c.type),doc:l,oldIndex:u,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function eM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}function cI(e){e=Cn(e,Oe);let t=Cn(e.firestore,Xn);return qO(Pd(t),e._key).then(i=>fI(t,e,i))}var Ia=class extends hg{constructor(t){super(),this.firestore=t}convertBytes(t){return new ba(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}};function lI(e){e=Cn(e,Sn);let t=Cn(e.firestore,Xn),i=Pd(t),n=new Ia(t);return eI(e._query),HO(i,e._query).then(r=>new xd(t,n,e,r))}function dI(e){return hI(Cn(e.firestore,Xn),[new ua(e._key,yi.none())])}function uI(e,t){let i=Cn(e.firestore,Xn),n=Rg(e),r=tM(e.converter,t);return hI(i,[YO(Dg(e.firestore),"addDoc",n._key,r,e.converter!==null,{}).toMutation(n._key,yi.exists(!1))]).then(()=>n)}function Pg(e,...t){var i,n,r;e=Vt(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||Yw(t[s])||(o=t[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Yw(t[s])){let p=t[s];t[s]=(i=p.next)===null||i===void 0?void 0:i.bind(p),t[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),t[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,u,f;if(e instanceof Oe)u=Cn(e.firestore,Xn),f=Td(e._key.path),l={next:p=>{t[s]&&t[s](fI(u,e,p))},error:t[s+1],complete:t[s+2]};else{let p=Cn(e,Sn);u=Cn(p.firestore,Xn),f=p._query;let _=new Ia(u);l={next:T=>{t[s]&&t[s](new xd(u,_,p,T))},error:t[s+1],complete:t[s+2]},eI(e._query)}return function(_,T,k,O){let P=new _a(O),H=new ga(T,P,k);return _.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Tg(yield gd(_),H)})),()=>{P.$a(),_.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Cg(yield gd(_),H)}))}}(Pd(u),f,c,l)}function hI(e,t){return function(n,r){let o=new rn;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return OO(yield $O(n),r,o)})),o.promise}(Pd(e),t)}function fI(e,t,i){let n=i.docs.get(t._key),r=new Ia(e);return new wd(e,r,t._key,n,new cr(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(r){To=r})(bn),gn(new Pe("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),c=new Xn(new Lm(n.getProvider("auth-internal")),new Bm(n.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(u.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),jt(ww,"4.6.3",t),jt(ww,"4.6.3","esm2017")})();var Md=function(){return Md=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Md.apply(this,arguments)};var oM={includeMetadataChanges:!1};function Og(e,t){return t===void 0&&(t=oM),new Re(function(i){var n=Pg(e,t,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:n}})}function mI(e){return Og(e,{includeMetadataChanges:!0})}function pI(e,t){return t===void 0&&(t={}),mI(e).pipe(lt(function(i){return Mg(i,t)}))}function Mg(e,t){var i;t===void 0&&(t={});var n=e.data(t);return!e.exists()||typeof n!="object"||n===null||!t.idField?n:Md(Md({},n),(i={},i[t.idField]=e.id,i))}function gI(e){return Og(e,{includeMetadataChanges:!0}).pipe(lt(function(t){return t.docs}))}function _I(e,t){return t===void 0&&(t={}),gI(e).pipe(lt(function(i){return i.map(function(n){return Mg(n,t)})}))}var an=class{constructor(t){return t}},bI="firestore",Ng=class{constructor(){return Gs(bI)}};var Fg=new z("angularfire2.firestore-instances");function sM(e,t){let i=pl(bI,e,t);return i&&new an(i)}function aM(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new an(n)}}var cM={provide:Ng,deps:[[new Ee,Fg]]},lM={provide:an,useFactory:sM,deps:[[new Ee,Fg],Bn]};function vI(e,...t){return jt("angularfire",tr.full,"fst"),Fe([lM,cM,{provide:Fg,useFactory:aM(e),multi:!0,deps:[$,Rt,eo,er,[new Ee,ea],[new Ee,to],...t]}])}var Lg=Yt(_I,!0);var yI=Yt(pI,!0);var wI=Yt(uI,!0);var _r=Yt(Gx,!0);var xI=Yt(dI,!0);var Sa=Yt(Rg,!0);var II=Yt(cI,!0);var Nd=Yt(lI,!0);var EI=Yt(Wx,!0);var Fd=Yt(oI,!0);var Ld=Yt(rI,!0);var br=Yt(nI,!0);var Vg=Yt(sI,!0);var Vd=Yt(iI,!0);var kI="firebasestorage.googleapis.com",PI="storageBucket",dM=2*60*1e3,uM=10*60*1e3;var $t=class e extends Ae{constructor(t,i,n=0){super(jg(t),`Firebase Storage: ${i} (${jg(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return jg(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Qt=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(Qt||{});function jg(e){return"storage/"+e}function Gg(){let e="An unknown error occurred, please check the error payload for server response.";return new $t(Qt.UNKNOWN,e)}function hM(e){return new $t(Qt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function fM(e){return new $t(Qt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mM(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new $t(Qt.UNAUTHENTICATED,e)}function pM(){return new $t(Qt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gM(e){return new $t(Qt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function _M(){return new $t(Qt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bM(){return new $t(Qt.CANCELED,"User canceled the upload/download.")}function vM(e){return new $t(Qt.INVALID_URL,"Invalid URL '"+e+"'.")}function yM(e){return new $t(Qt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function wM(){return new $t(Qt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+PI+"' property when initializing the app?")}function xM(){return new $t(Qt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function IM(){return new $t(Qt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function EM(e){return new $t(Qt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bg(e){return new $t(Qt.INVALID_ARGUMENT,e)}function OI(){return new $t(Qt.APP_DELETED,"The Firebase app was deleted.")}function TM(e){return new $t(Qt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Da(e,t){return new $t(Qt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ra(e){throw new $t(Qt.INTERNAL_ERROR,"Internal error: "+e)}var cn=class e{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let n;try{n=e.makeFromUrl(t,i)}catch{return new e(t,"")}if(n.path==="")return n;throw yM(t)}static makeFromUrl(t,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(st){st.path.charAt(st.path.length-1)==="/"&&(st.path_=st.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function u(st){st.path_=decodeURIComponent(st.path)}let f="v[A-Za-z0-9_]+",p=i.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",T=new RegExp(`^https?://${p}/${f}/b/${r}/o${_}`,"i"),k={bucket:1,path:3},O=i===kI?"(?:storage.googleapis.com|storage.cloud.google.com)":i,P="([^?#]*)",H=new RegExp(`^https?://${O}/${r}/${P}`,"i"),Z=[{regex:c,indices:l,postModify:o},{regex:T,indices:k,postModify:u},{regex:H,indices:{bucket:1,path:2},postModify:u}];for(let st=0;st<Z.length;st++){let Xt=Z[st],bt=Xt.regex.exec(t);if(bt){let x=bt[Xt.indices.bucket],g=bt[Xt.indices.path];g||(g=""),n=new e(x,g),Xt.postModify(n);break}}if(n==null)throw vM(t);return n}},zg=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function CM(e,t,i){let n=1,r=null,o=null,s=!1,c=0;function l(){return c===2}let u=!1;function f(...P){u||(u=!0,t.apply(null,P))}function p(P){r=setTimeout(()=>{r=null,e(T,l())},P)}function _(){o&&clearTimeout(o)}function T(P,...H){if(u){_();return}if(P){_(),f.call(null,P,...H);return}if(l()||s){_(),f.call(null,P,...H);return}n<64&&(n*=2);let Z;c===1?(c=2,Z=0):Z=(n+Math.random())*1e3,p(Z)}let k=!1;function O(P){k||(k=!0,_(),!u&&(r!==null?(P||(c=2),clearTimeout(r),p(0)):P||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,O(!0)},i),O}function AM(e){e(!1)}function SM(e){return e!==void 0}function RM(e){return typeof e=="object"&&!Array.isArray(e)}function Wg(e){return typeof e=="string"||e instanceof String}function TI(e){return Kg()&&e instanceof Blob}function Kg(){return typeof Blob<"u"}function CI(e,t,i,n){if(n<t)throw Bg(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>i)throw Bg(`Invalid value for '${e}'. Expected ${i} or less.`)}function Yg(e,t,i){let n=t;return i==null&&(n=`https://${t}`),`${i}://${n}/v0${e}`}function MI(e){let t=encodeURIComponent,i="?";for(let n in e)if(e.hasOwnProperty(n)){let r=t(n)+"="+t(e[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var Ro=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(Ro||{});function DM(e,t){let i=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return i||r||o}var $g=class{constructor(t,i,n,r,o,s,c,l,u,f,p,_=!0){this.url_=t,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=p,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,k)=>{this.resolve_=T,this.reject_=k,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new So(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let l=c.loaded,u=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===Ro.NO_ERROR,l=o.getStatus();if(!c||DM(l,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===Ro.ABORT;n(!1,new So(!1,null,f));return}let u=this.successCodes_.indexOf(l)!==-1;n(!0,new So(u,o))})},i=(n,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());SM(l)?o(l):o()}catch(l){s(l)}else if(c!==null){let l=Gg();l.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,l)):s(l)}else if(r.canceled){let l=this.appDelete_?OI():bM();s(l)}else{let l=_M();s(l)}};this.canceled_?i(!1,new So(!1,null,!0)):this.backoffId_=CM(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&AM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},So=class{constructor(t,i,n){this.wasSuccessCode=t,this.connection=i,this.canceled=!!n}};function kM(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function PM(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function OM(e,t){t&&(e["X-Firebase-GMPID"]=t)}function MM(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function NM(e,t,i,n,r,o,s=!0){let c=MI(e.urlParams),l=e.url+c,u=Object.assign({},e.headers);return OM(u,t),kM(u,i),PM(u,o),MM(u,n),new $g(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}function FM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LM(...e){let t=FM();if(t!==void 0){let i=new t;for(let n=0;n<e.length;n++)i.append(e[n]);return i.getBlob()}else{if(Kg())return new Blob(e);throw new $t(Qt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function VM(e,t,i){return e.webkitSlice?e.webkitSlice(t,i):e.mozSlice?e.mozSlice(t,i):e.slice?e.slice(t,i):null}function UM(e){if(typeof atob>"u")throw EM("base-64");return atob(e)}var Rn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},ka=class{constructor(t,i){this.data=t,this.contentType=i||null}};function jM(e,t){switch(e){case Rn.RAW:return new ka(NI(t));case Rn.BASE64:case Rn.BASE64URL:return new ka(FI(e,t));case Rn.DATA_URL:return new ka(zM(t),$M(t))}throw Gg()}function NI(e){let t=[];for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<e.length-1&&(e.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{let o=n,s=e.charCodeAt(++i);n=65536|(o&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function BM(e){let t;try{t=decodeURIComponent(e)}catch{throw Da(Rn.DATA_URL,"Malformed data URL.")}return NI(t)}function FI(e,t){switch(e){case Rn.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Da(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Rn.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Da(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=UM(t)}catch(r){throw r.message.includes("polyfill")?r:Da(e,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var jd=class{constructor(t){this.base64=!1,this.contentType=null;let i=t.match(/^data:([^,]+)?,/);if(i===null)throw Da(Rn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=qM(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}};function zM(e){let t=new jd(e);return t.base64?FI(Rn.BASE64,t.rest):BM(t.rest)}function $M(e){return new jd(e).contentType}function qM(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}var Bd=class e{constructor(t,i){let n=0,r="";TI(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,i){if(TI(this.data_)){let n=this.data_,r=VM(n,t,i);return r===null?null:new e(r)}else{let n=new Uint8Array(this.data_.buffer,t,i-t);return new e(n,!0)}}static getBlob(...t){if(Kg()){let i=t.map(n=>n instanceof e?n.data_:n);return new e(LM.apply(null,i))}else{let i=t.map(s=>Wg(s)?jM(Rn.RAW,s).data:s.data_),n=0;i.forEach(s=>{n+=s.byteLength});let r=new Uint8Array(n),o=0;return i.forEach(s=>{for(let c=0;c<s.length;c++)r[o++]=s[c]}),new e(r,!0)}}uploadData(){return this.data_}};function LI(e){let t;try{t=JSON.parse(e)}catch{return null}return RM(t)?t:null}function HM(e){if(e.length===0)return null;let t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function GM(e,t){let i=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?i:e+"/"+i}function VI(e){let t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function WM(e,t){return t}var he=class{constructor(t,i,n,r){this.server=t,this.local=i||t,this.writable=!!n,this.xform=r||WM}},Ud=null;function KM(e){return!Wg(e)||e.length<2?e:VI(e)}function UI(){if(Ud)return Ud;let e=[];e.push(new he("bucket")),e.push(new he("generation")),e.push(new he("metageneration")),e.push(new he("name","fullPath",!0));function t(o,s){return KM(s)}let i=new he("name");i.xform=t,e.push(i);function n(o,s){return s!==void 0?Number(s):s}let r=new he("size");return r.xform=n,e.push(r),e.push(new he("timeCreated")),e.push(new he("updated")),e.push(new he("md5Hash",null,!0)),e.push(new he("cacheControl",null,!0)),e.push(new he("contentDisposition",null,!0)),e.push(new he("contentEncoding",null,!0)),e.push(new he("contentLanguage",null,!0)),e.push(new he("contentType",null,!0)),e.push(new he("metadata","customMetadata",!0)),Ud=e,Ud}function YM(e,t){function i(){let n=e.bucket,r=e.fullPath,o=new cn(n,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:i})}function QM(e,t,i){let n={};n.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];n[s.local]=s.xform(n,t[s.server])}return YM(n,e),n}function jI(e,t,i){let n=LI(t);return n===null?null:QM(e,n,i)}function XM(e,t,i,n){let r=LI(t);if(r===null||!Wg(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let f=e.bucket,p=e.fullPath,_="/b/"+s(f)+"/o/"+s(p),T=Yg(_,i,n),k=MI({alt:"media",token:u});return T+k})[0]}function ZM(e,t){let i={},n=t.length;for(let r=0;r<n;r++){let o=t[r];o.writable&&(i[o.server]=e[o.local])}return JSON.stringify(i)}var zd=class{constructor(t,i,n,r){this.url=t,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function BI(e){if(!e)throw Gg()}function JM(e,t){function i(n,r){let o=jI(e,r,t);return BI(o!==null),o}return i}function tN(e,t){function i(n,r){let o=jI(e,r,t);return BI(o!==null),XM(o,r,e.host,e._protocol)}return i}function zI(e){function t(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=pM():r=mM():i.getStatus()===402?r=fM(e.bucket):i.getStatus()===403?r=gM(e.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return t}function eN(e){let t=zI(e);function i(n,r){let o=t(n,r);return n.getStatus()===404&&(o=hM(e.path)),o.serverResponse=r.serverResponse,o}return i}function nN(e,t,i){let n=t.fullServerUrl(),r=Yg(n,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,c=new zd(r,o,tN(e,i),s);return c.errorHandler=eN(t),c}function iN(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function rN(e,t,i){let n=Object.assign({},i);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=iN(null,t)),n}function oN(e,t,i,n,r){let o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let Z="";for(let st=0;st<2;st++)Z=Z+Math.random().toString().slice(2);return Z}let l=c();s["Content-Type"]="multipart/related; boundary="+l;let u=rN(t,n,r),f=ZM(u,i),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,_=`\r
--`+l+"--",T=Bd.getBlob(p,n,_);if(T===null)throw xM();let k={name:u.fullPath},O=Yg(o,e.host,e._protocol),P="POST",H=e.maxUploadRetryTime,K=new zd(O,P,JM(e,i),H);return K.urlParams=k,K.headers=s,K.body=T.uploadData(),K.errorHandler=zI(t),K}var Sz=256*1024;var AI=null,qg=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ro.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ro.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ro.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,n,r){if(this.sent_)throw Ra("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ra("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ra("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ra("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ra("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},Hg=class extends qg{initXhr(){this.xhr_.responseType="text"}};function $I(){return AI?AI():new Hg}var Do=class e{constructor(t,i){this._service=t,i instanceof cn?this._location=i:this._location=cn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new e(t,i)}get root(){let t=new cn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VI(this._location.path)}get storage(){return this._service}get parent(){let t=HM(this._location.path);if(t===null)return null;let i=new cn(this._location.bucket,t);return new e(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw TM(t)}};function sN(e,t,i){e._throwIfRoot("uploadBytes");let n=oN(e.storage,e._location,UI(),new Bd(t,!0),i);return e.storage.makeRequestWithTokens(n,$I).then(r=>({metadata:r,ref:e}))}function aN(e){e._throwIfRoot("getDownloadURL");let t=nN(e.storage,e._location,UI());return e.storage.makeRequestWithTokens(t,$I).then(i=>{if(i===null)throw IM();return i})}function cN(e,t){let i=GM(e._location.path,t),n=new cn(e._location.bucket,i);return new Do(e.storage,n)}function lN(e){return/^[A-Za-z]+:\/\//.test(e)}function dN(e,t){return new Do(e,t)}function qI(e,t){if(e instanceof Pa){let i=e;if(i._bucket==null)throw wM();let n=new Do(i,i._bucket);return t!=null?qI(n,t):n}else return t!==void 0?cN(e,t):e}function uN(e,t){if(t&&lN(t)){if(e instanceof Pa)return dN(e,t);throw Bg("To use ref(service, url), the first argument must be a Storage instance.")}else return qI(e,t)}function SI(e,t){let i=t?.[PI];return i==null?null:cn.makeFromBucketSpec(i,e)}function hN(e,t,i,n={}){e.host=`${t}:${i}`,e._protocol="http";let{mockUserToken:r}=n;r&&(e._overrideAuthToken=typeof r=="string"?r:dl(r,e.app.options.projectId))}var Pa=class{constructor(t,i,n,r,o){this.app=t,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=kI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dM,this._maxUploadRetryTime=uM,this._requests=new Set,r!=null?this._bucket=cn.makeFromBucketSpec(r,this._host):this._bucket=SI(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=cn.makeFromBucketSpec(this._url,t):this._bucket=SI(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){CI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){CI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let i=yield t.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Do(this,t)}_makeRequest(t,i,n,r,o=!0){if(this._deleted)return new zg(OI());{let s=NM(t,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,i){return b(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,n,r).getPromise()})}},RI="@firebase/storage",DI="0.12.5";var HI="storage";function GI(e,t,i){return e=Vt(e),sN(e,t,i)}function WI(e){return e=Vt(e),aN(e)}function KI(e,t){return e=Vt(e),uN(e,t)}function YI(e=_i(),t){e=Vt(e);let n=Zi(e,HI).getImmediate({identifier:t}),r=ll("storage");return r&&fN(n,...r),n}function fN(e,t,i,n={}){hN(e,t,i,n)}function mN(e,{instanceIdentifier:t}){let i=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new Pa(i,n,r,t,bn)}function pN(){gn(new Pe(HI,mN,"PUBLIC").setMultipleInstances(!0)),jt(RI,DI,""),jt(RI,DI,"esm2017")}pN();var gN=["mat-button",""],_N=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],bN=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var vN=new z("MAT_BUTTON_CONFIG");var yN=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],wN=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=F(Qr),this._rippleLoader=F(Zy),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=F(vN,{optional:!0}),l=n.nativeElement,u=l.classList;this.disabledInteractive=c?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:f,mdcClasses:p}of yN)l.hasAttribute(f)&&u.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){Pr()},t.\u0275dir=X({type:t,inputs:{color:"color",disableRipple:[wt.HasDecoratorInputTransform,"disableRipple","disableRipple",Qe],disabled:[wt.HasDecoratorInputTransform,"disabled","disabled",Qe],ariaDisabled:[wt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Qe],disabledInteractive:[wt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Qe]},features:[Ln]});let e=t;return e})();var ko=(()=>{let t=class t extends wN{constructor(n,r,o,s){super(n,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(R(ht),R(vt),R($),R(ke,8))},t.\u0275cmp=at({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Gt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),_c(o.color?"mat-"+o.color:""),At("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Ht,ct],attrs:gN,ngContentSelectors:bN,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&($e(_N),ft(0,"span",0),Ot(1),V(2,"span",1),Ot(3,1),j(),Ot(4,2),ft(5,"span",2)(6,"span",3)),r&2&&At("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var Oa=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,sl,ee]});let e=t;return e})();var Ma=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Zn=class extends Ma{constructor(t,i,n,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Ci=class extends Ma{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Qg=class extends Ma{constructor(t){super(),this.element=t instanceof ht?t.nativeElement:t}},Ai=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Zn)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ci)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Qg)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var $d=class extends Ai{constructor(t,i,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Rt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Si=(()=>{let t=class t extends Ai{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Jt,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(l,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),c=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=n,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};t.\u0275fac=function(r){return new(r||t)(R(mc),R(Mr),R(Q))},t.\u0275dir=X({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[wt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Ht]});let e=t;return e})();var xN=20,XI=(()=>{let t=class t{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new J,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=xN){return this._platform.isBrowser?new Re(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(Gu(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Lt(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=Ge(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return Hu(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(S($),S(vt),S(Q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var IN=20,Xg=(()=>{let t=class t{constructor(n,r,o){this._platform=n,this._change=new J,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),c=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:c,left:l}}change(n=IN){return n>0?this._change.pipe(Gu(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(S(vt),S($),S(Q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ZI=Sy(),Zg=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Kt(-this._previousScrollPosition.left),t.style.top=Kt(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZI&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZI&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Jg=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Lt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},qd=class{enable(){}disable(){}attach(){}};function t_(e,t){return t.some(i=>{let n=e.bottom<i.top,r=e.top>i.bottom,o=e.right<i.left,s=e.left>i.right;return n||r||o||s})}function JI(e,t){return t.some(i=>{let n=e.top<i.top,r=e.bottom>i.bottom,o=e.left<i.left,s=e.right>i.right;return n||r||o||s})}var e_=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();t_(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},TN=(()=>{let t=class t{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new qd,this.close=c=>new Jg(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Zg(this._viewportRuler,this._document),this.reposition=c=>new e_(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}};t.\u0275fac=function(r){return new(r||t)(S(XI),S(Xg),S($),S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yr=class{constructor(t){if(this.scrollStrategy=new qd,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var n_=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var rE=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(S(Q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),CN=(()=>{let t=class t extends rE{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){let l=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(S(Q),S($,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),AN=(()=>{let t=class t extends rE{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Je(s)},this._clickListener=s=>{let c=Je(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let u=this._attachedOverlays.slice();for(let f=u.length-1;f>-1;f--){let p=u[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(c)||p.overlayElement.contains(l))break;let _=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>_.next(s)):_.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(S(Q),S(vt),S($,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Po=(()=>{let t=class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||js()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),js()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(S(Q),S(vt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Jn=class{constructor(t,i,n,r,o,s,c,l,u,f=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new J,this._attachments=new J,this._detachments=new J,this._locationChanges=Mn.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new J,this._outsidePointerEvents=new J,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_e(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=M(M({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Et(M({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=Kt(this._config.width),t.height=Kt(this._config.height),t.minWidth=Kt(this._config.minWidth),t.minHeight=Kt(this._config.minHeight),t.maxWidth=Kt(this._config.maxWidth),t.maxHeight=Kt(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let r=Wr(i||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(le(Sr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},tE="cdk-overlay-connected-position-bounding-box",SN=/([A-Za-z%]+)$/,i_=class{get positions(){return this._preferredPositions}constructor(t,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new J,this._resizeSubscription=Mn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(tE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let c of this._preferredPositions){let l=this._getOriginPoint(t,r,c),u=this._getOverlayPoint(l,i,c),f=this._getOverlayFit(u,i,n,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,u,n)){o.push({position:c,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:u,originPoint:l,position:c,overlayRect:i})}if(o.length){let c=null,l=-1;for(let u of o){let f=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);f>l&&(l=f,c=u)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:c}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,n,r){let o=nE(i),{x:s,y:c}=t,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(s+=l),u&&(c+=u);let f=0-s,p=s+o.width-n.width,_=0-c,T=c+o.height-n.height,k=this._subtractOverflows(o.width,f,p),O=this._subtractOverflows(o.height,_,T),P=k*O;return{visibleArea:P,isCompletelyWithinViewport:o.width*o.height===P,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:k==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=eE(this._overlayRef.getConfig().minHeight),c=eE(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,u=t.fitsInViewportHorizontally||c!=null&&c<=o;return l&&u}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=nE(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),c=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),u=Math.max(o.left-n.left-t.x,0),f=0,p=0;return r.width<=o.width?f=u||-s:f=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?p=l||-c:p=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:f,y:p},{x:t.x+f,y:t.y+p}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!RN(this._lastScrollVisibility,n)){let r=new n_(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,r=this._isRtl(),o,s,c;if(i.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")c=n.height-t.y+this._viewportMargin*2,o=n.height-c+this._viewportMargin;else{let T=Math.min(n.bottom-t.y+n.top,t.y),k=this._lastBoundingBoxSize.height;o=T*2,s=t.y-T,o>k&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-k/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,u=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,f,p,_;if(u)_=n.width-t.x+this._viewportMargin*2,f=t.x-this._viewportMargin;else if(l)p=t.x,f=n.right-t.x;else{let T=Math.min(n.right-t.x+n.left,t.x),k=this._lastBoundingBoxSize.width;f=T*2,p=t.x-T,f>k&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-k/2)}return{top:s,left:p,bottom:c,right:_,width:f,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=Kt(n.height),r.top=Kt(n.top),r.bottom=Kt(n.bottom),r.width=Kt(n.width),r.left=Kt(n.left),r.right=Kt(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=Kt(o)),s&&(r.maxWidth=Kt(s))}this._lastBoundingBoxSize=n,vr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){vr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();vr(n,this._getExactOverlayY(i,t,f)),vr(n,this._getExactOverlayX(i,t,f))}else n.position="static";let c="",l=this._getOffset(i,"x"),u=this._getOffset(i,"y");l&&(c+=`translateX(${l}px) `),u&&(c+=`translateY(${u}px)`),n.transform=c.trim(),s.maxHeight&&(r?n.maxHeight=Kt(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=Kt(s.maxWidth):o&&(n.maxWidth="")),vr(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=Kt(o.y);return r}_getExactOverlayX(t,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=Kt(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JI(t,n),isOriginOutsideView:t_(t,n),isOverlayClipped:JI(i,n),isOverlayOutsideView:t_(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Wr(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof ht)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function vr(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function eE(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(SN);return!i||i==="px"?parseFloat(t):null}return e||null}function nE(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function RN(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var iE="cdk-global-overlay-wrapper",r_=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(iE),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",T="",k="",O="";l?O="flex-start":f==="center"?(O="center",_?k=p:T=p):_?f==="left"||f==="end"?(O="flex-end",T=p):(f==="right"||f==="start")&&(O="flex-start",k=p):f==="left"||f==="start"?(O="flex-start",T=p):(f==="right"||f==="end")&&(O="flex-end",k=p),t.position=this._cssPosition,t.marginLeft=l?"0":T,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":k,i.justifyContent=O,i.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(iE),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},DN=(()=>{let t=class t{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new r_}flexibleConnectedTo(n){return new i_(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(S(Xg),S(Q),S(vt),S(Po))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),kN=0,Dn=(()=>{let t=class t{constructor(n,r,o,s,c,l,u,f,p,_,T,k){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=l,this._ngZone=u,this._document=f,this._directionality=p,this._location=_,this._outsideClickDispatcher=T,this._animationsModuleType=k}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),c=new yr(n);return c.direction=c.direction||this._directionality.value,new Jn(s,r,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${kN++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Bi)),new $d(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(S(TN),S(Po),S(mc),S(DN),S(CN),S(Rt),S($),S(Q),S(Ki),S(Ve),S(AN),S(ke,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function PN(e,t){if(e&1){let i=ci();V(0,"div",1)(1,"button",2),St("click",function(){si(i);let r=te();return ai(r.action())}),Y(2),j()()}if(e&2){let i=te();nt(2),Vn(" ",i.data.action," ")}}var ON=["label"];function MN(e,t){}var NN=Math.pow(2,31)-1,Fa=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new J,this._afterOpened=new J,this._onAction=new J,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,NN))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},sE=new z("MatSnackBarData"),Oo=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},FN=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),LN=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),VN=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),UN=(()=>{let t=class t{constructor(n,r){this.snackBarRef=n,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(R(Fa),R(sE))},t.\u0275cmp=at({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[ct],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(V(0,"div",0),Y(1),j(),Ct(2,PN,3,1,"div",1)),r&2&&(nt(),Vn(" ",o.data.message,`
`),nt(),de(2,o.hasAction?2:-1))},dependencies:[ko,FN,LN,VN],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),jN={snackBarState:Tc("state",[us("void, hidden",zi({transform:"scale(0.8)",opacity:0})),us("visible",zi({transform:"scale(1)",opacity:1})),hs("* => visible",ds("150ms cubic-bezier(0, 0, 0.2, 1)")),hs("* => void, * => hidden",ds("75ms cubic-bezier(0.4, 0.0, 1, 1)",zi({opacity:0})))])},BN=0,zN=(()=>{let t=class t extends Ai{constructor(n,r,o,s,c){super(),this._ngZone=n,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=c,this._document=F(Q),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new J,this._onExit=new J,this._onEnter=new J,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${BN++}`,this.attachDomPortal=l=>{this._assertNotAttached();let u=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),u},c.politeness==="assertive"&&!c.announcementMessage?this._live="assertive":c.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}onAnimationEnd(n){let{fromState:r,toState:o}=n;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(c=>n.classList.add(c)):n.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");this._trackedModals.add(s),c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(R($),R(ht),R(qe),R(vt),R(Oo))},t.\u0275cmp=at({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Te(Si,7),Te(ON,7)),r&2){let s;Mt(s=Nt())&&(o._portalOutlet=s.first),Mt(s=Nt())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&Qb("@state.done",function(c){return o.onAnimationEnd(c)}),r&2&&Yb("@state",o._animationState)},standalone:!0,features:[Ht,ct],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(V(0,"div",1)(1,"div",2,0)(3,"div",3),Ct(4,MN,0,0,"ng-template",4),j(),ft(5,"div"),j()()),r&2&&(nt(5),Gt("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[Si],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[jN.snackBarState]}});let e=t;return e})();function $N(){return new Oo}var qN=new z("mat-snack-bar-default-options",{providedIn:"root",factory:$N}),Hd=(()=>{let t=class t{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,r,o,s,c,l){this._overlay=n,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=UN,this.snackBarContainerComponent=zN,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",o){let s=M(M({},this._defaultConfig),o);return s.data={message:n,action:r},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=Rt.create({parent:o||this._injector,providers:[{provide:Oo,useValue:r}]}),c=new Zn(this.snackBarContainerComponent,r.viewContainerRef,s),l=n.attach(c);return l.instance.snackBarConfig=r,l.instance}_attach(n,r){let o=M(M(M({},new Oo),this._defaultConfig),r),s=this._createOverlay(o),c=this._attachSnackBarContainer(s,o),l=new Fa(c,s);if(n instanceof Ui){let u=new Ci(n,null,{$implicit:o.data,snackBarRef:l});l.instance=c.attachTemplatePortal(u)}else{let u=this._createInjector(o,l),f=new Zn(n,void 0,u),p=c.attachComponentPortal(f);l.instance=p.instance}return this._breakpointObserver.observe(Oy.HandsetPortrait).pipe(le(s.detachments())).subscribe(u=>{s.overlayElement.classList.toggle(this.handsetCssClass,u.matches)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration))}_createOverlay(n){let r=new yr;r.direction=n.direction;let o=this._overlay.position().global(),s=n.direction==="rtl",c=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!c&&n.horizontalPosition!=="center";return c?o.left("0"):l?o.right("0"):o.centerHorizontally(),n.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(n,r){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Rt.create({parent:o||this._injector,providers:[{provide:Fa,useValue:r},{provide:sE,useValue:n.data}]})}};t.\u0275fac=function(r){return new(r||t)(S(Dn),S(Uy),S(Rt),S(Jc),S(t,12),S(qN))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Mo=(()=>{let t=class t{constructor(n,r){this.firestore=n,this._snackBar=r}openSnackBar(n,r){this._snackBar.open(n,r)}getNews(n,r=null,o=10){console.log("getNews called");let s=_r(this.firestore,`institutes/${n}/newsEvents`),c;return r?c=br(s,Ld("date","desc"),Vg(r),Fd(o)):c=br(s,Ld("date","desc"),Fd(o)),Lg(c,{idField:"id"})}getMoreNews(n,r,o=10){return b(this,null,function*(){let s=_r(this.firestore,`institutes/${n}/newsEvents`),c=br(s,Ld("date","desc"),Vg(r),Fd(o));return console.log("Fetching more news events..."),(yield Nd(c)).docs.map(u=>M({id:u.id},u.data()))})}addNews(n,r){return b(this,null,function*(){try{console.log(r);let o=_r(this.firestore,`institutes/${n}/newsEvents`);yield wI(o,r),console.log("News added successfully")}catch(o){throw this.openSnackBar("Failed to add news, please try again later","Cancel"),console.error("Error adding news:",o),new Error("Failed to add news. Please try again later.")}})}deleteNews(n,r){let o=Sa(this.firestore,`institutes/${n}/newsEvents/${r}`);return xI(o)}getNewsEventById(n,r){let o=Sa(this.firestore,`institutes/${n}/newsEvents/${r}`);return console.log(o.id),yI(o,{idField:"id"})}getNewsByTitle(n,r){let o=_r(this.firestore,`institutes/${n}/newsEvents`),s=br(o,Vd("title","==",r));return Lg(s,{idField:"id"})}uploadImage(n){return b(this,null,function*(){let r=YI(),o=KI(r,`news-images/${n.name}`);return yield GI(o,n),yield WI(o)})}};t.\u0275fac=function(r){return new(r||t)(S(an),S(Hd))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ri=(()=>{let t=class t{constructor(n,r){this.firestore=n,this.platformId=r,this.isLocalStorageAvailable=this.checkLocalStorageAvailability()}checkLocalStorageAvailability(){if(Ic(this.platformId))try{let n="test";return localStorage.setItem(n,"testValue"),localStorage.removeItem(n),!0}catch{return!1}return!1}getCustomization(n){return b(this,null,function*(){console.log("getCustomization called");let r=this.getCachedCustomization(n);if(r)return r;let o=_r(this.firestore,"registrations"),s=br(o,Vd("subdomain","==",n)),c=yield Nd(s);if(c.empty)throw new Error("Subdomain not registered");console.error(`registration found for subdomain: ${n}`);let l=c.docs.map(u=>u.data())[0];return this.cacheCustomization(n,l),l})}getCachedCustomization(n){if(this.isLocalStorageAvailable){let r=localStorage.getItem(`customization_${n}`);return r?JSON.parse(r):null}return null}cacheCustomization(n,r){this.isLocalStorageAvailable&&localStorage.setItem(`customization_${n}`,JSON.stringify(r))}getSubdomainFromUrl(){return window.location.host.split(".")[0]}};t.\u0275fac=function(r){return new(r||t)(S(an),S(Le))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var cE=(()=>{let t=class t{constructor(n,r,o,s){this.route=n,this.router=r,this.newsService=o,this.customizatonservice=s,this.title=""}ngOnInit(){let n=this.route.snapshot.paramMap.get("title");n?(this.title=n,this.newsService.getNewsEventById(this.customizatonservice.getSubdomainFromUrl(),this.decodeTitle(n)).subscribe(r=>{this.newsItem=r})):this.router.navigate(["/news"])}decodeTitle(n){return console.log(n.split("-").pop()),n.split("-").pop()}};t.\u0275fac=function(r){return new(r||t)(R(Un),R(be),R(Mo),R(Ri))},t.\u0275cmp=at({type:t,selectors:[["app-view-news"]],standalone:!0,features:[ct],decls:9,vars:6,consts:[[1,"news-article-container"],[1,"news-article-header"],[1,"news-article-date"],[1,"news-article-content",3,"innerHTML"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1)(2,"h1"),Y(3),j(),V(4,"p",2),Y(5),bc(6,"date"),j()(),ft(7,"mat-divider")(8,"div",3),j()),r&2&&(nt(3),un(o.newsItem==null?null:o.newsItem.title),nt(2),un(Jb(6,3,o.newsItem==null||o.newsItem.date==null?null:o.newsItem.date.toDate(),"fullDate")),nt(3),Wt("innerHTML",o.newsItem==null?null:o.newsItem.content,kr))},dependencies:[Xe,xc,Xr,mi],styles:[".news-article-container[_ngcontent-%COMP%]{max-width:800px;min-height:60vh;margin:120px auto;padding:20px;font-family:Georgia,Times New Roman,Times,serif}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]{margin-bottom:40px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;line-height:1.2;margin-bottom:10px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   .news-article-date[_ngcontent-%COMP%]{color:#888;font-size:.9em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]{font-size:1.2em;line-height:1.6;color:#333}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:20px 0}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px;background:#f9f9f9;border-left:5px solid #ccc;font-style:italic}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f5f5f5;padding:15px;border-radius:5px;overflow-x:auto;margin-bottom:20px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f4f4f4;padding:2px 4px;border-radius:4px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:.5em}.mat-divider[_ngcontent-%COMP%]{margin:12px 0}"]});let e=t;return e})();var gE=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(R(Or),R(ht))},t.\u0275dir=X({type:t});let e=t;return e})(),HN=(()=>{let t=class t extends gE{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(t)))(o||t)}})(),t.\u0275dir=X({type:t,features:[Ht]});let e=t;return e})(),_E=new z("");var GN={provide:_E,useExisting:Vi(()=>nu),multi:!0};function WN(){let e=Fr()?Fr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var KN=new z(""),nu=(()=>{let t=class t extends gE{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!WN())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(R(Or),R(ht),R(KN,8))},t.\u0275dir=X({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&St("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[Ce([GN]),Ht]});let e=t;return e})();function Di(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function bE(e){return e!=null&&typeof e.length=="number"}var ja=new z(""),h_=new z(""),YN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Yd=class{static min(t){return QN(t)}static max(t){return XN(t)}static required(t){return vE(t)}static requiredTrue(t){return ZN(t)}static email(t){return JN(t)}static minLength(t){return tF(t)}static maxLength(t){return yE(t)}static pattern(t){return eF(t)}static nullValidator(t){return Qd(t)}static compose(t){return CE(t)}static composeAsync(t){return AE(t)}};function QN(e){return t=>{if(Di(t.value)||Di(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function XN(e){return t=>{if(Di(t.value)||Di(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function vE(e){return Di(e.value)?{required:!0}:null}function ZN(e){return e.value===!0?null:{required:!0}}function JN(e){return Di(e.value)||YN.test(e.value)?null:{email:!0}}function tF(e){return t=>Di(t.value)||!bE(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function yE(e){return t=>bE(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function eF(e){if(!e)return Qd;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(Di(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function Qd(e){return null}function wE(e){return e!=null}function xE(e){return yc(e)?Zt(e):e}function IE(e){let t={};return e.forEach(i=>{t=i!=null?M(M({},t),i):t}),Object.keys(t).length===0?null:t}function EE(e,t){return t.map(i=>i(e))}function nF(e){return!e.validate}function TE(e){return e.map(t=>nF(t)?t:i=>t.validate(i))}function CE(e){if(!e)return null;let t=e.filter(wE);return t.length==0?null:function(i){return IE(EE(i,t))}}function f_(e){return e!=null?CE(TE(e)):null}function AE(e){if(!e)return null;let t=e.filter(wE);return t.length==0?null:function(i){let n=EE(i,t).map(xE);return Vb(n).pipe(lt(IE))}}function m_(e){return e!=null?AE(TE(e)):null}function lE(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function SE(e){return e._rawValidators}function RE(e){return e._rawAsyncValidators}function c_(e){return e?Array.isArray(e)?e:[e]:[]}function Xd(e,t){return Array.isArray(e)?e.includes(t):e===t}function dE(e,t){let i=c_(t);return c_(e).forEach(r=>{Xd(i,r)||i.push(r)}),i}function uE(e,t){return c_(t).filter(i=>!Xd(e,i))}var Zd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=f_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=m_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},ki=class extends Zd{get formDirective(){return null}get path(){return null}},wr=class extends Zd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Jd=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},iF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},g$=Et(M({},iF),{"[class.ng-submitted]":"isSubmitted"}),DE=(()=>{let t=class t extends Jd{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(R(wr,2))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&At("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ht]});let e=t;return e})(),kE=(()=>{let t=class t extends Jd{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(R(ki,10))},t.\u0275dir=X({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&At("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ht]});let e=t;return e})();var La="VALID",Wd="INVALID",No="PENDING",Va="DISABLED";function p_(e){return(iu(e)?e.validators:e)||null}function rF(e){return Array.isArray(e)?f_(e):e||null}function g_(e,t){return(iu(t)?t.asyncValidators:e)||null}function oF(e){return Array.isArray(e)?m_(e):e||null}function iu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function PE(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new Pt(1e3,"");if(!n[i])throw new Pt(1001,"")}function OE(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new Pt(1002,"")})}var Fo=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===La}get invalid(){return this.status===Wd}get pending(){return this.status==No}get disabled(){return this.status===Va}get enabled(){return this.status!==Va}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(dE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(dE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uE(t,this._rawAsyncValidators))}hasValidator(t){return Xd(this._rawValidators,t)}hasAsyncValidator(t){return Xd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=No,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Va,this.errors=null,this._forEachChild(n=>{n.disable(Et(M({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Et(M({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=La,this._forEachChild(n=>{n.enable(Et(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Et(M({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===La||this.status===No)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Va:La}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=No,this._hasOwnPendingAsyncValidator=!0;let i=xE(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Jt,this.statusChanges=new Jt}_calculateStatus(){return this._allControlsDisabled()?Va:this.errors?Wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(No)?No:this._anyControlsHaveStatus(Wd)?Wd:La}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){iu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=rF(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=oF(this._rawAsyncValidators)}},Lo=class extends Fo{constructor(t,i,n){super(p_(i),g_(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){OE(this,!0,t),Object.keys(t).forEach(n=>{PE(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var l_=class extends Lo{};var __=new z("CallSetDisabledState",{providedIn:"root",factory:()=>b_}),b_="always";function sF(e,t){return[...t.path,e]}function d_(e,t,i=b_){v_(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),cF(e,t),dF(e,t),lF(e,t),aF(e,t)}function hE(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),eu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function tu(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function aF(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function v_(e,t){let i=SE(e);t.validator!==null?e.setValidators(lE(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=RE(e);t.asyncValidator!==null?e.setAsyncValidators(lE(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();tu(t._rawValidators,r),tu(t._rawAsyncValidators,r)}function eu(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=SE(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=RE(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return tu(t._rawValidators,n),tu(t._rawAsyncValidators,n),i}function cF(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&ME(e,t)})}function lF(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&ME(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function ME(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function dF(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function NE(e,t){e==null,v_(e,t)}function uF(e,t){return eu(e,t)}function hF(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function fF(e){return Object.getPrototypeOf(e.constructor)===HN}function FE(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function mF(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(o=>{o.constructor===nu?i=o:fF(o)?n=o:r=o}),r||n||i||null}function pF(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var gF={provide:ki,useExisting:Vi(()=>y_)},Ua=Promise.resolve(),y_=(()=>{let t=class t extends ki{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Jt,this.form=new Lo({},f_(n),m_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Ua.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),d_(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Ua.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Ua.then(()=>{let r=this._findContainer(n.path),o=new Lo({});NE(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Ua.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Ua.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,FE(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(R(ja,10),R(h_,10),R(__,8))},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&St("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[wt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ce([gF]),Ht]});let e=t;return e})();function fE(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function mE(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Kd=class extends Fo{constructor(t=null,i,n){super(p_(i),g_(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),iu(i)&&(i.nonNullable||i.initialValueIsDefault)&&(mE(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){mE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var _F=e=>e instanceof Kd;var LE=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var VE=new z("");var bF={provide:ki,useExisting:Vi(()=>Ba)},Ba=(()=>{let t=class t extends ki{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Jt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return d_(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){hE(n.control||null,n,!1),pF(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,FE(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(hE(r||null,n),_F(o)&&(d_(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);NE(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&uF(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){v_(this.form,this),this._oldForm&&eu(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(R(ja,10),R(h_,10),R(__,8))},t.\u0275dir=X({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&St("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[wt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ce([bF]),Ht,ze]});let e=t;return e})();var vF={provide:wr,useExisting:Vi(()=>w_)},w_=(()=>{let t=class t extends wr{set isDisabled(n){}constructor(n,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Jt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=mF(this,s)}ngOnChanges(n){this._added||this._setUpControl(),hF(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return sF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(R(ki,13),R(ja,10),R(h_,10),R(_E,10),R(VE,8))},t.\u0275dir=X({type:t,selectors:[["","formControlName",""]],inputs:{name:[wt.None,"formControlName","name"],isDisabled:[wt.None,"disabled","isDisabled"],model:[wt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ce([vF]),Ht,ze]});let e=t;return e})();function yF(e){return typeof e=="number"?e:parseInt(e,10)}var UE=(()=>{let t=class t{constructor(){this._validator=Qd}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Qd,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,features:[ze]});let e=t;return e})();var wF={provide:ja,useExisting:Vi(()=>x_),multi:!0};var x_=(()=>{let t=class t extends UE{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Qe,this.createValidator=n=>vE}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(t)))(o||t)}})(),t.\u0275dir=X({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Gt("required",o._enabled?"":null)},inputs:{required:"required"},features:[Ce([wF]),Ht]});let e=t;return e})();var xF={provide:ja,useExisting:Vi(()=>I_),multi:!0},I_=(()=>{let t=class t extends UE{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>yF(n),this.createValidator=n=>yE(n)}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Fn(t)))(o||t)}})(),t.\u0275dir=X({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Gt("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ce([xF]),Ht]});let e=t;return e})();var IF=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})(),u_=class extends Fo{constructor(t,i,n){super(p_(i),g_(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){OE(this,!1,t),t.forEach((n,r)=>{PE(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function pE(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var jE=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return pE(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Lo(o,s)}record(n,r=null){let o=this._reduceControls(n);return new l_(o,r)}control(n,r,o){let s={};return this.useNonNullable?(pE(r)?s=r:(s.validators=r,s.asyncValidators=o),new Kd(n,Et(M({},s),{nonNullable:!0}))):new Kd(n,r,o)}array(n,r,o){let s=n.map(c=>this._createControl(c));return new u_(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Kd)return n;if(n instanceof Fo)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var BE=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:VE,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:__,useValue:n.callSetDisabledState??b_}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[IF]});let e=t;return e})();var E_=class{constructor(t){this._box=t,this._destroyed=new J,this._resizeSubject=new J,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Re(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Lt(i=>i.some(n=>n.target===t)),Xu({bufferSize:1,refCount:!0}),le(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},$E=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=F($),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new E_(o)),this._observers.get(o).observe(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var EF=["notch"],TF=["matFormFieldNotchedOutline",""],CF=["*"],AF=["textField"],SF=["iconPrefixContainer"],RF=["textPrefixContainer"],DF=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],kF=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function PF(e,t){e&1&&ft(0,"span",17)}function OF(e,t){if(e&1&&(V(0,"label",16),Ot(1,1),Ct(2,PF,1,0,"span",17),j()),e&2){let i=te(2);Wt("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Gt("for",i._control.disableAutomaticLabeling?null:i._control.id),nt(2),de(2,!i.hideRequiredMarker&&i._control.required?2:-1)}}function MF(e,t){if(e&1&&Ct(0,OF,3,5,"label",16),e&2){let i=te();de(0,i._hasFloatingLabel()?0:-1)}}function NF(e,t){e&1&&ft(0,"div",5)}function FF(e,t){}function LF(e,t){if(e&1&&Ct(0,FF,0,0,"ng-template",11),e&2){te(2);let i=ih(1);Wt("ngTemplateOutlet",i)}}function VF(e,t){if(e&1&&(V(0,"div",7),Ct(1,LF,1,1,null,11),j()),e&2){let i=te();Wt("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),nt(),de(1,i._forceDisplayInfixLabel()?-1:1)}}function UF(e,t){e&1&&(V(0,"div",8,2),Ot(2,2),j())}function jF(e,t){e&1&&(V(0,"div",9,3),Ot(2,3),j())}function BF(e,t){}function zF(e,t){if(e&1&&Ct(0,BF,0,0,"ng-template",11),e&2){te();let i=ih(1);Wt("ngTemplateOutlet",i)}}function $F(e,t){e&1&&(V(0,"div",12),Ot(1,4),j())}function qF(e,t){e&1&&(V(0,"div",13),Ot(1,5),j())}function HF(e,t){e&1&&ft(0,"div",14)}function GF(e,t){if(e&1&&(V(0,"div",18),Ot(1,6),j()),e&2){let i=te();Wt("@transitionMessages",i._subscriptAnimationState)}}function WF(e,t){if(e&1&&(V(0,"mat-hint",20),Y(1),j()),e&2){let i=te(2);Wt("id",i._hintLabelId),nt(),un(i.hintLabel)}}function KF(e,t){if(e&1&&(V(0,"div",19),Ct(1,WF,2,2,"mat-hint",20),Ot(2,7),ft(3,"div",21),Ot(4,8),j()),e&2){let i=te();Wt("@transitionMessages",i._subscriptAnimationState),nt(),de(1,i.hintLabel?1:-1)}}var ou=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var YF=new z("MatError");var QF=0,su=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${QF++}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(ji("id",o.id),Gt("align",null),At("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),XF=new z("MatPrefix");var ZF=new z("MatSuffix");var XE=new z("FloatingLabelParent"),qE=(()=>{let t=class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=F($E),this._ngZone=F($),this._parent=F(XE),this._resizeSubscription=new Mn}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return JF(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(r){return new(r||t)(R(ht))},t.\u0275dir=X({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&At("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function JF(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var HE="mdc-line-ripple--active",ru="mdc-line-ripple--deactivating",GE=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(ru);o.propertyName==="opacity"&&c&&s.remove(HE,ru)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(ru),n.add(HE)}deactivate(){this._elementRef.nativeElement.classList.add(ru)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(r){return new(r||t)(R(ht),R($))},t.\u0275dir=X({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),WE=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(r){return new(r||t)(R(ht),R($))},t.\u0275cmp=at({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&Te(EF,5),r&2){let s;Mt(s=Nt())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&At("mdc-notched-outline--notched",o.open)},inputs:{open:[wt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ct],attrs:TF,ngContentSelectors:CF,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&($e(),ft(0,"div",1),V(1,"div",2,0),Ot(3),j(),ft(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),tL={transitionMessages:Tc("transitionMessages",[us("enter",zi({opacity:1,transform:"translateY(0%)"})),hs("void => enter",[zi({opacity:0,transform:"translateY(-5px)"}),ds("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},T_=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t});let e=t;return e})();var C_=new z("MatFormField"),eL=new z("MAT_FORM_FIELD_DEFAULT_OPTIONS"),KE=0,YE="fill",nL="auto",QE="fixed",iL="translateY(-50%)",ZE=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=mn(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||nL}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let r=this._appearance,o=n||this._defaults?.appearance||YE;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||QE}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||QE}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,o,s,c,l,u,f){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=c,this._defaults=l,this._animationMode=u,this._hideRequiredMarker=!1,this.color="primary",this._appearance=YE,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${KE++}`,this._hintLabelId=`mat-mdc-hint-${KE++}`,this._subscriptAnimationState="",this._destroyed=new J,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(le(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Sr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(le(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(le(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){let r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",u=`${s+c}px`,p=`calc(${l} * (${u} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${iL} translateX(${p})
    )`}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}};t.\u0275fac=function(r){return new(r||t)(R(ht),R(qe),R($),R(Ki),R(vt),R(eL,8),R(ke,8),R(Q))},t.\u0275cmp=at({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(Ye(s,ou,5),Ye(s,ou,7),Ye(s,T_,5),Ye(s,XF,5),Ye(s,ZF,5),Ye(s,YF,5),Ye(s,su,5)),r&2){let c;Mt(c=Nt())&&(o._labelChildNonStatic=c.first),Mt(c=Nt())&&(o._labelChildStatic=c.first),Mt(c=Nt())&&(o._formFieldControl=c.first),Mt(c=Nt())&&(o._prefixChildren=c),Mt(c=Nt())&&(o._suffixChildren=c),Mt(c=Nt())&&(o._errorChildren=c),Mt(c=Nt())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(Te(AF,5),Te(SF,5),Te(RF,5),Te(qE,5),Te(WE,5),Te(GE,5)),r&2){let s;Mt(s=Nt())&&(o._textField=s.first),Mt(s=Nt())&&(o._iconPrefixContainer=s.first),Mt(s=Nt())&&(o._textPrefixContainer=s.first),Mt(s=Nt())&&(o._floatingLabel=s.first),Mt(s=Nt())&&(o._notchedOutline=s.first),Mt(s=Nt())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&At("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ce([{provide:C_,useExisting:t},{provide:XE,useExisting:t}]),ct],ngContentSelectors:kF,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=ci();$e(DF),Ct(0,MF,1,1,"ng-template",null,0,tv),V(2,"div",4,1),St("click",function(l){return si(s),ai(o._control.onContainerClick(l))}),Ct(4,NF,1,0,"div",5),V(5,"div",6),Ct(6,VF,2,2,"div",7)(7,UF,3,0,"div",8)(8,jF,3,0,"div",9),V(9,"div",10),Ct(10,zF,1,1,null,11),Ot(11),j(),Ct(12,$F,2,0,"div",12)(13,qF,2,0,"div",13),j(),Ct(14,HF,1,0,"div",14),j(),V(15,"div",15),Ct(16,GF,2,1)(17,KF,5,2),j()}if(r&2){let s;nt(2),At("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),nt(2),de(4,!o._hasOutline()&&!o._control.disabled?4:-1),nt(2),de(6,o._hasOutline()?6:-1),nt(),de(7,o._hasIconPrefix?7:-1),nt(),de(8,o._hasTextPrefix?8:-1),nt(2),de(10,!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),nt(2),de(12,o._hasTextSuffix?12:-1),nt(),de(13,o._hasIconSuffix?13:-1),nt(),de(14,o._hasOutline()?-1:14),nt(),At("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),nt(),de(16,(s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[qE,WE,fv,GE,su],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[tL.transitionMessages]},changeDetection:0});let e=t;return e})(),za=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,Xe,Dy,ee]});let e=t;return e})();var JE=fi({passive:!0}),tT=(()=>{let t=class t{constructor(n,r){this._platform=n,this._ngZone=r,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return ln;let r=Ge(n),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new J,c="cdk-text-field-autofilled",l=u=>{u.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!0}))):u.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:u.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,JE),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,JE)}}),s}stopMonitoring(n){let r=Ge(n),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((n,r)=>this.stopMonitoring(r))}};t.\u0275fac=function(r){return new(r||t)(S(vt),S($))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var eT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})();var sL=new z("MAT_INPUT_VALUE_ACCESSOR"),aL=["button","checkbox","file","hidden","image","radio","range","reset","submit"],cL=0,nT=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){this._disabled=mn(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Yd.required)??!1}set required(n){this._required=mn(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&rf().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=mn(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,o,s,c,l,u,f,p,_){this._elementRef=n,this._platform=r,this.ngControl=o,this._autofillMonitor=f,this._formField=_,this._uid=`mat-input-${cL++}`,this.focused=!1,this.stateChanges=new J,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>rf().has(O)),this._iOSKeyupListener=O=>{let P=O.target;!P.value&&P.selectionStart===0&&P.selectionEnd===0&&(P.setSelectionRange(1,1),P.setSelectionRange(0,0))};let T=this._elementRef.nativeElement,k=T.nodeName.toLowerCase();this._inputValueAccessor=u||T,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&p.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new ol(l,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=k==="select",this._isTextarea=k==="textarea",this._isInFormField=!!_,this._isNativeSelect&&(this.controlType=T.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){aL.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,r=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}};t.\u0275fac=function(r){return new(r||t)(R(ht),R(vt),R(wr,10),R(y_,8),R(Ba,8),R(Qy),R(sL,10),R(tT),R($),R(C_,8))},t.\u0275dir=X({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&St("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(ji("id",o.id)("disabled",o.disabled)("required",o.required),Gt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),At("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[wt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Ce([{provide:T_,useExisting:t}]),ze]});let e=t;return e})(),iT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,za,za,eT,ee]});let e=t;return e})();var dL=["*"];var uL=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],hL=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],fL=new z("MAT_CARD_CONFIG"),au=(()=>{let t=class t{constructor(n){this.appearance=n?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(R(fL,8))},t.\u0275cmp=at({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&At("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ct],ngContentSelectors:dL,decls:1,vars:0,template:function(r,o){r&1&&($e(),Ot(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),cu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var lu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),rT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})(),oT=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&At("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),du=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=at({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ct],ngContentSelectors:hL,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&($e(uL),Ot(0),V(1,"div",0),Ot(2,1),j(),Ot(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var sT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var uu=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,Xe,ee]});let e=t;return e})();var cT=(()=>{let t=class t{constructor(n,r){this.fb=n,this.newsService=r,this.maxLength=150,this.newsForm=this.fb.group({title:[""],content:[""],image:[null]})}ngOnInit(){}onFileSelected(n){this.newsForm.patchValue({image:n.target.files[0]})}get remainingChars(){return this.maxLength-(this.newsForm.get("title")?.value.length||0)}onSubmit(){return b(this,null,function*(){if(this.newsForm.valid){let n=this.newsForm.value,r=n.content,o="";n.image&&(o=yield this.newsService.uploadImage(n.image)),this.newsService.addNews("instituteId",{title:n.title,content:r,imageUrl:o,date:new Date}).then(()=>{this.newsForm.reset()})}})}};t.\u0275fac=function(r){return new(r||t)(R(jE),R(Mo))},t.\u0275cmp=at({type:t,selectors:[["app-add-news"]],standalone:!0,features:[ct],decls:26,vars:3,consts:[[1,"add-news-content"],[1,"add-news-container"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","id","title","formControlName","title","type","text","required","","maxlength","150"],["align","end"],[1,"ckeditor-container"],["for","content"],[1,"file-input-container"],["for","image"],["id","image","type","file",3,"change"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1)(2,"form",2),St("ngSubmit",function(){return o.onSubmit()}),V(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),Y(6,"Add News or Event article"),j()(),ft(7,"mat-divider"),V(8,"mat-card-content")(9,"mat-form-field",3)(10,"mat-label"),Y(11,"Title"),j(),ft(12,"textarea",4),V(13,"mat-hint",5),Y(14),j()(),V(15,"div",6)(16,"label",7),Y(17,"Content"),j()(),V(18,"div",8)(19,"label",9),Y(20,"Image : "),j(),V(21,"input",10),St("change",function(c){return o.onFileSelected(c)}),j()()(),ft(22,"mat-divider"),V(23,"mat-card-actions")(24,"button",11),Y(25,"Add News"),j()()()()()()),r&2&&(nt(2),Wt("formGroup",o.newsForm),nt(12),Xb("",o.remainingChars," / ",o.maxLength,""))},dependencies:[BE,LE,nu,DE,kE,x_,I_,Ba,w_,za,ZE,ou,su,iT,nT,Oa,ko,uu,au,oT,lu,du,cu,mi],styles:[".add-news-content[_ngcontent-%COMP%]{width:100%}.add-news-container[_ngcontent-%COMP%]{max-width:1050px;padding:20px;margin:auto}mat-card[_ngcontent-%COMP%]{margin-top:20px}.mat-mdc-form-field[_ngcontent-%COMP%]{max-width:auto!important;width:100%}.ckeditor-container[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]{margin-top:16px}.mat-divider[_ngcontent-%COMP%]{margin:24px 0}"]});let e=t;return e})();function mL(e,t){if(e&1){let i=ci();V(0,"mat-card",3),St("click",function(){let r=si(i).$implicit,o=te();return ai(o.viewArticle(r.title,r.id))}),V(1,"mat-card-header")(2,"mat-card-title"),Y(3),j(),V(4,"mat-card-subtitle"),Y(5),bc(6,"date"),j()(),ft(7,"img",4)(8,"mat-divider"),V(9,"mat-card-content"),ft(10,"div",5),V(11,"p",6),Y(12,"Read article ->"),j()()()}if(e&2){let i=t.$implicit,n=te();nt(3),un(i.title),nt(2),un(Zb(6,3,i.date.toDate())),nt(5),Wt("innerHTML",n.getTruncatedContent(i.content),kr)}}var lT=(()=>{let t=class t{constructor(n,r,o){this.newsService=n,this.customizationService=r,this.router=o,this.newsList=[],this.lastVisibleDoc=null,this.instituteId=typeof window<"u"?this.customizationService.getSubdomainFromUrl():"Test 32"}ngOnInit(){return b(this,null,function*(){typeof window<"u"&&this.loadNews()})}loadNews(){this.newsService.getNews(this.instituteId).subscribe(n=>{n.length>0&&(this.lastVisibleDoc=n[n.length-1]),this.newsList=n,console.log("News list updated:",this.newsList)})}loadMoreNews(){this.lastVisibleDoc&&this.newsService.getMoreNews(this.instituteId,this.lastVisibleDoc).then(n=>{console.log("Fetched more news:",n),n.length>0&&(this.lastVisibleDoc=n[n.length-1],this.newsList=[...this.newsList,...n])})}onScroll(){this.loadMoreNews()}getTruncatedContent(n){return n.length>105?n.substring(0,105)+"...":n}encodeTitle(n){return n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}viewArticle(n,r){let o=this.encodeTitle(n)+"-"+r;this.router.navigate(["/view-news",o])}};t.\u0275fac=function(r){return new(r||t)(R(Mo),R(Ri),R(be))},t.\u0275cmp=at({type:t,selectors:[["app-news-events"]],standalone:!0,features:[ct],decls:5,vars:1,consts:[[1,"news-container"],[1,"newslist"],["matRipple","",3,"click",4,"ngFor","ngForOf"],["matRipple","",3,"click"],["mat-card-image","","src","../../assets/newsbg.jpg"],[1,"news-content",3,"innerHTML"],[1,"readmore"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"h1"),Y(2,"Our News & Events articles"),j(),V(3,"div",1),Ct(4,mL,13,5,"mat-card",2),j()()),r&2&&(nt(4),Wt("ngForOf",o.newsList))},dependencies:[Xe,uv,xc,uu,au,lu,du,sT,rT,cu,Xr,mi,sl,pf,Cy],styles:[".news-container[_ngcontent-%COMP%]{padding:80px 12px;background-color:#f5f5f5}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1% 2% .5%}.news-container[_ngcontent-%COMP%]   .newslist[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (max-width: 425px){.news-container[_ngcontent-%COMP%]{padding:72px 0}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}}.mdc-card[_ngcontent-%COMP%]{max-width:480px;margin:1% 2%;cursor:pointer;transition:all .3s cubic-bezier(0,0,.5,1);font-family:Verdana,Geneva,Tahoma,sans-serif}@media screen and (max-width: 425px){.mdc-card[_ngcontent-%COMP%]{max-width:96%}}.mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px -8px #00000029,0 0 24px -16px #00000029;transform:scale3d(1.01,1.01,1.03) translate3d(.1rem,-.25rem,20rem)}.mdc-card[_ngcontent-%COMP%]:hover   .readmore[_ngcontent-%COMP%]{opacity:1}.news-content[_ngcontent-%COMP%]{margin:12px 0 24px}.readmore[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000080;position:absolute;padding:24px 0 8px;bottom:0;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;opacity:0;transition:all .6s ease-in-out}"]});let e=t;return e})();var dT=(()=>{let t=class t{constructor(n,r,o){this.document=n,this.renderer=r,this.customizationService=o,this.subdomain="",this.about=""}onWindowScroll(){let n=document.getElementById("header"),r=document.getElementById("sticky-nav"),o=document.getElementById("spacer"),s=window.pageYOffset;if(n&&o){let c=n.offsetHeight-60,l=Math.max(32,50-18*(s/c)),u=Math.min(s);n.querySelector("h1").style.fontSize=`${l}px`,o.style.height=`${u}px`,n.style.opacity=s>=c?"0":"1"}r&&(r.style.opacity=s>=(n?.offsetHeight||0)-60?"1":"0")}ngOnInit(){return b(this,null,function*(){if(typeof window<"u"){this.subdomain=this.customizationService.getSubdomainFromUrl();try{let n=yield this.customizationService.getCustomization(this.subdomain);n&&(this.subdomain=n.websiteTitle),n.themeColor?this.setThemeColor(n.themeColor):this.setThemeColor("#027359"),n.about?this.about=n.about:this.about="Welcome to "+this.subdomain}catch(n){console.error("Error fetching customization data:",n)}}})}setThemeColor(n){this.renderer.setStyle(this.document.documentElement,"--primary-color",n),this.document.documentElement.style.setProperty("--primary-color",n),setTimeout(()=>{let r=getComputedStyle(this.document.documentElement)},1e3)}};t.\u0275fac=function(r){return new(r||t)(R(Q),R(Or),R(Ri))},t.\u0275cmp=at({type:t,selectors:[["app-home"]],hostBindings:function(r,o){r&1&&St("scroll",function(){return o.onWindowScroll()},!1,Gb)},standalone:!0,features:[ct],decls:21,vars:3,consts:[[1,"container"],["id","header",1,"float-header"],["id","spacer"],["id","institute-name"],["id","sticky-nav",1,"sticky-nav"],["id","main-content",1,"main"],[1,"about"],[1,"about_content"],[1,"news-content",3,"innerHTML"],["mat-flat-button","","color","primary"],["mat-stroked-button",""]],template:function(r,o){r&1&&(V(0,"div",0)(1,"header",1),ft(2,"div",2),V(3,"h1",3),Y(4),j()(),V(5,"nav",4)(6,"h1"),Y(7),j()(),V(8,"main",5),ft(9,"mat-divider"),V(10,"div",6)(11,"div",7)(12,"h1"),Y(13,"About us"),j(),ft(14,"div",8),V(15,"div")(16,"button",9),Y(17,"Enroll now"),j(),V(18,"button",10),Y(19,"Sign In"),j()()()(),ft(20,"app-news-events"),j()()),r&2&&(nt(4),Vn(" ",o.subdomain," "),nt(3),Vn(" ",o.subdomain," "),nt(7),Wt("innerHTML",o.about,kr))},dependencies:[lT,Xr,mi,Oa,ko],styles:["[_ngcontent-%COMP%]:root{--primary-color: #333}.container[_ngcontent-%COMP%]{padding-bottom:50vh}.float-header[_ngcontent-%COMP%]{height:70vh;background-color:var(--primary-color);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;transition:opacity .02s,font-size .1s}.float-header[_ngcontent-%COMP%]   #spacer[_ngcontent-%COMP%]{height:0;transition:height .1s}.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:capitalize;font-family:Inter,sans-serif;font-size:50px;color:#fff;transition:font-size .1s;margin:0}@media screen and (max-width: 425px){.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}.sticky-nav[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:var(--primary-color);display:flex;justify-content:center;align-items:center;height:60px;z-index:1000;opacity:0;transition:opacity .02s;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #0000004d}.sticky-nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;color:#fff;margin:0}.about[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:200px 16px 150px}.about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin:12px 0 36px}.about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:32px 12px 0 0;font-size:18px}.about[_ngcontent-%COMP%]   .about_content[_ngcontent-%COMP%]{max-width:1020px;font-family:Inter,sans-serif;font-size:20px;font-weight:500;line-height:30px}"]});let e=t;return e})();var uT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=at({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(r,o){r&1&&(V(0,"p"),Y(1,"dashboard works!"),j())}});let e=t;return e})();var hT=(()=>{let t=class t{constructor(n,r){this.router=n,this._location=r}backClicked(){this._location.back()}};t.\u0275fac=function(r){return new(r||t)(R(be),R(Ve))},t.\u0275cmp=at({type:t,selectors:[["app-error-404"]],standalone:!0,features:[ct],decls:19,vars:1,consts:[[1,"content"],["href","/home"],[3,"click"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"h1")(2,"b")(3,"u"),Y(4,"Error 404"),j(),Y(5," : "),j(),Y(6," You tried looking for "),V(7,"span"),Y(8),j(),Y(9," page"),j(),V(10,"h1"),Y(11,"Sorry, we couldn't find the requested resource :("),j(),V(12,"a",1)(13,"p"),Y(14,"Click here to go to home page"),j()(),V(15,"p"),Y(16,"OR"),j(),V(17,"button",2),St("click",function(){return o.backClicked()}),Y(18,"Go back"),j()()),r&2&&(nt(8),un(o.router.url))},styles:[".content[_ngcontent-%COMP%]{min-height:60vh;text-align:justify;padding:100px 20px;flex-direction:column;justify-content:center;align-items:center;display:flex}span[_ngcontent-%COMP%]{color:#044;background-color:#faebd7;padding:4px}p[_ngcontent-%COMP%]{margin-top:20px}"]});let e=t;return e})();var fT=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:dT},{path:"dashboard",component:uT},{path:"add-news",component:cT},{path:"view-news/:title",component:cE},{path:"**",component:hT}];var pL="@",gL=(()=>{let t=class t{constructor(n,r,o,s,c){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=F(Wb,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-4CHBASIQ.js")).catch(r=>{throw new Pt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new A_(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(n,r);s.use(l)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){Pr()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),A_=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(pL)}};function mT(e="animations"){return gc("NgAsyncAnimations"),Fe([{provide:pc,useFactory:(t,i,n)=>new gL(t,i,n,e),deps:[Q,Dc,$]},{provide:ke,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var pT={production:!0,firebaseConfig:{apiKey:"AIzaSyATgCP-L090V221ytPLZS3IWmrP5mBQpcs",authDomain:"growth-tutorials-saas.firebaseapp.com",projectId:"growth-tutorials-saas",storageBucket:"growth-tutorials-saas.appspot.com",messagingSenderId:"112132007998",appId:"1:112132007998:web:a21348190de17b6e0f896f",measurementId:"G-7170ZK3RHF"}};var gT={providers:[Ov(),mT(),T0(()=>C0(pT.firebaseConfig)),pw(()=>gw()),vI(()=>EI()),wy(fT)]};var _L=["*",[["mat-toolbar-row"]]],bL=["*","mat-toolbar-row"],vL=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=X({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),_T=(()=>{let t=class t{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(R(ht),R(vt),R(Q))},t.\u0275cmp=at({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&Ye(s,vL,5),r&2){let c;Mt(c=Nt())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(_c(o.color?"mat-"+o.color:""),At("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ct],ngContentSelectors:bL,decls:2,vars:0,template:function(r,o){r&1&&($e(_L),Ot(0),Ot(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var bT=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[ee,ee]});let e=t;return e})();var vT=(()=>{let t=class t{constructor(n,r){this.auth=n,this.firestore=r,this.user$=xm(this.auth)}googleSignIn(){return _w(this.auth,new pm)}signOut(){return bw(this.auth)}getUserRole(){return xm(this.auth).pipe(Ie(n=>{if(n){let r=Sa(this.firestore,`users/${n.email}`);return Zt(II(r)).pipe(lt(o=>o.exists()?o.data().role:"user"))}else return G("user")}))}};t.\u0275fac=function(r){return new(r||t)(S(or),S(an))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var yT=(()=>{let t=class t{constructor(n){this.authService=n}onGoogleSignIn(){this.authService.googleSignIn().then(()=>{console.log("Successfully logged in")}).catch(n=>{console.error("Error during Google sign-in:",n)})}};t.\u0275fac=function(r){return new(r||t)(R(vT))},t.\u0275cmp=at({type:t,selectors:[["app-auth"]],standalone:!0,features:[ct],decls:19,vars:0,consts:[[1,"auth-container"],[1,"auth-card"],[1,"largeOr"],[1,"or"],[1,"google-signin-button",3,"click"],["src","https://developers.google.com/identity/images/g-logo.png","alt","Google logo"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1)(2,"span"),Y(3,"cancel"),j(),V(4,"h1"),Y(5,"Welcome"),j(),V(6,"div")(7,"h2"),Y(8,"Login with email"),j(),V(9,"div"),Y(10,"Upcoming login with Email and password"),j()(),V(11,"div",2),ft(12,"hr"),V(13,"div",3),Y(14," or "),j(),ft(15,"hr"),j(),V(16,"button",4),St("click",function(){return o.onGoogleSignIn()}),ft(17,"img",5),Y(18," Sign in with Google "),j()()())},styles:[".google-signin-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#757575;border:1px solid #dadce0;border-radius:4px;font-size:16px;padding:10px 20px;cursor:pointer;transition:background-color .3s,box-shadow .3s;width:100%}.google-signin-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px}.google-signin-button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;box-shadow:0 1px 3px #0000001a}.auth-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.3em;padding:16px 44px;text-align:center;min-width:420px}.largeOr[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0009}.largeOr[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]{padding:12px}hr[_ngcontent-%COMP%]{margin:24px 0;width:100%}"]});let e=t;return e})();function xL(e,t){}var xr=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var D_=(()=>{let t=class t extends Ai{constructor(n,r,o,s,c,l,u,f){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=c,this._ngZone=l,this._overlayRef=u,this._focusMonitor=f,this._platform=F(vt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=F(qe),this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let _=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),_},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Us(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Us();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Us()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(R(ht),R(nl),R(Q,8),R(xr),R(Bs),R($),R(Jn),R(Qr))},t.\u0275cmp=at({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Te(Si,7),r&2){let s;Mt(s=Nt())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Gt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Ht,ct],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Ct(0,xL,0,0,"ng-template",0)},dependencies:[Si],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),$a=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new J,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Zc(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},IL=new z("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=F(Dn);return()=>e.scrollStrategies.block()}}),EL=new z("DialogData"),TL=new z("DefaultDialogConfig");var CL=0,wT=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,o,s,c,l){this._overlay=n,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this._ariaHiddenElements=new Map,this.afterAllClosed=Fi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dn(void 0))),this._scrollStrategy=l}open(n,r){let o=this._defaultOptions||new xr;r=M(M({},o),r),r.id=r.id||`cdk-dialog-${CL++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),c=this._overlay.create(s),l=new $a(c,r),u=this._attachContainer(c,l,r);return l.containerInstance=u,this._attachDialogContent(n,l,u,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){S_(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){S_(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),S_(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new yr({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let s=o.injector||o.viewContainerRef?.injector,c=[{provide:xr,useValue:o},{provide:$a,useValue:r},{provide:Jn,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,c.push(...o.container.providers(o))):l=D_;let u=new Zn(l,o.viewContainerRef,Rt.create({parent:s||this._injector,providers:c}),o.componentFactoryResolver);return n.attach(u).instance}_attachDialogContent(n,r,o,s){if(n instanceof Ui){let c=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=M(M({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new Ci(n,null,l,c))}else{let c=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new Zn(n,s.viewContainerRef,c,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,s){let c=n.injector||n.viewContainerRef?.injector,l=[{provide:EL,useValue:n.data},{provide:$a,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!c||!c.get(Ki,null,{optional:!0}))&&l.push({provide:Ki,useValue:{value:n.direction,change:G()}}),Rt.create({parent:c||s,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(S(Dn),S(Rt),S(TL,8),S(t,12),S(Po),S(IL))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function S_(e,t){let i=e.length;for(;i--;)t(e[i])}function AL(e,t){}var qa=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},k_="mdc-dialog--open",xT="mdc-dialog--opening",IT="mdc-dialog--closing",SL=150,RL=75,DL=(()=>{let t=class t extends D_{constructor(n,r,o,s,c,l,u,f,p){super(n,r,o,s,c,l,u,p),this._animationMode=f,this._animationStateChanged=new Jt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?TT(this._config.enterAnimationDuration)??SL:0,this._exitAnimationDuration=this._animationsEnabled?TT(this._config.exitAnimationDuration)??RL:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(ET,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(xT,k_)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(k_),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(k_),this._animationsEnabled?(this._hostElement.style.setProperty(ET,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(IT)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(xT,IT)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(R(ht),R(nl),R(Q,8),R(qa),R(Bs),R($),R(Jn),R(ke,8),R(Qr))},t.\u0275cmp=at({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(ji("id",o._config.id),Gt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),At("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Ht,ct],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1),Ct(2,AL,0,0,"ng-template",2),j()())},dependencies:[Si],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),ET="--mat-dialog-transition-duration";function TT(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Gr(e.substring(0,e.length-2)):e.endsWith("s")?Gr(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var hu=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(hu||{}),P_=class{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new J,this._beforeClosed=new J,this._state=hu.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Lt(r=>r.state==="opened"),_e(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Lt(r=>r.state==="closed"),_e(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Sr(this.backdropClick(),this.keydownEvents().pipe(Lt(r=>r.keyCode===27&&!this.disableClose&&!Zc(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),kL(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Lt(i=>i.state==="closing"),_e(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=hu.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=hu.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function kL(e,t,i){return e._closeInteractionType=t,e.close(i)}var PL=new z("MatMdcDialogData"),OL=new z("mat-mdc-dialog-default-options"),ML=new z("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=F(Dn);return()=>e.scrollStrategies.block()}});var NL=0,CT=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,r,o,s,c,l,u,f){this._overlay=n,this._defaultOptions=s,this._scrollStrategy=c,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new J,this._afterOpenedAtThisLevel=new J,this.dialogConfigClass=qa,this.afterAllClosed=Fi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(dn(void 0))),this._dialog=r.get(wT),this._dialogRefConstructor=P_,this._dialogContainerType=DL,this._dialogDataToken=PL}open(n,r){let o;r=M(M({},this._defaultOptions||new qa),r),r.id=r.id||`mat-mdc-dialog-${NL++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(n,Et(M({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:xr,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(c,l,u)=>(o=new this._dialogRefConstructor(c,r,u),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:u},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}};t.\u0275fac=function(r){return new(r||t)(S(Dn),S(Rt),S(Ve,8),S(OL,8),S(ML),S(t,12),S(Po),S(ke,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function LL(e,t){if(e&1){let i=ci();V(0,"mat-toolbar",3)(1,"a",4),Y(2),j(),V(3,"span",5),St("click",function(){si(i);let r=te(2);return ai(r.openSignIn())}),Y(4," Sign In "),j()()}if(e&2){let i=te(2);nt(2),Vn(" ",i.title,"")}}function VL(e,t){if(e&1&&(V(0,"div"),Ct(1,LL,5,1,"mat-toolbar",1),V(2,"content"),ft(3,"router-outlet"),j(),V(4,"div",2),Y(5,"GT Gurukul \xA9 2024"),j()()),e&2){let i=te();nt(),Wt("ngIf",i.checkhome())}}var AT=(()=>{let t=class t{constructor(n,r,o,s,c,l,u){this.customizationService=n,this.titleService=r,this.location=o,this.router=s,this.viewportScroller=c,this._snackBar=l,this.dialog=u,this.title="",this.themeColor="#3f51b5",this.header="defaultHeader",this.location_path="",this.subdomainChecked=!1,console.log("AppComponent constructor")}openSignIn(){this.dialog.open(yT)}openSnackBar(n,r){this._snackBar.open(n,r)}ngOnInit(){return b(this,null,function*(){this.router.events.pipe(Lt(r=>r instanceof Ze)).subscribe(()=>{this.viewportScroller.scrollToPosition([0,0])});let n="";typeof window<"u"&&(n=this.customizationService.getSubdomainFromUrl());try{let r=yield this.customizationService.getCustomization(n);r&&(this.title=r.websiteTitle,this.themeColor=r.themeColor,this.header=r.header,this.applyThemeColor(),this.setTitle(r.websiteTitle),console.log(r.status),r.status==="disabled"||r.status==="pending"?this.redirectToRegistration(n):this.subdomainChecked=!0)}catch(r){r.message==="Subdomain not registered"?this.redirectToRegistration(n):console.error(r)}})}checkhome(){return!(this.location.path()=="/home"||this.location.path()=="/")}applyThemeColor(){let n=document.querySelector("meta[name=theme-color]");if(document.documentElement.style.setProperty("--theme-color",this.themeColor),n)n.setAttribute("content",this.themeColor);else{let r=document.createElement("meta");r.name="theme-color",r.content=this.themeColor,document.getElementsByTagName("head")[0].appendChild(r)}}setTitle(n){this.titleService.setTitle(n)}redirectToRegistration(n){window.location.href=`https://register.growthtutorials.in/register?request=${n}`}redirectToInstitutes(n){window.location.href=`https://register.growthtutorials.in/institutes?request=${n}`}};t.\u0275fac=function(r){return new(r||t)(R(Ri),R(Pc),R(Ve),R(be),R(Ec),R(Hd),R(CT))},t.\u0275cmp=at({type:t,selectors:[["app-root"]],standalone:!0,features:[ct],decls:1,vars:1,consts:[[4,"ngIf"],["class","navbar",4,"ngIf"],[1,"footer"],[1,"navbar"],["href","home"],[3,"click"]],template:function(r,o){r&1&&Ct(0,VL,6,1,"div",0),r&2&&Wt("ngIf",o.subdomainChecked)},dependencies:[Kh,bT,_T,Xe,hv],styles:["[_ngcontent-%COMP%]:root{--theme-color: #3f51b5}.navbar[_ngcontent-%COMP%]{border-top:8px solid var(--theme-color);color:var(--theme-color);padding:0 24px;font-size:24px;position:sticky;top:0;z-index:1000;transition:opacity .02s;box-shadow:0 1px 2px #0000001a,0 1px 3px 1px #0000001a;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;cursor:pointer;color:#00f;font-weight:100}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:50%;float:left;padding:0 8px 0 0;margin-top:-2px}content[_ngcontent-%COMP%]{min-height:89vh;display:block}.footer[_ngcontent-%COMP%]{text-align:center;background-color:#00000003;padding:8px 0;box-shadow:0 0 1px #0003;border-bottom:16px solid #1b1b1b}@media screen and (max-width: 425px){.footer[_ngcontent-%COMP%]{margin:100px 0 0}}"]});let e=t;return e})();Pv(AT,gT).catch(e=>console.error(e));
