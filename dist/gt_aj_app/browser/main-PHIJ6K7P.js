import{$ as Gy,$a as ji,$b as Gl,A as qf,Aa as Fl,Ab as Mt,B as kn,Ba as Xy,Bb as $e,C as Ot,Ca as Be,Cb as Ee,Cc as xr,D as Hf,Da as Xe,Db as Dt,Dc as li,E as co,Ea as ha,Eb as kt,F as vr,Fa as Ll,Fb as pa,Fc as on,G as Ol,Ga as uo,Gb as K,Gc as zi,H as Gf,Ha as ho,Hb as Mn,Hc as di,I as le,Ia as Zy,Ib as wn,J as qy,Ja as Jy,Jb as d0,K as Wf,Ka as t0,Kb as Ul,L as Ml,La as e0,Lb as Bl,M as la,Ma as n0,Mb as zl,N as Pn,Na as i0,Nb as Zt,O as Kf,Oa as r0,Ob as st,P as Hy,Pa as yr,Pb as $l,Q as Yf,Qa as fo,Qb as u0,R as Qf,Ra as mo,Rb as h0,S as Nl,Sa as o0,Sb as f0,T as Qe,Ta as fa,Tb as _o,U as ge,Ua as H,Ub as m0,V as oe,Va as C,Vb as ql,W as Kt,Wa as po,Wb as Hl,X as Nt,Xa as On,Xb as im,Y as fn,Ya as s0,Yb as ga,Z as U,Za as ma,Zb as Bi,_ as ct,_a as Vl,_b as p0,a as We,aa as $,ab as jl,ac as _e,b as Lf,ba as Xf,bb as q,bc as g0,c as Ke,ca as R,cb as Jf,cc as _0,d as Vf,da as L,db as Ui,dc as Te,e as jf,ea as je,eb as tm,ec as b0,f as Q,fa as Wy,fb as Xt,fc as v0,g as Ye,ga as da,gb as mn,gc as bo,h as Dl,ha as nt,hb as a0,hc as y0,i as Uy,ia as it,ib as em,ic as w0,j as By,ja as lt,jb as nm,jc as J,k as Dn,ka as tt,kb as ft,kc as x0,l as kl,la as nn,lb as Vt,lc as rm,m as Uf,ma as Ky,mb as pt,mc as I0,n as Bf,na as lo,nb as St,nc as E0,o as ce,oa as ai,ob as go,oc as rn,p as W,pa as Ue,pb as fe,pc as om,q as ca,qa as Yt,qb as N,qc as Wl,r as zf,ra as Qt,rb as F,rc as Nn,s as zy,sa as Yy,sb as rt,sc as T0,t as vt,ta as ci,tb as Ie,tc as Kl,u as ao,ua as Lt,ub as wr,uc as me,v as en,va as Zf,vb as c0,vc as C0,w as $f,wa as dt,wb as gt,wc as vo,x as Pl,xa as At,xb as l0,xc as _a,y as br,ya as ua,yb as _t,yc as Yl,z as $y,za as Qy,zb as ze,zc as A0}from"./chunk-QHJHD4MS.js";import{a as O,b as Et,c as Rl,e as Vi,f as b}from"./chunk-OO2USZMJ.js";var Xl=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var N0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(N0||{}),sm=class{constructor(t,i=F0.Ok,n="OK"){this.headers=t.headers||new Xl,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Zl=class e extends sm{constructor(t={}){super(t),this.type=N0.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var F0=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(F0||{});var mD=new $("");var S0="b",R0="h",D0="s",k0="st",P0="u",O0="rt",Ql=new $(""),pD=["GET","HEAD"];function gD(e,t){let p=L(Ql),{isCacheActive:i}=p,n=Rl(p,["isCacheActive"]),{transferCache:r,method:o}=e;if(!i||o==="POST"&&!n.includePostRequests&&!r||o!=="POST"&&!pD.includes(o)||r===!1||n.filter?.(e)===!1)return t(e);let s=L(Ll),c=bD(e),l=s.get(c,null),d=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(d=r.includeHeaders),l){let{[S0]:g,[O0]:w,[R0]:k,[D0]:M,[k0]:D,[P0]:z}=l,Y=g;switch(w){case"arraybuffer":Y=new TextEncoder().encode(g).buffer;break;case"blob":Y=new Blob([g]);break}let et=new Xl(k);return W(new Zl({body:Y,headers:et,status:M,statusText:D,url:z}))}let f=_a(L(Be));return t(e).pipe(Kt(g=>{g instanceof Zl&&f&&s.set(c,{[S0]:g.body,[R0]:_D(g.headers,d),[D0]:g.status,[k0]:g.statusText,[P0]:g.url||"",[O0]:e.responseType})}))}function _D(e,t){if(!t)return{};let i={};for(let n of t){let r=e.getAll(n);r!==null&&(i[n]=r)}return i}function M0(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function bD(e){let{params:t,method:i,responseType:n,url:r}=e,o=M0(t),s=e.serializeBody();s instanceof URLSearchParams?s=M0(s):typeof s!="string"&&(s="");let c=[i,n,r,s,o].join("|"),l=vD(c);return l}function vD(e){let t=0;for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function L0(e){return[{provide:Ql,useFactory:()=>(jl("NgHttpTransferCache"),O({isCacheActive:!0},e))},{provide:mD,useValue:gD,multi:!0,deps:[Ll,Ql]},{provide:ga,multi:!0,useFactory:()=>{let t=L(Bi),i=L(Ql);return()=>{p0(t).then(()=>{i.isCacheActive=!1})}}}]}var lm=class extends w0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dm=class e extends lm{static makeCurrent(){y0(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=wD();return i==null?null:xD(i)}resetBaseElement(){ba=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return om(document.cookie,t)}},ba=null;function wD(){return ba=ba||document.querySelector("base"),ba?ba.getAttribute("href"):null}function xD(e){return new URL(e,document.baseURI).pathname}var ID=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),um=new $(""),U0=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Nt(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(R(um),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Jl=class{constructor(t){this._doc=t}},am="ng-app-id",B0=(()=>{let t=class t{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_a(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${am}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(am),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(am,this.appId),n.appendChild(c),c}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(R(J),R(Fl),R(ha,8),R(Be))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mm=/%COMP%/g,z0="%COMP%",ED=`_nghost-${z0}`,TD=`_ngcontent-${z0}`,CD=!0,AD=new $("",{providedIn:"root",factory:()=>CD});function SD(e){return TD.replace(mm,e)}function RD(e){return ED.replace(mm,e)}function $0(e,t){return t.map(i=>i.replace(mm,e))}var td=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=_a(l),this.defaultRenderer=new va(n,c,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===da.ShadowDom&&(r=Et(O({},r),{encapsulation:da.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof ed?o.applyToHost(n):o instanceof ya&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case da.Emulated:s=new ed(d,f,r,this.appId,p,c,l,g);break;case da.ShadowDom:return new hm(d,f,n,r,c,l,this.nonce,g);default:s=new ya(d,f,r,p,c,l,g);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(R(U0),R(B0),R(Fl),R(AD),R(J),R(Be),R(q),R(ha))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),va=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(cm[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(V0(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(V0(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Nt(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let o=cm[r];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=cm[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(fa.DashCase|fa.Important)?t.style.setProperty(i,n,r&fa.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&fa.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=bo().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function V0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var hm=class extends va{constructor(t,i,n,r,o,s,c,l){super(t,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=$0(r.id,r.styles);for(let f of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ya=class extends va{constructor(t,i,n,r,o,s,c,l){super(t,o,s,c),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?$0(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ed=class extends ya{constructor(t,i,n,r,o,s,c,l){let d=r+"-"+n.id;super(t,i,n,o,s,c,l,d),this.contentAttr=SD(d),this.hostAttr=RD(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},DD=(()=>{let t=class t extends Jl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),j0=["alt","control","meta","shift"],kD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},PD={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},OD=(()=>{let t=class t extends Jl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bo().onAndCancel(n,s.domEventName,c))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),j0.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(n,r){let o=kD[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),j0.forEach(c=>{if(c!==o){let l=PD[c];l(n)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function q0(e,t){return g0(O({rootComponent:e},MD(t)))}function MD(e){return{appProviders:[...jD,...e?.providers??[]],platformProviders:VD}}function ND(){dm.makeCurrent()}function FD(){return new Zf}function LD(){return Qy(document),document}var VD=[{provide:Be,useValue:C0},{provide:Xy,useValue:ND,multi:!0},{provide:J,useFactory:LD,deps:[]}];var jD=[{provide:Ky,useValue:"root"},{provide:Zf,useFactory:FD,deps:[]},{provide:um,useClass:DD,multi:!0,deps:[J,q,Be]},{provide:um,useClass:OD,multi:!0,deps:[J]},td,B0,U0,{provide:Vl,useExisting:td},{provide:A0,useClass:ID,deps:[]},[]];var nd=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var pm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=R(UD),o},providedIn:"root"});let e=t;return e})(),UD=(()=>{let t=class t extends pm{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case yr.NONE:return r;case yr.HTML:return ho(r,"HTML")?uo(r):r0(this._doc,String(r)).toString();case yr.STYLE:return ho(r,"Style")?uo(r):r;case yr.SCRIPT:if(ho(r,"Script"))return uo(r);throw new Nt(5200,!1);case yr.URL:return ho(r,"URL")?uo(r):i0(String(r));case yr.RESOURCE_URL:if(ho(r,"ResourceURL"))return uo(r);throw new Nt(5201,!1);default:throw new Nt(5202,!1)}}bypassSecurityTrustHtml(n){return Zy(n)}bypassSecurityTrustStyle(n){return Jy(n)}bypassSecurityTrustScript(n){return t0(n)}bypassSecurityTrustUrl(n){return e0(n)}bypassSecurityTrustResourceUrl(n){return n0(n)}};t.\u0275fac=function(r){return new(r||t)(R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fm=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(fm||{});function H0(...e){let t=[],i=new Set,n=i.has(fm.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of e)i.add(o),r.length&&t.push(r);return nn([[],_0(),i.has(fm.NoHttpTransferCache)||n?[]:L0({}),t])}var bt="primary",Fa=Symbol("RouteTitle"),wm=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function Eo(e){return new wm(e)}function zD(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],c=e[o];if(s.startsWith(":"))r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function $D(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Fn(e[i],t[i]))return!1;return!0}function Fn(e,t){let i=e?xm(e):void 0,n=t?xm(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!tw(e[r],t[r]))return!1;return!0}function xm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function tw(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,o)=>n[o]===r)}else return e===t}function ew(e){return e.length>0?e[e.length-1]:null}function Gi(e){return zf(e)?e:Hl(e)?ce(Promise.resolve(e)):W(e)}var qD={exact:iw,subset:rw},nw={exact:HD,subset:GD,ignored:()=>!0};function G0(e,t,i){return qD[i.paths](e.root,t.root,i.matrixParams)&&nw[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function HD(e,t){return Fn(e,t)}function iw(e,t,i){if(!Er(e.segments,t.segments)||!od(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!iw(e.children[n],t.children[n],i))return!1;return!0}function GD(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>tw(e[i],t[i]))}function rw(e,t,i){return ow(e,t,t.segments,i)}function ow(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!Er(r,i)||t.hasChildren()||!od(r,i,n))}else if(e.segments.length===i.length){if(!Er(e.segments,i)||!od(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!rw(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!Er(e.segments,r)||!od(e.segments,r,n)||!e.children[bt]?!1:ow(e.children[bt],t,o,n)}}function od(e,t,i){return t.every((n,r)=>nw[i](e[r].parameters,n.parameters))}var $i=class{constructor(t=new Pt([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){return YD.serialize(this)}},Pt=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},Ir=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=Eo(this.parameters),this._parameterMap}toString(){return aw(this)}};function WD(e,t){return Er(e,t)&&e.every((i,n)=>Fn(i.parameters,t[n].parameters))}function Er(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function KD(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===bt&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==bt&&(i=i.concat(t(r,n)))}),i}var La=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>new Aa,providedIn:"root"});let e=t;return e})(),Aa=class{parse(t){let i=new Em(t);return new $i(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${wa(t.root,!0)}`,n=ZD(t.queryParams),r=typeof t.fragment=="string"?`#${QD(t.fragment)}`:"";return`${i}${n}${r}`}},YD=new Aa;function sd(e){return e.segments.map(t=>aw(t)).join("/")}function wa(e,t){if(!e.hasChildren())return sd(e);if(t){let i=e.children[bt]?wa(e.children[bt],!1):"",n=[];return Object.entries(e.children).forEach(([r,o])=>{r!==bt&&n.push(`${r}:${wa(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=KD(e,(n,r)=>r===bt?[wa(e.children[bt],!1)]:[`${r}:${wa(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[bt]!=null?`${sd(e)}/${i[0]}`:`${sd(e)}/(${i.join("//")})`}}function sw(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(e){return sw(e).replace(/%3B/gi,";")}function QD(e){return encodeURI(e)}function Im(e){return sw(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(e){return decodeURIComponent(e)}function W0(e){return ad(e.replace(/\+/g,"%20"))}function aw(e){return`${Im(e.path)}${XD(e.parameters)}`}function XD(e){return Object.entries(e).map(([t,i])=>`;${Im(t)}=${Im(i)}`).join("")}function ZD(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${id(i)}=${id(r)}`).join("&"):`${id(i)}=${id(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var JD=/^[^\/()?;#]+/;function _m(e){let t=e.match(JD);return t?t[0]:""}var tk=/^[^\/()?;=#]+/;function ek(e){let t=e.match(tk);return t?t[0]:""}var nk=/^[^=?&#]+/;function ik(e){let t=e.match(nk);return t?t[0]:""}var rk=/^[^&#]+/;function ok(e){let t=e.match(rk);return t?t[0]:""}var Em=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[bt]=new Pt(t,i)),n}parseSegment(){let t=_m(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Nt(4009,!1);return this.capture(t),new Ir(ad(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=ek(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=_m(this.remaining);r&&(n=r,this.capture(n))}t[ad(i)]=ad(n)}parseQueryParam(t){let i=ik(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=ok(this.remaining);s&&(n=s,this.capture(n))}let r=W0(i),o=W0(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=_m(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Nt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=bt);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[bt]:new Pt([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Nt(4011,!1)}};function cw(e){return e.segments.length>0?new Pt([],{[bt]:e}):e}function lw(e){let t={};for(let[n,r]of Object.entries(e.children)){let o=lw(r);if(n===bt&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new Pt(e.segments,t);return sk(i)}function sk(e){if(e.numberOfChildren===1&&e.children[bt]){let t=e.children[bt];return new Pt(e.segments.concat(t.segments),t.children)}return e}function To(e){return e instanceof $i}function ak(e,t,i=null,n=null){let r=dw(e);return uw(r,t,i,n)}function dw(e){let t;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let c=new Pt(o.url,s);return o===e&&(t=c),c}let n=i(e.root),r=cw(n);return t??r}function uw(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return bm(r,r,r,i,n);let o=ck(t);if(o.toRoot())return bm(r,r,new Pt([],{}),i,n);let s=lk(o,r,e),c=s.processChildren?Ea(s.segmentGroup,s.index,o.commands):fw(s.segmentGroup,s.index,o.commands);return bm(r,s.segmentGroup,c,i,n)}function cd(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Sa(e){return typeof e=="object"&&e!=null&&e.outlets}function bm(e,t,i,n,r){let o={};n&&Object.entries(n).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;e===t?s=i:s=hw(e,t,i);let c=cw(lw(s));return new $i(c,o,r)}function hw(e,t,i){let n={};return Object.entries(e.children).forEach(([r,o])=>{o===t?n[r]=i:n[r]=hw(o,t,i)}),new Pt(e.segments,n)}var ld=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&cd(n[0]))throw new Nt(4003,!1);let r=n.find(Sa);if(r&&r!==ew(n))throw new Nt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ck(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new ld(!0,0,e);let t=0,i=!1,n=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?i=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new ld(i,t,n)}var xo=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function lk(e,t,i){if(e.isAbsolute)return new xo(t,!0,0);if(!i)return new xo(t,!1,NaN);if(i.parent===null)return new xo(i,!0,0);let n=cd(e.commands[0])?0:1,r=i.segments.length-1+n;return dk(i,r,e.numberOfDoubleDots)}function dk(e,t,i){let n=e,r=t,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Nt(4005,!1);r=n.segments.length}return new xo(n,!1,r-o)}function uk(e){return Sa(e[0])?e[0].outlets:{[bt]:e}}function fw(e,t,i){if(e??=new Pt([],{}),e.segments.length===0&&e.hasChildren())return Ea(e,t,i);let n=hk(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new Pt(e.segments.slice(0,n.pathIndex),{});return o.children[bt]=new Pt(e.segments.slice(n.pathIndex),e.children),Ea(o,0,r)}else return n.match&&r.length===0?new Pt(e.segments,{}):n.match&&!e.hasChildren()?Tm(e,t,i):n.match?Ea(e,0,r):Tm(e,t,i)}function Ea(e,t,i){if(i.length===0)return new Pt(e.segments,{});{let n=uk(i),r={};if(Object.keys(n).some(o=>o!==bt)&&e.children[bt]&&e.numberOfChildren===1&&e.children[bt].segments.length===0){let o=Ea(e.children[bt],t,i);return new Pt(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=fw(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Pt(e.segments,r)}}function hk(e,t,i){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return o;let s=e.segments[r],c=i[n];if(Sa(c))break;let l=`${c}`,d=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Y0(l,d,s))return o;n+=2}else{if(!Y0(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Tm(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(Sa(o)){let l=fk(o.outlets);return new Pt(n,l)}if(r===0&&cd(i[0])){let l=e.segments[t];n.push(new Ir(l.path,K0(i[0]))),r++;continue}let s=Sa(o)?o.outlets[bt]:`${o}`,c=r<i.length-1?i[r+1]:null;s&&c&&cd(c)?(n.push(new Ir(s,K0(c))),r+=2):(n.push(new Ir(s,{})),r++)}return new Pt(n,{})}function fk(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=Tm(new Pt([],{}),0,n))}),t}function K0(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function Y0(e,t,i){return e==i.path&&Fn(t,i.parameters)}var Ta="imperative",ve=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ve||{}),pn=class{constructor(t,i){this.id=t,this.url=i}},Co=class extends pn{constructor(t,i,n="imperative",r=null){super(t,i),this.type=ve.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},xn=class extends pn{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=ve.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},an=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(an||{}),dd=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(dd||{}),qi=class extends pn{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=ve.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Hi=class extends pn{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=ve.NavigationSkipped}},Ra=class extends pn{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=ve.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ud=class extends pn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ve.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cm=class extends pn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ve.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class extends pn{constructor(t,i,n,r,o){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=ve.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sm=class extends pn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ve.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class extends pn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ve.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class{constructor(t){this.route=t,this.type=ve.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},km=class{constructor(t){this.route=t,this.type=ve.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pm=class{constructor(t){this.snapshot=t,this.type=ve.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Om=class{constructor(t){this.snapshot=t,this.type=ve.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mm=class{constructor(t){this.snapshot=t,this.type=ve.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nm=class{constructor(t){this.snapshot=t,this.type=ve.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=ve.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Da=class{},ka=class{constructor(t){this.url=t}};var Fm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Va,this.attachRef=null}},Va=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fm,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fd=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=Lm(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=Lm(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=Vm(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Vm(t,this._root).map(i=>i.value)}};function Lm(e,t){if(e===t.value)return t;for(let i of t.children){let n=Lm(e,i);if(n)return n}return null}function Vm(e,t){if(e===t.value)return[t];for(let i of t.children){let n=Vm(e,i);if(n.length)return n.unshift(t),n}return[]}var sn=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function wo(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var md=class extends fd{constructor(t,i){super(t),this.snapshot=i,Km(this,t)}toString(){return this.snapshot.toString()}};function mw(e){let t=mk(e),i=new Ye([new Ir("",{})]),n=new Ye({}),r=new Ye({}),o=new Ye({}),s=new Ye(""),c=new cn(i,n,o,s,r,bt,e,t.root);return c.snapshot=t.root,new md(new sn(c,[]),t)}function mk(e){let t={},i={},n={},r="",o=new Pa([],t,n,r,i,bt,e,null,{});return new pd("",new sn(o,[]))}var cn=class{constructor(t,i,n,r,o,s,c,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(vt(d=>d[Fa]))??W(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(vt(t=>Eo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(vt(t=>Eo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wm(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:O(O({},t.params),e.params),data:O(O({},t.data),e.data),resolve:O(O(O(O({},e.data),t.data),r?.data),e._resolvedData)}:n={params:O({},e.params),data:O({},e.data),resolve:O(O({},e.data),e._resolvedData??{})},r&&gw(r)&&(n.resolve[Fa]=r.title),n}var Pa=class{get title(){return this.data?.[Fa]}constructor(t,i,n,r,o,s,c,l,d){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Eo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Eo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},pd=class extends fd{constructor(t,i){super(i),this.url=t,Km(this,i)}toString(){return pw(this._root)}};function Km(e,t){t.value._routerState=e,t.children.forEach(i=>Km(e,i))}function pw(e){let t=e.children.length>0?` { ${e.children.map(pw).join(", ")} } `:"";return`${e.value}${t}`}function vm(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Fn(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Fn(t.params,i.params)||e.paramsSubject.next(i.params),$D(t.url,i.url)||e.urlSubject.next(i.url),Fn(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function jm(e,t){let i=Fn(e.params,t.params)&&WD(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||jm(e.parent,t.parent))}function gw(e){return typeof e.title=="string"||e.title===null}var Ym=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new At,this.deactivateEvents=new At,this.attachEvents=new At,this.detachEvents=new At,this.parentContexts=L(Va),this.location=L(Ui),this.changeDetector=L(_e),this.environmentInjector=L(lo),this.inputBinder=L(vd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Nt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Nt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Nt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Nt(4013,!1);this._activatedRoute=n;let o=this.location,c=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Um(n,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ue]});let e=t;return e})(),Um=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===cn?this.route:t===Va?this.childContexts:this.parent.get(t,i)}},vd=new $(""),Q0=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=ao([r.queryParams,r.params,r.data]).pipe(ge(([s,c,l],d)=>(l=O(O(O({},s),c),l),d===0?W(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let c=v0(r.component);if(!c){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of c.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function pk(e,t,i){let n=Oa(e,t._root,i?i._root:void 0);return new md(n,t)}function Oa(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=gk(e,t,i);return new sn(n,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>Oa(e,c)),s}}let n=_k(t.value),r=t.children.map(o=>Oa(e,o));return new sn(n,r)}}function gk(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return Oa(e,n,r);return Oa(e,n)})}function _k(e){return new cn(new Ye(e.url),new Ye(e.params),new Ye(e.queryParams),new Ye(e.fragment),new Ye(e.data),e.outlet,e.component,e)}var _w="ngNavigationCancelingError";function bw(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=To(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=vw(!1,an.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function vw(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[_w]=!0,i.cancellationCode=t,i}function bk(e){return yw(e)&&To(e.url)}function yw(e){return!!e&&e[_w]}var vk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=it({type:t,selectors:[["ng-component"]],standalone:!0,features:[st],decls:1,vars:0,template:function(r,o){r&1&&rt(0,"router-outlet")},dependencies:[Ym],encapsulation:2});let e=t;return e})();function yk(e,t){return e.providers&&!e._injector&&(e._injector=em(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Qm(e){let t=e.children&&e.children.map(Qm),i=t?Et(O({},e),{children:t}):O({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==bt&&(i.component=vk),i}function Ln(e){return e.outlet||bt}function wk(e,t){let i=e.filter(n=>Ln(n)===t);return i.push(...e.filter(n=>Ln(n)!==t)),i}function ja(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var xk=(e,t,i,n)=>vt(r=>(new Bm(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),Bm=class{constructor(t,i,n,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),vm(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=wo(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=wo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=wo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=wo(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new Nm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Om(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(vm(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),vm(c.route.value),this.activateChildRoutes(t,null,s.children)}else{let c=ja(r.snapshot);s.attachRef=null,s.route=r,s.injector=c,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},gd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Io=class{constructor(t,i){this.component=t,this.route=i}};function Ik(e,t,i){let n=e._root,r=t?t._root:null;return xa(n,r,i,[n.value])}function Ek(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function So(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!Gy(e)?e:t.get(e):n}function xa(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=wo(t);return e.children.forEach(s=>{Tk(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>Ca(c,i.getContext(s),r)),r}function Tk(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,c=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=Ck(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new gd(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xa(e,t,c?c.children:null,n,r):xa(e,t,i,n,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Io(c.outlet.component,s))}else s&&Ca(t,c,r),r.canActivateChecks.push(new gd(n)),o.component?xa(e,null,c?c.children:null,n,r):xa(e,null,i,n,r);return r}function Ck(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!Er(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Er(e.url,t.url)||!Fn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jm(e,t)||!Fn(e.queryParams,t.queryParams);case"paramsChange":default:return!jm(e,t)}}function Ca(e,t,i){let n=wo(e),r=e.value;Object.entries(n).forEach(([o,s])=>{r.component?t?Ca(s,t.children.getContext(o),i):Ca(s,null,i):Ca(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new Io(t.outlet.component,r)):i.canDeactivateChecks.push(new Io(null,r)):i.canDeactivateChecks.push(new Io(null,r))}function Ua(e){return typeof e=="function"}function Ak(e){return typeof e=="boolean"}function Sk(e){return e&&Ua(e.canLoad)}function Rk(e){return e&&Ua(e.canActivate)}function Dk(e){return e&&Ua(e.canActivateChild)}function kk(e){return e&&Ua(e.canDeactivate)}function Pk(e){return e&&Ua(e.canMatch)}function ww(e){return e instanceof zy||e?.name==="EmptyError"}var rd=Symbol("INITIAL_VALUE");function Ao(){return ge(e=>ao(e.map(t=>t.pipe(le(1),Qe(rd)))).pipe(vt(t=>{for(let i of t)if(i!==!0){if(i===rd)return rd;if(i===!1||i instanceof $i)return i}return!0}),Ot(t=>t!==rd),le(1)))}function Ok(e,t){return en(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?W(Et(O({},i),{guardsResult:!0})):Mk(s,n,r,e).pipe(en(c=>c&&Ak(c)?Nk(n,o,e,t):W(c)),vt(c=>Et(O({},i),{guardsResult:c})))})}function Mk(e,t,i,n){return ce(e).pipe(en(r=>Uk(r.component,r.route,i,t,n)),Pn(r=>r!==!0,!0))}function Nk(e,t,i,n){return ce(t).pipe(vr(r=>Pl(Lk(r.route.parent,n),Fk(r.route,n),jk(e,r.path,i),Vk(e,r.route,i))),Pn(r=>r!==!0,!0))}function Fk(e,t){return e!==null&&t&&t(new Mm(e)),W(!0)}function Lk(e,t){return e!==null&&t&&t(new Pm(e)),W(!0)}function Vk(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return W(!0);let r=n.map(o=>br(()=>{let s=ja(t)??i,c=So(o,s),l=Rk(c)?c.canActivate(t,e):ai(s,()=>c(t,e));return Gi(l).pipe(Pn())}));return W(r).pipe(Ao())}function jk(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>Ek(s)).filter(s=>s!==null).map(s=>br(()=>{let c=s.guards.map(l=>{let d=ja(s.node)??i,f=So(l,d),p=Dk(f)?f.canActivateChild(n,e):ai(d,()=>f(n,e));return Gi(p).pipe(Pn())});return W(c).pipe(Ao())}));return W(o).pipe(Ao())}function Uk(e,t,i,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(c=>{let l=ja(t)??r,d=So(c,l),f=kk(d)?d.canDeactivate(e,t,i,n):ai(l,()=>d(e,t,i,n));return Gi(f).pipe(Pn())});return W(s).pipe(Ao())}function Bk(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return W(!0);let o=r.map(s=>{let c=So(s,e),l=Sk(c)?c.canLoad(t,i):ai(e,()=>c(t,i));return Gi(l)});return W(o).pipe(Ao(),xw(n))}function xw(e){return Lf(Kt(t=>{if(To(t))throw bw(e,t)}),vt(t=>t===!0))}function zk(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return W(!0);let o=r.map(s=>{let c=So(s,e),l=Pk(c)?c.canMatch(t,i):ai(e,()=>c(t,i));return Gi(l)});return W(o).pipe(Ao(),xw(n))}var Ma=class{constructor(t){this.segmentGroup=t||null}},_d=class extends Error{constructor(t){super(),this.urlTree=t}};function yo(e){return ca(new Ma(e))}function $k(e){return ca(new Nt(4e3,!1))}function qk(e){return ca(vw(!1,an.GuardRejected))}var zm=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return W(n);if(r.numberOfChildren>1||!r.children[bt])return $k(t.redirectTo);r=r.children[bt]}}applyRedirectCommands(t,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i.startsWith("/"))throw new _d(r);return r}applyRedirectCreateUrlTree(t,i,n,r){let o=this.createSegmentGroup(t,i.root,n,r);return new $i(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);n[r]=i[c]}else n[r]=o}),n}createSegmentGroup(t,i,n,r){let o=this.createSegments(t,i.segments,n,r),s={};return Object.entries(i.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(t,l,n,r)}),new Pt(o,s)}createSegments(t,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new Nt(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},$m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hk(e,t,i,n,r){let o=Xm(e,t,i);return o.matched?(n=yk(t,n),zk(n,t,i,r).pipe(vt(s=>s===!0?o:O({},$m)))):W(o)}function Xm(e,t,i){if(t.path==="**")return Gk(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?O({},$m):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||zD)(i,e,t);if(!r)return O({},$m);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?O(O({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Gk(e){return{matched:!0,parameters:e.length>0?ew(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function X0(e,t,i,n){return i.length>0&&Yk(e,i,n)?{segmentGroup:new Pt(t,Kk(n,new Pt(i,e.children))),slicedSegments:[]}:i.length===0&&Qk(e,i,n)?{segmentGroup:new Pt(e.segments,Wk(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new Pt(e.segments,e.children),slicedSegments:i}}function Wk(e,t,i,n){let r={};for(let o of i)if(yd(e,t,o)&&!n[Ln(o)]){let s=new Pt([],{});r[Ln(o)]=s}return O(O({},n),r)}function Kk(e,t){let i={};i[bt]=t;for(let n of e)if(n.path===""&&Ln(n)!==bt){let r=new Pt([],{});i[Ln(n)]=r}return i}function Yk(e,t,i){return i.some(n=>yd(e,t,n)&&Ln(n)!==bt)}function Qk(e,t,i){return i.some(n=>yd(e,t,n))}function yd(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function Xk(e,t,i,n){return Ln(e)!==n&&(n===bt||!yd(t,i,e))?!1:Xm(t,e,i).matched}function Zk(e,t,i){return t.length===0&&!e.children[i]}var qm=class{};function Jk(e,t,i,n,r,o,s="emptyOnly"){return new Hm(e,t,i,n,r,s,o).recognize()}var tP=31,Hm=class{constructor(t,i,n,r,o,s,c){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new zm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Nt(4002,`'${t.segmentGroup}'`)}recognize(){let t=X0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(vt(i=>{let n=new Pa([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),r=new sn(n,i),o=new pd("",r),s=ak(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,bt).pipe(co(n=>{if(n instanceof _d)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ma?this.noMatchError(n):n}))}inheritParamsAndData(t,i){let n=t.value,r=Wm(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0).pipe(vt(o=>o instanceof sn?[o]:[]))}processChildren(t,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return ce(r).pipe(vr(o=>{let s=n.children[o],c=wk(i,o);return this.processSegmentGroup(t,c,s,o)}),Yf((o,s)=>(o.push(...s),o)),Gf(null),Hy(),en(o=>{if(o===null)return yo(n);let s=Iw(o);return eP(s),W(s)}))}processSegment(t,i,n,r,o,s){return ce(i).pipe(vr(c=>this.processSegmentAgainstRoute(c._injector??t,i,c,n,r,o,s).pipe(co(l=>{if(l instanceof Ma)return W(null);throw l}))),Pn(c=>!!c),co(c=>{if(ww(c))return Zk(n,r,o)?W(new qm):yo(n);throw c}))}processSegmentAgainstRoute(t,i,n,r,o,s,c){return Xk(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s):yo(r):yo(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s){let{matched:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=Xm(i,r,o);if(!c)return yo(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tP&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(en(g=>this.processSegment(t,n,i,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,i,n,r,o){let s=Hk(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(ge(c=>c.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(ge(({routes:l})=>{let d=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:g}=c,w=new Pa(f,g,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,iP(n),Ln(n),n.component??n._loadedComponent??null,n,rP(n)),{segmentGroup:k,slicedSegments:M}=X0(i,f,p,l);if(M.length===0&&k.hasChildren())return this.processChildren(d,l,k).pipe(vt(z=>z===null?null:new sn(w,z)));if(l.length===0&&M.length===0)return W(new sn(w,[]));let D=Ln(n)===o;return this.processSegment(d,l,k,M,D?bt:o,!0).pipe(vt(z=>new sn(w,z instanceof sn?[z]:[])))}))):yo(i)))}getChildConfig(t,i,n){return i.children?W({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?W({routes:i._loadedRoutes,injector:i._loadedInjector}):Bk(t,i,n,this.urlSerializer).pipe(en(r=>r?this.configLoader.loadChildren(t,i).pipe(Kt(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):qk(i))):W({routes:[],injector:t})}};function eP(e){e.sort((t,i)=>t.value.outlet===bt?-1:i.value.outlet===bt?1:t.value.outlet.localeCompare(i.value.outlet))}function nP(e){let t=e.value.routeConfig;return t&&t.path===""}function Iw(e){let t=[],i=new Set;for(let n of e){if(!nP(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=Iw(n.children);t.push(new sn(n.value,r))}return t.filter(n=>!i.has(n))}function iP(e){return e.data||{}}function rP(e){return e.resolve||{}}function oP(e,t,i,n,r,o){return en(s=>Jk(e,t,i,n,s.extractedUrl,r,o).pipe(vt(({state:c,tree:l})=>Et(O({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function sP(e,t){return en(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return W(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Ew(l))s.add(d);let c=0;return ce(s).pipe(vr(l=>o.has(l)?aP(l,n,e,t):(l.data=Wm(l,l.parent,e).resolve,W(void 0))),Kt(()=>c++),Kf(1),en(l=>c===s.size?W(i):Dn))})}function Ew(e){let t=e.children.map(i=>Ew(i)).flat();return[e,...t]}function aP(e,t,i,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!gw(r)&&(o[Fa]=r.title),cP(o,e,t,n).pipe(vt(s=>(e._resolvedData=s,e.data=Wm(e,e.parent,i).resolve,null)))}function cP(e,t,i,n){let r=xm(e);if(r.length===0)return W({});let o={};return ce(r).pipe(en(s=>lP(e[s],t,i,n).pipe(Pn(),Kt(c=>{o[s]=c}))),Kf(1),qy(o),co(s=>ww(s)?Dn:ca(s)))}function lP(e,t,i,n){let r=ja(t)??n,o=So(e,r),s=o.resolve?o.resolve(t,i):ai(r,()=>o(t,i));return Gi(s)}function ym(e){return ge(t=>{let i=e(t);return i?ce(i).pipe(vt(()=>t)):W(t)})}var Tw=(()=>{let t=class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===bt);return r}getResolvedTitleForRoute(n){return n.data[Fa]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>L(dP),providedIn:"root"});let e=t;return e})(),dP=(()=>{let t=class t extends Tw{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(R(nd))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ba=new $("",{providedIn:"root",factory:()=>({})}),Na=new $(""),Zm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Gl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Gi(n.loadComponent()).pipe(vt(Cw),Kt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),la(()=>{this.componentLoaders.delete(n)})),o=new jf(r,()=>new Q).pipe(Vf());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=uP(r,this.compiler,n,this.onLoadEndListener).pipe(la(()=>{this.childrenLoaders.delete(r)})),c=new jf(s,()=>new Q).pipe(Vf());return this.childrenLoaders.set(r,c),c}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function uP(e,t,i,n){return Gi(e.loadChildren()).pipe(vt(Cw),en(r=>r instanceof a0||Array.isArray(r)?W(r):ce(t.compileModuleAsync(r))),vt(r=>{n&&n(e);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(i).injector,s=o.get(Na,[],{optional:!0,self:!0}).flat()),{routes:s.map(Qm),injector:o}}))}function hP(e){return e&&typeof e=="object"&&"default"in e}function Cw(e){return hP(e)?e.default:e}var Jm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>L(fP),providedIn:"root"});let e=t;return e})(),fP=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Aw=new $(""),Sw=new $("");function mP(e,t,i){let n=e.get(Sw),r=e.get(J);return e.get(q).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),c=r.startViewTransition(()=>(o(),pP(e))),{onViewTransitionCreated:l}=n;return l&&ai(e,()=>l({transition:c,from:t,to:i})),s})}function pP(e){return new Promise(t=>{Jf(t,{injector:e})})}var tp=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.transitionAbortSubject=new Q,this.configLoader=L(Zm),this.environmentInjector=L(lo),this.urlSerializer=L(La),this.rootContexts=L(Va),this.location=L(rn),this.inputBindingEnabled=L(vd,{optional:!0})!==null,this.titleStrategy=L(Tw),this.options=L(Ba,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Jm),this.createViewTransition=L(Aw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Dm(o)),r=o=>this.events.next(new km(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Et(O(O({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Ye({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ta,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ot(s=>s.id!==0),vt(s=>Et(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ge(s=>{let c=!1,l=!1;return W(s).pipe(ge(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),Dn;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Et(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&p!=="reload"){let g="";return this.events.next(new Hi(d.id,this.urlSerializer.serialize(d.rawUrl),g,dd.IgnoredSameUrlNavigation)),d.resolve(null),Dn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return W(d).pipe(ge(g=>{let w=this.transitions?.getValue();return this.events.next(new Co(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),w!==this.transitions?.getValue()?Dn:Promise.resolve(g)}),oP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Kt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Et(O({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let w=new ud(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:g,extractedUrl:w,source:k,restoredState:M,extras:D}=d,z=new Co(g,this.urlSerializer.serialize(w),k,M);this.events.next(z);let Y=mw(this.rootComponentType).snapshot;return this.currentTransition=s=Et(O({},d),{targetSnapshot:Y,urlAfterRedirects:w,extras:Et(O({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,W(s)}else{let g="";return this.events.next(new Hi(d.id,this.urlSerializer.serialize(d.extractedUrl),g,dd.IgnoredByUrlHandlingStrategy)),d.resolve(null),Dn}}),Kt(d=>{let f=new Cm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),vt(d=>(this.currentTransition=s=Et(O({},d),{guards:Ik(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),Ok(this.environmentInjector,d=>this.events.next(d)),Kt(d=>{if(s.guardsResult=d.guardsResult,To(d.guardsResult))throw bw(this.urlSerializer,d.guardsResult);let f=new Am(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),Ot(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",an.GuardRejected),!1)),ym(d=>{if(d.guards.canActivateChecks.length)return W(d).pipe(Kt(f=>{let p=new Sm(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),ge(f=>{let p=!1;return W(f).pipe(sP(this.paramsInheritanceStrategy,this.environmentInjector),Kt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",an.NoDataFromResolver)}}))}),Kt(f=>{let p=new Rm(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),ym(d=>{let f=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Kt(w=>{p.component=w}),vt(()=>{})));for(let w of p.children)g.push(...f(w));return g};return ao(f(d.targetSnapshot.root)).pipe(Gf(null),le(1))}),ym(()=>this.afterPreactivation()),ge(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return p?ce(p).pipe(vt(()=>s)):W(s)}),vt(d=>{let f=pk(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Et(O({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Kt(()=>{this.events.next(new Da)}),xk(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),le(1),Kt({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),oe(this.transitionAbortSubject.pipe(Kt(d=>{throw d}))),la(()=>{!c&&!l&&this.cancelNavigationTransition(s,"",an.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),co(d=>{if(l=!0,yw(d))this.events.next(new qi(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),bk(d)?this.events.next(new ka(d.url)):s.resolve(!1);else{this.events.next(new Ra(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Dn}))}))}cancelNavigationTransition(n,r,o){let s=new qi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function gP(e){return e!==Ta}var _P=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>L(bP),providedIn:"root"});let e=t;return e})(),Gm=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},bP=(()=>{let t=class t extends Gm{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ci(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Rw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>L(vP),providedIn:"root"});let e=t;return e})(),vP=(()=>{let t=class t extends Rw{constructor(){super(...arguments),this.location=L(rn),this.urlSerializer=L(La),this.options=L(Ba,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Jm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $i,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=mw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Co)this.stateMemento=this.createStateMemento();else if(n instanceof Hi)this.rawUrlTree=r.initialUrl;else if(n instanceof ud){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof Da?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof qi&&(n.code===an.GuardRejected||n.code===an.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ra?this.restoreHistory(r,!0):n instanceof xn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=O(O({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=O(O({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ci(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ia=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ia||{});function Dw(e,t){e.events.pipe(Ot(i=>i instanceof xn||i instanceof qi||i instanceof Ra||i instanceof Hi),vt(i=>i instanceof xn||i instanceof Hi?Ia.COMPLETE:(i instanceof qi?i.code===an.Redirect||i.code===an.SupersededByNewNavigation:!1)?Ia.REDIRECTING:Ia.FAILED),Ot(i=>i!==Ia.REDIRECTING),le(1)).subscribe(()=>{t()})}function yP(e){throw e}var wP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},be=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=L(ql),this.stateManager=L(Rw),this.options=L(Ba,{optional:!0})||{},this.pendingTasks=L(nm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(tp),this.urlSerializer=L(La),this.location=L(rn),this.urlHandlingStrategy=L(Jm),this._events=new Q,this.errorHandler=this.options.errorHandler||yP,this.navigated=!1,this.routeReuseStrategy=L(_P),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Na,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(vd,{optional:!0}),this.eventsSubscription=new We,this.isNgZoneEnabled=L(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof qi&&r.code!==an.Redirect&&r.code!==an.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof xn)this.navigated=!0;else if(r instanceof ka){let c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||gP(o.source)};this.scheduleNavigation(c,Ta,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}EP(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=O({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:l,preserveFragment:d}=r,f=d?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let w=o?o.snapshot:this.routerState.snapshot.root;g=dw(w)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return uw(g,n,p,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=To(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ta,null,r)}navigate(n,r={skipLocationChange:!1}){return IP(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=O({},wP):r===!1?o=O({},xP):o=r,To(n))return G0(this.currentUrlTree,n,o);let s=this.parseUrl(n);return G0(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let l,d,f;c?(l=c.resolve,d=c.reject,f=c.promise):f=new Promise((g,w)=>{l=g,d=w});let p=this.pendingTasks.add();return Dw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function IP(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Nt(4008,!1)}function EP(e){return!(e instanceof Da)&&!(e instanceof ka)}var bd=class{};var TP=(()=>{let t=class t{constructor(n,r,o,s,c){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Ot(n=>n instanceof xn),vr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=em(s.providers,n,`Route: ${s.path}`));let c=s._injector??n,l=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ce(o).pipe($f())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=W(null);let s=o.pipe(en(c=>c===null?W(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return ce([s,c]).pipe($f())}else return s})}};t.\u0275fac=function(r){return new(r||t)(R(be),R(Gl),R(lo),R(bd),R(Zm))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),kw=new $(""),CP=(()=>{let t=class t{constructor(n,r,o,s,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=L(lo),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Co?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof xn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Hi&&n.code===dd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof hd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Jf(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new hd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){po()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function Pw(e,...t){return nn([{provide:Na,multi:!0,useValue:e},[],{provide:cn,useFactory:Ow,deps:[be]},{provide:ga,multi:!0,useFactory:Mw},t.map(i=>i.\u0275providers)])}function Ow(e){return e.routerState.root}function za(e,t){return{\u0275kind:e,\u0275providers:t}}function Mw(){let e=L(Lt);return t=>{let i=e.get(Bi);if(t!==i.components[0])return;let n=e.get(be),r=e.get(Nw);e.get(ep)===1&&n.initialNavigation(),e.get(Fw,null,Xf.Optional)?.setUpPreloading(),e.get(kw,null,Xf.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Nw=new $("",{factory:()=>new Q}),ep=new $("",{providedIn:"root",factory:()=>1});function AP(){return za(2,[{provide:ep,useValue:0},{provide:im,multi:!0,deps:[Lt],useFactory:t=>{let i=t.get(x0,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(be),o=t.get(Nw);Dw(r,()=>{n(!0)}),t.get(tp).afterPreactivation=()=>(n(!0),o.closed?W(void 0):o),r.initialNavigation()}))}}])}function SP(){return za(3,[{provide:im,multi:!0,useFactory:()=>{let t=L(be);return()=>{t.setUpLocationChangeListener()}}},{provide:ep,useValue:2}])}var Fw=new $("");function RP(e){return za(0,[{provide:Fw,useExisting:TP},{provide:bd,useExisting:e}])}function DP(){return za(8,[Q0,{provide:vd,useExisting:Q0}])}function kP(e){let t=[{provide:Aw,useValue:mP},{provide:Sw,useValue:O({skipNextTransition:!!e?.skipInitialTransition},e)}];return za(9,t)}var Z0=new $("ROUTER_FORROOT_GUARD"),PP=[rn,{provide:La,useClass:Aa},be,Va,{provide:cn,useFactory:Ow,deps:[be]},Zm,[]],Lw=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[PP,[],{provide:Na,multi:!0,useValue:n},{provide:Z0,useFactory:FP,deps:[[be,new je,new Wy]]},{provide:Ba,useValue:r||{}},r?.useHash?MP():NP(),OP(),r?.preloadingStrategy?RP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?LP(r):[],r?.bindToComponentInputs?DP().\u0275providers:[],r?.enableViewTransitions?kP().\u0275providers:[],VP()]}}static forChild(n){return{ngModule:t,providers:[{provide:Na,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(R(Z0,8))},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({});let e=t;return e})();function OP(){return{provide:kw,useFactory:()=>{let e=L(Yl),t=L(q),i=L(Ba),n=L(tp),r=L(La);return i.scrollOffset&&e.setOffset(i.scrollOffset),new CP(r,n,e,t,i)}}}function MP(){return{provide:rm,useClass:E0}}function NP(){return{provide:rm,useClass:I0}}function FP(e){return"guarded"}function LP(e){return[e.initialNavigation==="disabled"?SP().\u0275providers:[],e.initialNavigation==="enabledBlocking"?AP().\u0275providers:[]]}var J0=new $("");function VP(){return[{provide:J0,useFactory:Mw},{provide:ga,multi:!0,useExisting:J0}]}function Vn(e){return e!=null&&`${e}`!="false"}function Ro(e,t=0){return jP(e)?Number(e):t}function jP(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function Do(e){return Array.isArray(e)?e:[e]}function se(e){return e==null?"":typeof e=="string"?e:`${e}px`}function gn(e){return e instanceof dt?e.nativeElement:e}var ip;try{ip=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ip=!1}var Tt=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?vo(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ip)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(R(Be))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ko,Vw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function rp(){if(ko)return ko;if(typeof document!="object"||!document)return ko=new Set(Vw),ko;let e=document.createElement("input");return ko=new Set(Vw.filter(t=>(e.setAttribute("type",t),e.type===t))),ko}var qa;function UP(){if(qa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qa=!0}))}finally{qa=qa||!1}return qa}function jn(e){return UP()?e:!!e.capture}var Tr;function jw(){if(Tr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Tr=!1,Tr;if("scrollBehavior"in document.documentElement.style)Tr=!0;else{let e=Element.prototype.scrollTo;e?Tr=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Tr=!1}}return Tr}var np;function BP(){if(np==null){let e=typeof document<"u"?document.head:null;np=!!(e&&(e.createShadowRoot||e.attachShadow))}return np}function Uw(e){if(BP()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ha(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function In(e){return e.composedPath?e.composedPath()[0]:e.target}function Ga(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Wi(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var zP=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Bw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({providers:[zP]});let e=t;return e})();var zw=new Set,Cr,$P=(()=>{let t=class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&qP(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(r){return new(r||t)(R(Tt),R(ha,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function qP(e,t){if(!zw.has(e))try{Cr||(Cr=document.createElement("style"),t&&Cr.setAttribute("nonce",t),Cr.setAttribute("type","text/css"),document.head.appendChild(Cr)),Cr.sheet&&(Cr.sheet.insertRule(`@media ${e} {body{ }}`,0),zw.add(e))}catch(i){console.error(i)}}function HP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var wd=(()=>{let t=class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new Q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return $w(Do(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=$w(Do(n)).map(c=>this._registerQuery(c).observable),s=ao(o);return s=Pl(s.pipe(le(1)),s.pipe(Nl(1),Ol(0))),s.pipe(vt(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:f})=>{l.matches=l.matches||d,l.breakpoints[f]=d}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Ke(c=>{let l=d=>this._zone.run(()=>c.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Qe(r),vt(({matches:c})=>({query:n,matches:c})),oe(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};t.\u0275fac=function(r){return new(r||t)(R($P),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $w(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var qw={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var sp=class{constructor(t,i){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Q,this._typeaheadSubscription=We.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this._pressedLetters=[],this.tabOut=new Q,this.change=new Q,t instanceof ua?this._itemChangesSubscription=t.changes.subscribe(n=>this._itemsChanged(n.toArray())):tm(t)&&(this._effectRef=b0(()=>this._itemsChanged(t()),{injector:i}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Kt(i=>this._pressedLetters.push(i)),Ol(t),Ot(()=>this._pressedLetters.length>0),vt(()=>this._pressedLetters.join(""))).subscribe(i=>{let n=this._getItemsArray();for(let r=1;r<n.length+1;r++){let o=(this._activeItemIndex+r)%n.length,s=n[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,i=10){return this._pageUpAndDown={enabled:t,delta:i},this}setActiveItem(t){let i=this._activeItem;this.updateActiveItem(t),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(t){let i=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||Wi(t,"shiftKey"))&&(t.key&&t.key.length===1?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){let i=this._getItemsArray(),n=typeof t=="number"?t:i.indexOf(t),r=i[n];this._activeItem=r??null,this._activeItemIndex=n}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){let i=this._getItemsArray();for(let n=1;n<=i.length;n++){let r=(this._activeItemIndex+t*n+i.length)%i.length,o=i[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,i){let n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(t+=i,!n[t])return;this.setActiveItem(t)}}_getItemsArray(){return tm(this._items)?this._items():this._items instanceof ua?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){let i=t.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}};var Ed=class extends sp{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}};var Wa=(()=>{let t=class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return cO(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=aO(gO(n));if(r&&(Hw(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=Hw(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!mO(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return pO(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};t.\u0275fac=function(r){return new(r||t)(R(Tt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function aO(e){try{return e.frameElement}catch{return null}}function cO(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function lO(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function dO(e){return hO(e)&&e.type=="hidden"}function uO(e){return fO(e)&&e.hasAttribute("href")}function hO(e){return e.nodeName.toLowerCase()=="input"}function fO(e){return e.nodeName.toLowerCase()=="a"}function Kw(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Hw(e){if(!Kw(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function mO(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function pO(e){return dO(e)?!1:lO(e)||uO(e)||e.hasAttribute("contenteditable")||Kw(e)}function gO(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var ap=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,r,o=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(le(1)).subscribe(t)}},Ad=(()=>{let t=class t{constructor(n,r,o){this._checker=n,this._ngZone=r,this._document=o}create(n,r=!1){return new ap(n,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(R(Wa),R(q),R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ka(e){return e.buttons===0||e.detail===0}function Ya(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var _O=new $("cdk-input-modality-detector-options"),bO={ignoreKeys:[18,17,224,91,16]},Yw=650,Po=jn({passive:!0,capture:!0}),vO=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Ye(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=In(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Yw||(this._modality.next(Ka(c)?"keyboard":"mouse"),this._mostRecentTarget=In(c))},this._onTouchstart=c=>{if(Ya(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=In(c)},this._options=O(O({},bO),s),this.modalityDetected=this._modality.pipe(Nl(1)),this.modalityChanged=this.modalityDetected.pipe(Ml()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Po),o.addEventListener("mousedown",this._onMousedown,Po),o.addEventListener("touchstart",this._onTouchstart,Po)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Po),document.removeEventListener("mousedown",this._onMousedown,Po),document.removeEventListener("touchstart",this._onTouchstart,Po))}};t.\u0275fac=function(r){return new(r||t)(R(Tt),R(q),R(J),R(_O,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),yO=new $("liveAnnouncerElement",{providedIn:"root",factory:wO});function wO(){return null}var xO=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),IO=0,Qw=(()=>{let t=class t{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,c;return r.length===1&&typeof r[0]=="number"?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),c==null&&o&&(c=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof c=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${IO++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}};t.\u0275fac=function(r){return new(r||t)(R(yO,8),R(q),R(J),R(xO,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Id=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Id||{}),EO=new $("cdk-focus-monitor-default-options"),xd=jn({passive:!0,capture:!0}),ui=(()=>{let t=class t{constructor(n,r,o,s,c){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Q,this._rootNodeFocusAndBlurListener=l=>{let d=In(l);for(let f=d;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=c?.detectionMode||Id.IMMEDIATE}monitor(n,r=!1){let o=gn(n);if(!this._platform.isBrowser||o.nodeType!==1)return W();let s=Uw(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new Q,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=gn(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=gn(n),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Id.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Id.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Yw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=In(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,xd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,xd)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(oe(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(R(q),R(Tt),R(vO),R(J,8),R(EO,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ar=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Ar||{}),Gw="cdk-high-contrast-black-on-white",Ww="cdk-high-contrast-white-on-black",op="cdk-high-contrast-active",Xw=(()=>{let t=class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=L(wd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ar.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ar.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ar.BLACK_ON_WHITE}return Ar.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(op,Gw,Ww),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Ar.BLACK_ON_WHITE?n.add(op,Gw):r===Ar.WHITE_ON_BLACK&&n.add(op,Ww)}}};t.\u0275fac=function(r){return new(r||t)(R(Tt),R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var TO=new $("cdk-dir-doc",{providedIn:"root",factory:CO});function CO(){return L(J)}var AO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function SO(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?AO.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var hi=(()=>{let t=class t{constructor(n){if(this.value="ltr",this.change=new At,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=SO(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(R(TO,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ki=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({});let e=t;return e})();function RO(){return!0}var DO=new $("mat-sanity-checks",{providedIn:"root",factory:RO}),Gt=(()=>{let t=class t{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Ga()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(r){return new(r||t)(R(Xw),R(DO,8),R(J))},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Ki,Ki]});let e=t;return e})();var Rd=class{constructor(t,i,n,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var sx=(()=>{let t=class t{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _n=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(_n||{}),fp=class{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=_n.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Zw=jn({passive:!0,capture:!0}),mp=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=In(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Zw)})}removeHandler(t,i,n){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Zw)))}},Jw={enterDuration:225,exitDuration:150},kO=800,tx=jn({passive:!0,capture:!0}),ex=["mousedown","touchstart"],nx=["mouseup","mouseleave","touchend","touchcancel"],Xa=class Xa{constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=gn(n))}fadeInRipple(t,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=O(O({},Jw),n.animation);n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||PO(t,i,r),c=t-r.left,l=i-r.top,d=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${l-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,n.color!=null&&(f.style.backgroundColor=n.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),g=p.transitionProperty,w=p.transitionDuration,k=g==="none"||w==="0s"||w==="0s, 0s"||r.width===0&&r.height===0,M=new fp(this,f,n,k);f.style.transform="scale3d(1, 1, 1)",M.state=_n.FADING_IN,n.persistent||(this._mostRecentTransientRipple=M);let D=null;return!k&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>this._finishRippleTransition(M),Y=()=>this._destroyRipple(M);f.addEventListener("transitionend",z),f.addEventListener("transitioncancel",Y),D={onTransitionEnd:z,onTransitionCancel:Y}}),this._activeRipples.set(M,D),(k||!d)&&this._finishRippleTransition(M),M}fadeOutRipple(t){if(t.state===_n.FADING_OUT||t.state===_n.HIDDEN)return;let i=t.element,n=O(O({},Jw),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=_n.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=gn(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,ex.forEach(n=>{Xa._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{nx.forEach(i=>{this._triggerElement.addEventListener(i,this,tx)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===_n.FADING_IN?this._startFadeOutTransition(t):t.state===_n.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=_n.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=_n.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=Ka(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+kO;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ya(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===_n.VISIBLE||t.config.terminateOnPointerUp&&t.state===_n.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(ex.forEach(i=>Xa._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(nx.forEach(i=>t.removeEventListener(i,this,tx)),this._pointerUpEventsRegistered=!1))}};Xa._eventManager=new mp;var pp=Xa;function PO(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}var ax=new $("mat-ripple-global-options"),Za=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new pp(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:O(O(O({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,O(O({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,O(O({},this.rippleConfig),n))}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(q),C(Tt),C(ax,8),C(Xe,8))},t.\u0275dir=tt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&St("mat-ripple-unbounded",o.unbounded)},inputs:{color:[nt.None,"matRippleColor","color"],unbounded:[nt.None,"matRippleUnbounded","unbounded"],centered:[nt.None,"matRippleCentered","centered"],radius:[nt.None,"matRippleRadius","radius"],animation:[nt.None,"matRippleAnimation","animation"],disabled:[nt.None,"matRippleDisabled","disabled"],trigger:[nt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Oo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,Gt]});let e=t;return e})();var ix={capture:!0},rx=["focus","click","mouseenter","touchstart"],up="mat-ripple-loader-uninitialized",hp="mat-ripple-loader-class-name",ox="mat-ripple-loader-centered",Sd="mat-ripple-loader-disabled",cx=(()=>{let t=class t{constructor(){this._document=L(J,{optional:!0}),this._animationMode=L(Xe,{optional:!0}),this._globalRippleOptions=L(ax,{optional:!0}),this._platform=L(Tt),this._ngZone=L(q),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${up}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of rx)this._document?.addEventListener(n,this._onInteraction,ix)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of rx)this._document?.removeEventListener(r,this._onInteraction,ix)}configureRipple(n,r){n.setAttribute(up,""),(r.className||!n.hasAttribute(hp))&&n.setAttribute(hp,r.className||""),r.centered&&n.setAttribute(ox,""),r.disabled&&n.setAttribute(Sd,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(Sd,""):n.removeAttribute(Sd)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(hp)),n.append(o);let s=new Za(new dt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(ox),s.disabled=n.hasAttribute(Sd),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(up),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yi=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=Vn(n)}get inset(){return this._inset}set inset(n){this._inset=Vn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=it({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(Vt("aria-orientation",o.vertical?"vertical":"horizontal"),St("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[st],decls:0,vars:0,template:function(r,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Mo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,Gt]});let e=t;return e})();var ux=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:r<2048?(t[i++]=r>>6|192,t[i++]=r&63|128):(r&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++n)&1023),t[i++]=r>>18|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128,t[i++]=r&63|128):(t[i++]=r>>12|224,t[i++]=r>>6&63|128,t[i++]=r&63|128)}return t},OO=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[i++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[i++],s=e[i++],c=e[i++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=e[i++],s=e[i++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,c=s?e[r+1]:0,l=r+2<e.length,d=l?e[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,g=(c&15)<<2|d>>6,w=d&63;l||(w=64,s||(g=64)),n.push(i[f],i[p],i[g],i[w])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ux(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):OO(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){let o=i[e.charAt(r++)],c=r<e.length?i[e.charAt(r)]:0;++r;let d=r<e.length?i[e.charAt(r)]:64;++r;let p=r<e.length?i[e.charAt(r)]:64;if(++r,o==null||c==null||d==null||p==null)throw new bp;let g=o<<2|c>>4;if(n.push(g),d!==64){let w=c<<4&240|d>>2;if(n.push(w),p!==64){let k=d<<6&192|p;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},bp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},MO=function(e){let t=ux(e);return hx.encodeByteArray(t,!0)},Ja=function(e){return MO(e).replace(/\./g,"")},yp=function(e){try{return hx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function NO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var FO=()=>NO().__FIREBASE_DEFAULTS__,LO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},VO=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&yp(e[1]);return t&&JSON.parse(t)},kd=()=>{try{return FO()||LO()||VO()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wp=e=>{var t,i;return(i=(t=kd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},Pd=e=>{let t=wp(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),n]:[t.substring(0,i),n]},xp=()=>{var e;return(e=kd())===null||e===void 0?void 0:e.config},Ip=e=>{var t;return(t=kd())===null||t===void 0?void 0:t[`_${e}`]};var Dd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,n))}}};function Od(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ja(JSON.stringify(i)),Ja(JSON.stringify(s)),""].join(".")}function pe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pe())}function jO(){var e;let t=(e=kd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mx(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function px(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gx(){let e=pe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _x(){return!jO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ep(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){t(i)}})}var UO="FirebaseError",qe=class e extends Error{constructor(t,i,n){super(i),this.code=t,this.customData=n,this.name=UO,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fi.prototype.create)}},fi=class{constructor(t,i,n){this.service=t,this.serviceName=i,this.errors=n}create(t,...i){let n=i[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?BO(o,n):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new qe(r,c,n)}};function BO(e,t){return e.replace(zO,(i,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var zO=/\{\$([^}]+)}/g;function vx(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sr(e,t){if(e===t)return!0;let i=Object.keys(e),n=Object.keys(t);for(let r of i){if(!n.includes(r))return!1;let o=e[r],s=t[r];if(dx(o)&&dx(s)){if(!Sr(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!i.includes(r))return!1;return!0}function dx(e){return e!==null&&typeof e=="object"}function No(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function yx(e,t){let i=new vp(e,t);return i.subscribe.bind(i)}var vp=class{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,n){let r;if(t===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");$O(t,["next","error","complete"])?r=t:r={next:t,error:i,complete:n},r.next===void 0&&(r.next=_p),r.error===void 0&&(r.error=_p),r.complete===void 0&&(r.complete=_p);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function $O(e,t){if(typeof e!="object"||e===null)return!1;for(let i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function _p(){}var CG=4*60*60*1e3;function jt(e){return e&&e._delegate?e._delegate:e}var Ze=class{constructor(t,i,n){this.name=t,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var Rr="[DEFAULT]";var Tp=class{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){let n=new Dd;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(HO(t))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(let[i,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(t=Rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return b(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=Rr){return this.instances.has(t)}getOptions(t=Rr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:i={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);n===c&&s.resolve(r)}return r}onInit(t,i){var n;let r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){let n=this.onInitCallbacks.get(i);if(n)for(let r of n)try{r(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:qO(t),options:i}),this.instances.set(t,n),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Rr){return this.component?this.component.multipleInstances?t:Rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qO(e){return e===Rr?void 0:e}function HO(e){return e.instantiationMode==="EAGER"}var Md=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let i=new Tp(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}};var GO=[],wt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(wt||{}),WO={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},KO=wt.INFO,YO={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},QO=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=YO[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Qi=class{constructor(t){this.name=t,this._logLevel=KO,this._logHandler=QO,this._userLogHandler=null,GO.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}};var XO=(e,t)=>t.some(i=>e instanceof i),wx,xx;function ZO(){return wx||(wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JO(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Ix=new WeakMap,Ap=new WeakMap,Ex=new WeakMap,Cp=new WeakMap,Rp=new WeakMap;function tM(e){let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{i(Un(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(i=>{i instanceof IDBCursor&&Ix.set(i,e)}).catch(()=>{}),Rp.set(t,e),t}function eM(e){if(Ap.has(e))return;let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{i(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Ap.set(e,t)}var Sp={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Ap.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ex.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Un(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Tx(e){Sp=e(Sp)}function nM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){let n=e.call(Nd(this),t,...i);return Ex.set(n,t.sort?t.sort():[t]),Un(n)}:JO().includes(e)?function(...t){return e.apply(Nd(this),t),Un(Ix.get(this))}:function(...t){return Un(e.apply(Nd(this),t))}}function iM(e){return typeof e=="function"?nM(e):(e instanceof IDBTransaction&&eM(e),XO(e,ZO())?new Proxy(e,Sp):e)}function Un(e){if(e instanceof IDBRequest)return tM(e);if(Cp.has(e))return Cp.get(e);let t=iM(e);return t!==e&&(Cp.set(e,t),Rp.set(t,e)),t}var Nd=e=>Rp.get(e);function Ax(e,t,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(e,t),c=Un(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Un(s.result),l.oldVersion,l.newVersion,Un(s.transaction),l)}),i&&s.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var rM=["get","getKey","getAll","getAllKeys","count"],oM=["put","add","delete","clear"],Dp=new Map;function Cx(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Dp.get(t))return Dp.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=oM.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||rM.includes(i)))return;let o=function(s,...c){return b(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),d=l.store;return n&&(d=d.index(c.shift())),(yield Promise.all([d[i](...c),r&&l.done]))[0]})};return Dp.set(t,o),o}Tx(e=>Et(O({},e),{get:(t,i,n)=>Cx(t,i)||e.get(t,i,n),has:(t,i)=>!!Cx(t,i)||e.has(t,i)}));var Pp=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(sM(i)){let n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}};function sM(e){let t=e.getComponent();return t?.type==="VERSION"}var Op="@firebase/app",Sx="0.10.5";var Dr=new Qi("@firebase/app"),aM="@firebase/app-compat",cM="@firebase/analytics-compat",lM="@firebase/analytics",dM="@firebase/app-check-compat",uM="@firebase/app-check",hM="@firebase/auth",fM="@firebase/auth-compat",mM="@firebase/database",pM="@firebase/database-compat",gM="@firebase/functions",_M="@firebase/functions-compat",bM="@firebase/installations",vM="@firebase/installations-compat",yM="@firebase/messaging",wM="@firebase/messaging-compat",xM="@firebase/performance",IM="@firebase/performance-compat",EM="@firebase/remote-config",TM="@firebase/remote-config-compat",CM="@firebase/storage",AM="@firebase/storage-compat",SM="@firebase/firestore",RM="@firebase/vertexai-preview",DM="@firebase/firestore-compat",kM="firebase",PM="10.12.2";var Mp="[DEFAULT]",OM={[Op]:"fire-core",[aM]:"fire-core-compat",[lM]:"fire-analytics",[cM]:"fire-analytics-compat",[uM]:"fire-app-check",[dM]:"fire-app-check-compat",[hM]:"fire-auth",[fM]:"fire-auth-compat",[mM]:"fire-rtdb",[pM]:"fire-rtdb-compat",[gM]:"fire-fn",[_M]:"fire-fn-compat",[bM]:"fire-iid",[vM]:"fire-iid-compat",[yM]:"fire-fcm",[wM]:"fire-fcm-compat",[xM]:"fire-perf",[IM]:"fire-perf-compat",[EM]:"fire-rc",[TM]:"fire-rc-compat",[CM]:"fire-gcs",[AM]:"fire-gcs-compat",[SM]:"fire-fst",[DM]:"fire-fst-compat",[RM]:"fire-vertex","fire-js":"fire-js",[kM]:"fire-js-all"};var tc=new Map,MM=new Map,Np=new Map;function Rx(e,t){try{e.container.addComponent(t)}catch(i){Dr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Bn(e){let t=e.name;if(Np.has(t))return Dr.debug(`There were multiple attempts to register component ${t}.`),!1;Np.set(t,e);for(let i of tc.values())Rx(i,e);for(let i of MM.values())Rx(i,e);return!0}function kr(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function zn(e){return e.settings!==void 0}var NM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new fi("app","Firebase",NM);var Fp=class{constructor(t,i,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}};var $n=PM;function jp(e,t={}){let i=e;typeof t!="object"&&(t={name:t});let n=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw Xi.create("bad-app-name",{appName:String(r)});if(i||(i=xp()),!i)throw Xi.create("no-options");let o=tc.get(r);if(o){if(Sr(i,o.options)&&Sr(n,o.config))return o;throw Xi.create("duplicate-app",{appName:r})}let s=new Md(r);for(let l of Np.values())s.addComponent(l);let c=new Fp(i,n,s);return tc.set(r,c),c}function Zi(e=Mp){let t=tc.get(e);if(!t&&e===Mp&&xp())return jp();if(!t)throw Xi.create("no-app",{appName:e});return t}function Fd(){return Array.from(tc.values())}function Jt(e,t,i){var n;let r=(n=OM[e])!==null&&n!==void 0?n:e;i&&(r+=`-${i}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dr.warn(c.join(" "));return}Bn(new Ze(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var FM="firebase-heartbeat-database",LM=1,ec="firebase-heartbeat-store",kp=null;function Ox(){return kp||(kp=Ax(FM,LM,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ec)}catch(i){console.warn(i)}}}}).catch(e=>{throw Xi.create("idb-open",{originalErrorMessage:e.message})})),kp}function VM(e){return b(this,null,function*(){try{let i=(yield Ox()).transaction(ec),n=yield i.objectStore(ec).get(Mx(e));return yield i.done,n}catch(t){if(t instanceof qe)Dr.warn(t.message);else{let i=Xi.create("idb-get",{originalErrorMessage:t?.message});Dr.warn(i.message)}}})}function Dx(e,t){return b(this,null,function*(){try{let n=(yield Ox()).transaction(ec,"readwrite");yield n.objectStore(ec).put(t,Mx(e)),yield n.done}catch(i){if(i instanceof qe)Dr.warn(i.message);else{let n=Xi.create("idb-set",{originalErrorMessage:i?.message});Dr.warn(n.message)}}})}function Mx(e){return`${e.name}!${e.options.appId}`}var jM=1024,UM=30*24*60*60*1e3,Lp=class{constructor(t){this.container=t,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new Vp(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return b(this,null,function*(){var t,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kx();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=UM}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=kx(),{heartbeatsToSend:n,unsentEntries:r}=BM(this._heartbeatsCache.heartbeats),o=Ja(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function kx(){return new Date().toISOString().substring(0,10)}function BM(e,t=jM){let i=[],n=e.slice();for(let r of e){let o=i.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Px(i)>t){o.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),Px(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}var Vp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Ep()?bx().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield VM(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Dx(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return Dx(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Px(e){return Ja(JSON.stringify({version:2,heartbeats:e})).length}function zM(e){Bn(new Ze("platform-logger",t=>new Pp(t),"PRIVATE")),Bn(new Ze("heartbeat",t=>new Lp(t),"PRIVATE")),Jt(Op,Sx,e),Jt(Op,Sx,"esm2017"),Jt("fire-js","")}zM("");var $M="firebase",qM="10.12.2";Jt($M,qM,"app");var Or=new _o("ANGULARFIRE2_VERSION");function Vd(e,t,i){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(e).getImmediate({optional:!0})}var nc=(e,t)=>{let i=t?[t]:Fd(),n=[];return i.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Lo=class{constructor(){return nc(HM)}},HM="app-check";function Fo(){}var Ld=class{zone;delegate;constructor(t,i=By){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},Up=class{zone;task=null;constructor(t){this.zone=t}call(t,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fo,{},Fo,Fo)),i.pipe(Kt({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vo=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new Ld(Zone.current)),this.insideAngular=i.run(()=>new Ld(Zone.current,Uy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||e)(R(q))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function jd(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function GM(e){return jd().ngZone.runOutsideAngular(()=>e())}function Pr(e){return jd().ngZone.run(()=>e())}function WM(e){return KM(jd())(e)}function KM(e){return function(i){return i=i.lift(new Up(e.ngZone)),i.pipe(Bf(e.outsideAngular),Uf(e.insideAngular))}}var YM=(e,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),Pr(()=>e.apply(void 0,n))},te=(e,t)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(i||=Pr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fo,{},Fo,Fo))),n[o]=YM(n[o],i));let r=GM(()=>e.apply(this,n));if(!t)if(r instanceof Ke){let o=jd();return r.pipe(Bf(o.outsideAngular),Uf(o.insideAngular))}else return Pr(()=>r);return r instanceof Ke?r.pipe(WM):r instanceof Promise?Pr(()=>new Promise((o,s)=>r.then(c=>Pr(()=>o(c)),c=>Pr(()=>s(c))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:Pr(()=>r)};var mi=class{constructor(t){return t}},Mr=class{constructor(){return Fd()}};function QM(e){return e&&e.length===1?e[0]:new mi(Zi())}var Bp=new $("angularfire2._apps"),XM={provide:mi,useFactory:QM,deps:[[new je,Bp]]},ZM={provide:Mr,deps:[[new je,Bp]]};function JM(e){return(t,i)=>{let n=i.get(Be);Jt("angularfire",Or.full,"core"),Jt("angularfire",Or.full,"app"),Jt("angular",m0.full,n.toString());let r=t.runOutsideAngular(()=>e(i));return new mi(r)}}function Nx(e,...t){return nn([XM,ZM,{provide:Bp,useFactory:JM(e),multi:!0,deps:[q,Lt,Vo,...t]}])}var Fx=te(jp,!0);function Xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Zx=Xx,Jx=new fi("auth","Firebase",Xx());var Hd=new Qi("@firebase/auth");function t1(e,...t){Hd.logLevel<=wt.WARN&&Hd.warn(`Auth (${$n}): ${e}`,...t)}function Bd(e,...t){Hd.logLevel<=wt.ERROR&&Hd.error(`Auth (${$n}): ${e}`,...t)}function Hn(e,...t){throw og(e,...t)}function Tn(e,...t){return og(e,...t)}function rg(e,t,i){let n=Object.assign(Object.assign({},Zx()),{[t]:i});return new fi("auth","Firebase",n).create(t,{appName:e.name})}function Nr(e){return rg(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e1(e,t,i){let n=i;if(!(t instanceof n))throw n.name!==t.constructor.name&&Hn(e,"argument-error"),rg(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function og(e,...t){if(typeof e!="string"){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return Jx.create(e,...t)}function at(e,t,...i){if(!e)throw og(t,...i)}function pi(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Bd(t),new Error(t)}function _i(e,t){e||pi(t)}function qp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function n1(){return Lx()==="http:"||Lx()==="https:"}function Lx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function i1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(n1()||mx()||"connection"in navigator)?navigator.onLine:!0}function r1(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Fr=class{constructor(t,i){this.shortDelay=t,this.longDelay=i,_i(i>t,"Short delay should be less than long delay!"),this.isMobile=fx()||px()}get(){return i1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sg(e,t){_i(e.emulator,"Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}var Gd=class{static initialize(t,i,n){this.fetchImpl=t,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var o1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var s1=new Fr(3e4,6e4);function ag(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Bo(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){return tI(e,r,()=>b(this,null,function*(){let d={},f={};n&&(t==="GET"?f=n:d={body:JSON.stringify(n)});let p=No(Object.assign({key:e.config.apiKey},f)).slice(1),g=yield e._getAdditionalHeaders();return g["Content-Type"]="application/json",e.languageCode&&(g["X-Firebase-Locale"]=e.languageCode),Gd.fetch()(eI(e,e.config.apiHost,i,p),Object.assign({method:t,headers:g,referrerPolicy:"no-referrer"},d))}))})}function tI(e,t,i){return b(this,null,function*(){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},o1),t);try{let r=new Hp(e),o=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ud(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ud(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ud(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ud(e,"user-disabled",s);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw rg(e,f,d);Hn(e,f)}}catch(r){if(r instanceof qe)throw r;Hn(e,"network-request-failed",{message:String(r)})}})}function a1(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){let d=yield Bo(e,t,i,n,r);return"mfaPendingCredential"in d&&Hn(e,"multi-factor-auth-required",{_serverResponse:d}),d})}function eI(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?sg(e.config,r):`${e.config.apiScheme}://${r}`}var Hp=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(Tn(this.auth,"network-request-failed")),s1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ud(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=Tn(e,t,n);return r.customData._tokenResponse=i,r}function c1(e,t){return b(this,null,function*(){return Bo(e,"POST","/v1/accounts:delete",t)})}function nI(e,t){return b(this,null,function*(){return Bo(e,"POST","/v1/accounts:lookup",t)})}function ic(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function cg(e,t=!1){return b(this,null,function*(){let i=jt(e),n=yield i.getIdToken(t),r=lg(n);at(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:ic(zp(r.auth_time)),issuedAtTime:ic(zp(r.iat)),expirationTime:ic(zp(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function zp(e){return Number(e)*1e3}function lg(e){let[t,i,n]=e.split(".");if(t===void 0||i===void 0||n===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{let r=yp(i);return r?JSON.parse(r):(Bd("Failed to decode base64 JWT payload"),null)}catch(r){return Bd("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Vx(e){let t=lg(e);return at(t,"internal-error"),at(typeof t.exp<"u","internal-error"),at(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function oc(e,t,i=!1){return b(this,null,function*(){if(i)return t;try{return yield t}catch(n){throw n instanceof qe&&l1(n)&&e.auth.currentUser===e&&(yield e.auth.signOut()),n}})}function l1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Gp=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let i=this.getInterval(t);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),i)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sc=class{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wd(e){return b(this,null,function*(){var t;let i=e.auth,n=yield e.getIdToken(),r=yield oc(e,nI(i,{idToken:n}));at(r?.users.length,i,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?iI(o.providerUserInfo):[],c=d1(e.providerData,s),l=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!c?.length,f=l?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sc(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)})}function dg(e){return b(this,null,function*(){let t=jt(e);yield Wd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function d1(e,t){return[...e.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function iI(e){return e.map(t=>{var{providerId:i}=t,n=kl(t,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function u1(e,t){return b(this,null,function*(){let i=yield tI(e,{},()=>b(this,null,function*(){let n=No({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=eI(e,r,"/v1/token",`key=${o}`),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Gd.fetch()(s,{method:"POST",headers:c,body:n})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function h1(e,t){return b(this,null,function*(){return Bo(e,"POST","/v2/accounts:revokeToken",ag(e,t))})}var rc=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){at(t.idToken,"internal-error"),at(typeof t.idToken<"u","internal-error"),at(typeof t.refreshToken<"u","internal-error");let i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Vx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){at(t.length!==0,"internal-error");let i=Vx(t);this.updateTokensAndExpiration(t,null,i)}getToken(t,i=!1){return b(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,i){return b(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield u1(t,i);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,i,n){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,i){let{refreshToken:n,accessToken:r,expirationTime:o}=i,s=new e;return n&&(at(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(at(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(at(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return pi("not implemented")}};function Ji(e,t){at(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Uo=class e{constructor(t){var{uid:i,auth:n,stsTokenManager:r}=t,o=kl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return b(this,null,function*(){let i=yield oc(this,this.stsTokenManager.getToken(this.auth,t));return at(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(t){return cg(this,t)}reload(){return dg(this)}_assign(t){this!==t&&(at(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let i=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,i=!1){return b(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),i&&(yield Wd(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(zn(this.auth.app))return Promise.reject(Nr(this.auth));let t=yield this.getIdToken();return yield oc(this,c1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var n,r,o,s,c,l,d,f;let p=(n=i.displayName)!==null&&n!==void 0?n:void 0,g=(r=i.email)!==null&&r!==void 0?r:void 0,w=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=i.photoURL)!==null&&s!==void 0?s:void 0,M=(c=i.tenantId)!==null&&c!==void 0?c:void 0,D=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,z=(d=i.createdAt)!==null&&d!==void 0?d:void 0,Y=(f=i.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:et,emailVerified:ht,isAnonymous:qt,providerData:Z,stsTokenManager:x}=i;at(et&&x,t,"internal-error");let _=rc.fromJSON(this.name,x);at(typeof et=="string",t,"internal-error"),Ji(p,t.name),Ji(g,t.name),at(typeof ht=="boolean",t,"internal-error"),at(typeof qt=="boolean",t,"internal-error"),Ji(w,t.name),Ji(k,t.name),Ji(M,t.name),Ji(D,t.name),Ji(z,t.name),Ji(Y,t.name);let v=new e({uid:et,auth:t,email:g,emailVerified:ht,displayName:p,isAnonymous:qt,photoURL:k,phoneNumber:w,tenantId:M,stsTokenManager:_,createdAt:z,lastLoginAt:Y});return Z&&Array.isArray(Z)&&(v.providerData=Z.map(I=>Object.assign({},I))),D&&(v._redirectEventId=D),v}static _fromIdTokenResponse(t,i,n=!1){return b(this,null,function*(){let r=new rc;r.updateFromServerResponse(i);let o=new e({uid:i.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield Wd(o),o})}static _fromGetAccountInfoResponse(t,i,n){return b(this,null,function*(){let r=i.users[0];at(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?iI(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new rc;c.updateFromIdToken(n);let l=new e({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new sc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var jx=new Map;function gi(e){_i(e instanceof Function,"Expected a class definition");let t=jx.get(e);return t?(_i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,jx.set(e,t),t)}var f1=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(i,n){return b(this,null,function*(){this.storage[i]=n})}_get(i){return b(this,null,function*(){let n=this.storage[i];return n===void 0?null:n})}_remove(i){return b(this,null,function*(){delete this.storage[i]})}_addListener(i,n){}_removeListener(i,n){}}return e.type="NONE",e})(),Wp=f1;function zd(e,t,i){return`firebase:${e}:${t}:${i}`}var Kd=class e{constructor(t,i,n){this.persistence=t,this.auth=i,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=zd(this.userKey,r.apiKey,o),this.fullPersistenceKey=zd("persistence",r.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return b(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?Uo._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return b(this,null,function*(){if(this.persistence===t)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,i,n="authUser"){return b(this,null,function*(){if(!i.length)return new e(gi(Wp),t,n);let r=(yield Promise.all(i.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||gi(Wp),s=zd(n,t.config.apiKey,t.name),c=null;for(let d of i)try{let f=yield d._get(s);if(f){let p=Uo._fromJSON(t,f);d!==o&&(c=p),o=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new e(o,t,n):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(i.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new e(o,t,n))})}};function Ux(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(rI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cI(t))return"Blackberry";if(lI(t))return"Webos";if(ug(t))return"Safari";if((t.includes("chrome/")||oI(t))&&!t.includes("edge/"))return"Chrome";if(aI(t))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(i);if(n?.length===2)return n[1]}return"Other"}function rI(e=pe()){return/firefox\//i.test(e)}function ug(e=pe()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oI(e=pe()){return/crios\//i.test(e)}function sI(e=pe()){return/iemobile/i.test(e)}function aI(e=pe()){return/android/i.test(e)}function cI(e=pe()){return/blackberry/i.test(e)}function lI(e=pe()){return/webos/i.test(e)}function iu(e=pe()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function m1(e=pe()){var t;return iu(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function p1(){return gx()&&document.documentMode===10}function dI(e=pe()){return iu(e)||aI(e)||lI(e)||cI(e)||/windows phone/i.test(e)||sI(e)}function g1(){try{return!!(window&&window!==window.top)}catch{return!1}}function uI(e,t=[]){let i;switch(e){case"Browser":i=Ux(pe());break;case"Worker":i=`${Ux(pe())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${$n}/${n}`}var Kp=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){let n=o=>new Promise((s,c)=>{try{let l=t(o);s(l)}catch(l){c(l)}});n.onAbort=i,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return b(this,null,function*(){if(this.auth.currentUser===t)return;let i=[];try{for(let n of this.queue)yield n(t),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function _1(i){return b(this,arguments,function*(e,t={}){return Bo(e,"GET","/v2/passwordPolicy",ag(e,t))})}var b1=6,Yp=class{constructor(t){var i,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=s.minPasswordLength)!==null&&i!==void 0?i:b1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,n,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,i){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=t.length>=n),r&&(i.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,i,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Qp=class{constructor(t,i,n,r){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yd(this),this.idTokenSubscription=new Yd(this),this.beforeStateQueue=new Kp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gi(i)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Kd.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return b(this,null,function*(){try{let i=yield nI(this,{idToken:t}),n=yield Uo._fromGetAccountInfoResponse(this,i,t);yield this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return b(this,null,function*(){var i;if(zn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return b(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(t){return b(this,null,function*(){try{yield Wd(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=r1()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return b(this,null,function*(){if(zn(this.app))return Promise.reject(Nr(this));let i=t?jt(t):null;return i&&at(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(t,i=!1){return b(this,null,function*(){if(!this._deleted)return t&&at(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return zn(this.app)?Promise.reject(Nr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return zn(this.app)?Promise.reject(Nr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(gi(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let t=yield _1(this),i=new Yp(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new fi("auth","Firebase",t())}onAuthStateChanged(t,i,n){return this.registerStateListener(this.authStateSubscription,t,i,n)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,n){return this.registerStateListener(this.idTokenSubscription,t,i,n)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},i)}})}revokeAccessToken(t){return b(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),yield h1(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,i){return b(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(i);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return b(this,null,function*(){if(!this.redirectPersistenceManager){let i=t&&gi(t)||this._popupRedirectResolver;at(i,this,"argument-error"),this.redirectPersistenceManager=yield Kd.create(this,[gi(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return b(this,null,function*(){var i,n;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return b(this,null,function*(){if(t===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,n,r){if(this._deleted)return()=>{};let o=typeof i=="function"?i:i.next.bind(i),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof i=="function"){let l=t.addObserver(i,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(i);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return b(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=uI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var t;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(i["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return b(this,null,function*(){var t;let i=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return i?.error&&t1(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function ru(e){return jt(e)}var Yd=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=yx(i=>this.observer=i)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var hg={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v1(e){hg=e}function y1(e){return hg.loadJS(e)}function w1(){return hg.gapiScript}function hI(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function fg(e,t){let i=kr(e,"auth");if(i.isInitialized()){let r=i.getImmediate(),o=i.getOptions();if(Sr(o,t??{}))return r;Hn(r,"already-initialized")}return i.initialize({options:t})}function x1(e,t){let i=t?.persistence||[],n=(Array.isArray(i)?i:[i]).map(gi);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}function mg(e,t,i){let n=ru(e);at(n._canInitEmulator,n,"emulator-config-failed"),at(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!i?.disableWarnings,o=fI(t),{host:s,port:c}=I1(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||E1()}function fI(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function I1(e){let t=fI(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:Bx(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:Bx(s)}}}function Bx(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function E1(){function e(){let t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var ac=class{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return pi("not implemented")}_getIdTokenResponse(t){return pi("not implemented")}_linkToIdToken(t,i){return pi("not implemented")}_getReauthenticationResolver(t){return pi("not implemented")}};function jo(e,t){return b(this,null,function*(){return a1(e,"POST","/v1/accounts:signInWithIdp",ag(e,t))})}var T1="http://localhost",Qd=class e extends ac{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let i=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Hn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let i=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=i,o=kl(i,["providerId","signInMethod"]);if(!n||!r)return null;let s=new e(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let i=this.buildRequest();return jo(t,i)}_linkToIdToken(t,i){let n=this.buildRequest();return n.idToken=i,jo(t,n)}_getReauthenticationResolver(t){let i=this.buildRequest();return i.autoCreate=!1,jo(t,i)}buildRequest(){let t={requestUri:T1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=No(i)}return t}};var cc=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Xd=class extends cc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var pg=(()=>{class e extends Xd{constructor(){super("google.com"),this.addScope("profile")}static credential(i,n){return Qd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:n})}static credentialFromResult(i){return e.credentialFromTaggedObject(i)}static credentialFromError(i){return e.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;let{oauthIdToken:n,oauthAccessToken:r}=i;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}}e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com";return e})();var lc=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,i,n,r=!1){return b(this,null,function*(){let o=yield Uo._fromIdTokenResponse(t,n,r),s=zx(n);return new e({user:o,providerId:s,_tokenResponse:n,operationType:i})})}static _forOperation(t,i,n){return b(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=zx(n);return new e({user:t,providerId:r,_tokenResponse:n,operationType:i})})}};function zx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Xp=class e extends qe{constructor(t,i,n,r){var o;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,i,n,r){return new e(t,i,n,r)}};function mI(e,t,i,n){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Xp._fromErrorAndOperation(e,o,t,n):o})}function C1(e,t,i=!1){return b(this,null,function*(){let n=yield oc(e,t._linkToIdToken(e.auth,yield e.getIdToken()),i);return lc._forOperation(e,"link",n)})}function A1(e,t,i=!1){return b(this,null,function*(){let{auth:n}=e;if(zn(n.app))return Promise.reject(Nr(n));let r="reauthenticate";try{let o=yield oc(e,mI(n,r,t,e),i);at(o.idToken,n,"internal-error");let s=lg(o.idToken);at(s,n,"internal-error");let{sub:c}=s;return at(e.uid===c,n,"user-mismatch"),lc._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Hn(n,"user-mismatch"),o}})}function S1(e,t,i=!1){return b(this,null,function*(){if(zn(e.app))return Promise.reject(Nr(e));let n="signIn",r=yield mI(e,n,t),o=yield lc._fromIdTokenResponse(e,n,r);return i||(yield e._updateCurrentUser(o.user)),o})}function ou(e,t,i,n){return jt(e).onIdTokenChanged(t,i,n)}function gg(e,t,i){return jt(e).beforeAuthStateChanged(t,i)}function su(e,t,i,n){return jt(e).onAuthStateChanged(t,i,n)}function _g(e){return jt(e).signOut()}var Zd="__sak";var Jd=class{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Zd,"1"),this.storage.removeItem(Zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){let i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};function R1(){let e=pe();return ug(e)||iu(e)}var D1=1e3,k1=10,P1=(()=>{class e extends Jd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,n)=>this.onStorageEvent(i,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=R1()&&g1(),this.fallbackToPolling=dI(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&i(n,o,r)}}onStorageEvent(i,n=!1){if(!i.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let r=i.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(i.newValue!==c)i.newValue!==null?this.storage.setItem(r,i.newValue):this.storage.removeItem(r);else if(this.localCache[r]===i.newValue&&!n)return}let o=()=>{let c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);p1()&&s!==i.newValue&&i.newValue!==i.oldValue?setTimeout(o,k1):o()}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:n,newValue:r}),!0)})},D1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(i,n){return b(this,null,function*(){yield Vi(e.prototype,this,"_set").call(this,i,n),this.localCache[i]=JSON.stringify(n)})}_get(i){return b(this,null,function*(){let n=yield Vi(e.prototype,this,"_get").call(this,i);return this.localCache[i]=JSON.stringify(n),n})}_remove(i){return b(this,null,function*(){yield Vi(e.prototype,this,"_remove").call(this,i),delete this.localCache[i]})}}return e.type="LOCAL",e})(),pI=P1;var O1=(()=>{class e extends Jd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,n){}_removeListener(i,n){}}return e.type="SESSION",e})(),bg=O1;function M1(e){return Promise.all(e.map(t=>b(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}})))}var N1=(()=>{class e{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){let n=this.receivers.find(o=>o.isListeningto(i));if(n)return n;let r=new e(i);return this.receivers.push(r),r}isListeningto(i){return this.eventTarget===i}handleEvent(i){return b(this,null,function*(){let n=i,{eventId:r,eventType:o,data:s}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(f=>b(this,null,function*(){return f(n.origin,s)})),d=yield M1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(i,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(n)}_unsubscribe(i,n){this.handlersMap[i]&&n&&this.handlersMap[i].delete(n),(!n||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function vg(e="",t=10){let i="";for(let n=0;n<t;n++)i+=Math.floor(Math.random()*10);return e+i}var Zp=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,i,n=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let d=vg("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(p){let g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:d,data:i},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function qn(){return window}function F1(e){qn().location.href=e}function gI(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}function L1(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function V1(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function j1(){return gI()?self:null}var _I="firebaseLocalStorageDb",U1=1,tu="firebaseLocalStorage",bI="fbase_key",Lr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}};function au(e,t){return e.transaction([tu],t?"readwrite":"readonly").objectStore(tu)}function B1(){let e=indexedDB.deleteDatabase(_I);return new Lr(e).toPromise()}function Jp(){let e=indexedDB.open(_I,U1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let n=e.result;try{n.createObjectStore(tu,{keyPath:bI})}catch(r){i(r)}}),e.addEventListener("success",()=>b(this,null,function*(){let n=e.result;n.objectStoreNames.contains(tu)?t(n):(n.close(),yield B1(),t(yield Jp()))}))})}function $x(e,t,i){return b(this,null,function*(){let n=au(e,!0).put({[bI]:t,value:i});return new Lr(n).toPromise()})}function z1(e,t){return b(this,null,function*(){let i=au(e,!1).get(t),n=yield new Lr(i).toPromise();return n===void 0?null:n.value})}function qx(e,t){let i=au(e,!0).delete(t);return new Lr(i).toPromise()}var $1=800,q1=3,H1=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Jp(),this.db)})}_withRetries(i){return b(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield i(r)}catch(r){if(n++>q1)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return gI()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=N1._getInstance(j1()),this.receiver._subscribe("keyChanged",(i,n)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(i,n)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var i,n;if(this.activeServiceWorker=yield L1(),!this.activeServiceWorker)return;this.sender=new Zp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((i=r[0])===null||i===void 0)&&i.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(i){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||V1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let i=yield Jp();return yield $x(i,Zd,"1"),yield qx(i,Zd),!0}catch{}return!1})}_withPendingWrite(i){return b(this,null,function*(){this.pendingWrites++;try{yield i()}finally{this.pendingWrites--}})}_set(i,n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>$x(r,i,n)),this.localCache[i]=n,this.notifyServiceWorker(i)}))})}_get(i){return b(this,null,function*(){let n=yield this._withRetries(r=>z1(r,i));return this.localCache[i]=n,n})}_remove(i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(n=>qx(n,i)),delete this.localCache[i],this.notifyServiceWorker(i)}))})}_poll(){return b(this,null,function*(){let i=yield this._withRetries(o=>{let s=au(o,!1).getAll();return new Lr(s).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(i.length!==0)for(let{fbase_key:o,value:s}of i)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),vI=H1;var yW=hI("rcb"),wW=new Fr(3e4,6e4);function yI(e,t){return t?gi(t):(at(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var dc=class extends ac{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return jo(t,this._buildIdpRequest())}_linkToIdToken(t,i){return jo(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return jo(t,this._buildIdpRequest())}_buildIdpRequest(t){let i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}};function G1(e){return S1(e.auth,new dc(e),e.bypassAuthState)}function W1(e){let{auth:t,user:i}=e;return at(i,t,"internal-error"),A1(i,new dc(e),e.bypassAuthState)}function K1(e){return b(this,null,function*(){let{auth:t,user:i}=e;return at(i,t,"internal-error"),C1(i,new dc(e),e.bypassAuthState)})}var eu=class{constructor(t,i,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise((t,i)=>b(this,null,function*(){this.pendingPromise={resolve:t,reject:i};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return b(this,null,function*(){let{urlResponse:i,sessionId:n,postBody:r,tenantId:o,error:s,type:c}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:i,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(d){this.reject(d)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return G1;case"linkViaPopup":case"linkViaRedirect":return K1;case"reauthViaPopup":case"reauthViaRedirect":return W1;default:Hn(this.auth,"internal-error")}}resolve(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Y1=new Fr(2e3,1e4);function yg(e,t,i){return b(this,null,function*(){if(zn(e.app))return Promise.reject(Tn(e,"operation-not-supported-in-this-environment"));let n=ru(e);e1(e,t,cc);let r=yI(n,i);return new Q1(n,"signInViaPopup",t,r).executeNotNull()})}var Q1=(()=>{class e extends eu{constructor(i,n,r,o,s){super(i,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){return b(this,null,function*(){let i=yield this.execute();return at(i,this.auth,"internal-error"),i})}onExecution(){return b(this,null,function*(){_i(this.filter.length===1,"Popup operations only handle one event");let i=vg();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let i=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,Y1.get())};i()}}e.currentPopupAction=null;return e})(),X1="pendingRedirect",$d=new Map,tg=class e extends eu{constructor(t,i,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}execute(){return b(this,null,function*(){let t=$d.get(this.auth._key());if(!t){try{let n=(yield Z1(this.resolver,this.auth))?yield Vi(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(i){t=()=>Promise.reject(i)}$d.set(this.auth._key(),t)}return this.bypassAuthState||$d.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return b(this,null,function*(){if(t.type==="signInViaRedirect")return Vi(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let i=yield this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,Vi(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function Z1(e,t){return b(this,null,function*(){let i=eN(t),n=tN(e);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(i))==="true";return yield n._remove(i),r})}function J1(e,t){$d.set(e._key(),t)}function tN(e){return gi(e._redirectPersistence)}function eN(e){return zd(X1,e.config.apiKey,e.name)}function nN(e,t,i=!1){return b(this,null,function*(){if(zn(e.app))return Promise.reject(Nr(e));let n=ru(e),r=yI(n,t),s=yield new tg(n,r,i).execute();return s&&!i&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,t)),s})}var iN=10*60*1e3,eg=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(i=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rN(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var n;if(t.error&&!wI(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(Tn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){let n=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hx(t))}saveEventToCache(t){this.cachedEventUids.add(Hx(t)),this.lastProcessedEventTime=Date.now()}};function Hx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function wI({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function rN(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wI(e);default:return!1}}function oN(i){return b(this,arguments,function*(e,t={}){return Bo(e,"GET","/v1/projects",t)})}var sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aN=/^https?/;function cN(e){return b(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield oN(e);for(let i of t)try{if(lN(i))return}catch{}Hn(e,"unauthorized-domain")})}function lN(e){let t=qp(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&n===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&s.hostname===n}if(!aN.test(i))return!1;if(sN.test(e))return n===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var dN=new Fr(3e4,6e4);function Gx(){let e=qn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function uN(e){return new Promise((t,i)=>{var n,r,o;function s(){Gx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gx(),i(Tn(e,"network-request-failed"))},timeout:dN.get()})}if(!((r=(n=qn().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=qn().gapi)===null||o===void 0)&&o.load)s();else{let c=hI("iframefcb");return qn()[c]=()=>{gapi.load?s():i(Tn(e,"network-request-failed"))},y1(`${w1()}?onload=${c}`).catch(l=>i(l))}}).catch(t=>{throw qd=null,t})}var qd=null;function hN(e){return qd=qd||uN(e),qd}var fN=new Fr(5e3,15e3),mN="__/auth/iframe",pN="emulator/auth/iframe",gN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_N=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(e){let t=e.config;at(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?sg(t,pN):`https://${e.config.authDomain}/${mN}`,n={apiKey:t.apiKey,appName:e.name,v:$n},r=_N.get(e.config.apiHost);r&&(n.eid=r);let o=e._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${No(n).slice(1)}`}function vN(e){return b(this,null,function*(){let t=yield hN(e),i=qn().gapi;return at(i,e,"internal-error"),t.open({where:document.body,url:bN(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gN,dontclear:!0},n=>new Promise((r,o)=>b(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=Tn(e,"network-request-failed"),c=qn().setTimeout(()=>{o(s)},fN.get());function l(){qn().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var yN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wN=500,xN=600,IN="_blank",EN="http://localhost",nu=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function TN(e,t,i,n=wN,r=xN){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},yN),{width:n.toString(),height:r.toString(),top:o,left:s}),d=pe().toLowerCase();i&&(c=oI(d)?IN:i),rI(d)&&(t=t||EN,l.scrollbars="yes");let f=Object.entries(l).reduce((g,[w,k])=>`${g}${w}=${k},`,"");if(m1(d)&&c!=="_self")return CN(t||"",c),new nu(null);let p=window.open(t||"",c,f);at(p,e,"popup-blocked");try{p.focus()}catch{}return new nu(p)}function CN(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}var AN="__/auth/handler",SN="emulator/auth/handler",RN=encodeURIComponent("fac");function Wx(e,t,i,n,r,o){return b(this,null,function*(){at(e.config.authDomain,e,"auth-domain-config-required"),at(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:$n,eventId:r};if(t instanceof cc){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",vx(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(t instanceof Xd){let f=t.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}e.tenantId&&(s.tid=e.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield e._getAppCheckToken(),d=l?`#${RN}=${encodeURIComponent(l)}`:"";return`${DN(e)}?${No(c).slice(1)}${d}`})}function DN({config:e}){return e.emulator?sg(e,SN):`https://${e.authDomain}/${AN}`}var $p="webStorageSupport",ng=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bg,this._completeRedirectFn=nN,this._overrideRedirectResult=J1}_openPopup(t,i,n,r){return b(this,null,function*(){var o;_i((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Wx(t,i,n,qp(),r);return TN(t,s,vg())})}_openRedirect(t,i,n,r){return b(this,null,function*(){yield this._originValidation(t);let o=yield Wx(t,i,n,qp(),r);return F1(o),new Promise(()=>{})})}_initialize(t){let i=t._key();if(this.eventManagers[i]){let{manager:r,promise:o}=this.eventManagers[i];return r?Promise.resolve(r):(_i(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(t);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}initAndGetManager(t){return b(this,null,function*(){let i=yield vN(t),n=new eg(t);return i.register("authEvent",r=>(at(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=i,n})}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send($p,{type:$p},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[$p];s!==void 0&&i(!!s),Hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=cN(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return dI()||ug()||iu()}},xI=ng;var Kx="@firebase/auth",Yx="1.7.4";var ig=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let i=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kN(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PN(e){Bn(new Ze("auth",(t,{options:i})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;at(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uI(e)},d=new Qp(n,r,o,l);return x1(d,i),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,n)=>{t.getProvider("auth-internal").initialize()})),Bn(new Ze("auth-internal",t=>{let i=ru(t.getProvider("auth").getImmediate());return(n=>new ig(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jt(Kx,Yx,kN(e)),Jt(Kx,Yx,"esm2017")}var ON=5*60,MN=Ip("authIdTokenMaxAge")||ON,Qx=null,NN=e=>t=>b(void 0,null,function*(){let i=t&&(yield t.getIdTokenResult()),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>MN)return;let r=i?.token;Qx!==r&&(Qx=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function wg(e=Zi()){let t=kr(e,"auth");if(t.isInitialized())return t.getImmediate();let i=fg(e,{popupRedirectResolver:xI,persistence:[vI,pI,bg]}),n=Ip("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=NN(o.toString());gg(i,s,()=>s(i.currentUser)),ou(i,c=>s(c))}}let r=wp("auth");return r&&mg(i,`http://${r}`),i}function FN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}v1({loadJS(e){return new Promise((t,i)=>{let n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=r=>{let o=Tn("internal-error");o.customData=r,i(o)},n.type="text/javascript",n.charset="UTF-8",FN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PN("Browser");function xg(e){return new Ke(function(t){var i=su(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:i}})}var EI="auth",Vr=class{constructor(t){return t}},uc=class{constructor(){return nc(EI)}};var Ig=new $("angularfire2.auth-instances");function CF(e,t){let i=Vd(EI,e,t);return i&&new Vr(i)}function AF(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new Vr(n)}}var SF={provide:uc,deps:[[new je,Ig]]},RF={provide:Vr,useFactory:CF,deps:[[new je,Ig],mi]};function TI(e,...t){return Jt("angularfire",Or.full,"auth"),nn([RF,SF,{provide:Ig,useFactory:AF(e),multi:!0,deps:[q,Lt,Vo,Mr,[new je,Lo],...t]}])}var CI=te(wg,!0);var AI=te(yg,!0);var SI=te(_g,!0);var RI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DI={};var tr,Eg;(function(){var e;function t(x,_){function v(){}v.prototype=_.prototype,x.D=_.prototype,x.prototype=new v,x.prototype.constructor=x,x.C=function(I,E,A){for(var y=Array(arguments.length-2),ri=2;ri<arguments.length;ri++)y[ri-2]=arguments[ri];return _.prototype[E].apply(I,y)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(x,_,v){v||(v=0);var I=Array(16);if(typeof _=="string")for(var E=0;16>E;++E)I[E]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(E=0;16>E;++E)I[E]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=x.g[0],v=x.g[1],E=x.g[2];var A=x.g[3],y=_+(A^v&(E^A))+I[0]+3614090360&4294967295;_=v+(y<<7&4294967295|y>>>25),y=A+(E^_&(v^E))+I[1]+3905402710&4294967295,A=_+(y<<12&4294967295|y>>>20),y=E+(v^A&(_^v))+I[2]+606105819&4294967295,E=A+(y<<17&4294967295|y>>>15),y=v+(_^E&(A^_))+I[3]+3250441966&4294967295,v=E+(y<<22&4294967295|y>>>10),y=_+(A^v&(E^A))+I[4]+4118548399&4294967295,_=v+(y<<7&4294967295|y>>>25),y=A+(E^_&(v^E))+I[5]+1200080426&4294967295,A=_+(y<<12&4294967295|y>>>20),y=E+(v^A&(_^v))+I[6]+2821735955&4294967295,E=A+(y<<17&4294967295|y>>>15),y=v+(_^E&(A^_))+I[7]+4249261313&4294967295,v=E+(y<<22&4294967295|y>>>10),y=_+(A^v&(E^A))+I[8]+1770035416&4294967295,_=v+(y<<7&4294967295|y>>>25),y=A+(E^_&(v^E))+I[9]+2336552879&4294967295,A=_+(y<<12&4294967295|y>>>20),y=E+(v^A&(_^v))+I[10]+4294925233&4294967295,E=A+(y<<17&4294967295|y>>>15),y=v+(_^E&(A^_))+I[11]+2304563134&4294967295,v=E+(y<<22&4294967295|y>>>10),y=_+(A^v&(E^A))+I[12]+1804603682&4294967295,_=v+(y<<7&4294967295|y>>>25),y=A+(E^_&(v^E))+I[13]+4254626195&4294967295,A=_+(y<<12&4294967295|y>>>20),y=E+(v^A&(_^v))+I[14]+2792965006&4294967295,E=A+(y<<17&4294967295|y>>>15),y=v+(_^E&(A^_))+I[15]+1236535329&4294967295,v=E+(y<<22&4294967295|y>>>10),y=_+(E^A&(v^E))+I[1]+4129170786&4294967295,_=v+(y<<5&4294967295|y>>>27),y=A+(v^E&(_^v))+I[6]+3225465664&4294967295,A=_+(y<<9&4294967295|y>>>23),y=E+(_^v&(A^_))+I[11]+643717713&4294967295,E=A+(y<<14&4294967295|y>>>18),y=v+(A^_&(E^A))+I[0]+3921069994&4294967295,v=E+(y<<20&4294967295|y>>>12),y=_+(E^A&(v^E))+I[5]+3593408605&4294967295,_=v+(y<<5&4294967295|y>>>27),y=A+(v^E&(_^v))+I[10]+38016083&4294967295,A=_+(y<<9&4294967295|y>>>23),y=E+(_^v&(A^_))+I[15]+3634488961&4294967295,E=A+(y<<14&4294967295|y>>>18),y=v+(A^_&(E^A))+I[4]+3889429448&4294967295,v=E+(y<<20&4294967295|y>>>12),y=_+(E^A&(v^E))+I[9]+568446438&4294967295,_=v+(y<<5&4294967295|y>>>27),y=A+(v^E&(_^v))+I[14]+3275163606&4294967295,A=_+(y<<9&4294967295|y>>>23),y=E+(_^v&(A^_))+I[3]+4107603335&4294967295,E=A+(y<<14&4294967295|y>>>18),y=v+(A^_&(E^A))+I[8]+1163531501&4294967295,v=E+(y<<20&4294967295|y>>>12),y=_+(E^A&(v^E))+I[13]+2850285829&4294967295,_=v+(y<<5&4294967295|y>>>27),y=A+(v^E&(_^v))+I[2]+4243563512&4294967295,A=_+(y<<9&4294967295|y>>>23),y=E+(_^v&(A^_))+I[7]+1735328473&4294967295,E=A+(y<<14&4294967295|y>>>18),y=v+(A^_&(E^A))+I[12]+2368359562&4294967295,v=E+(y<<20&4294967295|y>>>12),y=_+(v^E^A)+I[5]+4294588738&4294967295,_=v+(y<<4&4294967295|y>>>28),y=A+(_^v^E)+I[8]+2272392833&4294967295,A=_+(y<<11&4294967295|y>>>21),y=E+(A^_^v)+I[11]+1839030562&4294967295,E=A+(y<<16&4294967295|y>>>16),y=v+(E^A^_)+I[14]+4259657740&4294967295,v=E+(y<<23&4294967295|y>>>9),y=_+(v^E^A)+I[1]+2763975236&4294967295,_=v+(y<<4&4294967295|y>>>28),y=A+(_^v^E)+I[4]+1272893353&4294967295,A=_+(y<<11&4294967295|y>>>21),y=E+(A^_^v)+I[7]+4139469664&4294967295,E=A+(y<<16&4294967295|y>>>16),y=v+(E^A^_)+I[10]+3200236656&4294967295,v=E+(y<<23&4294967295|y>>>9),y=_+(v^E^A)+I[13]+681279174&4294967295,_=v+(y<<4&4294967295|y>>>28),y=A+(_^v^E)+I[0]+3936430074&4294967295,A=_+(y<<11&4294967295|y>>>21),y=E+(A^_^v)+I[3]+3572445317&4294967295,E=A+(y<<16&4294967295|y>>>16),y=v+(E^A^_)+I[6]+76029189&4294967295,v=E+(y<<23&4294967295|y>>>9),y=_+(v^E^A)+I[9]+3654602809&4294967295,_=v+(y<<4&4294967295|y>>>28),y=A+(_^v^E)+I[12]+3873151461&4294967295,A=_+(y<<11&4294967295|y>>>21),y=E+(A^_^v)+I[15]+530742520&4294967295,E=A+(y<<16&4294967295|y>>>16),y=v+(E^A^_)+I[2]+3299628645&4294967295,v=E+(y<<23&4294967295|y>>>9),y=_+(E^(v|~A))+I[0]+4096336452&4294967295,_=v+(y<<6&4294967295|y>>>26),y=A+(v^(_|~E))+I[7]+1126891415&4294967295,A=_+(y<<10&4294967295|y>>>22),y=E+(_^(A|~v))+I[14]+2878612391&4294967295,E=A+(y<<15&4294967295|y>>>17),y=v+(A^(E|~_))+I[5]+4237533241&4294967295,v=E+(y<<21&4294967295|y>>>11),y=_+(E^(v|~A))+I[12]+1700485571&4294967295,_=v+(y<<6&4294967295|y>>>26),y=A+(v^(_|~E))+I[3]+2399980690&4294967295,A=_+(y<<10&4294967295|y>>>22),y=E+(_^(A|~v))+I[10]+4293915773&4294967295,E=A+(y<<15&4294967295|y>>>17),y=v+(A^(E|~_))+I[1]+2240044497&4294967295,v=E+(y<<21&4294967295|y>>>11),y=_+(E^(v|~A))+I[8]+1873313359&4294967295,_=v+(y<<6&4294967295|y>>>26),y=A+(v^(_|~E))+I[15]+4264355552&4294967295,A=_+(y<<10&4294967295|y>>>22),y=E+(_^(A|~v))+I[6]+2734768916&4294967295,E=A+(y<<15&4294967295|y>>>17),y=v+(A^(E|~_))+I[13]+1309151649&4294967295,v=E+(y<<21&4294967295|y>>>11),y=_+(E^(v|~A))+I[4]+4149444226&4294967295,_=v+(y<<6&4294967295|y>>>26),y=A+(v^(_|~E))+I[11]+3174756917&4294967295,A=_+(y<<10&4294967295|y>>>22),y=E+(_^(A|~v))+I[2]+718787259&4294967295,E=A+(y<<15&4294967295|y>>>17),y=v+(A^(E|~_))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+_&4294967295,x.g[1]=x.g[1]+(E+(y<<21&4294967295|y>>>11))&4294967295,x.g[2]=x.g[2]+E&4294967295,x.g[3]=x.g[3]+A&4294967295}n.prototype.u=function(x,_){_===void 0&&(_=x.length);for(var v=_-this.blockSize,I=this.B,E=this.h,A=0;A<_;){if(E==0)for(;A<=v;)r(this,x,A),A+=this.blockSize;if(typeof x=="string"){for(;A<_;)if(I[E++]=x.charCodeAt(A++),E==this.blockSize){r(this,I),E=0;break}}else for(;A<_;)if(I[E++]=x[A++],E==this.blockSize){r(this,I),E=0;break}}this.h=E,this.o+=_},n.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var _=1;_<x.length-8;++_)x[_]=0;var v=8*this.o;for(_=x.length-8;_<x.length;++_)x[_]=v&255,v/=256;for(this.u(x),x=Array(16),_=v=0;4>_;++_)for(var I=0;32>I;I+=8)x[v++]=this.g[_]>>>I&255;return x};function o(x,_){var v=c;return Object.prototype.hasOwnProperty.call(v,x)?v[x]:v[x]=_(x)}function s(x,_){this.h=_;for(var v=[],I=!0,E=x.length-1;0<=E;E--){var A=x[E]|0;I&&A==_||(v[E]=A,I=!1)}this.g=v}var c={};function l(x){return-128<=x&&128>x?o(x,function(_){return new s([_|0],0>_?-1:0)}):new s([x|0],0>x?-1:0)}function d(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return D(d(-x));for(var _=[],v=1,I=0;x>=v;I++)_[I]=x/v|0,v*=4294967296;return new s(_,0)}function f(x,_){if(x.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(x.charAt(0)=="-")return D(f(x.substring(1),_));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(_,8)),I=p,E=0;E<x.length;E+=8){var A=Math.min(8,x.length-E),y=parseInt(x.substring(E,E+A),_);8>A?(A=d(Math.pow(_,A)),I=I.j(A).add(d(y))):(I=I.j(v),I=I.add(d(y)))}return I}var p=l(0),g=l(1),w=l(16777216);e=s.prototype,e.m=function(){if(M(this))return-D(this).m();for(var x=0,_=1,v=0;v<this.g.length;v++){var I=this.i(v);x+=(0<=I?I:4294967296+I)*_,_*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(k(this))return"0";if(M(this))return"-"+D(this).toString(x);for(var _=d(Math.pow(x,6)),v=this,I="";;){var E=ht(v,_).g;v=z(v,E.j(_));var A=((0<v.g.length?v.g[0]:v.h)>>>0).toString(x);if(v=E,k(v))return A+I;for(;6>A.length;)A="0"+A;I=A+I}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function k(x){if(x.h!=0)return!1;for(var _=0;_<x.g.length;_++)if(x.g[_]!=0)return!1;return!0}function M(x){return x.h==-1}e.l=function(x){return x=z(this,x),M(x)?-1:k(x)?0:1};function D(x){for(var _=x.g.length,v=[],I=0;I<_;I++)v[I]=~x.g[I];return new s(v,~x.h).add(g)}e.abs=function(){return M(this)?D(this):this},e.add=function(x){for(var _=Math.max(this.g.length,x.g.length),v=[],I=0,E=0;E<=_;E++){var A=I+(this.i(E)&65535)+(x.i(E)&65535),y=(A>>>16)+(this.i(E)>>>16)+(x.i(E)>>>16);I=y>>>16,A&=65535,y&=65535,v[E]=y<<16|A}return new s(v,v[v.length-1]&-2147483648?-1:0)};function z(x,_){return x.add(D(_))}e.j=function(x){if(k(this)||k(x))return p;if(M(this))return M(x)?D(this).j(D(x)):D(D(this).j(x));if(M(x))return D(this.j(D(x)));if(0>this.l(w)&&0>x.l(w))return d(this.m()*x.m());for(var _=this.g.length+x.g.length,v=[],I=0;I<2*_;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<x.g.length;E++){var A=this.i(I)>>>16,y=this.i(I)&65535,ri=x.i(E)>>>16,$s=x.i(E)&65535;v[2*I+2*E]+=y*$s,Y(v,2*I+2*E),v[2*I+2*E+1]+=A*$s,Y(v,2*I+2*E+1),v[2*I+2*E+1]+=y*ri,Y(v,2*I+2*E+1),v[2*I+2*E+2]+=A*ri,Y(v,2*I+2*E+2)}for(I=0;I<_;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=_;I<2*_;I++)v[I]=0;return new s(v,0)};function Y(x,_){for(;(x[_]&65535)!=x[_];)x[_+1]+=x[_]>>>16,x[_]&=65535,_++}function et(x,_){this.g=x,this.h=_}function ht(x,_){if(k(_))throw Error("division by zero");if(k(x))return new et(p,p);if(M(x))return _=ht(D(x),_),new et(D(_.g),D(_.h));if(M(_))return _=ht(x,D(_)),new et(D(_.g),_.h);if(30<x.g.length){if(M(x)||M(_))throw Error("slowDivide_ only works with positive integers.");for(var v=g,I=_;0>=I.l(x);)v=qt(v),I=qt(I);var E=Z(v,1),A=Z(I,1);for(I=Z(I,2),v=Z(v,2);!k(I);){var y=A.add(I);0>=y.l(x)&&(E=E.add(v),A=y),I=Z(I,1),v=Z(v,1)}return _=z(x,E.j(_)),new et(E,_)}for(E=p;0<=x.l(_);){for(v=Math.max(1,Math.floor(x.m()/_.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),A=d(v),y=A.j(_);M(y)||0<y.l(x);)v-=I,A=d(v),y=A.j(_);k(A)&&(A=g),E=E.add(A),x=z(x,y)}return new et(E,x)}e.A=function(x){return ht(this,x).h},e.and=function(x){for(var _=Math.max(this.g.length,x.g.length),v=[],I=0;I<_;I++)v[I]=this.i(I)&x.i(I);return new s(v,this.h&x.h)},e.or=function(x){for(var _=Math.max(this.g.length,x.g.length),v=[],I=0;I<_;I++)v[I]=this.i(I)|x.i(I);return new s(v,this.h|x.h)},e.xor=function(x){for(var _=Math.max(this.g.length,x.g.length),v=[],I=0;I<_;I++)v[I]=this.i(I)^x.i(I);return new s(v,this.h^x.h)};function qt(x){for(var _=x.g.length+1,v=[],I=0;I<_;I++)v[I]=x.i(I)<<1|x.i(I-1)>>>31;return new s(v,x.h)}function Z(x,_){var v=_>>5;_%=32;for(var I=x.g.length-v,E=[],A=0;A<I;A++)E[A]=0<_?x.i(A+v)>>>_|x.i(A+v+1)<<32-_:x.i(A+v);return new s(E,x.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Eg=DI.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,tr=DI.Integer=s}).apply(typeof RI<"u"?RI:typeof self<"u"?self:typeof window<"u"?window:{});var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bi={};var Tg,Cg,zo,Ag,hc,lu,Sg,Rg,Dg;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cu=="object"&&cu];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var n=i(this);function r(a,u){if(u)t:{var h=n;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in h))break t;h=h[T]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&t(h,a,{configurable:!0,writable:!0,value:u})}}function o(a,u){a instanceof String&&(a+="");var h=0,m=!1,T={next:function(){if(!m&&h<a.length){var S=h++;return{value:u(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return o(this,function(u,h){return h})}});var s=s||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function g(a,u,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function w(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function k(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,T,S){for(var j=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)j[Ft-2]=arguments[Ft];return u.prototype[T].apply(m,j)}}function M(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function D(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let T=a.length||0,S=m.length||0;a.length=T+S;for(let j=0;j<S;j++)a[T+j]=m[j]}else a.push(m)}}class z{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Y(a){return/^[\s\xa0]*$/.test(a)}function et(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ht(a){return ht[" "](a),a}ht[" "]=function(){};var qt=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Z(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function x(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function _(a){let u={};for(let h in a)u[h]=a[h];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,u){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)a[h]=m[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function E(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function A(a){c.setTimeout(()=>{throw a},0)}function y(){var a=hf;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class ri{constructor(){this.h=this.g=null}add(u,h){let m=$s.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var $s=new z(()=>new PR,a=>a.reset());class PR{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let qs,Hs=!1,hf=new ri,jv=()=>{let a=c.Promise.resolve(void 0);qs=()=>{a.then(OR)}};var OR=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){A(h)}var u=$s;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Hs=!1};function Mi(){this.s=this.s,this.C=this.C}Mi.prototype.s=!1,Mi.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Re(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}Re.prototype.h=function(){this.defaultPrevented=!0};var MR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function Gs(a,u){if(Re.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(qt){t:{try{ht(u.nodeName);var T=!0;break t}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:NR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Gs.aa.h.call(this)}}k(Gs,Re);var NR={2:"touch",3:"pen",4:"mouse"};Gs.prototype.h=function(){Gs.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ws="closure_listenable_"+(1e6*Math.random()|0),FR=0;function LR(a,u,h,m,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=T,this.key=++FR,this.da=this.fa=!1}function hl(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function fl(a){this.src=a,this.g={},this.h=0}fl.prototype.add=function(a,u,h,m,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var j=mf(a,u,m,T);return-1<j?(u=a[j],h||(u.fa=!1)):(u=new LR(u,this.src,S,!!m,T),u.fa=h,a.push(u)),u};function ff(a,u){var h=u.type;if(h in a.g){var m=a.g[h],T=Array.prototype.indexOf.call(m,u,void 0),S;(S=0<=T)&&Array.prototype.splice.call(m,T,1),S&&(hl(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function mf(a,u,h,m){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==u&&S.capture==!!h&&S.ha==m)return T}return-1}var pf="closure_lm_"+(1e6*Math.random()|0),gf={};function Uv(a,u,h,m,T){if(m&&m.once)return zv(a,u,h,m,T);if(Array.isArray(u)){for(var S=0;S<u.length;S++)Uv(a,u[S],h,m,T);return null}return h=yf(h),a&&a[Ws]?a.K(u,h,d(m)?!!m.capture:!!m,T):Bv(a,u,h,!1,m,T)}function Bv(a,u,h,m,T,S){if(!u)throw Error("Invalid event type");var j=d(T)?!!T.capture:!!T,Ft=bf(a);if(Ft||(a[pf]=Ft=new fl(a)),h=Ft.add(u,h,m,j,S),h.proxy)return h;if(m=VR(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)MR||(T=j),T===void 0&&(T=!1),a.addEventListener(u.toString(),m,T);else if(a.attachEvent)a.attachEvent(qv(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function VR(){function a(h){return u.call(a.src,a.listener,h)}let u=jR;return a}function zv(a,u,h,m,T){if(Array.isArray(u)){for(var S=0;S<u.length;S++)zv(a,u[S],h,m,T);return null}return h=yf(h),a&&a[Ws]?a.L(u,h,d(m)?!!m.capture:!!m,T):Bv(a,u,h,!0,m,T)}function $v(a,u,h,m,T){if(Array.isArray(u))for(var S=0;S<u.length;S++)$v(a,u[S],h,m,T);else m=d(m)?!!m.capture:!!m,h=yf(h),a&&a[Ws]?(a=a.i,u=String(u).toString(),u in a.g&&(S=a.g[u],h=mf(S,h,m,T),-1<h&&(hl(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[u],a.h--)))):a&&(a=bf(a))&&(u=a.g[u.toString()],a=-1,u&&(a=mf(u,h,m,T)),(h=-1<a?u[a]:null)&&_f(h))}function _f(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Ws])ff(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent(qv(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=bf(u))?(ff(h,a),h.h==0&&(h.src=null,u[pf]=null)):hl(a)}}}function qv(a){return a in gf?gf[a]:gf[a]="on"+a}function jR(a,u){if(a.da)a=!0;else{u=new Gs(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&_f(a),a=h.call(m,u)}return a}function bf(a){return a=a[pf],a instanceof fl?a:null}var vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function yf(a){return typeof a=="function"?a:(a[vf]||(a[vf]=function(u){return a.handleEvent(u)}),a[vf])}function De(){Mi.call(this),this.i=new fl(this),this.M=this,this.F=null}k(De,Mi),De.prototype[Ws]=!0,De.prototype.removeEventListener=function(a,u,h,m){$v(this,a,u,h,m)};function Le(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new Re(u,a);else if(u instanceof Re)u.target=u.target||a;else{var T=u;u=new Re(m,a),I(u,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var j=u.g=h[S];T=ml(j,m,!0,u)&&T}if(j=u.g=a,T=ml(j,m,!0,u)&&T,T=ml(j,m,!1,u)&&T,h)for(S=0;S<h.length;S++)j=u.g=h[S],T=ml(j,m,!1,u)&&T}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)hl(h[m]);delete a.g[u],a.h--}}this.F=null},De.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},De.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function ml(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,S=0;S<u.length;++S){var j=u[S];if(j&&!j.da&&j.capture==h){var Ft=j.listener,xe=j.ha||j.src;j.fa&&ff(a.i,j),T=Ft.call(xe,m)!==!1&&T}}return T&&!m.defaultPrevented}function Hv(a,u,h){if(typeof a=="function")h&&(a=g(a,h));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Gv(a){a.g=Hv(()=>{a.g=null,a.i&&(a.i=!1,Gv(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class UR extends Mi{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Gv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(a){Mi.call(this),this.h=a,this.g={}}k(Ks,Mi);var Wv=[];function Kv(a){Z(a.g,function(u,h){this.g.hasOwnProperty(h)&&_f(u)},a),a.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),Kv(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wf=c.JSON.stringify,BR=c.JSON.parse,zR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function xf(){}xf.prototype.h=null;function Yv(a){return a.h||(a.h=a.i())}function Qv(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function If(){Re.call(this,"d")}k(If,Re);function Ef(){Re.call(this,"c")}k(Ef,Re);var mr={},Xv=null;function pl(){return Xv=Xv||new De}mr.La="serverreachability";function Zv(a){Re.call(this,mr.La,a)}k(Zv,Re);function Qs(a){let u=pl();Le(u,new Zv(u))}mr.STAT_EVENT="statevent";function Jv(a,u){Re.call(this,mr.STAT_EVENT,a),this.stat=u}k(Jv,Re);function Ve(a){let u=pl();Le(u,new Jv(u,a))}mr.Ma="timingevent";function ty(a,u){Re.call(this,mr.Ma,a),this.size=u}k(ty,Re);function Xs(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function Zs(){this.g=!0}Zs.prototype.xa=function(){this.g=!1};function $R(a,u,h,m,T,S){a.info(function(){if(a.g)if(S)for(var j="",Ft=S.split("&"),xe=0;xe<Ft.length;xe++){var Ct=Ft[xe].split("=");if(1<Ct.length){var ke=Ct[0];Ct=Ct[1];var Pe=ke.split("_");j=2<=Pe.length&&Pe[1]=="type"?j+(ke+"="+Ct+"&"):j+(ke+"=redacted&")}}else j=null;else j=S;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+u+`
`+h+`
`+j})}function qR(a,u,h,m,T,S,j){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+u+`
`+h+`
`+S+" "+j})}function io(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+GR(a,h)+(m?" "+m:"")})}function HR(a,u){a.info(function(){return"TIMEOUT: "+u})}Zs.prototype.info=function(){};function GR(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var j=1;j<T.length;j++)T[j]=""}}}}return wf(h)}catch{return u}}var gl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ey={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tf;function _l(){}k(_l,xf),_l.prototype.g=function(){return new XMLHttpRequest},_l.prototype.i=function(){return{}},Tf=new _l;function Ni(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ny}function ny(){this.i=null,this.g="",this.h=!1}var iy={},Cf={};function Af(a,u,h){a.L=1,a.v=wl(oi(u)),a.m=h,a.P=!0,ry(a,null)}function ry(a,u){a.F=Date.now(),bl(a),a.A=oi(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),by(h.i,"t",m),a.C=0,h=a.j.J,a.h=new ny,a.g=Fy(a.j,h?u:null,!a.m),0<a.O&&(a.M=new UR(g(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Wv[0]=T.toString()),T=Wv);for(var S=0;S<T.length;S++){var j=Uv(h,T[S],m||u.handleEvent,!1,u.h||u);if(!j)break;u.g[j.key]=j}u=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),Qs(),$R(a.i,a.u,a.A,a.l,a.R,a.m)}Ni.prototype.ca=function(a){a=a.target;let u=this.M;u&&si(a)==3?u.j():this.Y(a)},Ni.prototype.Y=function(a){try{if(a==this.g)t:{let Pe=si(this.g);var u=this.g.Ba();let so=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Ty(this.g)))){this.J||Pe!=4||u==7||(u==8||0>=so?Qs(3):Qs(2)),Sf(this);var h=this.g.Z();this.X=h;e:if(oy(this)){var m=Ty(this.g);a="";var T=m.length,S=si(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pr(this),Js(this);var j="";break e}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(S&&u==T-1)});m.length=0,this.h.g+=a,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=h==200,qR(this.i,this.u,this.A,this.l,this.R,Pe,h),this.o){if(this.T&&!this.K){e:{if(this.g){var Ft,xe=this.g;if((Ft=xe.g?xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ft)){var Ct=Ft;break e}}Ct=null}if(h=Ct)io(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rf(this,h);else{this.o=!1,this.s=3,Ve(12),pr(this),Js(this);break t}}if(this.P){h=!0;let yn;for(;!this.J&&this.C<j.length;)if(yn=WR(this,j),yn==Cf){Pe==4&&(this.s=4,Ve(14),h=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==iy){this.s=4,Ve(15),io(this.i,this.l,j,"[Invalid Chunk]"),h=!1;break}else io(this.i,this.l,yn,null),Rf(this,yn);if(oy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||j.length!=0||this.h.h||(this.s=1,Ve(16),h=!1),this.o=this.o&&h,!h)io(this.i,this.l,j,"[Invalid Chunked Response]"),pr(this),Js(this);else if(0<j.length&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.ba&&!ke.M&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Nf(ke),ke.M=!0,Ve(11))}}else io(this.i,this.l,j,null),Rf(this,j);Pe==4&&pr(this),this.o&&!this.J&&(Pe==4?Py(this.j,this):(this.o=!1,bl(this)))}else dD(this.g),h==400&&0<j.indexOf("Unknown SID")?(this.s=3,Ve(12)):(this.s=0,Ve(13)),pr(this),Js(this)}}}catch{}finally{}};function oy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function WR(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?Cf:(h=Number(u.substring(h,m)),isNaN(h)?iy:(m+=1,m+h>u.length?Cf:(u=u.slice(m,m+h),a.C=m+h,u)))}Ni.prototype.cancel=function(){this.J=!0,pr(this)};function bl(a){a.S=Date.now()+a.I,sy(a,a.I)}function sy(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Xs(g(a.ba,a),u)}function Sf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Ni.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(HR(this.i,this.A),this.L!=2&&(Qs(),Ve(17)),pr(this),this.s=2,Js(this)):sy(this,this.S-a)};function Js(a){a.j.G==0||a.J||Py(a.j,a)}function pr(a){Sf(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Kv(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Rf(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||Df(h.h,a))){if(!a.K&&Df(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Cl(h),El(h);else break t;Mf(h),Ve(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Xs(g(h.Za,h),6e3));if(1>=ly(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else _r(h,11)}else if((a.K||h.g==a)&&Cl(h),!Y(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let Ct=T[u];if(h.T=Ct[0],Ct=Ct[1],h.G==2)if(Ct[0]=="c"){h.K=Ct[1],h.ia=Ct[2];let ke=Ct[3];ke!=null&&(h.la=ke,h.j.info("VER="+h.la));let Pe=Ct[4];Pe!=null&&(h.Aa=Pe,h.j.info("SVER="+h.Aa));let so=Ct[5];so!=null&&typeof so=="number"&&0<so&&(m=1.5*so,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let yn=a.g;if(yn){let Sl=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sl){var S=m.h;S.g||Sl.indexOf("spdy")==-1&&Sl.indexOf("quic")==-1&&Sl.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(kf(S,S.h),S.h=null))}if(m.D){let Ff=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ff&&(m.ya=Ff,zt(m.I,m.D,Ff))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var j=a;if(m.qa=Ny(m,m.J?m.ia:null,m.W),j.K){dy(m.h,j);var Ft=j,xe=m.L;xe&&(Ft.I=xe),Ft.B&&(Sf(Ft),bl(Ft)),m.g=j}else Dy(m);0<h.i.length&&Tl(h)}else Ct[0]!="stop"&&Ct[0]!="close"||_r(h,7);else h.G==3&&(Ct[0]=="stop"||Ct[0]=="close"?Ct[0]=="stop"?_r(h,7):Of(h):Ct[0]!="noop"&&h.l&&h.l.ta(Ct),h.v=0)}}Qs(4)}catch{}}var KR=class{constructor(a,u){this.g=a,this.map=u}};function ay(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cy(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function ly(a){return a.h?1:a.g?a.g.size:0}function Df(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function kf(a,u){a.g?a.g.add(u):a.h=u}function dy(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}ay.prototype.cancel=function(){if(this.i=uy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function uy(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return M(a.i)}function YR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function QR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function hy(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=QR(a),m=YR(a),T=m.length,S=0;S<T;S++)u.call(void 0,m[S],h&&h[S],a)}var fy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XR(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),T=null;if(0<=m){var S=a[h].substring(0,m);T=a[h].substring(m+1)}else S=a[h];u(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function gr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof gr){this.h=a.h,vl(this,a.j),this.o=a.o,this.g=a.g,yl(this,a.s),this.l=a.l;var u=a.i,h=new na;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),my(this,h),this.m=a.m}else a&&(u=String(a).match(fy))?(this.h=!1,vl(this,u[1]||"",!0),this.o=ta(u[2]||""),this.g=ta(u[3]||"",!0),yl(this,u[4]),this.l=ta(u[5]||"",!0),my(this,u[6]||"",!0),this.m=ta(u[7]||"")):(this.h=!1,this.i=new na(null,this.h))}gr.prototype.toString=function(){var a=[],u=this.j;u&&a.push(ea(u,py,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(ea(u,py,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(ea(h,h.charAt(0)=="/"?tD:JR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",ea(h,nD)),a.join("")};function oi(a){return new gr(a)}function vl(a,u,h){a.j=h?ta(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function yl(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function my(a,u,h){u instanceof na?(a.i=u,iD(a.i,a.h)):(h||(u=ea(u,eD)),a.i=new na(u,a.h))}function zt(a,u,h){a.i.set(u,h)}function wl(a){return zt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function ta(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ea(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,ZR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ZR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var py=/[#\/\?@]/g,JR=/[#\?:]/g,tD=/[#\?]/g,eD=/[#\?@]/g,nD=/#/g;function na(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Fi(a){a.g||(a.g=new Map,a.h=0,a.i&&XR(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}e=na.prototype,e.add=function(a,u){Fi(this),this.i=null,a=ro(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function gy(a,u){Fi(a),u=ro(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function _y(a,u){return Fi(a),u=ro(a,u),a.g.has(u)}e.forEach=function(a,u){Fi(this),this.g.forEach(function(h,m){h.forEach(function(T){a.call(u,T,m,this)},this)},this)},e.na=function(){Fi(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let T=a[m];for(let S=0;S<T.length;S++)h.push(u[m])}return h},e.V=function(a){Fi(this);let u=[];if(typeof a=="string")_y(this,a)&&(u=u.concat(this.g.get(ro(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},e.set=function(a,u){return Fi(this),this.i=null,a=ro(this,a),_y(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},e.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function by(a,u,h){gy(a,u),0<h.length&&(a.i=null,a.g.set(ro(a,u),M(h)),a.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let S=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var T=S;j[m]!==""&&(T+="="+encodeURIComponent(String(j[m]))),a.push(T)}}return this.i=a.join("&")};function ro(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function iD(a,u){u&&!a.j&&(Fi(a),a.i=null,a.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(gy(this,m),by(this,T,h))},a)),a.j=u}function rD(a,u){let h=new Zs;if(c.Image){let m=new Image;m.onload=w(Li,h,"TestLoadImage: loaded",!0,u,m),m.onerror=w(Li,h,"TestLoadImage: error",!1,u,m),m.onabort=w(Li,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=w(Li,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function oD(a,u){let h=new Zs,m=new AbortController,T=setTimeout(()=>{m.abort(),Li(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(T),S.ok?Li(h,"TestPingServer: ok",!0,u):Li(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),Li(h,"TestPingServer: error",!1,u)})}function Li(a,u,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function sD(){this.g=new zR}function aD(a,u,h){let m=h||"";try{hy(a,function(T,S){let j=T;d(T)&&(j=wf(T)),u.push(m+S+"="+encodeURIComponent(j))})}catch(T){throw u.push(m+"type="+encodeURIComponent("_badmap")),T}}function ia(a){this.l=a.Ub||null,this.j=a.eb||!1}k(ia,xf),ia.prototype.g=function(){return new xl(this.l,this.j)},ia.prototype.i=function(a){return function(){return a}}({});function xl(a,u){De.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(xl,De),e=xl.prototype,e.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,oa(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ra(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vy(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function vy(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?ra(this):oa(this),this.readyState==3&&vy(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,ra(this))},e.Qa=function(a){this.g&&(this.response=a,ra(this))},e.ga=function(){this.g&&ra(this)};function ra(a){a.readyState=4,a.l=null,a.j=null,a.v=null,oa(a)}e.setRequestHeader=function(a,u){this.u.append(a,u)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function oa(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function yy(a){let u="";return Z(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function Pf(a,u,h){t:{for(m in h){var m=!1;break t}m=!0}m||(h=yy(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):zt(a,u,h))}function Wt(a){De.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Wt,De);var cD=/^https?$/i,lD=["POST","PUT"];e=Wt.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tf.g(),this.v=this.o?Yv(this.o):Yv(Tf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(S){wy(this,S);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(lD,u,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,j]of h)this.g.setRequestHeader(S,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ey(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){wy(this,S)}};function wy(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,xy(a),Il(a)}function xy(a){a.A||(a.A=!0,Le(a,"complete"),Le(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Le(this,"complete"),Le(this,"abort"),Il(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Il(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Iy(this):this.bb())},e.bb=function(){Iy(this)};function Iy(a){if(a.h&&typeof s<"u"&&(!a.v[1]||si(a)!=4||a.Z()!=2)){if(a.u&&si(a)==4)Hv(a.Ea,0,a);else if(Le(a,"readystatechange"),si(a)==4){a.h=!1;try{let j=a.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var m;if(m=j===0){var T=String(a.D).match(fy)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!cD.test(T?T.toLowerCase():"")}h=m}if(h)Le(a,"complete"),Le(a,"success");else{a.m=6;try{var S=2<si(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",xy(a)}}finally{Il(a)}}}}function Il(a,u){if(a.g){Ey(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||Le(a,"ready");try{h.onreadystatechange=m}catch{}}}function Ey(a){a.I&&(c.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function si(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<si(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),BR(u)}};function Ty(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function dD(a){let u={};a=(a.g&&2<=si(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(Y(a[m]))continue;var h=E(a[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=u[T]||[];u[T]=S,S.push(h)}x(u,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Cy(a){this.Aa=0,this.i=[],this.j=new Zs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,a),this.cb=sa("retryDelaySeedMs",1e4,a),this.Wa=sa("forwardChannelMaxRetries",2,a),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ay(a&&a.concurrentRequestLimit),this.Da=new sD,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Cy.prototype,e.la=8,e.G=1,e.connect=function(a,u,h,m){Ve(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Ny(this,null,this.W),Tl(this)};function Of(a){if(Ay(a),a.G==3){var u=a.U++,h=oi(a.I);if(zt(h,"SID",a.K),zt(h,"RID",u),zt(h,"TYPE","terminate"),aa(a,h),u=new Ni(a,a.j,u),u.L=2,u.v=wl(oi(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=Fy(u.j,null),u.g.ea(u.v)),u.F=Date.now(),bl(u)}My(a)}function El(a){a.g&&(Nf(a),a.g.cancel(),a.g=null)}function Ay(a){El(a),a.u&&(c.clearTimeout(a.u),a.u=null),Cl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Tl(a){if(!cy(a.h)&&!a.s){a.s=!0;var u=a.Ga;qs||jv(),Hs||(qs(),Hs=!0),hf.add(u,a),a.B=0}}function uD(a,u){return ly(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Xs(g(a.Ga,a,u),Oy(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Ni(this,this.j,a),S=this.o;if(this.S&&(S?(S=_(S),I(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)t:{for(var u=0,h=0;h<this.i.length;h++){e:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break t}if(u===4096||h===this.i.length-1){u=h+1;break t}}u=1e3}else u=1e3;u=Ry(this,T,u),h=oi(this.I),zt(h,"RID",a),zt(h,"CVER",22),this.D&&zt(h,"X-HTTP-Session-Id",this.D),aa(this,h),S&&(this.O?u="headers="+encodeURIComponent(String(yy(S)))+"&"+u:this.m&&Pf(h,this.m,S)),kf(this.h,T),this.Ua&&zt(h,"TYPE","init"),this.P?(zt(h,"$req",u),zt(h,"SID","null"),T.T=!0,Af(T,h,null)):Af(T,h,u),this.G=2}}else this.G==3&&(a?Sy(this,a):this.i.length==0||cy(this.h)||Sy(this))};function Sy(a,u){var h;u?h=u.l:h=a.U++;let m=oi(a.I);zt(m,"SID",a.K),zt(m,"RID",h),zt(m,"AID",a.T),aa(a,m),a.m&&a.o&&Pf(m,a.m,a.o),h=new Ni(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Ry(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),kf(a.h,h),Af(h,m,u)}function aa(a,u){a.H&&Z(a.H,function(h,m){zt(u,m,h)}),a.l&&hy({},function(h,m){zt(u,m,h)})}function Ry(a,u,h){h=Math.min(a.i.length,h);var m=a.l?g(a.l.Na,a.l,a):null;t:{var T=a.i;let S=-1;for(;;){let j=["count="+h];S==-1?0<h?(S=T[0].g,j.push("ofs="+S)):S=0:j.push("ofs="+S);let Ft=!0;for(let xe=0;xe<h;xe++){let Ct=T[xe].g,ke=T[xe].map;if(Ct-=S,0>Ct)S=Math.max(0,T[xe].g-100),Ft=!1;else try{aD(ke,j,"req"+Ct+"_")}catch{m&&m(ke)}}if(Ft){m=j.join("&");break t}}}return a=a.i.splice(0,h),u.D=a,m}function Dy(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;qs||jv(),Hs||(qs(),Hs=!0),hf.add(u,a),a.v=0}}function Mf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Xs(g(a.Fa,a),Oy(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,ky(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Xs(g(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ve(10),El(this),ky(this))};function Nf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function ky(a){a.g=new Ni(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=oi(a.qa);zt(u,"RID","rpc"),zt(u,"SID",a.K),zt(u,"AID",a.T),zt(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&zt(u,"TO",a.ja),zt(u,"TYPE","xmlhttp"),aa(a,u),a.m&&a.o&&Pf(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=wl(oi(u)),h.m=null,h.P=!0,ry(h,a)}e.Za=function(){this.C!=null&&(this.C=null,El(this),Mf(this),Ve(19))};function Cl(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function Py(a,u){var h=null;if(a.g==u){Cl(a),Nf(a),a.g=null;var m=2}else if(Df(a.h,u))h=u.D,dy(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;m=pl(),Le(m,new ty(m,h)),Tl(a)}else Dy(a);else if(T=u.s,T==3||T==0&&0<u.X||!(m==1&&uD(a,u)||m==2&&Mf(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:_r(a,5);break;case 4:_r(a,10);break;case 3:_r(a,6);break;default:_r(a,2)}}}function Oy(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function _r(a,u){if(a.j.info("Error code "+u),u==2){var h=g(a.fb,a),m=a.Xa;let T=!m;m=new gr(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vl(m,"https"),wl(m),T?rD(m.toString(),h):oD(m.toString(),h)}else Ve(2);a.G=0,a.l&&a.l.sa(u),My(a),Ay(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function My(a){if(a.G=0,a.ka=[],a.l){let u=uy(a.h);(u.length!=0||a.i.length!=0)&&(D(a.ka,u),D(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function Ny(a,u,h){var m=h instanceof gr?oi(h):new gr(h);if(m.g!="")u&&(m.g=u+"."+m.g),yl(m,m.s);else{var T=c.location;m=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var S=new gr(null);m&&vl(S,m),u&&(S.g=u),T&&yl(S,T),h&&(S.l=h),m=S}return h=a.D,u=a.ya,h&&u&&zt(m,h,u),zt(m,"VER",a.la),aa(a,m),m}function Fy(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Wt(new ia({eb:h})):new Wt(a.pa),u.Ha(a.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ly(){}e=Ly.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Al(){}Al.prototype.g=function(a,u){return new tn(a,u)};function tn(a,u){De.call(this),this.g=new Cy(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!Y(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Y(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new oo(this)}k(tn,De),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Of(this.g)},tn.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=wf(a),a=h);u.i.push(new KR(u.Ya++,a)),u.G==3&&Tl(u)},tn.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,tn.aa.N.call(this)};function Vy(a){If.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){t:{for(let h in u){a=h;break t}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}k(Vy,If);function jy(){Ef.call(this),this.status=1}k(jy,Ef);function oo(a){this.g=a}k(oo,Ly),oo.prototype.ua=function(){Le(this.g,"a")},oo.prototype.ta=function(a){Le(this.g,new Vy(a))},oo.prototype.sa=function(a){Le(this.g,new jy)},oo.prototype.ra=function(){Le(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Dg=bi.createWebChannelTransport=function(){return new Al},Rg=bi.getStatEventTarget=function(){return pl()},Sg=bi.Event=mr,lu=bi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gl.NO_ERROR=0,gl.TIMEOUT=8,gl.HTTP_ERROR=6,hc=bi.ErrorCode=gl,ey.COMPLETE="complete",Ag=bi.EventType=ey,Qv.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",De.prototype.listen=De.prototype.K,zo=bi.WebChannel=Qv,Cg=bi.FetchXmlHttpFactory=ia,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,Tg=bi.XhrIo=Wt}).apply(typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{});var kI="@firebase/firestore";var ye=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ye.UNAUTHENTICATED=new ye(null),ye.GOOGLE_CREDENTIALS=new ye("google-credentials-uid"),ye.FIRST_PARTY=new ye("first-party-uid"),ye.MOCK_USER=new ye("mock-user");var cs="10.12.1";var zr=new Qi("@firebase/firestore");function fc(){return zr.logLevel}function G(e,...t){if(zr.logLevel<=wt.DEBUG){let i=t.map(mb);zr.debug(`Firestore (${cs}): ${e}`,...i)}}function yi(e,...t){if(zr.logLevel<=wt.ERROR){let i=t.map(mb);zr.error(`Firestore (${cs}): ${e}`,...i)}}function Qo(e,...t){if(zr.logLevel<=wt.WARN){let i=t.map(mb);zr.warn(`Firestore (${cs}): ${e}`,...i)}}function mb(e){if(typeof e=="string")return e;try{return function(i){return JSON.stringify(i)}(e)}catch{return e}}function ot(e="Unexpected state"){let t=`FIRESTORE (${cs}) INTERNAL ASSERTION FAILED: `+e;throw yi(t),new Error(t)}function Ut(e,t){e||ot()}function ut(e,t){return e}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends qe{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cn=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var mu=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Ng=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ye.UNAUTHENTICATED))}shutdown(){}},Fg=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},Lg=class{constructor(t){this.t=t,this.currentUser=ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),o=new Cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cn,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;t.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cn)}},0),s()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==t?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ut(typeof n.accessToken=="string"),new mu(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return Ut(t===null||typeof t=="string"),new ye(t)}},Vg=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n,this.type="FirstParty",this.user=ye.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},jg=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n}getToken(){return Promise.resolve(new Vg(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ug=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Bg=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){let n=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ut(typeof i.token=="string"),this.R=i.token,new Ug(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function kF(e){let t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let n=0;n<e;n++)i[n]=Math.floor(256*Math.random());return i}var pu=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,n="";for(;n.length<20;){let r=kF(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=t.charAt(r[o]%t.length))}return n}};function Rt(e,t){return e<t?-1:e>t?1:0}function Xo(e,t,i){return e.length===t.length&&e.every((n,r)=>i(n,t[r]))}var Ce=class e{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let i=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*i));return new e(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var mt=class e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new e(t)}static min(){return new e(new Ce(0,0))}static max(){return new e(new Ce(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var gu=class e{constructor(t,i,n){i===void 0?i=0:i>t.length&&ot(),n===void 0?n=t.length-i:n>t.length-i&&ot(),this.segments=t,this.offset=i,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(n=>{i.push(n)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,n=this.limit();i<n;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let n=Math.min(t.length,i.length);for(let r=0;r<n;r++){let o=t.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<i.length?-1:t.length>i.length?1:0}},Ht=class e extends gu{construct(t,i,n){return new e(t,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let n of t){if(n.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new e(i)}static emptyPath(){return new e([])}},PF=/^[_a-zA-Z][_a-zA-Z0-9]*$/,dn=class e extends gu{construct(t,i,n){return new e(t,i,n)}static isValidIdentifier(t){return PF.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new e(["__name__"])}static fromServerFormat(t){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<t.length;){let c=t[r];if(c==="\\"){if(r+1===t.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(n+=c,r++):(o(),r++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)}static emptyPath(){return new e([])}};var X=class e{constructor(t){this.path=t}static fromPath(t){return new e(Ht.fromString(t))}static fromName(t){return new e(Ht.fromString(t).popFirst(5))}static empty(){return new e(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Ht.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new e(new Ht(t.slice()))}};var zg=class{constructor(t,i,n,r){this.indexId=t,this.collectionGroup=i,this.fields=n,this.indexState=r}};zg.UNKNOWN_ID=-1;function OF(e,t){let i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=mt.fromTimestamp(n===1e9?new Ce(i+1,0):new Ce(i,n));return new $r(r,X.empty(),t)}function MF(e){return new $r(e.readTime,e.key,-1)}var $r=class e{constructor(t,i,n){this.readTime=t,this.documentKey=i,this.largestBatchId=n}static min(){return new e(mt.min(),X.empty(),-1)}static max(){return new e(mt.max(),X.empty(),-1)}};function NF(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=X.comparator(e.documentKey,t.documentKey),i!==0?i:Rt(e.largestBatchId,t.largestBatchId))}var FF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$g=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Mc(e){return b(this,null,function*(){if(e.code!==P.FAILED_PRECONDITION||e.message!==FF)throw e;G("LocalStore","Unexpectedly lost primary lease")})}var V=class e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new e((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{let i=t();return i instanceof e?i:e.resolve(i)}catch(i){return e.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):e.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):e.reject(i)}static resolve(t){return new e((i,n)=>{i(t)})}static reject(t){return new e((i,n)=>{n(t)})}static waitFor(t){return new e((i,n)=>{let r=0,o=0,s=!1;t.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&i()},l=>n(l))}),s=!0,o===r&&i()})}static or(t){let i=e.resolve(!1);for(let n of t)i=i.next(r=>r?e.resolve(r):n());return i}static forEach(t,i){let n=[];return t.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(t,i){return new e((n,r)=>{let o=t.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let d=l;i(t[d]).next(f=>{s[d]=f,++c,c===o&&n(s)},f=>r(f))}})}static doWhile(t,i){return new e((n,r)=>{let o=()=>{t()===!0?i().next(()=>{o()},r):n()};o()})}};function LF(e){let t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nc(e){return e.name==="IndexedDbTransactionError"}var cE=(()=>{class e{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return e.oe=-1,e})();function Wu(e){return e==null}function bc(e){return e===0&&1/e==-1/0}function VF(e){return typeof e=="number"&&Number.isInteger(e)&&!bc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var jF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],y3=[...jF,"documentOverlays"],UF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BF=UF,w3=[...BF,"indexConfiguration","indexState","indexEntries"];function PI(e){let t=0;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Yr(e,t){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function lE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ne=class e{constructor(t,i){this.comparator=t,this.root=i||Wn.EMPTY}insert(t,i){return new e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Wn.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(t,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(t){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,n)=>(t(i,n),!1))}toString(){let t=[];return this.inorderTraversal((i,n)=>(t.push(`${i}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Go(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Go(this.root,t,this.comparator,!1)}getReverseIterator(){return new Go(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Go(this.root,t,this.comparator,!0)}},Go=class{constructor(t,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?n(t.key,i):1,i&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Wn=class e{constructor(t,i,n,r,o){this.key=t,this.value=i,this.color=n??e.RED,this.left=r??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,n,r,o){return new e(t??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let n,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();let t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}};Wn.EMPTY=null,Wn.RED=!0,Wn.BLACK=!1;Wn.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,i,n,r,o){return this}insert(t,i,n){return new Wn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Me=class e{constructor(t){this.comparator=t,this.data=new ne(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,n)=>(t(i),!1))}forEachInRange(t,i){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _u(this.data.getIterator())}getIteratorFrom(t){return new _u(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(n=>{i=i.add(n)}),i}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.data.getIterator(),n=t.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new e(this.comparator);return i.data=t,i}},_u=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var bn=class e{constructor(t){this.fields=t,t.sort(dn.comparator)}static empty(){return new e([])}unionWith(t){let i=new Me(dn.comparator);for(let n of this.fields)i=i.add(n);for(let n of t)i=i.add(n);return new e(i.toArray())}covers(t){for(let i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xo(this.fields,t.fields,(i,n)=>i.isEqual(n))}};var bu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ge=class e{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new bu("Invalid base64 string: "+o):o}}(t);return new e(i)}static fromUint8Array(t){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Ge.EMPTY_BYTE_STRING=new Ge("");var zF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(e){if(Ut(!!e),typeof e=="string"){let t=0,i=zF.exec(e);if(Ut(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ee(e.seconds),nanos:ee(e.nanos)}}function ee(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function nr(e){return typeof e=="string"?Ge.fromBase64String(e):Ge.fromUint8Array(e)}function Ku(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function pb(e){let t=e.mapValue.fields.__previous_value__;return Ku(t)?pb(t):t}function vc(e){let t=wi(e.mapValue.fields.__local_write_time__.timestampValue);return new Ce(t.seconds,t.nanos)}var qg=class{constructor(t,i,n,r,o,s,c,l,d){this.databaseId=t,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},vu=class e{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new e("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};var du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ku(e)?4:dE(e)?9007199254740991:10:ot()}function Qn(e,t){if(e===t)return!0;let i=qr(e);if(i!==qr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vc(e).isEqual(vc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=wi(r.timestampValue),c=wi(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return nr(r.bytesValue).isEqual(nr(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return ee(r.geoPointValue.latitude)===ee(o.geoPointValue.latitude)&&ee(r.geoPointValue.longitude)===ee(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return ee(r.integerValue)===ee(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=ee(r.doubleValue),c=ee(o.doubleValue);return s===c?bc(s)===bc(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return Xo(e.arrayValue.values||[],t.arrayValue.values||[],Qn);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(PI(s)!==PI(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!Qn(s[l],c[l])))return!1;return!0}(e,t);default:return ot()}}function yc(e,t){return(e.values||[]).find(i=>Qn(i,t))!==void 0}function Zo(e,t){if(e===t)return 0;let i=qr(e),n=qr(t);if(i!==n)return Rt(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(e.booleanValue,t.booleanValue);case 2:return function(o,s){let c=ee(o.integerValue||o.doubleValue),l=ee(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return OI(e.timestampValue,t.timestampValue);case 4:return OI(vc(e),vc(t));case 5:return Rt(e.stringValue,t.stringValue);case 6:return function(o,s){let c=nr(o),l=nr(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=Rt(c[d],l[d]);if(f!==0)return f}return Rt(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){let c=Rt(ee(o.latitude),ee(s.latitude));return c!==0?c:Rt(ee(o.longitude),ee(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){let c=o.values||[],l=s.values||[];for(let d=0;d<c.length&&d<l.length;++d){let f=Zo(c[d],l[d]);if(f)return f}return Rt(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===du.mapValue&&s===du.mapValue)return 0;if(o===du.mapValue)return 1;if(s===du.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let g=Rt(l[p],f[p]);if(g!==0)return g;let w=Zo(c[l[p]],d[f[p]]);if(w!==0)return w}return Rt(l.length,f.length)}(e.mapValue,t.mapValue);default:throw ot()}}function OI(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Rt(e,t);let i=wi(e),n=wi(t),r=Rt(i.seconds,n.seconds);return r!==0?r:Rt(i.nanos,n.nanos)}function Jo(e){return Hg(e)}function Hg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){let n=wi(i);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return nr(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return X.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=Hg(o);return n+"]"}(e.arrayValue):"mapValue"in e?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${Hg(i.fields[s])}`;return r+"}"}(e.mapValue):ot()}function yu(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Gg(e){return!!e&&"integerValue"in e}function gb(e){return!!e&&"arrayValue"in e}function MI(e){return!!e&&"nullValue"in e}function NI(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function hu(e){return!!e&&"mapValue"in e}function pc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return Yr(e.mapValue.fields,(i,n)=>t.mapValue.fields[i]=pc(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=pc(e.arrayValue.values[i]);return t}return Object.assign({},e)}function dE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var ln=class e{constructor(t){this.value=t}static empty(){return new e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let n=0;n<t.length-1;++n)if(i=(i.mapValue.fields||{})[t.get(n)],!hu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=pc(i)}setAll(t){let i=dn.emptyPath(),n={},r=[];t.forEach((s,c)=>{if(!i.isImmediateParentOf(c)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=c.popLast()}s?n[c.lastSegment()]=pc(s):r.push(c.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(t){let i=this.field(t.popLast());hu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Qn(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=i.mapValue.fields[t.get(n)];hu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,n){Yr(i,(r,o)=>t[r]=o);for(let r of n)delete t[r]}clone(){return new e(pc(this.value))}};function uE(e){let t=[];return Yr(e.fields,(i,n)=>{let r=new dn([i]);if(hu(n)){let o=uE(n.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new bn(t)}var An=class e{constructor(t,i,n,r,o,s,c){this.key=t,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(t){return new e(t,0,mt.min(),mt.min(),mt.min(),ln.empty(),0)}static newFoundDocument(t,i,n,r){return new e(t,1,i,mt.min(),n,r,0)}static newNoDocument(t,i){return new e(t,2,i,mt.min(),mt.min(),ln.empty(),0)}static newUnknownDocument(t,i){return new e(t,3,i,mt.min(),mt.min(),ln.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ir=class{constructor(t,i){this.position=t,this.inclusive=i}};function FI(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){let o=t[r],s=e.position[r];if(o.field.isKeyField()?n=X.comparator(X.fromName(s.referenceValue),i.key):n=Zo(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function LI(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Qn(e.position[i],t.position[i]))return!1;return!0}var Hr=class{constructor(t,i="asc"){this.field=t,this.dir=i}};function $F(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var wu=class{},he=class e extends wu{constructor(t,i,n){super(),this.field=t,this.op=i,this.value=n}static create(t,i,n){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,n):new Kg(t,i,n):i==="array-contains"?new Xg(t,n):i==="in"?new Zg(t,n):i==="not-in"?new Jg(t,n):i==="array-contains-any"?new t_(t,n):new e(t,i,n)}static createKeyFieldInFilter(t,i,n){return i==="in"?new Yg(t,n):new Qg(t,n)}matches(t){let i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Zo(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(Zo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Sn=class e extends wu{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new e(t,i)}matches(t){return hE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function hE(e){return e.op==="and"}function fE(e){return qF(e)&&hE(e)}function qF(e){for(let t of e.filters)if(t instanceof Sn)return!1;return!0}function Wg(e){if(e instanceof he)return e.field.canonicalString()+e.op.toString()+Jo(e.value);if(fE(e))return e.filters.map(t=>Wg(t)).join(",");{let t=e.filters.map(i=>Wg(i)).join(",");return`${e.op}(${t})`}}function mE(e,t){return e instanceof he?function(n,r){return r instanceof he&&n.op===r.op&&n.field.isEqual(r.field)&&Qn(n.value,r.value)}(e,t):e instanceof Sn?function(n,r){return r instanceof Sn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,c)=>o&&mE(s,r.filters[c]),!0):!1}(e,t):void ot()}function pE(e){return e instanceof he?function(i){return`${i.field.canonicalString()} ${i.op} ${Jo(i.value)}`}(e):e instanceof Sn?function(i){return i.op.toString()+" {"+i.getFilters().map(pE).join(" ,")+"}"}(e):"Filter"}var Kg=class extends he{constructor(t,i,n){super(t,i,n),this.key=X.fromName(n.referenceValue)}matches(t){let i=X.comparator(t.key,this.key);return this.matchesComparison(i)}},Yg=class extends he{constructor(t,i){super(t,"in",i),this.keys=gE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}},Qg=class extends he{constructor(t,i){super(t,"not-in",i),this.keys=gE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}};function gE(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>X.fromName(n.referenceValue))}var Xg=class extends he{constructor(t,i){super(t,"array-contains",i)}matches(t){let i=t.data.field(this.field);return gb(i)&&yc(i.arrayValue,this.value)}},Zg=class extends he{constructor(t,i){super(t,"in",i)}matches(t){let i=t.data.field(this.field);return i!==null&&yc(this.value.arrayValue,i)}},Jg=class extends he{constructor(t,i){super(t,"not-in",i)}matches(t){if(yc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=t.data.field(this.field);return i!==null&&!yc(this.value.arrayValue,i)}},t_=class extends he{constructor(t,i){super(t,"array-contains-any",i)}matches(t){let i=t.data.field(this.field);return!(!gb(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>yc(this.value.arrayValue,n))}};var e_=class{constructor(t,i=null,n=[],r=[],o=null,s=null,c=null){this.path=t,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function VI(e,t=null,i=[],n=[],r=null,o=null,s=null){return new e_(e,t,i,n,r,o,s)}function _b(e){let t=ut(e);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(n=>Wg(n)).join(","),i+="|ob:",i+=t.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Wu(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>Jo(n)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>Jo(n)).join(",")),t.ue=i}return t.ue}function bb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!$F(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!mE(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!LI(e.startAt,t.startAt)&&LI(e.endAt,t.endAt)}function n_(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var xi=class{constructor(t,i=null,n=[],r=[],o=null,s="F",c=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function HF(e,t,i,n,r,o,s,c){return new xi(e,t,i,n,r,o,s,c)}function Yu(e){return new xi(e)}function jI(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function vb(e){return e.collectionGroup!==null}function Wo(e){let t=ut(e);if(t.ce===null){t.ce=[];let i=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Me(dn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Hr(o,n))}),i.has(dn.keyField().canonicalString())||t.ce.push(new Hr(dn.keyField(),n))}return t.ce}function Kn(e){let t=ut(e);return t.le||(t.le=GF(t,Wo(e))),t.le}function GF(e,t){if(e.limitType==="F")return VI(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Hr(r.field,o)});let i=e.endAt?new ir(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new ir(e.startAt.position,e.startAt.inclusive):null;return VI(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}function i_(e,t){let i=e.filters.concat([t]);return new xi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function xu(e,t,i){return new xi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Qu(e,t){return bb(Kn(e),Kn(t))&&e.limitType===t.limitType}function _E(e){return`${_b(Kn(e))}|lt:${e.limitType}`}function $o(e){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>pE(r)).join(", ")}]`),Wu(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>Jo(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>Jo(r)).join(",")),`Target(${n})`}(Kn(e))}; limitType=${e.limitType})`}function Xu(e,t){return t.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):X.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(let o of Wo(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,c,l){let d=FI(s,c,l);return s.inclusive?d<=0:d<0}(n.startAt,Wo(n),r)||n.endAt&&!function(s,c,l){let d=FI(s,c,l);return s.inclusive?d>=0:d>0}(n.endAt,Wo(n),r))}(e,t)}function WF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bE(e){return(t,i)=>{let n=!1;for(let r of Wo(e)){let o=KF(r,t,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function KF(e,t,i){let n=e.field.isKeyField()?X.comparator(t.key,i.key):function(o,s,c){let l=s.data.field(o),d=c.data.field(o);return l!==null&&d!==null?Zo(l,d):ot()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ot()}}var rr=class{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,(i,n)=>{for(let[r,o]of n)t(r,o)})}isEmpty(){return lE(this.inner)}size(){return this.innerSize}};var YF=new ne(X.comparator);function Ii(){return YF}var vE=new ne(X.comparator);function mc(...e){let t=vE;for(let i of e)t=t.insert(i.key,i);return t}function yE(e){let t=vE;return e.forEach((i,n)=>t=t.insert(i,n.overlayedDocument)),t}function jr(){return gc()}function wE(){return gc()}function gc(){return new rr(e=>e.toString(),(e,t)=>e.isEqual(t))}var QF=new ne(X.comparator),XF=new Me(X.comparator);function xt(...e){let t=XF;for(let i of e)t=t.add(i);return t}var ZF=new Me(Rt);function JF(){return ZF}function xE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(t)?"-0":t}}function IE(e){return{integerValue:""+e}}function tL(e,t){return VF(t)?IE(t):xE(e,t)}var ts=class{constructor(){this._=void 0}};function eL(e,t,i){return e instanceof es?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Ku(o)&&(o=pb(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,t):e instanceof Gr?TE(e,t):e instanceof Wr?CE(e,t):function(r,o){let s=EE(r,o),c=UI(s)+UI(r.Pe);return Gg(s)&&Gg(r.Pe)?IE(c):xE(r.serializer,c)}(e,t)}function nL(e,t,i){return e instanceof Gr?TE(e,t):e instanceof Wr?CE(e,t):i}function EE(e,t){return e instanceof ns?function(n){return Gg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(t)?t:{integerValue:0}:null}var es=class extends ts{},Gr=class extends ts{constructor(t){super(),this.elements=t}};function TE(e,t){let i=AE(t);for(let n of e.elements)i.some(r=>Qn(r,n))||i.push(n);return{arrayValue:{values:i}}}var Wr=class extends ts{constructor(t){super(),this.elements=t}};function CE(e,t){let i=AE(t);for(let n of e.elements)i=i.filter(r=>!Qn(r,n));return{arrayValue:{values:i}}}var ns=class extends ts{constructor(t,i){super(),this.serializer=t,this.Pe=i}};function UI(e){return ee(e.integerValue||e.doubleValue)}function AE(e){return gb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function iL(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Gr&&r instanceof Gr||n instanceof Wr&&r instanceof Wr?Xo(n.elements,r.elements,Qn):n instanceof ns&&r instanceof ns?Qn(n.Pe,r.Pe):n instanceof es&&r instanceof es}(e.transform,t.transform)}var r_=class{constructor(t,i){this.version=t,this.transformResults=i}},vi=class e{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function fu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var is=class{};function SE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new wc(e.key,vi.none()):new Kr(e.key,e.data,vi.none());{let i=e.data,n=ln.empty(),r=new Me(dn.comparator);for(let o of t.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new Xn(e.key,n,new bn(r.toArray()),vi.none())}}function rL(e,t,i){e instanceof Kr?function(r,o,s){let c=r.value.clone(),l=zI(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,i):e instanceof Xn?function(r,o,s){if(!fu(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=zI(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(RE(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,i)}function _c(e,t,i,n){return e instanceof Kr?function(o,s,c,l){if(!fu(o.precondition,s))return c;let d=o.value.clone(),f=$I(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(e,t,i,n):e instanceof Xn?function(o,s,c,l){if(!fu(o.precondition,s))return c;let d=$I(o.fieldTransforms,l,s),f=s.data;return f.setAll(RE(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(e,t,i,n):function(o,s,c){return fu(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(e,t,i)}function oL(e,t){let i=null;for(let n of e.fieldTransforms){let r=t.data.field(n.field),o=EE(n.transform,r||null);o!=null&&(i===null&&(i=ln.empty()),i.set(n.field,o))}return i||null}function BI(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Xo(n,r,(o,s)=>iL(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Kr=class extends is{constructor(t,i,n,r=[]){super(),this.key=t,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Xn=class extends is{constructor(t,i,n,r,o=[]){super(),this.key=t,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function RE(e){let t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=e.data.field(i);t.set(i,n)}}),t}function zI(e,t,i){let n=new Map;Ut(e.length===i.length);for(let r=0;r<i.length;r++){let o=e[r],s=o.transform,c=t.data.field(o.field);n.set(o.field,nL(s,c,i[r]))}return n}function $I(e,t,i){let n=new Map;for(let r of e){let o=r.transform,s=i.data.field(r.field);n.set(r.field,eL(o,s,t))}return n}var wc=class extends is{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},o_=class extends is{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var s_=class{constructor(t,i,n,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&rL(o,t,n[r])}}applyToLocalView(t,i){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(i=_c(n,t,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(i=_c(n,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){let n=wE();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=i.has(r.key)?null:c;let l=SE(s,c);l!==null&&n.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(mt.min())}),n}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),xt())}isEqual(t){return this.batchId===t.batchId&&Xo(this.mutations,t.mutations,(i,n)=>BI(i,n))&&Xo(this.baseMutations,t.baseMutations,(i,n)=>BI(i,n))}},a_=class e{constructor(t,i,n,r){this.batch=t,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(t,i,n){Ut(t.mutations.length===n.length);let r=function(){return QF}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new e(t,i,n,r)}};var c_=class{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var l_=class{constructor(t,i){this.count=t,this.unchangedNames=i}};var de,It;function sL(e){switch(e){default:return ot();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function DE(e){if(e===void 0)return yi("GRPC error has no .code"),P.UNKNOWN;switch(e){case de.OK:return P.OK;case de.CANCELLED:return P.CANCELLED;case de.UNKNOWN:return P.UNKNOWN;case de.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case de.INTERNAL:return P.INTERNAL;case de.UNAVAILABLE:return P.UNAVAILABLE;case de.UNAUTHENTICATED:return P.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case de.NOT_FOUND:return P.NOT_FOUND;case de.ALREADY_EXISTS:return P.ALREADY_EXISTS;case de.PERMISSION_DENIED:return P.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case de.ABORTED:return P.ABORTED;case de.OUT_OF_RANGE:return P.OUT_OF_RANGE;case de.UNIMPLEMENTED:return P.UNIMPLEMENTED;case de.DATA_LOSS:return P.DATA_LOSS;default:return ot()}}(It=de||(de={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";var qI=null;function aL(){return new TextEncoder}var cL=new tr([4294967295,4294967295],0);function HI(e){let t=aL().encode(e),i=new Eg;return i.update(t),new Uint8Array(i.digest())}function GI(e){let t=new DataView(e.buffer),i=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new tr([i,n],0),new tr([r,o],0)]}var d_=class e{constructor(t,i,n){if(this.bitmap=t,this.padding=i,this.hashCount=n,i<0||i>=8)throw new Ur(`Invalid padding: ${i}`);if(n<0)throw new Ur(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Ur(`Invalid hash count: ${n}`);if(t.length===0&&i!==0)throw new Ur(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=tr.fromNumber(this.Ie)}Ee(t,i,n){let r=t.add(i.multiply(tr.fromNumber(n)));return r.compare(cL)===1&&(r=new tr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let i=HI(t),[n,r]=GI(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);if(!this.de(s))return!1}return!0}static create(t,i,n){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new e(o,r,i);return n.forEach(c=>s.insert(c)),s}insert(t){if(this.Ie===0)return;let i=HI(t),[n,r]=GI(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);this.Ae(s)}}Ae(t){let i=Math.floor(t/8),n=t%8;this.bitmap[i]|=1<<n}},Ur=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Iu=class e{constructor(t,i,n,r,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,n){let r=new Map;return r.set(t,xc.createSynthesizedTargetChangeForCurrentChange(t,i,n)),new e(mt.min(),r,new ne(Rt),Ii(),xt())}},xc=class e{constructor(t,i,n,r,o){this.resumeToken=t,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,n){return new e(n,i,xt(),xt(),xt())}};var Ko=class{constructor(t,i,n,r){this.Re=t,this.removedTargetIds=i,this.key=n,this.Ve=r}},Eu=class{constructor(t,i){this.targetId=t,this.me=i}},Tu=class{constructor(t,i,n=Ge.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=n,this.cause=r}},Cu=class{constructor(){this.fe=0,this.ge=KI(),this.pe=Ge.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=xt(),i=xt(),n=xt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:ot()}}),new xc(this.pe,this.ye,t,i,n)}ve(){this.we=!1,this.ge=KI()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ut(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},u_=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ii(),this.qe=WI(),this.Qe=new ne(Rt)}Ke(t){for(let i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(let i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{let n=this.Ge(i);switch(t.state){case 0:this.ze(i)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(t.resumeToken));break;default:ot()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(t){let i=t.targetId,n=t.me.count,r=this.Je(i);if(r){let o=r.target;if(n_(o))if(n===0){let s=new X(o.path);this.Ue(i,s,An.newNoDocument(s,mt.min()))}else Ut(n===1);else{let s=this.Ye(i);if(s!==n){let c=this.Ze(t),l=c?this.Xe(c,t,s):1;if(l!==0){this.je(i);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,d)}qI?.et(function(f,p,g,w,k){var M,D,z,Y,et,ht;let qt={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Z=p.unchangedNames;return Z&&(qt.bloomFilter={applied:k===0,hashCount:(M=Z?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Y=(z=(D=Z?.bits)===null||D===void 0?void 0:D.bitmap)===null||z===void 0?void 0:z.length)!==null&&Y!==void 0?Y:0,padding:(ht=(et=Z?.bits)===null||et===void 0?void 0:et.padding)!==null&&ht!==void 0?ht:0,mightContain:x=>{var _;return(_=w?.mightContain(x))!==null&&_!==void 0&&_}}),qt}(s,t.me,this.Le.tt(),c,l))}}}}Ze(t){let i=t.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,c;try{s=nr(n).toUint8Array()}catch(l){if(l instanceof bu)return Qo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new d_(s,r,o)}catch(l){return Qo(l instanceof Ur?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,i,n){return i.me.count===n-this.nt(t,i.targetId)?0:2}nt(t,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(i,o,null),r++)}),r}rt(t){let i=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&n_(c.target)){let l=new X(c.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,An.newNoDocument(l,t))}o.be&&(i.set(s,o.Ce()),o.ve())}});let n=xt();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new Iu(t,i,this.Qe,this.ke,n);return this.ke=Ii(),this.qe=WI(),this.Qe=new ne(Rt),r}$e(t,i){if(!this.ze(t))return;let n=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,n){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(t){this.Be.delete(t)}Ye(t){let i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Cu,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Me(Rt),this.qe=this.qe.insert(t,i)),i}ze(t){let i=this.Je(t)!==null;return i||G("WatchChangeAggregator","Detected inactive target",t),i}Je(t){let i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Cu),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}};function WI(){return new ne(X.comparator)}function KI(){return new ne(X.comparator)}var lL={asc:"ASCENDING",desc:"DESCENDING"},dL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uL={and:"AND",or:"OR"},h_=class{constructor(t,i){this.databaseId=t,this.useProto3Json=i}};function f_(e,t){return e.useProto3Json||Wu(t)?t:{value:t}}function Au(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hL(e,t){return Au(e,t.toTimestamp())}function Yn(e){return Ut(!!e),mt.fromTimestamp(function(i){let n=wi(i);return new Ce(n.seconds,n.nanos)}(e))}function yb(e,t){return m_(e,t).canonicalString()}function m_(e,t){let i=function(r){return new Ht(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?i:i.child(t)}function PE(e){let t=Ht.fromString(e);return Ut(LE(t)),t}function p_(e,t){return yb(e.databaseId,t.path)}function kg(e,t){let i=PE(t);if(i.get(1)!==e.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new X(ME(i))}function OE(e,t){return yb(e.databaseId,t)}function fL(e){let t=PE(e);return t.length===4?Ht.emptyPath():ME(t)}function g_(e){return new Ht(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function ME(e){return Ut(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function YI(e,t,i){return{name:p_(e,t),fields:i.value.mapValue.fields}}function mL(e,t){let i;if("targetChange"in t){t.targetChange;let n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(Ut(f===void 0||typeof f=="string"),Ge.fromBase64String(f||"")):(Ut(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ge.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,c=s&&function(d){let f=d.code===void 0?P.UNKNOWN:DE(d.code);return new B(f,d.message||"")}(s);i=new Tu(n,r,o,c||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=kg(e,n.document.name),o=Yn(n.document.updateTime),s=n.document.createTime?Yn(n.document.createTime):mt.min(),c=new ln({mapValue:{fields:n.document.fields}}),l=An.newFoundDocument(r,o,s,c),d=n.targetIds||[],f=n.removedTargetIds||[];i=new Ko(d,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=kg(e,n.document),o=n.readTime?Yn(n.readTime):mt.min(),s=An.newNoDocument(r,o),c=n.removedTargetIds||[];i=new Ko([],c,s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=kg(e,n.document),o=n.removedTargetIds||[];i=new Ko([],o,r,null)}else{if(!("filter"in t))return ot();{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new l_(r,o),c=n.targetId;i=new Eu(c,s)}}return i}function pL(e,t){let i;if(t instanceof Kr)i={update:YI(e,t.key,t.value)};else if(t instanceof wc)i={delete:p_(e,t.key)};else if(t instanceof Xn)i={update:YI(e,t.key,t.data),updateMask:EL(t.fieldMask)};else{if(!(t instanceof o_))return ot();i={verify:p_(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(n=>function(o,s){let c=s.transform;if(c instanceof es)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Gr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Wr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ns)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ot()}(0,n))),t.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:hL(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ot()}(e,t.precondition)),i}function gL(e,t){return e&&e.length>0?(Ut(t!==void 0),e.map(i=>function(r,o){let s=r.updateTime?Yn(r.updateTime):Yn(o);return s.isEqual(mt.min())&&(s=Yn(o)),new r_(s,r.transformResults||[])}(i,t))):[]}function _L(e,t){return{documents:[OE(e,t.path)]}}function bL(e,t){let i={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=OE(e,r);let o=function(d){if(d.length!==0)return FE(Sn.create(d,"and"))}(t.filters);o&&(i.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:qo(g.field),direction:wL(g.dir)}}(f))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);let c=f_(e,t.limit);return c!==null&&(i.structuredQuery.limit=c),t.startAt&&(i.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{_t:i,parent:r}}function vL(e){let t=fL(e.parent),i=e.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){Ut(n===1);let f=i.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let o=[];i.where&&(o=function(p){let g=NE(p);return g instanceof Sn&&fE(g)?g.getFilters():[g]}(i.where));let s=[];i.orderBy&&(s=function(p){return p.map(g=>function(k){return new Hr(Ho(k.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(i.orderBy));let c=null;i.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Wu(g)?null:g}(i.limit));let l=null;i.startAt&&(l=function(p){let g=!!p.before,w=p.values||[];return new ir(w,g)}(i.startAt));let d=null;return i.endAt&&(d=function(p){let g=!p.before,w=p.values||[];return new ir(w,g)}(i.endAt)),HF(t,r,s,o,c,"F",l,d)}function yL(e,t){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function NE(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=Ho(i.unaryFilter.field);return he.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Ho(i.unaryFilter.field);return he.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ho(i.unaryFilter.field);return he.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ho(i.unaryFilter.field);return he.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(e):e.fieldFilter!==void 0?function(i){return he.create(Ho(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return Sn.create(i.compositeFilter.filters.map(n=>NE(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ot()}}(i.compositeFilter.op))}(e):ot()}function wL(e){return lL[e]}function xL(e){return dL[e]}function IL(e){return uL[e]}function qo(e){return{fieldPath:e.canonicalString()}}function Ho(e){return dn.fromServerFormat(e.fieldPath)}function FE(e){return e instanceof he?function(i){if(i.op==="=="){if(NI(i.value))return{unaryFilter:{field:qo(i.field),op:"IS_NAN"}};if(MI(i.value))return{unaryFilter:{field:qo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(NI(i.value))return{unaryFilter:{field:qo(i.field),op:"IS_NOT_NAN"}};if(MI(i.value))return{unaryFilter:{field:qo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qo(i.field),op:xL(i.op),value:i.value}}}(e):e instanceof Sn?function(i){let n=i.getFilters().map(r=>FE(r));return n.length===1?n[0]:{compositeFilter:{op:IL(i.op),filters:n}}}(e):ot()}function EL(e){let t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function LE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}var Ic=class e{constructor(t,i,n,r,o=mt.min(),s=mt.min(),c=Ge.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var __=class{constructor(t){this.ct=t}};function TL(e){let t=vL({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?xu(t,t.limit,"L"):t}var Su=class{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(ee(t.integerValue));else if("doubleValue"in t){let n=ee(t.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),bc(n)?i.dt(0):i.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(i,20),typeof n=="string"&&(n=wi(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(nr(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){let n=t.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in t?dE(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):ot()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){let n=t.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(t,i){let n=t.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(t,i){this.Et(i,37),X.fromName(t).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}};Su.bt=new Su;var b_=class{constructor(){this._n=new v_}addToCollectionParentIndex(t,i){return this._n.add(i),V.resolve()}getCollectionParents(t,i){return V.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return V.resolve()}deleteFieldIndex(t,i){return V.resolve()}deleteAllFieldIndexes(t){return V.resolve()}createTargetIndexes(t,i){return V.resolve()}getDocumentsMatchingTarget(t,i){return V.resolve(null)}getIndexType(t,i){return V.resolve(0)}getFieldIndexes(t,i){return V.resolve([])}getNextCollectionGroupToUpdate(t){return V.resolve(null)}getMinOffset(t,i){return V.resolve($r.min())}getMinOffsetFromCollectionGroup(t,i){return V.resolve($r.min())}updateCollectionGroup(t,i,n){return V.resolve()}updateIndexEntries(t,i){return V.resolve()}},v_=class{constructor(){this.index={}}add(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i]||new Me(Ht.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Me(Ht.comparator)).toArray()}};var I3=new Uint8Array(0);var Gn=class e{constructor(t,i,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(41943040,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);var Ec=class e{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new e(0)}static Ln(){return new e(-1)}};var y_=class{constructor(){this.changes=new rr(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,An.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?V.resolve(n):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var w_=class{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}};var x_=class{constructor(t,i,n,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,i){let n=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(n!==null&&_c(n.mutation,r,bn.empty(),Ce.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.getLocalViewOfDocuments(t,n,xt()).next(()=>n))}getLocalViewOfDocuments(t,i,n=xt()){let r=jr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,n).next(o=>{let s=mc();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,i){let n=jr();return this.populateOverlays(t,n,i).next(()=>this.computeViews(t,i,n,xt()))}populateOverlays(t,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,c)=>{i.set(s,c)})})}computeViews(t,i,n,r){let o=Ii(),s=gc(),c=function(){return gc()}();return i.forEach((l,d)=>{let f=n.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Xn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),_c(f.mutation,d,f.mutation.getFieldMask(),Ce.now())):s.set(d.key,bn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),i.forEach((d,f)=>{var p;return c.set(d,new w_(f,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,i){let n=gc(),r=new ne((s,c)=>s-c),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(s=>{for(let c of s)c.keys().forEach(l=>{let d=i.get(l);if(d===null)return;let f=n.get(l)||bn.empty();f=c.applyToLocalView(d,f),n.set(l,f);let p=(r.get(c.batchId)||xt()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=wE();f.forEach(g=>{if(!o.has(g)){let w=SE(i.get(g),n.get(g));w!==null&&p.set(g,w),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,d,p))}return V.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,i,n,r){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):vb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,n,r):this.getDocumentsMatchingCollectionQuery(t,i,n,r)}getNextDocuments(t,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,n.largestBatchId,r-o.size):V.resolve(jr()),c=-1,l=o;return s.next(d=>V.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?V.resolve():this.remoteDocumentCache.getEntry(t,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,l,d,xt())).next(f=>({batchId:c,changes:yE(f)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new X(i)).next(n=>{let r=mc();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,n,r){let o=i.collectionGroup,s=mc();return this.indexManager.getCollectionParents(t,o).next(c=>V.forEach(c,l=>{let d=function(p,g){return new xi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,n,r).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,n,o,r))).next(s=>{o.forEach((l,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,An.newInvalidDocument(f)))});let c=mc();return s.forEach((l,d)=>{let f=o.get(l);f!==void 0&&_c(f.mutation,d,bn.empty(),Ce.now()),Xu(i,d)&&(c=c.insert(l,d))}),c})}};var I_=class{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return V.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Yn(r.createTime)}}(i)),V.resolve()}getNamedQuery(t,i){return V.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,function(r){return{name:r.name,query:TL(r.bundledQuery),readTime:Yn(r.readTime)}}(i)),V.resolve()}};var E_=class{constructor(){this.overlays=new ne(X.comparator),this.hr=new Map}getOverlay(t,i){return V.resolve(this.overlays.get(i))}getOverlays(t,i){let n=jr();return V.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(t,i,n){return n.forEach((r,o)=>{this.ht(t,i,o)}),V.resolve()}removeOverlaysForBatchId(t,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),V.resolve()}getOverlaysForCollection(t,i,n){let r=jr(),o=i.length+1,s=new X(i.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!i.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return V.resolve(r)}getOverlaysForCollectionGroup(t,i,n,r){let o=new ne((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===i&&d.largestBatchId>n){let f=o.get(d.largestBatchId);f===null&&(f=jr(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=jr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return V.resolve(c)}ht(t,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new c_(i,n));let o=this.hr.get(i);o===void 0&&(o=xt(),this.hr.set(i,o)),this.hr.set(i,o.add(n.key))}};var Tc=class{constructor(){this.Pr=new Me(ue.Ir),this.Tr=new Me(ue.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){let n=new ue(t,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,i){t.forEach(n=>this.addReference(n,i))}removeReference(t,i){this.Ar(new ue(t,i))}Rr(t,i){t.forEach(n=>this.removeReference(n,i))}Vr(t){let i=new X(new Ht([])),n=new ue(i,t),r=new ue(i,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){let i=new X(new Ht([])),n=new ue(i,t),r=new ue(i,t+1),o=xt();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){let i=new ue(t,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&t.isEqual(n.key)}},ue=class{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return X.comparator(t.key,i.key)||Rt(t.pr,i.pr)}static Er(t,i){return Rt(t.pr,i.pr)||X.comparator(t.key,i.key)}};var T_=class{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Me(ue.Ir)}checkEmpty(t){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,n,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new s_(o,i,n,r);this.mutationQueue.push(s);for(let c of r)this.wr=this.wr.add(new ue(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return V.resolve(s)}lookupMutationBatch(t,i){return V.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){let n=i+1,r=this.br(n),o=r<0?0:r;return V.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){let n=new ue(i,0),r=new ue(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{let c=this.Sr(s.pr);o.push(c)}),V.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new Me(Rt);return i.forEach(r=>{let o=new ue(r,0),s=new ue(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],c=>{n=n.add(c.pr)})}),V.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,i){let n=i.path,r=n.length+1,o=n;X.isDocumentKey(o)||(o=o.child(""));let s=new ue(new X(o),0),c=new Me(Rt);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!n.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.pr)),!0)},s),V.resolve(this.Dr(c))}Dr(t){let i=[];return t.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(t,i){Ut(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return V.forEach(i.mutations,r=>{let o=new ue(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,i){let n=new ue(i,0),r=this.wr.firstAfterOrEqual(n);return V.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,V.resolve()}Cr(t,i){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){let i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var C_=class{constructor(t){this.vr=t,this.docs=function(){return new ne(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){let n=this.docs.get(i);return V.resolve(n?n.document.mutableCopy():An.newInvalidDocument(i))}getEntries(t,i){let n=Ii();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():An.newInvalidDocument(r))}),V.resolve(n)}getDocumentsMatchingQuery(t,i,n,r){let o=Ii(),s=i.path,c=new X(s.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||NF(MF(f),n)<=0||(r.has(f.key)||Xu(i,f))&&(o=o.insert(f.key,f.mutableCopy()))}return V.resolve(o)}getAllFromCollectionGroup(t,i,n,r){ot()}Fr(t,i){return V.forEach(this.docs,n=>i(n))}newChangeBuffer(t){return new A_(this)}getSize(t){return V.resolve(this.size)}},A_=class extends y_{constructor(t){super(),this.ar=t}applyChanges(t){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),V.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}};var S_=class{constructor(t){this.persistence=t,this.Mr=new rr(i=>_b(i),bb),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Tc,this.targetCount=0,this.Lr=Ec.Nn()}forEachTarget(t,i){return this.Mr.forEach((n,r)=>i(r)),V.resolve()}getLastRemoteSnapshotVersion(t){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return V.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(t,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),V.resolve()}qn(t){this.Mr.set(t.target,t);let i=t.targetId;i>this.highestTargetId&&(this.Lr=new Ec(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,V.resolve()}updateTargetData(t,i){return this.qn(i),V.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,V.resolve()}removeTargets(t,i,n){let r=0,o=[];return this.Mr.forEach((s,c)=>{c.sequenceNumber<=i&&n.get(c.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),V.waitFor(o).next(()=>r)}getTargetCount(t){return V.resolve(this.targetCount)}getTargetData(t,i){let n=this.Mr.get(i)||null;return V.resolve(n)}addMatchingKeys(t,i,n){return this.Nr.dr(i,n),V.resolve()}removeMatchingKeys(t,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),V.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),V.resolve()}getMatchingKeysForTargetId(t,i){let n=this.Nr.gr(i);return V.resolve(n)}containsKey(t,i){return V.resolve(this.Nr.containsKey(i))}};var R_=class{constructor(t,i){this.Br={},this.overlays={},this.kr=new cE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new S_(this),this.indexManager=new b_,this.remoteDocumentCache=function(r){return new C_(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new __(i),this.$r=new I_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new E_,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let n=this.Br[t.toKey()];return n||(n=new T_(i,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,n){G("MemoryPersistence","Starting transaction:",t);let r=new D_(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,i){return V.or(Object.values(this.Br).map(n=>()=>n.containsKey(t,i)))}},D_=class extends $g{constructor(t){super(),this.currentSequenceNumber=t}},k_=class e{constructor(t){this.persistence=t,this.zr=new Tc,this.jr=null}static Hr(t){return new e(t)}get Jr(){if(this.jr)return this.jr;throw ot()}addReference(t,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),V.resolve()}removeReference(t,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),V.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),V.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,n=>{let r=X.fromPath(n);return this.Yr(t,r).next(o=>{o||i.removeEntry(r,mt.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return V.or([()=>V.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}};var P_=class e{constructor(t,i,n,r){this.targetId=t,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(t,i){let n=xt(),r=xt();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e(t,i.fromCache,n,r)}};var O_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var M_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return _x()?8:LF(pe())>0?6:4}()}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,n,r){let o={result:null};return this.ji(t,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new O_;return this.Ji(t,i,s).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,i,s,c.size)})}).next(()=>o.result)}Yi(t,i,n,r){return n.documentReadCount<this.Wi?(fc()<=wt.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",$o(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(fc()<=wt.DEBUG&&G("QueryEngine","Query:",$o(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(fc()<=wt.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",$o(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Kn(i))):V.resolve())}ji(t,i){if(jI(i))return V.resolve(null);let n=Kn(i);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=xu(i,null,"F"),n=Kn(i)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{let s=xt(...o);return this.zi.getDocuments(t,s).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{let d=this.Zi(i,c);return this.Xi(i,d,s,l.readTime)?this.ji(t,xu(i,null,"F")):this.es(t,d,i,l)}))})))}Hi(t,i,n,r){return jI(i)||r.isEqual(mt.min())?V.resolve(null):this.zi.getDocuments(t,n).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,n,r)?V.resolve(null):(fc()<=wt.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$o(i)),this.es(t,s,i,OF(r,-1)).next(c=>c))})}Zi(t,i){let n=new Me(bE(t));return i.forEach((r,o)=>{Xu(t,o)&&(n=n.add(o))}),n}Xi(t,i,n,r){if(t.limit===null)return!1;if(n.size!==i.size)return!0;let o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,i,n){return fc()<=wt.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",$o(i)),this.zi.getDocumentsMatchingQuery(t,i,$r.min(),n)}es(t,i,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var N_=class{constructor(t,i,n,r){this.persistence=t,this.ts=i,this.serializer=r,this.ns=new ne(Rt),this.rs=new rr(o=>_b(o),bb),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new x_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}};function CL(e,t,i,n){return new N_(e,t,i,n)}function VE(e,t){return b(this,null,function*(){let i=ut(e);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i._s(t),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],c=[],l=xt();for(let d of r){s.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return i.localDocuments.getDocuments(n,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:c}))})})})}function AL(e,t){let i=ut(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let p=d.batch,g=p.keys(),w=V.resolve();return g.forEach(k=>{w=w.next(()=>f.getEntry(l,k)).next(M=>{let D=d.docVersions.get(k);Ut(D!==null),M.version.compareTo(D)<0&&(p.applyToRemoteDocument(M,d),M.isValidDocument()&&(M.setReadTime(d.commitVersion),f.addEntry(M)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(i,n,t,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=xt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(t))).next(()=>i.localDocuments.getDocuments(n,r))})}function jE(e){let t=ut(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function SL(e,t){let i=ut(e),n=t.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let c=[];t.targetChanges.forEach((f,p)=>{let g=r.get(p);if(!g)return;c.push(i.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>i.Qr.addMatchingKeys(o,f.addedDocuments,p)));let w=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(p)!==null?w=w.withResumeToken(Ge.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):f.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(f.resumeToken,n)),r=r.insert(p,w),function(M,D,z){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(g,w,f)&&c.push(i.Qr.updateTargetData(o,w))});let l=Ii(),d=xt();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(RL(o,s,t.documentUpdates).next(f=>{l=f.cs,d=f.ls})),!n.isEqual(mt.min())){let f=i.Qr.getLastRemoteSnapshotVersion(o).next(p=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(f)}return V.waitFor(c).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(i.ns=r,o))}function RL(e,t,i){let n=xt(),r=xt();return i.forEach(o=>n=n.add(o)),t.getEntries(e,n).next(o=>{let s=Ii();return i.forEach((c,l)=>{let d=o.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(mt.min())?(t.removeEntry(c,l.readTime),s=s.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(l),s=s.insert(c,l)):G("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function DL(e,t){let i=ut(e);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function kL(e,t){let i=ut(e);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,t).next(o=>o?(r=o,V.resolve(r)):i.Qr.allocateTargetId(n).next(s=>(r=new Ic(t,s,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(t,n.targetId)),n})}function F_(e,t,i){return b(this,null,function*(){let n=ut(e),r=n.ns.get(t),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!Nc(s))throw s;G("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)})}function QI(e,t,i){let n=ut(e),r=mt.min(),o=xt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){let p=ut(l),g=p.rs.get(f);return g!==void 0?V.resolve(p.ns.get(g)):p.Qr.getTargetData(d,f)}(n,s,Kn(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,i?r:mt.min(),i?o:xt())).next(c=>(PL(n,WF(t),c),{documents:c,hs:o})))}function PL(e,t,i){let n=e.ss.get(t)||mt.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),e.ss.set(t,n)}var Ru=class{constructor(){this.activeTargetIds=JF()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var L_=class{constructor(){this.no=new Ru,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,n){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Ru,Promise.resolve()}handleUserChange(t,i,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var V_=class{io(t){}shutdown(){}};var Du=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.uo)t(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var uu=null;function Pg(){return uu===null?uu=function(){return 268435456+Math.round(2147483648*Math.random())}():uu++,"0x"+uu.toString(16)}var OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var j_=class{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}};var Oe="WebChannelConnection",U_=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,n,r,o,s){let c=Pg(),l=this.vo(i,n.toUriEncodedString());G("RestConnection",`Sending RPC '${i}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(i,l,d,r).then(f=>(G("RestConnection",`Received RPC '${i}' ${c}: `,f),f),f=>{throw Qo("RestConnection",`RPC '${i}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(i,n,r,o,s,c){return this.Co(i,n,r,o,s)}Fo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cs}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,n){let r=OL[i];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,n,r){let o=Pg();return new Promise((s,c)=>{let l=new Tg;l.setWithCredentials(!0),l.listenOnce(Ag.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hc.NO_ERROR:let f=l.getResponseJson();G(Oe,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),s(f);break;case hc.TIMEOUT:G(Oe,`RPC '${t}' ${o} timed out`),c(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:let p=l.getStatus();if(G(Oe,`RPC '${t}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let w=g?.error;if(w&&w.status&&w.message){let k=function(D){let z=D.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(z)>=0?z:P.UNKNOWN}(w.status);c(new B(k,w.message))}else c(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new B(P.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{G(Oe,`RPC '${t}' ${o} completed.`)}});let d=JSON.stringify(r);G(Oe,`RPC '${t}' ${o} sending request:`,r),l.send(i,"POST",d,n,15)})}Oo(t,i,n){let r=Pg(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Dg(),c=Rg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new Cg({})),this.Fo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let f=o.join("");G(Oe,`Creating RPC '${t}' stream ${r}: ${f}`,l);let p=s.createWebChannel(f,l),g=!1,w=!1,k=new j_({lo:D=>{w?G(Oe,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(g||(G(Oe,`Opening RPC '${t}' stream ${r} transport.`),p.open(),g=!0),G(Oe,`RPC '${t}' stream ${r} sending:`,D),p.send(D))},ho:()=>p.close()}),M=(D,z,Y)=>{D.listen(z,et=>{try{Y(et)}catch(ht){setTimeout(()=>{throw ht},0)}})};return M(p,zo.EventType.OPEN,()=>{w||(G(Oe,`RPC '${t}' stream ${r} transport opened.`),k.mo())}),M(p,zo.EventType.CLOSE,()=>{w||(w=!0,G(Oe,`RPC '${t}' stream ${r} transport closed`),k.po())}),M(p,zo.EventType.ERROR,D=>{w||(w=!0,Qo(Oe,`RPC '${t}' stream ${r} transport errored:`,D),k.po(new B(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,zo.EventType.MESSAGE,D=>{var z;if(!w){let Y=D.data[0];Ut(!!Y);let et=Y,ht=et.error||((z=et[0])===null||z===void 0?void 0:z.error);if(ht){G(Oe,`RPC '${t}' stream ${r} received error:`,ht);let qt=ht.status,Z=function(v){let I=de[v];if(I!==void 0)return DE(I)}(qt),x=ht.message;Z===void 0&&(Z=P.INTERNAL,x="Unknown error status: "+qt+" with message "+ht.message),w=!0,k.po(new B(Z,x)),p.close()}else G(Oe,`RPC '${t}' stream ${r} received:`,Y),k.yo(Y)}}),M(c,Sg.STAT_EVENT,D=>{D.stat===lu.PROXY?G(Oe,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===lu.NOPROXY&&G(Oe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}};function Og(){return typeof document<"u"?document:null}function Zu(e){return new h_(e,!0)}var ku=class{constructor(t,i,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=i,this.No=n,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();let i=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-n);r>0&&G("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Pu=class{constructor(t,i,n,r,o,s,c,l){this.oi=t,this.Go=n,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new ku(t,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return b(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){return b(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){return b(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():i&&i.code===P.RESOURCE_EXHAUSTED?(yi(i.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===i&&this.u_(n,r)},n=>{t(()=>{let r=new B(P.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(t,i){let n=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>b(this,null,function*(){this.state=0,this.start()}))}c_(t){return G("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},B_=class extends Pu{constructor(t,i,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();let i=mL(this.serializer,t),n=function(o){if(!("targetChange"in o))return mt.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?mt.min():s.readTime?Yn(s.readTime):mt.min()}(t);return this.listener.h_(i,n)}P_(t){let i={};i.database=g_(this.serializer),i.addTarget=function(o,s){let c,l=s.target;if(c=n_(l)?{documents:_L(o,l)}:{query:bL(o,l)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=kE(o,s.resumeToken);let d=f_(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(mt.min())>0){c.readTime=Au(o,s.snapshotVersion.toTimestamp());let d=f_(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);let n=yL(this.serializer,t);n&&(i.labels=n),this.i_(i)}I_(t){let i={};i.database=g_(this.serializer),i.removeTarget=t,this.i_(i)}},z_=class extends Pu{constructor(t,i,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();let i=gL(t.writeResults,t.commitTime),n=Yn(t.commitTime);return this.listener.A_(n,i)}return Ut(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let t={};t.database=g_(this.serializer),this.i_(t)}d_(t){let i={streamToken:this.lastStreamToken,writes:t.map(n=>pL(this.serializer,n))};this.i_(i)}};var $_=class extends class{}{constructor(t,i,n,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,m_(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}xo(t,i,n,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.xo(t,m_(i,n),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},q_=class{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(yi(i),this.y_=!1):G("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var H_=class{constructor(t,i,n,r,o){this.localStore=t,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{n.enqueueAndForget(()=>b(this,null,function*(){Qr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),yield function(l){return b(this,null,function*(){let d=ut(l);d.M_.add(4),yield Fc(d),d.N_.set("Unknown"),d.M_.delete(4),yield Ju(d)})}(this))}))}),this.N_=new q_(n,r)}};function Ju(e){return b(this,null,function*(){if(Qr(e))for(let t of e.x_)yield t(!0)})}function Fc(e){return b(this,null,function*(){for(let t of e.x_)yield t(!1)})}function UE(e,t){let i=ut(e);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),Eb(i)?Ib(i):ls(i).Xo()&&xb(i,t))}function wb(e,t){let i=ut(e),n=ls(i);i.F_.delete(t),n.Xo()&&BE(i,t),i.F_.size===0&&(n.Xo()?n.n_():Qr(i)&&i.N_.set("Unknown"))}function xb(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mt.min())>0){let i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ls(e).P_(t)}function BE(e,t){e.L_.xe(t),ls(e).I_(t)}function Ib(e){e.L_=new u_({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ls(e).start(),e.N_.w_()}function Eb(e){return Qr(e)&&!ls(e).Zo()&&e.F_.size>0}function Qr(e){return ut(e).M_.size===0}function zE(e){e.L_=void 0}function ML(e){return b(this,null,function*(){e.N_.set("Online")})}function NL(e){return b(this,null,function*(){e.F_.forEach((t,i)=>{xb(e,t)})})}function FL(e,t){return b(this,null,function*(){zE(e),Eb(e)?(e.N_.D_(t),Ib(e)):e.N_.set("Unknown")})}function LL(e,t,i){return b(this,null,function*(){if(e.N_.set("Online"),t instanceof Tu&&t.state===2&&t.cause)try{yield function(r,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.F_.delete(c),r.L_.removeTarget(c))})}(e,t)}catch(n){G("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield Ou(e,n)}else if(t instanceof Ko?e.L_.Ke(t):t instanceof Eu?e.L_.He(t):e.L_.We(t),!i.isEqual(mt.min()))try{let n=yield jE(e.localStore);i.compareTo(n)>=0&&(yield function(o,s){let c=o.L_.rt(s);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.F_.get(d);f&&o.F_.set(d,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,d)=>{let f=o.F_.get(l);if(!f)return;o.F_.set(l,f.withResumeToken(Ge.EMPTY_BYTE_STRING,f.snapshotVersion)),BE(o,l);let p=new Ic(f.target,l,d,f.sequenceNumber);xb(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(e,i))}catch(n){G("RemoteStore","Failed to raise snapshot:",n),yield Ou(e,n)}})}function Ou(e,t,i){return b(this,null,function*(){if(!Nc(t))throw t;e.M_.add(1),yield Fc(e),e.N_.set("Offline"),i||(i=()=>jE(e.localStore)),e.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){G("RemoteStore","Retrying IndexedDB access"),yield i(),e.M_.delete(1),yield Ju(e)}))})}function $E(e,t){return t().catch(i=>Ou(e,i,t))}function th(e){return b(this,null,function*(){let t=ut(e),i=or(t),n=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;VL(t);)try{let r=yield DL(t.localStore,n);if(r===null){t.v_.length===0&&i.n_();break}n=r.batchId,jL(t,r)}catch(r){yield Ou(t,r)}qE(t)&&HE(t)})}function VL(e){return Qr(e)&&e.v_.length<10}function jL(e,t){e.v_.push(t);let i=or(e);i.Xo()&&i.E_&&i.d_(t.mutations)}function qE(e){return Qr(e)&&!or(e).Zo()&&e.v_.length>0}function HE(e){or(e).start()}function UL(e){return b(this,null,function*(){or(e).V_()})}function BL(e){return b(this,null,function*(){let t=or(e);for(let i of e.v_)t.d_(i.mutations)})}function zL(e,t,i){return b(this,null,function*(){let n=e.v_.shift(),r=a_.from(n,t,i);yield $E(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield th(e)})}function $L(e,t){return b(this,null,function*(){t&&or(e).E_&&(yield function(n,r){return b(this,null,function*(){if(function(s){return sL(s)&&s!==P.ABORTED}(r.code)){let o=n.v_.shift();or(n).t_(),yield $E(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield th(n)}})}(e,t)),qE(e)&&HE(e)})}function XI(e,t){return b(this,null,function*(){let i=ut(e);i.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");let n=Qr(i);i.M_.add(3),yield Fc(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield Ju(i)})}function qL(e,t){return b(this,null,function*(){let i=ut(e);t?(i.M_.delete(2),yield Ju(i)):t||(i.M_.add(2),yield Fc(i),i.N_.set("Unknown"))})}function ls(e){return e.B_||(e.B_=function(i,n,r){let o=ut(i);return o.f_(),new B_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:ML.bind(null,e),To:NL.bind(null,e),Ao:FL.bind(null,e),h_:LL.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.B_.t_(),Eb(e)?Ib(e):e.N_.set("Unknown")):(yield e.B_.stop(),zE(e))}))),e.B_}function or(e){return e.k_||(e.k_=function(i,n,r){let o=ut(i);return o.f_(),new z_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:UL.bind(null,e),Ao:$L.bind(null,e),R_:BL.bind(null,e),A_:zL.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.k_.t_(),yield th(e)):(yield e.k_.stop(),e.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}var G_=class e{constructor(t,i,n,r,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new Cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,n,r,o){let s=Date.now()+n,c=new e(t,i,s,r,o);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Tb(e,t){if(yi("AsyncQueue",`${t}: ${e}`),Nc(e))return new B(P.UNAVAILABLE,`${t}: ${e}`);throw e}var Mu=class e{constructor(t){this.comparator=t?(i,n)=>t(i,n)||X.comparator(i.key,n.key):(i,n)=>X.comparator(i.key,n.key),this.keyedMap=mc(),this.sortedSet=new ne(this.comparator)}static emptySet(t){return new e(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,n)=>(t(i),!1))}add(t){let i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){let i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){let n=new e;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=i,n}};var Nu=class{constructor(){this.q_=new ne(X.comparator)}track(t){let i=t.doc.key,n=this.q_.get(i);n?t.type!==0&&n.type===3?this.q_=this.q_.insert(i,t):t.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.q_=this.q_.remove(i):t.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):ot():this.q_=this.q_.insert(i,t)}Q_(){let t=[];return this.q_.inorderTraversal((i,n)=>{t.push(n)}),t}},rs=class e{constructor(t,i,n,r,o,s,c,l,d){this.query=t,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(t,i,n,r,o){let s=[];return i.forEach(c=>{s.push({type:0,doc:c})}),new e(t,i,Mu.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let i=this.docChanges,n=t.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var W_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},K_=class{constructor(){this.queries=new rr(t=>_E(t),Qu),this.onlineState="Unknown",this.z_=new Set}};function Cb(e,t){return b(this,null,function*(){let i=ut(e),n=3,r=t.query,o=i.queries.get(r);o?!o.W_()&&t.G_()&&(n=2):(o=new W_,n=t.G_()?0:1);try{switch(n){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let c=Tb(s,`Initialization of query '${$o(t.query)}' failed`);return void t.onError(c)}i.queries.set(r,o),o.U_.push(t),t.j_(i.onlineState),o.K_&&t.H_(o.K_)&&Sb(i)})}function Ab(e,t){return b(this,null,function*(){let i=ut(e),n=t.query,r=3,o=i.queries.get(n);if(o){let s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function HL(e,t){let i=ut(e),n=!1;for(let r of t){let o=r.query,s=i.queries.get(o);if(s){for(let c of s.U_)c.H_(r)&&(n=!0);s.K_=r}}n&&Sb(i)}function GL(e,t,i){let n=ut(e),r=n.queries.get(t);if(r)for(let o of r.U_)o.onError(i);n.queries.delete(t)}function Sb(e){e.z_.forEach(t=>{t.next()})}var Y_,ZI;(ZI=Y_||(Y_={})).J_="default",ZI.Cache="cache";var Cc=class{constructor(t,i,n){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new rs(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){if(!t.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(t){t=rs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Y_.Cache}};var Fu=class{constructor(t){this.key=t}},Lu=class{constructor(t){this.key=t}},Q_=class{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=xt(),this.mutatedKeys=xt(),this.Ia=bE(t),this.Ta=new Mu(this.Ia)}get Ea(){return this.la}da(t,i){let n=i?i.Aa:new Nu,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{let g=r.get(f),w=Xu(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),M=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),D=!1;g&&w?g.data.isEqual(w.data)?k!==M&&(n.track({type:3,doc:w}),D=!0):this.Ra(g,w)||(n.track({type:2,doc:w}),D=!0,(l&&this.Ia(w,l)>0||d&&this.Ia(w,d)<0)&&(c=!0)):!g&&w?(n.track({type:0,doc:w}),D=!0):g&&!w&&(n.track({type:1,doc:g}),D=!0,(l||d)&&(c=!0)),D&&(w?(s=s.add(w),o=M?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),n.track({type:1,doc:f})}return{Ta:s,Aa:n,Xi:c,mutatedKeys:o}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,n,r){let o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let s=t.Aa.Q_();s.sort((f,p)=>function(w,k){let M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return M(w)-M(k)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(n),r=r!=null&&r;let c=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new rs(this.query,t.Ta,o,s,t.mutatedKeys,l===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Nu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=xt(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return t.forEach(n=>{this.Pa.has(n)||i.push(new Lu(n))}),this.Pa.forEach(n=>{t.has(n)||i.push(new Fu(n))}),i}pa(t){this.la=t.hs,this.Pa=xt();let i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return rs.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},X_=class{constructor(t,i,n){this.query=t,this.targetId=i,this.view=n}},Z_=class{constructor(t){this.key=t,this.wa=!1}},J_=class{constructor(t,i,n,r,o,s){this.localStore=t,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new rr(c=>_E(c),Qu),this.Da=new Map,this.Ca=new Set,this.va=new ne(X.comparator),this.Fa=new Map,this.Ma=new Tc,this.xa={},this.Oa=new Map,this.Na=Ec.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function WL(e,t,i=!0){return b(this,null,function*(){let n=XE(e),r,o=n.ba.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield GE(n,t,i,!0),r})}function KL(e,t){return b(this,null,function*(){let i=XE(e);yield GE(i,t,!0,!1)})}function GE(e,t,i,n){return b(this,null,function*(){let r=yield kL(e.localStore,Kn(t)),o=r.targetId,s=i?e.sharedClientState.addLocalQueryTarget(o):"not-current",c;return n&&(c=yield YL(e,t,o,s==="current",r.resumeToken)),e.isPrimaryClient&&i&&UE(e.remoteStore,r),c})}function YL(e,t,i,n,r){return b(this,null,function*(){e.Ba=(p,g,w)=>function(M,D,z,Y){return b(this,null,function*(){let et=D.view.da(z);et.Xi&&(et=yield QI(M.localStore,D.query,!1).then(({documents:x})=>D.view.da(x,et)));let ht=Y&&Y.targetChanges.get(D.targetId),qt=Y&&Y.targetMismatches.get(D.targetId)!=null,Z=D.view.applyChanges(et,M.isPrimaryClient,ht,qt);return tE(M,D.targetId,Z.fa),Z.snapshot})}(e,p,g,w);let o=yield QI(e.localStore,t,!0),s=new Q_(t,o.hs),c=s.da(o.documents),l=xc.createSynthesizedTargetChangeForCurrentChange(i,n&&e.onlineState!=="Offline",r),d=s.applyChanges(c,e.isPrimaryClient,l);tE(e,i,d.fa);let f=new X_(t,i,s);return e.ba.set(t,f),e.Da.has(i)?e.Da.get(i).push(t):e.Da.set(i,[t]),d.snapshot})}function QL(e,t,i){return b(this,null,function*(){let n=ut(e),r=n.ba.get(t),o=n.Da.get(r.targetId);if(o.length>1)return n.Da.set(r.targetId,o.filter(s=>!Qu(s,t))),void n.ba.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield F_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&wb(n.remoteStore,r.targetId),tb(n,r.targetId)}).catch(Mc))):(tb(n,r.targetId),yield F_(n.localStore,r.targetId,!0))})}function XL(e,t){return b(this,null,function*(){let i=ut(e),n=i.ba.get(t),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),wb(i.remoteStore,n.targetId))})}function ZL(e,t,i){return b(this,null,function*(){let n=oV(e);try{let r=yield function(s,c){let l=ut(s),d=Ce.now(),f=c.reduce((w,k)=>w.add(k.key),xt()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let k=Ii(),M=xt();return l.os.getEntries(w,f).next(D=>{k=D,k.forEach((z,Y)=>{Y.isValidDocument()||(M=M.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,k)).next(D=>{p=D;let z=[];for(let Y of c){let et=oL(Y,p.get(Y.key).overlayedDocument);et!=null&&z.push(new Xn(Y.key,et,uE(et.value.mapValue),vi.exists(!0)))}return l.mutationQueue.addMutationBatch(w,d,z,c)}).next(D=>{g=D;let z=D.applyToLocalDocumentSet(p,M);return l.documentOverlayCache.saveOverlays(w,D.batchId,z)})}).then(()=>({batchId:g.batchId,changes:yE(p)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,c,l){let d=s.xa[s.currentUser.toKey()];d||(d=new ne(Rt)),d=d.insert(c,l),s.xa[s.currentUser.toKey()]=d}(n,r.batchId,i),yield Lc(n,r.changes),yield th(n.remoteStore)}catch(r){let o=Tb(r,"Failed to persist write");i.reject(o)}})}function WE(e,t){return b(this,null,function*(){let i=ut(e);try{let n=yield SL(i.localStore,t);t.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?Ut(s.wa):r.removedDocuments.size>0&&(Ut(s.wa),s.wa=!1))}),yield Lc(i,n,t)}catch(n){yield Mc(n)}})}function JI(e,t,i){let n=ut(e);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((o,s)=>{let c=s.view.j_(t);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=ut(s);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let g of p.U_)g.j_(c)&&(d=!0)}),d&&Sb(l)}(n.eventManager,t),r.length&&n.Sa.h_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function JL(e,t,i){return b(this,null,function*(){let n=ut(e);n.sharedClientState.updateQueryState(t,"rejected",i);let r=n.Fa.get(t),o=r&&r.key;if(o){let s=new ne(X.comparator);s=s.insert(o,An.newNoDocument(o,mt.min()));let c=xt().add(o),l=new Iu(mt.min(),new Map,new ne(Rt),s,c);yield WE(n,l),n.va=n.va.remove(o),n.Fa.delete(t),Rb(n)}else yield F_(n.localStore,t,!1).then(()=>tb(n,t,i)).catch(Mc)})}function tV(e,t){return b(this,null,function*(){let i=ut(e),n=t.batch.batchId;try{let r=yield AL(i.localStore,t);YE(i,n,null),KE(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield Lc(i,r)}catch(r){yield Mc(r)}})}function eV(e,t,i){return b(this,null,function*(){let n=ut(e);try{let r=yield function(s,c){let l=ut(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(Ut(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(n.localStore,t);YE(n,t,i),KE(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),yield Lc(n,r)}catch(r){yield Mc(r)}})}function KE(e,t){(e.Oa.get(t)||[]).forEach(i=>{i.resolve()}),e.Oa.delete(t)}function YE(e,t,i){let n=ut(e),r=n.xa[n.currentUser.toKey()];if(r){let o=r.get(t);o&&(i?o.reject(i):o.resolve(),r=r.remove(t)),n.xa[n.currentUser.toKey()]=r}}function tb(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(let n of e.Da.get(t))e.ba.delete(n),i&&e.Sa.ka(n,i);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(n=>{e.Ma.containsKey(n)||QE(e,n)})}function QE(e,t){e.Ca.delete(t.path.canonicalString());let i=e.va.get(t);i!==null&&(wb(e.remoteStore,i),e.va=e.va.remove(t),e.Fa.delete(i),Rb(e))}function tE(e,t,i){for(let n of i)n instanceof Fu?(e.Ma.addReference(n.key,t),nV(e,n)):n instanceof Lu?(G("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,t),e.Ma.containsKey(n.key)||QE(e,n.key)):ot()}function nV(e,t){let i=t.key,n=i.path.canonicalString();e.va.get(i)||e.Ca.has(n)||(G("SyncEngine","New document in limbo: "+i),e.Ca.add(n),Rb(e))}function Rb(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){let t=e.Ca.values().next().value;e.Ca.delete(t);let i=new X(Ht.fromString(t)),n=e.Na.next();e.Fa.set(n,new Z_(i)),e.va=e.va.insert(i,n),UE(e.remoteStore,new Ic(Kn(Yu(i.path)),n,"TargetPurposeLimboResolution",cE.oe))}}function Lc(e,t,i){return b(this,null,function*(){let n=ut(e),r=[],o=[],s=[];n.ba.isEmpty()||(n.ba.forEach((c,l)=>{s.push(n.Ba(l,t,i).then(d=>{if((d||i)&&n.isPrimaryClient){let f=d&&!d.fromCache;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){r.push(d);let f=P_.Ki(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),n.Sa.h_(r),yield function(l,d){return b(this,null,function*(){let f=ut(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>V.forEach(d,g=>V.forEach(g.qi,w=>f.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>V.forEach(g.Qi,w=>f.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!Nc(p))throw p;G("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let g=p.targetId;if(!p.fromCache){let w=f.ns.get(g),k=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(k);f.ns=f.ns.insert(g,M)}}})}(n.localStore,o))})}function iV(e,t){return b(this,null,function*(){let i=ut(e);if(!i.currentUser.isEqual(t)){G("SyncEngine","User change. New user:",t.toKey());let n=yield VE(i.localStore,t);i.currentUser=t,function(o,s){o.Oa.forEach(c=>{c.forEach(l=>{l.reject(new B(P.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Lc(i,n.us)}})}function rV(e,t){let i=ut(e),n=i.Fa.get(t);if(n&&n.wa)return xt().add(n.key);{let r=xt(),o=i.Da.get(t);if(!o)return r;for(let s of o){let c=i.ba.get(s);r=r.unionWith(c.view.Ea)}return r}}function XE(e){let t=ut(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JL.bind(null,t),t.Sa.h_=HL.bind(null,t.eventManager),t.Sa.ka=GL.bind(null,t.eventManager),t}function oV(e){let t=ut(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=tV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eV.bind(null,t),t}var Vu=class{constructor(){this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Zu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return CL(this.persistence,new M_,t.initialUser,this.serializer)}createPersistence(t){return new R_(k_.Hr,this.serializer)}createSharedClientState(t){return new L_}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var eb=class{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>JI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=iV.bind(null,this.syncEngine),yield qL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new K_}()}createDatastore(t){let i=Zu(t.databaseInfo.databaseId),n=function(o){return new U_(o)}(t.databaseInfo);return function(o,s,c,l){return new $_(o,s,c,l)}(t.authCredentials,t.appCheckCredentials,n,i)}createRemoteStore(t){return function(n,r,o,s,c){return new H_(n,r,o,s,c)}(this.localStore,this.datastore,t.asyncQueue,i=>JI(this.syncEngine,i,0),function(){return Du.D()?new Du:new V_}())}createSyncEngine(t,i){return function(r,o,s,c,l,d,f){let p=new J_(r,o,s,c,l,d);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t;yield function(n){return b(this,null,function*(){let r=ut(n);G("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield Fc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};var Ac=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):yi("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}};var nb=class{constructor(t,i,n,r){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=ye.UNAUTHENTICATED,this.clientId=pu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>b(this,null,function*(){G("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){let n=Tb(i,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function Mg(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");let i=e.configuration;yield t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(r=>b(this,null,function*(){n.isEqual(r)||(yield VE(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t})}function eE(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress();let i=yield aV(e);G("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,e.configuration),e.setCredentialChangeListener(n=>XI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>XI(t.remoteStore,r)),e._onlineComponents=t})}function sV(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}function aV(e){return b(this,null,function*(){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mg(e,e._uninitializedComponentsProvider._offline)}catch(t){let i=t;if(!sV(i))throw i;Qo("Error using user provided cache. Falling back to memory cache: "+i),yield Mg(e,new Vu)}}else G("FirestoreClient","Using default OfflineComponentProvider"),yield Mg(e,new Vu);return e._offlineComponents})}function ZE(e){return b(this,null,function*(){return e._onlineComponents||(e._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),yield eE(e,e._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),yield eE(e,new eb))),e._onlineComponents})}function cV(e){return ZE(e).then(t=>t.syncEngine)}function ju(e){return b(this,null,function*(){let t=yield ZE(e),i=t.eventManager;return i.onListen=WL.bind(null,t.syncEngine),i.onUnlisten=QL.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=KL.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XL.bind(null,t.syncEngine),i})}function lV(e,t,i={}){let n=new Cn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,d){let f=new Ac({next:g=>{s.enqueueAndForget(()=>Ab(o,p));let w=g.docs.has(c);!w&&g.fromCache?d.reject(new B(P.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&g.fromCache&&l&&l.source==="server"?d.reject(new B(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new Cc(Yu(c.path),f,{includeMetadataChanges:!0,ra:!0});return Cb(o,p)}(yield ju(e),e.asyncQueue,t,i,n)})),n.promise}function dV(e,t,i={}){let n=new Cn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,d){let f=new Ac({next:g=>{s.enqueueAndForget(()=>Ab(o,p)),g.fromCache&&l.source==="server"?d.reject(new B(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new Cc(c,f,{includeMetadataChanges:!0,ra:!0});return Cb(o,p)}(yield ju(e),e.asyncQueue,t,i,n)})),n.promise}function JE(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var nE=new Map;function tT(e,t,i){if(!i)throw new B(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function uV(e,t,i,n){if(t===!0&&n===!0)throw new B(P.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function iE(e){if(!X.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rE(e){if(X.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function eh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{let t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot()}function vn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=eh(e);throw new B(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function hV(e,t){if(t<=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}var Uu=class{constructor(t){var i,n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}uV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},os=class{constructor(t,i,n,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uu(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Ng;switch(n.type){case"firstParty":return new jg(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=nE.get(i);n&&(G("ComponentProvider","Removing Datastore"),nE.delete(i),n.terminate())}(this),Promise.resolve()}};function eT(e,t,i,n={}){var r;let o=(e=vn(e,os))._getSettings(),s=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Qo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=ye.MOCK_USER;else{c=Od(n.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);let d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ye(d)}e._authCredentials=new Fg(new mu(c,l))}}var Zn=class e{constructor(t,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new e(this.firestore,t,this._query)}},He=class e{constructor(t,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},er=class e extends Zn{constructor(t,i,n){super(t,i,Yu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new X(t))}withConverter(t){return new e(this.firestore,t,this._path)}};function nT(e,t,...i){if(e=jt(e),tT("collection","path",t),e instanceof os){let n=Ht.fromString(t,...i);return rE(n),new er(e,null,n)}{if(!(e instanceof He||e instanceof er))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(Ht.fromString(t,...i));return rE(n),new er(e.firestore,null,n)}}function Db(e,t,...i){if(e=jt(e),arguments.length===1&&(t=pu.newId()),tT("doc","path",t),e instanceof os){let n=Ht.fromString(t,...i);return iE(n),new He(e,null,new X(n))}{if(!(e instanceof He||e instanceof er))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(Ht.fromString(t,...i));return iE(n),new He(e.firestore,e instanceof er?e.converter:null,new X(n))}}var ib=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new ku(this,"async_queue_retry"),this.hu=()=>{let i=Og();i&&G("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let t=Og();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let i=Og();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new Cn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!Nc(t))throw t;G("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(t){let i=this.iu.then(()=>(this.uu=!0,t().catch(n=>{this.au=n,this.uu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(n);throw yi("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(t,i,n){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);let r=G_.createAndSchedule(this,t,i,n,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&ot()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let i=this._u.indexOf(t);this._u.splice(i,1)}};function oE(e){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(e,["next","error","complete"])}var Jn=class extends os{constructor(t,i,n,r){super(t,i,n,r),this.type="firestore",this._queue=function(){return new ib}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||rT(this),this._firestoreClient.terminate()}};function iT(e,t){let i=typeof e=="object"?e:Zi(),n=typeof e=="string"?e:t||"(default)",r=kr(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=Pd("firestore");o&&eT(r,...o)}return r}function nh(e){return e._firestoreClient||rT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rT(e){var t,i,n;let r=e._freezeSettings(),o=function(c,l,d,f){return new qg(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,JE(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new nb(e._authCredentials,e._appCheckCredentials,e._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Sc=class e{constructor(t){this._byteString=t}static fromBase64String(t){try{return new e(Ge.fromBase64String(t))}catch(i){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new e(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var ss=class{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var Rc=class{constructor(t){this._methodName=t}};var Dc=class{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}};var fV=/^__.*__$/,rb=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return this.fieldMask!==null?new Xn(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kr(t,this.data,i,this.fieldTransforms)}},Bu=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return new Xn(t,this.data,this.fieldMask,i,this.fieldTransforms)}};function oT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}var ob=class e{constructor(t,i,n,r,o,s){this.settings=t,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return $u(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(oT(this.fu)&&fV.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},sb=class{constructor(t,i,n){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=n||Zu(t)}Fu(t,i,n,r=!1){return new ob({fu:t,methodName:i,vu:n,path:dn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ih(e){let t=e._freezeSettings(),i=Zu(e._databaseId);return new sb(e._databaseId,!!t.ignoreUndefinedProperties,i)}function mV(e,t,i,n,r,o={}){let s=e.Fu(o.merge||o.mergeFields?2:0,t,i,r);kb("Data must be an object, but it was:",s,n);let c=aT(n,s),l,d;if(o.merge)l=new bn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=ab(t,p,i);if(!s.contains(g))throw new B(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);lT(f,g)||f.push(g)}l=new bn(f),d=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=s.fieldTransforms;return new rb(new ln(c),l,d)}var zu=class e extends Rc{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof e}};function pV(e,t,i,n){let r=e.Fu(1,t,i);kb("Data must be an object, but it was:",r,n);let o=[],s=ln.empty();Yr(n,(l,d)=>{let f=Pb(t,l,i);d=jt(d);let p=r.Su(f);if(d instanceof zu)o.push(f);else{let g=Vc(d,p);g!=null&&(o.push(f),s.set(f,g))}});let c=new bn(o);return new Bu(s,c,r.fieldTransforms)}function gV(e,t,i,n,r,o){let s=e.Fu(1,t,i),c=[ab(t,n,i)],l=[r];if(o.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)c.push(ab(t,o[g])),l.push(o[g+1]);let d=[],f=ln.empty();for(let g=c.length-1;g>=0;--g)if(!lT(d,c[g])){let w=c[g],k=l[g];k=jt(k);let M=s.Su(w);if(k instanceof zu)d.push(w);else{let D=Vc(k,M);D!=null&&(d.push(w),f.set(w,D))}}let p=new bn(d);return new Bu(f,p,s.fieldTransforms)}function sT(e,t,i,n=!1){return Vc(i,e.Fu(n?4:3,t))}function Vc(e,t){if(cT(e=jt(e)))return kb("Unsupported field value:",t,e),aT(e,t);if(e instanceof Rc)return function(n,r){if(!oT(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let c of n){let l=Vc(c,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return tL(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=Ce.fromDate(n);return{timestampValue:Au(r.serializer,o)}}if(n instanceof Ce){let o=new Ce(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Au(r.serializer,o)}}if(n instanceof Dc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Sc)return{bytesValue:kE(r.serializer,n._byteString)};if(n instanceof He){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${eh(n)}`)}(e,t)}function aT(e,t){let i={};return lE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(e,(n,r)=>{let o=Vc(r,t.pu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function cT(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Ce||e instanceof Dc||e instanceof Sc||e instanceof He||e instanceof Rc)}function kb(e,t,i){if(!cT(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=eh(i);throw n==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+n)}}function ab(e,t,i){if((t=jt(t))instanceof ss)return t._internalPath;if(typeof t=="string")return Pb(e,t);throw $u("Field path arguments must be of type string or ",e,!1,void 0,i)}var _V=new RegExp("[~\\*/\\[\\]]");function Pb(e,t,i){if(t.search(_V)>=0)throw $u(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new ss(...t.split("."))._internalPath}catch{throw $u(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function $u(e,t,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,c=`Function ${t}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${r}`),l+=")"),new B(P.INVALID_ARGUMENT,c+e+l)}function lT(e,t){return e.some(i=>i.isEqual(t))}var kc=class{constructor(t,i,n,r,o){this._firestore=t,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let i=this._document.data.field(rh("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}},cb=class extends kc{data(){return super.data()}};function rh(e,t){return typeof t=="string"?Pb(e,t):t instanceof ss?t._internalPath:t._delegate._internalPath}function dT(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pc=class{},as=class extends Pc{};function uT(e,t,...i){let n=[];t instanceof Pc&&n.push(t),n=n.concat(i),function(o){let s=o.filter(l=>l instanceof lb).length,c=o.filter(l=>l instanceof qu).length;if(s>1||s>0&&c>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)e=r._apply(e);return e}var qu=class e extends as{constructor(t,i,n){super(),this._field=t,this._op=i,this._value=n,this.type="where"}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=this._parse(t);return gT(t._query,i),new Zn(t.firestore,t.converter,i_(t._query,i))}_parse(t){let i=ih(t.firestore);return function(o,s,c,l,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){aE(p,f);let w=[];for(let k of p)w.push(sE(l,o,k));g={arrayValue:{values:w}}}else g=sE(l,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||aE(p,f),g=sT(c,s,p,f==="in"||f==="not-in");return he.create(d,f,g)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}};function hT(e,t,i){let n=t,r=rh("where",e);return qu._create(r,n,i)}var lb=class e extends Pc{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new e(t,i)}_parse(t){let i=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:Sn.create(i,this._getOperator())}_apply(t){let i=this._parse(t);return i.getFilters().length===0?t:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let l of c)gT(s,l),s=i_(s,l)}(t._query,i),new Zn(t.firestore,t.converter,i_(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var db=class e extends as{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new e(t,i)}_apply(t){let i=function(r,o,s){if(r.startAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hr(o,s)}(t._query,this._field,this._direction);return new Zn(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new xi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}};function fT(e,t="asc"){let i=t,n=rh("orderBy",e);return db._create(n,i)}var ub=class e extends as{constructor(t,i,n){super(),this.type=t,this._limit=i,this._limitType=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){return new Zn(t.firestore,t.converter,xu(t._query,this._limit,this._limitType))}};function mT(e){return hV("limit",e),ub._create("limit",e,"F")}var hb=class e extends as{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=bV(t,this.type,this._docOrFields,this._inclusive);return new Zn(t.firestore,t.converter,function(r,o){return new xi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,i))}};function pT(...e){return hb._create("startAfter",e,!1)}function bV(e,t,i,n){if(i[0]=jt(i[0]),i[0]instanceof kc)return function(o,s,c,l,d){if(!l)throw new B(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let p of Wo(o))if(p.field.isKeyField())f.push(yu(s,l.key));else{let g=l.data.field(p.field);if(Ku(g))throw new B(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let w=p.field.canonicalString();throw new B(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${w}' (used as the orderBy) does not exist.`)}f.push(g)}return new ir(f,d)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{let r=ih(e.firestore);return function(s,c,l,d,f,p){let g=s.explicitOrderBy;if(f.length>g.length)throw new B(P.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let w=[];for(let k=0;k<f.length;k++){let M=f[k];if(g[k].field.isKeyField()){if(typeof M!="string")throw new B(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof M}`);if(!vb(s)&&M.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${M}' contains a slash.`);let D=s.path.child(Ht.fromString(M));if(!X.isDocumentKey(D))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);let z=new X(D);w.push(yu(c,z))}else{let D=sT(l,d,M);w.push(D)}}return new ir(w,p)}(e._query,e.firestore._databaseId,r,t,i,n)}}function sE(e,t,i){if(typeof(i=jt(i))=="string"){if(i==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vb(t)&&i.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=t.path.child(Ht.fromString(i));if(!X.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return yu(e,new X(n))}if(i instanceof He)return yu(e,i._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(i)}.`)}function aE(e,t){if(!Array.isArray(e)||e.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function gT(e,t){let i=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}var fb=class{convertValue(t,i="none"){switch(qr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw ot()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){let n={};return Yr(t,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(t){return new Dc(ee(t.latitude),ee(t.longitude))}convertArray(t,i){return(t.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(t,i){switch(i){case"previous":let n=pb(t);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(vc(t));default:return null}}convertTimestamp(t){let i=wi(t);return new Ce(i.seconds,i.nanos)}convertDocumentKey(t,i){let n=Ht.fromString(t);Ut(LE(n));let r=new vu(n.get(1),n.get(3)),o=new X(n.popFirst(5));return r.isEqual(i)||yi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function vV(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}var Br=class{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Hu=class extends kc{constructor(t,i,n,r,o,s){super(t,i,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let i=new Yo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){let n=this._document.data.field(rh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},Yo=class extends Hu{data(t={}){return super.data(t)}},Gu=class{constructor(t,i,n,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new Br(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(n=>{t.call(i,new Yo(this._firestore,this._userDataWriter,n.key,n,new Br(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new Yo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Br(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Yo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Br(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:yV(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function yV(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}function _T(e){e=vn(e,He);let t=vn(e.firestore,Jn);return lV(nh(t),e._key).then(i=>xT(t,e,i))}var Oc=class extends fb{constructor(t){super(),this.firestore=t}convertBytes(t){return new Sc(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,i)}};function bT(e){e=vn(e,Zn);let t=vn(e.firestore,Jn),i=nh(t),n=new Oc(t);return dT(e._query),dV(i,e._query).then(r=>new Gu(t,n,e,r))}function vT(e,t,i,...n){e=vn(e,He);let r=vn(e.firestore,Jn),o=ih(r),s;return s=typeof(t=jt(t))=="string"||t instanceof ss?gV(o,"updateDoc",e._key,t,i,n):pV(o,"updateDoc",e._key,t),Mb(r,[s.toMutation(e._key,vi.exists(!0))])}function yT(e){return Mb(vn(e.firestore,Jn),[new wc(e._key,vi.none())])}function wT(e,t){let i=vn(e.firestore,Jn),n=Db(e),r=vV(e.converter,t);return Mb(i,[mV(ih(e.firestore),"addDoc",n._key,r,e.converter!==null,{}).toMutation(n._key,vi.exists(!1))]).then(()=>n)}function Ob(e,...t){var i,n,r;e=jt(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||oE(t[s])||(o=t[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(oE(t[s])){let p=t[s];t[s]=(i=p.next)===null||i===void 0?void 0:i.bind(p),t[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),t[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,d,f;if(e instanceof He)d=vn(e.firestore,Jn),f=Yu(e._key.path),l={next:p=>{t[s]&&t[s](xT(d,e,p))},error:t[s+1],complete:t[s+2]};else{let p=vn(e,Zn);d=vn(p.firestore,Jn),f=p._query;let g=new Oc(d);l={next:w=>{t[s]&&t[s](new Gu(d,g,p,w))},error:t[s+1],complete:t[s+2]},dT(e._query)}return function(g,w,k,M){let D=new Ac(M),z=new Cc(w,D,k);return g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Cb(yield ju(g),z)})),()=>{D.$a(),g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return Ab(yield ju(g),z)}))}}(nh(d),f,c,l)}function Mb(e,t){return function(n,r){let o=new Cn;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return ZL(yield cV(n),r,o)})),o.promise}(nh(e),t)}function xT(e,t,i){let n=i.docs.get(t._key),r=new Oc(e);return new Hu(e,r,t._key,n,new Br(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(r){cs=r})($n),Bn(new Ze("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),c=new Jn(new Lg(n.getProvider("auth-internal")),new Bg(n.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Jt(kI,"4.6.3",t),Jt(kI,"4.6.3","esm2017")})();var oh=function(){return oh=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},oh.apply(this,arguments)};var EV={includeMetadataChanges:!1};function Nb(e,t){return t===void 0&&(t=EV),new Ke(function(i){var n=Ob(e,t,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:n}})}function IT(e){return Nb(e,{includeMetadataChanges:!0})}function ET(e,t){return t===void 0&&(t={}),IT(e).pipe(vt(function(i){return Fb(i,t)}))}function Fb(e,t){var i;t===void 0&&(t={});var n=e.data(t);return!e.exists()||typeof n!="object"||n===null||!t.idField?n:oh(oh({},n),(i={},i[t.idField]=e.id,i))}function TT(e){return Nb(e,{includeMetadataChanges:!0}).pipe(vt(function(t){return t.docs}))}function CT(e,t){return t===void 0&&(t={}),TT(e).pipe(vt(function(i){return i.map(function(n){return Fb(n,t)})}))}var un=class{constructor(t){return t}},AT="firestore",Lb=class{constructor(){return nc(AT)}};var Vb=new $("angularfire2.firestore-instances");function TV(e,t){let i=Vd(AT,e,t);return i&&new un(i)}function CV(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new un(n)}}var AV={provide:Lb,deps:[[new je,Vb]]},SV={provide:un,useFactory:TV,deps:[[new je,Vb],mi]};function ST(e,...t){return Jt("angularfire",Or.full,"fst"),nn([SV,AV,{provide:Vb,useFactory:CV(e),multi:!0,deps:[q,Lt,Vo,Mr,[new je,uc],[new je,Lo],...t]}])}var jb=te(CT,!0);var RT=te(ET,!0);var sh=te(wT,!0);var ti=te(nT,!0);var DT=te(yT,!0);var Xr=te(Db,!0);var kT=te(_T,!0);var ds=te(bT,!0);var PT=te(iT,!0);var ah=te(mT,!0);var ch=te(fT,!0);var Ei=te(uT,!0);var Ub=te(pT,!0);var OT=te(vT,!0);var us=te(hT,!0);var UT="firebasestorage.googleapis.com",BT="storageBucket",RV=2*60*1e3,DV=10*60*1e3;var ie=class e extends qe{constructor(t,i,n=0){super(Bb(t),`Firebase Storage: ${i} (${Bb(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Bb(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ae=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(ae||{});function Bb(e){return"storage/"+e}function Wb(){let e="An unknown error occurred, please check the error payload for server response.";return new ie(ae.UNKNOWN,e)}function kV(e){return new ie(ae.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function PV(e){return new ie(ae.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OV(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ie(ae.UNAUTHENTICATED,e)}function MV(){return new ie(ae.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NV(e){return new ie(ae.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function FV(){return new ie(ae.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LV(){return new ie(ae.CANCELED,"User canceled the upload/download.")}function VV(e){return new ie(ae.INVALID_URL,"Invalid URL '"+e+"'.")}function jV(e){return new ie(ae.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function UV(){return new ie(ae.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+BT+"' property when initializing the app?")}function BV(){return new ie(ae.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zV(){return new ie(ae.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $V(e){return new ie(ae.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function zb(e){return new ie(ae.INVALID_ARGUMENT,e)}function zT(){return new ie(ae.APP_DELETED,"The Firebase app was deleted.")}function qV(e){return new ie(ae.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uc(e,t){return new ie(ae.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function jc(e){throw new ie(ae.INTERNAL_ERROR,"Internal error: "+e)}var Rn=class e{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let n;try{n=e.makeFromUrl(t,i)}catch{return new e(t,"")}if(n.path==="")return n;throw jV(t)}static makeFromUrl(t,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(ht){ht.path.charAt(ht.path.length-1)==="/"&&(ht.path_=ht.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function d(ht){ht.path_=decodeURIComponent(ht.path)}let f="v[A-Za-z0-9_]+",p=i.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${f}/b/${r}/o${g}`,"i"),k={bucket:1,path:3},M=i===UT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,D="([^?#]*)",z=new RegExp(`^https?://${M}/${r}/${D}`,"i"),et=[{regex:c,indices:l,postModify:o},{regex:w,indices:k,postModify:d},{regex:z,indices:{bucket:1,path:2},postModify:d}];for(let ht=0;ht<et.length;ht++){let qt=et[ht],Z=qt.regex.exec(t);if(Z){let x=Z[qt.indices.bucket],_=Z[qt.indices.path];_||(_=""),n=new e(x,_),qt.postModify(n);break}}if(n==null)throw VV(t);return n}},$b=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function HV(e,t,i){let n=1,r=null,o=null,s=!1,c=0;function l(){return c===2}let d=!1;function f(...D){d||(d=!0,t.apply(null,D))}function p(D){r=setTimeout(()=>{r=null,e(w,l())},D)}function g(){o&&clearTimeout(o)}function w(D,...z){if(d){g();return}if(D){g(),f.call(null,D,...z);return}if(l()||s){g(),f.call(null,D,...z);return}n<64&&(n*=2);let et;c===1?(c=2,et=0):et=(n+Math.random())*1e3,p(et)}let k=!1;function M(D){k||(k=!0,g(),!d&&(r!==null?(D||(c=2),clearTimeout(r),p(0)):D||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,M(!0)},i),M}function GV(e){e(!1)}function WV(e){return e!==void 0}function KV(e){return typeof e=="object"&&!Array.isArray(e)}function Kb(e){return typeof e=="string"||e instanceof String}function MT(e){return Yb()&&e instanceof Blob}function Yb(){return typeof Blob<"u"}function NT(e,t,i,n){if(n<t)throw zb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>i)throw zb(`Invalid value for '${e}'. Expected ${i} or less.`)}function Qb(e,t,i){let n=t;return i==null&&(n=`https://${t}`),`${i}://${n}/v0${e}`}function $T(e){let t=encodeURIComponent,i="?";for(let n in e)if(e.hasOwnProperty(n)){let r=t(n)+"="+t(e[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var fs=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(fs||{});function YV(e,t){let i=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return i||r||o}var qb=class{constructor(t,i,n,r,o,s,c,l,d,f,p,g=!0){this.url_=t,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,k)=>{this.resolve_=w,this.reject_=k,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new hs(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let l=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===fs.NO_ERROR,l=o.getStatus();if(!c||YV(l,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===fs.ABORT;n(!1,new hs(!1,null,f));return}let d=this.successCodes_.indexOf(l)!==-1;n(!0,new hs(d,o))})},i=(n,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());WV(l)?o(l):o()}catch(l){s(l)}else if(c!==null){let l=Wb();l.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,l)):s(l)}else if(r.canceled){let l=this.appDelete_?zT():LV();s(l)}else{let l=FV();s(l)}};this.canceled_?i(!1,new hs(!1,null,!0)):this.backoffId_=HV(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&GV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},hs=class{constructor(t,i,n){this.wasSuccessCode=t,this.connection=i,this.canceled=!!n}};function QV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function XV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ZV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function JV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function tj(e,t,i,n,r,o,s=!0){let c=$T(e.urlParams),l=e.url+c,d=Object.assign({},e.headers);return ZV(d,t),QV(d,i),XV(d,o),JV(d,n),new qb(l,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}function ej(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function nj(...e){let t=ej();if(t!==void 0){let i=new t;for(let n=0;n<e.length;n++)i.append(e[n]);return i.getBlob()}else{if(Yb())return new Blob(e);throw new ie(ae.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function ij(e,t,i){return e.webkitSlice?e.webkitSlice(t,i):e.mozSlice?e.mozSlice(t,i):e.slice?e.slice(t,i):null}function rj(e){if(typeof atob>"u")throw $V("base-64");return atob(e)}var ei={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Bc=class{constructor(t,i){this.data=t,this.contentType=i||null}};function oj(e,t){switch(e){case ei.RAW:return new Bc(qT(t));case ei.BASE64:case ei.BASE64URL:return new Bc(HT(e,t));case ei.DATA_URL:return new Bc(aj(t),cj(t))}throw Wb()}function qT(e){let t=[];for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<e.length-1&&(e.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{let o=n,s=e.charCodeAt(++i);n=65536|(o&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function sj(e){let t;try{t=decodeURIComponent(e)}catch{throw Uc(ei.DATA_URL,"Malformed data URL.")}return qT(t)}function HT(e,t){switch(e){case ei.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Uc(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ei.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Uc(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=rj(t)}catch(r){throw r.message.includes("polyfill")?r:Uc(e,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var uh=class{constructor(t){this.base64=!1,this.contentType=null;let i=t.match(/^data:([^,]+)?,/);if(i===null)throw Uc(ei.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=lj(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}};function aj(e){let t=new uh(e);return t.base64?HT(ei.BASE64,t.rest):sj(t.rest)}function cj(e){return new uh(e).contentType}function lj(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}var hh=class e{constructor(t,i){let n=0,r="";MT(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,i){if(MT(this.data_)){let n=this.data_,r=ij(n,t,i);return r===null?null:new e(r)}else{let n=new Uint8Array(this.data_.buffer,t,i-t);return new e(n,!0)}}static getBlob(...t){if(Yb()){let i=t.map(n=>n instanceof e?n.data_:n);return new e(nj.apply(null,i))}else{let i=t.map(s=>Kb(s)?oj(ei.RAW,s).data:s.data_),n=0;i.forEach(s=>{n+=s.byteLength});let r=new Uint8Array(n),o=0;return i.forEach(s=>{for(let c=0;c<s.length;c++)r[o++]=s[c]}),new e(r,!0)}}uploadData(){return this.data_}};function GT(e){let t;try{t=JSON.parse(e)}catch{return null}return KV(t)?t:null}function dj(e){if(e.length===0)return null;let t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function uj(e,t){let i=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?i:e+"/"+i}function WT(e){let t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function hj(e,t){return t}var Ae=class{constructor(t,i,n,r){this.server=t,this.local=i||t,this.writable=!!n,this.xform=r||hj}},dh=null;function fj(e){return!Kb(e)||e.length<2?e:WT(e)}function KT(){if(dh)return dh;let e=[];e.push(new Ae("bucket")),e.push(new Ae("generation")),e.push(new Ae("metageneration")),e.push(new Ae("name","fullPath",!0));function t(o,s){return fj(s)}let i=new Ae("name");i.xform=t,e.push(i);function n(o,s){return s!==void 0?Number(s):s}let r=new Ae("size");return r.xform=n,e.push(r),e.push(new Ae("timeCreated")),e.push(new Ae("updated")),e.push(new Ae("md5Hash",null,!0)),e.push(new Ae("cacheControl",null,!0)),e.push(new Ae("contentDisposition",null,!0)),e.push(new Ae("contentEncoding",null,!0)),e.push(new Ae("contentLanguage",null,!0)),e.push(new Ae("contentType",null,!0)),e.push(new Ae("metadata","customMetadata",!0)),dh=e,dh}function mj(e,t){function i(){let n=e.bucket,r=e.fullPath,o=new Rn(n,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:i})}function pj(e,t,i){let n={};n.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];n[s.local]=s.xform(n,t[s.server])}return mj(n,e),n}function YT(e,t,i){let n=GT(t);return n===null?null:pj(e,n,i)}function gj(e,t,i,n){let r=GT(t);if(r===null||!Kb(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let f=e.bucket,p=e.fullPath,g="/b/"+s(f)+"/o/"+s(p),w=Qb(g,i,n),k=$T({alt:"media",token:d});return w+k})[0]}function _j(e,t){let i={},n=t.length;for(let r=0;r<n;r++){let o=t[r];o.writable&&(i[o.server]=e[o.local])}return JSON.stringify(i)}var fh=class{constructor(t,i,n,r){this.url=t,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function QT(e){if(!e)throw Wb()}function bj(e,t){function i(n,r){let o=YT(e,r,t);return QT(o!==null),o}return i}function vj(e,t){function i(n,r){let o=YT(e,r,t);return QT(o!==null),gj(o,r,e.host,e._protocol)}return i}function XT(e){function t(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=MV():r=OV():i.getStatus()===402?r=PV(e.bucket):i.getStatus()===403?r=NV(e.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return t}function yj(e){let t=XT(e);function i(n,r){let o=t(n,r);return n.getStatus()===404&&(o=kV(e.path)),o.serverResponse=r.serverResponse,o}return i}function wj(e,t,i){let n=t.fullServerUrl(),r=Qb(n,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,c=new fh(r,o,vj(e,i),s);return c.errorHandler=yj(t),c}function xj(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Ij(e,t,i){let n=Object.assign({},i);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=xj(null,t)),n}function Ej(e,t,i,n,r){let o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let et="";for(let ht=0;ht<2;ht++)et=et+Math.random().toString().slice(2);return et}let l=c();s["Content-Type"]="multipart/related; boundary="+l;let d=Ij(t,n,r),f=_j(d,i),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+l+"--",w=hh.getBlob(p,n,g);if(w===null)throw BV();let k={name:d.fullPath},M=Qb(o,e.host,e._protocol),D="POST",z=e.maxUploadRetryTime,Y=new fh(M,D,bj(e,i),z);return Y.urlParams=k,Y.headers=s,Y.body=w.uploadData(),Y.errorHandler=XT(t),Y}var K6=256*1024;var FT=null,Hb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=fs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=fs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=fs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,n,r){if(this.sent_)throw jc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw jc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw jc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw jc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw jc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},Gb=class extends Hb{initXhr(){this.xhr_.responseType="text"}};function ZT(){return FT?FT():new Gb}var ms=class e{constructor(t,i){this._service=t,i instanceof Rn?this._location=i:this._location=Rn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new e(t,i)}get root(){let t=new Rn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WT(this._location.path)}get storage(){return this._service}get parent(){let t=dj(this._location.path);if(t===null)return null;let i=new Rn(this._location.bucket,t);return new e(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw qV(t)}};function Tj(e,t,i){e._throwIfRoot("uploadBytes");let n=Ej(e.storage,e._location,KT(),new hh(t,!0),i);return e.storage.makeRequestWithTokens(n,ZT).then(r=>({metadata:r,ref:e}))}function Cj(e){e._throwIfRoot("getDownloadURL");let t=wj(e.storage,e._location,KT());return e.storage.makeRequestWithTokens(t,ZT).then(i=>{if(i===null)throw zV();return i})}function Aj(e,t){let i=uj(e._location.path,t),n=new Rn(e._location.bucket,i);return new ms(e.storage,n)}function Sj(e){return/^[A-Za-z]+:\/\//.test(e)}function Rj(e,t){return new ms(e,t)}function JT(e,t){if(e instanceof zc){let i=e;if(i._bucket==null)throw UV();let n=new ms(i,i._bucket);return t!=null?JT(n,t):n}else return t!==void 0?Aj(e,t):e}function Dj(e,t){if(t&&Sj(t)){if(e instanceof zc)return Rj(e,t);throw zb("To use ref(service, url), the first argument must be a Storage instance.")}else return JT(e,t)}function LT(e,t){let i=t?.[BT];return i==null?null:Rn.makeFromBucketSpec(i,e)}function kj(e,t,i,n={}){e.host=`${t}:${i}`,e._protocol="http";let{mockUserToken:r}=n;r&&(e._overrideAuthToken=typeof r=="string"?r:Od(r,e.app.options.projectId))}var zc=class{constructor(t,i,n,r,o){this.app=t,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=UT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RV,this._maxUploadRetryTime=DV,this._requests=new Set,r!=null?this._bucket=Rn.makeFromBucketSpec(r,this._host):this._bucket=LT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Rn.makeFromBucketSpec(this._url,t):this._bucket=LT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){NT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){NT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let i=yield t.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ms(this,t)}_makeRequest(t,i,n,r,o=!0){if(this._deleted)return new $b(zT());{let s=tj(t,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,i){return b(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,n,r).getPromise()})}},VT="@firebase/storage",jT="0.12.5";var tC="storage";function eC(e,t,i){return e=jt(e),Tj(e,t,i)}function nC(e){return e=jt(e),Cj(e)}function iC(e,t){return e=jt(e),Dj(e,t)}function rC(e=Zi(),t){e=jt(e);let n=kr(e,tC).getImmediate({identifier:t}),r=Pd("storage");return r&&Pj(n,...r),n}function Pj(e,t,i,n={}){kj(e,t,i,n)}function Oj(e,{instanceIdentifier:t}){let i=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new zc(i,n,r,t,$n)}function Mj(){Bn(new Ze(tC,Oj,"PUBLIC").setMultipleInstances(!0)),Jt(VT,jT,""),Jt(VT,jT,"esm2017")}Mj();var Nj=["mat-button",""],Fj=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Lj=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var Vj=new $("MAT_BUTTON_CONFIG");var jj=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],Uj=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=L(ui),this._rippleLoader=L(cx),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=L(Vj,{optional:!0}),l=n.nativeElement,d=l.classList;this.disabledInteractive=c?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:f,mdcClasses:p}of jj)l.hasAttribute(f)&&d.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){po()},t.\u0275dir=tt({type:t,inputs:{color:"color",disableRipple:[nt.HasDecoratorInputTransform,"disableRipple","disableRipple",Te],disabled:[nt.HasDecoratorInputTransform,"disabled","disabled",Te],ariaDisabled:[nt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",Te],disabledInteractive:[nt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",Te]},features:[mn]});let e=t;return e})();var ps=(()=>{let t=class t extends Uj{constructor(n,r,o,s){super(n,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Tt),C(q),C(Xe,8))},t.\u0275cmp=it({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Vt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),go(o.color?"mat-"+o.color:""),St("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Xt,st],attrs:Nj,ngContentSelectors:Lj,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(ze(Fj),rt(0,"span",0),Mt(1),N(2,"span",1),Mt(3,1),F(),Mt(4,2),rt(5,"span",2)(6,"span",3)),r&2&&St("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var $c=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,Oo,Gt]});let e=t;return e})();var qc=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ti=class extends qc{constructor(t,i,n,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},ni=class extends qc{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Xb=class extends qc{constructor(t){super(),this.element=t instanceof dt?t.nativeElement:t}},sr=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ti)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof ni)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Xb)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Hc=class extends sr{constructor(t,i,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Lt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var ar=(()=>{let t=class t extends sr{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new At,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(l,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),c=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=n,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};t.\u0275fac=function(r){return new(r||t)(C(ma),C(Ui),C(J))},t.\u0275dir=tt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[nt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Xt]});let e=t;return e})();var Gc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({});let e=t;return e})();var Bj=20,sC=(()=>{let t=class t{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new Q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=Bj){return this._platform.isBrowser?new Ke(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(Hf(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Ot(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=gn(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return qf(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(R(q),R(Tt),R(J,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var zj=20,Zb=(()=>{let t=class t{constructor(n,r,o){this._platform=n,this._change=new Q,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),c=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:c,left:l}}change(n=zj){return n>0?this._change.pipe(Hf(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(R(Tt),R(q),R(J,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var mh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({});let e=t;return e})(),Jb=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Ki,mh,Ki,mh]});let e=t;return e})();var aC=jw(),tv=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=se(-this._previousScrollPosition.left),t.style.top=se(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),aC&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),aC&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var ev=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ot(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ph=class{enable(){}disable(){}attach(){}};function nv(e,t){return t.some(i=>{let n=e.bottom<i.top,r=e.top>i.bottom,o=e.right<i.left,s=e.left>i.right;return n||r||o||s})}function cC(e,t){return t.some(i=>{let n=e.top<i.top,r=e.bottom>i.bottom,o=e.left<i.left,s=e.right>i.right;return n||r||o||s})}var iv=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();nv(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},qj=(()=>{let t=class t{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new ph,this.close=c=>new ev(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new tv(this._viewportRuler,this._document),this.reposition=c=>new iv(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}};t.\u0275fac=function(r){return new(r||t)(R(sC),R(Zb),R(q),R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ci=class{constructor(t){if(this.scrollStrategy=new ph,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var rv=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var fC=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(R(J))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hj=(()=>{let t=class t extends fC{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){let l=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(R(J),R(q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Gj=(()=>{let t=class t extends fC{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=In(s)},this._clickListener=s=>{let c=In(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){let p=d[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(c)||p.overlayElement.contains(l))break;let g=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(R(J),R(Tt),R(q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),gs=(()=>{let t=class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Ga()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),Ga()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(R(J),R(Tt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ai=class{constructor(t,i,n,r,o,s,c,l,d,f=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new Q,this._attachments=new Q,this._detachments=new Q,this._locationChanges=We.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new Q,this._outsidePointerEvents=new Q,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(le(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=O(O({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Et(O({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=se(this._config.width),t.height=se(this._config.height),t.minWidth=se(this._config.minWidth),t.minHeight=se(this._config.minHeight),t.maxWidth=se(this._config.maxWidth),t.maxHeight=se(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let r=Do(i||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(oe(kn(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},lC="cdk-overlay-connected-position-bounding-box",Wj=/([A-Za-z%]+)$/,ov=class{get positions(){return this._preferredPositions}constructor(t,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Q,this._resizeSubscription=We.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(lC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let c of this._preferredPositions){let l=this._getOriginPoint(t,r,c),d=this._getOverlayPoint(l,i,c),f=this._getOverlayFit(d,i,n,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,d,n)){o.push({position:c,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:d,originPoint:l,position:c,overlayRect:i})}if(o.length){let c=null,l=-1;for(let d of o){let f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>l&&(l=f,c=d)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(lC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:c}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,n,r){let o=uC(i),{x:s,y:c}=t,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(c+=d);let f=0-s,p=s+o.width-n.width,g=0-c,w=c+o.height-n.height,k=this._subtractOverflows(o.width,f,p),M=this._subtractOverflows(o.height,g,w),D=k*M;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:M===o.height,fitsInViewportHorizontally:k==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=dC(this._overlayRef.getConfig().minHeight),c=dC(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,d=t.fitsInViewportHorizontally||c!=null&&c<=o;return l&&d}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=uC(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),c=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),d=Math.max(o.left-n.left-t.x,0),f=0,p=0;return r.width<=o.width?f=d||-s:f=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?p=l||-c:p=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:f,y:p},{x:t.x+f,y:t.y+p}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!Kj(this._lastScrollVisibility,n)){let r=new rv(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,r=this._isRtl(),o,s,c;if(i.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")c=n.height-t.y+this._viewportMargin*2,o=n.height-c+this._viewportMargin;else{let w=Math.min(n.bottom-t.y+n.top,t.y),k=this._lastBoundingBoxSize.height;o=w*2,s=t.y-w,o>k&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-k/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,d=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,f,p,g;if(d)g=n.width-t.x+this._viewportMargin*2,f=t.x-this._viewportMargin;else if(l)p=t.x,f=n.right-t.x;else{let w=Math.min(n.right-t.x+n.left,t.x),k=this._lastBoundingBoxSize.width;f=w*2,p=t.x-w,f>k&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-k/2)}return{top:s,left:p,bottom:c,right:g,width:f,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=se(n.height),r.top=se(n.top),r.bottom=se(n.bottom),r.width=se(n.width),r.left=se(n.left),r.right=se(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=se(o)),s&&(r.maxWidth=se(s))}this._lastBoundingBoxSize=n,Zr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();Zr(n,this._getExactOverlayY(i,t,f)),Zr(n,this._getExactOverlayX(i,t,f))}else n.position="static";let c="",l=this._getOffset(i,"x"),d=this._getOffset(i,"y");l&&(c+=`translateX(${l}px) `),d&&(c+=`translateY(${d}px)`),n.transform=c.trim(),s.maxHeight&&(r?n.maxHeight=se(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=se(s.maxWidth):o&&(n.maxWidth="")),Zr(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=se(o.y);return r}_getExactOverlayX(t,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=se(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:cC(t,n),isOriginOutsideView:nv(t,n),isOverlayClipped:cC(i,n),isOverlayOutsideView:nv(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Do(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof dt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function Zr(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function dC(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(Wj);return!i||i==="px"?parseFloat(t):null}return e||null}function uC(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function Kj(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var hC="cdk-global-overlay-wrapper",sv=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(hC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",w="",k="",M="";l?M="flex-start":f==="center"?(M="center",g?k=p:w=p):g?f==="left"||f==="end"?(M="flex-end",w=p):(f==="right"||f==="start")&&(M="flex-start",k=p):f==="left"||f==="start"?(M="flex-start",w=p):(f==="right"||f==="end")&&(M="flex-end",k=p),t.position=this._cssPosition,t.marginLeft=l?"0":w,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":k,i.justifyContent=M,i.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(hC),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},Yj=(()=>{let t=class t{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new sv}flexibleConnectedTo(n){return new ov(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(R(Zb),R(J),R(Tt),R(gs))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Qj=0,we=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f,p,g,w,k){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=l,this._ngZone=d,this._document=f,this._directionality=p,this._location=g,this._outsideClickDispatcher=w,this._animationsModuleType=k}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),c=new Ci(n);return c.direction=c.direction||this._directionality.value,new Ai(s,r,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${Qj++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(Bi)),new Hc(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(R(qj),R(gs),R(ma),R(Yj),R(Hj),R(Lt),R(q),R(J),R(hi),R(rn),R(Gj),R(Xe,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Xj=new $("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let e=L(we);return()=>e.scrollStrategies.reposition()}});function Zj(e){return()=>e.scrollStrategies.reposition()}var Jj={provide:Xj,deps:[we],useFactory:Zj},Wc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({providers:[we,Jj],imports:[Ki,Gc,Jb,Jb]});let e=t;return e})();function t2(e,t){if(e&1){let i=Ie();N(0,"div",1)(1,"button",2),gt("click",function(){Yt(i);let r=_t();return Qt(r.action())}),K(2),F()()}if(e&2){let i=_t();H(2),wn(" ",i.data.action," ")}}var e2=["label"];function n2(e,t){}var i2=Math.pow(2,31)-1,Kc=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new Q,this._afterOpened=new Q,this._onAction=new Q,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,i2))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},mC=new $("MatSnackBarData"),_s=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},r2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),o2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),s2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),a2=(()=>{let t=class t{constructor(n,r){this.snackBarRef=n,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(C(Kc),C(mC))},t.\u0275cmp=it({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[st],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(N(0,"div",0),K(1),F(),ft(2,t2,3,1,"div",1)),r&2&&(H(),wn(" ",o.data.message,`
`),H(),fe(2,o.hasAction?2:-1))},dependencies:[ps,r2,o2,s2],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),c2={snackBarState:xr("state",[zi("void, hidden",on({transform:"scale(0.8)",opacity:0})),zi("visible",on({transform:"scale(1)",opacity:1})),di("* => visible",li("150ms cubic-bezier(0, 0, 0.2, 1)")),di("* => void, * => hidden",li("75ms cubic-bezier(0.4, 0.0, 1, 1)",on({opacity:0})))])},l2=0,d2=(()=>{let t=class t extends sr{constructor(n,r,o,s,c){super(),this._ngZone=n,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=c,this._document=L(J),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Q,this._onExit=new Q,this._onEnter=new Q,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${l2++}`,this.attachDomPortal=l=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},c.politeness==="assertive"&&!c.announcementMessage?this._live="assertive":c.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}onAnimationEnd(n){let{fromState:r,toState:o}=n;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(c=>n.classList.add(c)):n.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");this._trackedModals.add(s),c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(C(q),C(dt),C(_e),C(Tt),C(_s))},t.\u0275cmp=it({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Ee(ar,7),Ee(e2,7)),r&2){let s;Dt(s=kt())&&(o._portalOutlet=s.first),Dt(s=kt())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&l0("@state.done",function(c){return o.onAnimationEnd(c)}),r&2&&c0("@state",o._animationState)},standalone:!0,features:[Xt,st],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(N(0,"div",1)(1,"div",2,0)(3,"div",3),ft(4,n2,0,0,"ng-template",4),F(),rt(5,"div"),F()()),r&2&&(H(5),Vt("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[ar],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[c2.snackBarState]}});let e=t;return e})();function u2(){return new _s}var h2=new $("mat-snack-bar-default-options",{providedIn:"root",factory:u2}),_h=(()=>{let t=class t{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,r,o,s,c,l){this._overlay=n,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=a2,this.snackBarContainerComponent=d2,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",o){let s=O(O({},this._defaultConfig),o);return s.data={message:n,action:r},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=Lt.create({parent:o||this._injector,providers:[{provide:_s,useValue:r}]}),c=new Ti(this.snackBarContainerComponent,r.viewContainerRef,s),l=n.attach(c);return l.instance.snackBarConfig=r,l.instance}_attach(n,r){let o=O(O(O({},new _s),this._defaultConfig),r),s=this._createOverlay(o),c=this._attachSnackBarContainer(s,o),l=new Kc(c,s);if(n instanceof On){let d=new ni(n,null,{$implicit:o.data,snackBarRef:l});l.instance=c.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),f=new Ti(n,void 0,d),p=c.attachComponentPortal(f);l.instance=p.instance}return this._breakpointObserver.observe(qw.HandsetPortrait).pipe(oe(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration))}_createOverlay(n){let r=new Ci;r.direction=n.direction;let o=this._overlay.position().global(),s=n.direction==="rtl",c=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!c&&n.horizontalPosition!=="center";return c?o.left("0"):l?o.right("0"):o.centerHorizontally(),n.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(n,r){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Lt.create({parent:o||this._injector,providers:[{provide:Kc,useValue:r},{provide:mC,useValue:n.data}]})}};t.\u0275fac=function(r){return new(r||t)(R(we),R(Qw),R(Lt),R(wd),R(t,12),R(h2))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bs=(()=>{let t=class t{constructor(n,r){this.firestore=n,this._snackBar=r}openSnackBar(n,r){this._snackBar.open(n,r)}getNews(n,r=null,o=10){console.log("getNews called");let s=ti(this.firestore,`institutes/${n}/newsEvents`),c;return r?c=Ei(s,ch("date","desc"),Ub(r),ah(o)):c=Ei(s,ch("date","desc"),ah(o)),jb(c,{idField:"id"})}getMoreNews(n,r,o=10){return b(this,null,function*(){let s=ti(this.firestore,`institutes/${n}/newsEvents`),c=Ei(s,ch("date","desc"),Ub(r),ah(o));return console.log("Fetching more news events..."),(yield ds(c)).docs.map(d=>O({id:d.id},d.data()))})}addNews(n,r){return b(this,null,function*(){try{console.log(r);let o=ti(this.firestore,`institutes/${n}/newsEvents`);yield sh(o,r),console.log("News added successfully")}catch(o){throw this.openSnackBar("Failed to add news, please try again later","Cancel"),console.error("Error adding news:",o),new Error("Failed to add news. Please try again later.")}})}deleteNews(n,r){let o=Xr(this.firestore,`institutes/${n}/newsEvents/${r}`);return DT(o)}getNewsEventById(n,r){let o=Xr(this.firestore,`institutes/${n}/newsEvents/${r}`);return console.log(o.id),RT(o,{idField:"id"})}getNewsByTitle(n,r){let o=ti(this.firestore,`institutes/${n}/newsEvents`),s=Ei(o,us("title","==",r));return jb(s,{idField:"id"})}uploadImage(n){return b(this,null,function*(){let r=rC(),o=iC(r,`news-images/${n.name}`);return yield eC(o,n),yield nC(o)})}};t.\u0275fac=function(r){return new(r||t)(R(un),R(_h))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ii=(()=>{let t=class t{constructor(n,r){this.firestore=n,this.platformId=r,this.isLocalStorageAvailable=this.checkLocalStorageAvailability()}checkLocalStorageAvailability(){if(vo(this.platformId))try{let n="test";return localStorage.setItem(n,"testValue"),localStorage.removeItem(n),!0}catch{return!1}return!1}getCustomization(n){return b(this,null,function*(){console.log("getCustomization called");let r=this.getCachedCustomization(n);if(r)return r;let o=ti(this.firestore,"registrations"),s=Ei(o,us("subdomain","==",n)),c=yield ds(s);if(c.empty)throw new Error("Subdomain not registered");console.error(`registration found for subdomain: ${n}`);let l=c.docs.map(d=>d.data())[0];return this.cacheCustomization(n,l),l})}getCachedCustomization(n){if(this.isLocalStorageAvailable){let r=localStorage.getItem(`customization_${n}`);return r?JSON.parse(r):null}return null}cacheCustomization(n,r){this.isLocalStorageAvailable&&localStorage.setItem(`customization_${n}`,JSON.stringify(r))}getSubdomainFromUrl(){return window.location.host.split(".")[0]}};t.\u0275fac=function(r){return new(r||t)(R(un),R(Be))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function f2(e,t){if(e&1&&rt(0,"img",5),e&2){let i=_t();pt("src",i.newsItem.imageUrl,mo)}}var gC=(()=>{let t=class t{constructor(n,r,o,s){this.route=n,this.router=r,this.newsService=o,this.customizatonservice=s,this.title=""}ngOnInit(){let n=this.route.snapshot.paramMap.get("title");n?(this.title=n,this.newsService.getNewsEventById(this.customizatonservice.getSubdomainFromUrl(),this.decodeTitle(n)).subscribe(r=>{this.newsItem=r})):this.router.navigate(["/news"])}decodeTitle(n){return console.log(n.split("-").pop()),n.split("-").pop()}};t.\u0275fac=function(r){return new(r||t)(C(cn),C(be),C(bs),C(ii))},t.\u0275cmp=it({type:t,selectors:[["app-view-news"]],standalone:!0,features:[st],decls:10,vars:7,consts:[[1,"news-article-container"],[1,"news-article-header"],[1,"news-article-date"],["mat-card-image","","class","news-image",3,"src",4,"ngIf"],[1,"news-article-content",3,"innerHTML"],["mat-card-image","",1,"news-image",3,"src"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"div",1)(2,"h1"),K(3),F(),N(4,"p",2),K(5),$l(6,"date"),F()(),rt(7,"mat-divider"),ft(8,f2,1,1,"img",3),rt(9,"div",4),F()),r&2&&(H(3),Mn(o.newsItem==null?null:o.newsItem.title),H(2),Mn(h0(6,4,o.newsItem==null||o.newsItem.date==null?null:o.newsItem.date.toDate(),"fullDate")),H(3),pt("ngIf",o.newsItem.imageUrl),H(),pt("innerHTML",o.newsItem==null?null:o.newsItem.content,fo))},dependencies:[me,Nn,Kl,Mo,Yi],styles:[".news-article-container[_ngcontent-%COMP%]{max-width:800px;min-height:60vh;margin:120px auto;padding:20px;font-family:Georgia,Times New Roman,Times,serif}.news-article-container[_ngcontent-%COMP%]   .news-image[_ngcontent-%COMP%]{width:100%}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]{margin-bottom:40px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;line-height:1.2;margin-bottom:10px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   .news-article-date[_ngcontent-%COMP%]{color:#888;font-size:.9em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]{font-size:1.2em;line-height:1.6;color:#333}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:20px 0}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px;background:#f9f9f9;border-left:5px solid #ccc;font-style:italic}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f5f5f5;padding:15px;border-radius:5px;overflow-x:auto;margin-bottom:20px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f4f4f4;padding:2px 4px;border-radius:4px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:.5em}.mat-divider[_ngcontent-%COMP%]{margin:12px 0}"]});let e=t;return e})();var TC=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(C(ji),C(dt))},t.\u0275dir=tt({type:t});let e=t;return e})(),m2=(()=>{let t=class t extends TC{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ci(t)))(o||t)}})(),t.\u0275dir=tt({type:t,features:[Xt]});let e=t;return e})(),to=new $("");var p2={provide:to,useExisting:fn(()=>xs),multi:!0};function g2(){let e=bo()?bo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var _2=new $(""),xs=(()=>{let t=class t extends TC{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!g2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(C(ji),C(dt),C(_2,8))},t.\u0275dir=tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&gt("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[Zt([p2]),Xt]});let e=t;return e})();function cr(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function CC(e){return e!=null&&typeof e.length=="number"}var Is=new $(""),Ah=new $(""),b2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,vh=class{static min(t){return v2(t)}static max(t){return y2(t)}static required(t){return AC(t)}static requiredTrue(t){return w2(t)}static email(t){return x2(t)}static minLength(t){return I2(t)}static maxLength(t){return SC(t)}static pattern(t){return E2(t)}static nullValidator(t){return yh(t)}static compose(t){return MC(t)}static composeAsync(t){return NC(t)}};function v2(e){return t=>{if(cr(t.value)||cr(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function y2(e){return t=>{if(cr(t.value)||cr(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function AC(e){return cr(e.value)?{required:!0}:null}function w2(e){return e.value===!0?null:{required:!0}}function x2(e){return cr(e.value)||b2.test(e.value)?null:{email:!0}}function I2(e){return t=>cr(t.value)||!CC(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function SC(e){return t=>CC(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function E2(e){if(!e)return yh;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(cr(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function yh(e){return null}function RC(e){return e!=null}function DC(e){return Hl(e)?ce(e):e}function kC(e){let t={};return e.forEach(i=>{t=i!=null?O(O({},t),i):t}),Object.keys(t).length===0?null:t}function PC(e,t){return t.map(i=>i(e))}function T2(e){return!e.validate}function OC(e){return e.map(t=>T2(t)?t:i=>t.validate(i))}function MC(e){if(!e)return null;let t=e.filter(RC);return t.length==0?null:function(i){return kC(PC(i,t))}}function uv(e){return e!=null?MC(OC(e)):null}function NC(e){if(!e)return null;let t=e.filter(RC);return t.length==0?null:function(i){let n=PC(i,t).map(DC);return $y(n).pipe(vt(kC))}}function hv(e){return e!=null?NC(OC(e)):null}function _C(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function FC(e){return e._rawValidators}function LC(e){return e._rawAsyncValidators}function cv(e){return e?Array.isArray(e)?e:[e]:[]}function wh(e,t){return Array.isArray(e)?e.includes(t):e===t}function bC(e,t){let i=cv(t);return cv(e).forEach(r=>{wh(i,r)||i.push(r)}),i}function vC(e,t){return cv(t).filter(i=>!wh(e,i))}var xh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=uv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},Si=class extends xh{get formDirective(){return null}get path(){return null}},Ri=class extends xh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Ih=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},C2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},V8=Et(O({},C2),{"[class.ng-submitted]":"isSubmitted"}),Es=(()=>{let t=class t extends Ih{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(C(Ri,2))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&St("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xt]});let e=t;return e})(),VC=(()=>{let t=class t extends Ih{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(C(Si,10))},t.\u0275dir=tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&St("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Xt]});let e=t;return e})();var Qc="VALID",bh="INVALID",vs="PENDING",Xc="DISABLED";function fv(e){return(Sh(e)?e.validators:e)||null}function A2(e){return Array.isArray(e)?uv(e):e||null}function mv(e,t){return(Sh(t)?t.asyncValidators:e)||null}function S2(e){return Array.isArray(e)?hv(e):e||null}function Sh(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function jC(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new Nt(1e3,"");if(!n[i])throw new Nt(1001,"")}function UC(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new Nt(1002,"")})}var ys=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Qc}get invalid(){return this.status===bh}get pending(){return this.status==vs}get disabled(){return this.status===Xc}get enabled(){return this.status!==Xc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(bC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(bC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(vC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(vC(t,this._rawAsyncValidators))}hasValidator(t){return wh(this._rawValidators,t)}hasAsyncValidator(t){return wh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=vs,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Xc,this.errors=null,this._forEachChild(n=>{n.disable(Et(O({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Et(O({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Qc,this._forEachChild(n=>{n.enable(Et(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Et(O({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qc||this.status===vs)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xc:Qc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=vs,this._hasOwnPendingAsyncValidator=!0;let i=DC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new At,this.statusChanges=new At}_calculateStatus(){return this._allControlsDisabled()?Xc:this.errors?bh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vs)?vs:this._anyControlsHaveStatus(bh)?bh:Qc}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sh(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=A2(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=S2(this._rawAsyncValidators)}},ws=class extends ys{constructor(t,i,n){super(fv(i),mv(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){UC(this,!0,t),Object.keys(t).forEach(n=>{jC(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var lv=class extends ws{};var tl=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Rh}),Rh="always";function BC(e,t){return[...t.path,e]}function Eh(e,t,i=Rh){pv(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),D2(e,t),P2(e,t),k2(e,t),R2(e,t)}function yC(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Ch(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Th(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function R2(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function pv(e,t){let i=FC(e);t.validator!==null?e.setValidators(_C(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=LC(e);t.asyncValidator!==null?e.setAsyncValidators(_C(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();Th(t._rawValidators,r),Th(t._rawAsyncValidators,r)}function Ch(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=FC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=LC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return Th(t._rawValidators,n),Th(t._rawAsyncValidators,n),i}function D2(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&zC(e,t)})}function k2(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&zC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function zC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function P2(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function $C(e,t){e==null,pv(e,t)}function O2(e,t){return Ch(e,t)}function qC(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function M2(e){return Object.getPrototypeOf(e.constructor)===m2}function HC(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function GC(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(o=>{o.constructor===xs?i=o:M2(o)?n=o:r=o}),r||n||i||null}function N2(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var F2={provide:Si,useExisting:fn(()=>gv)},Zc=Promise.resolve(),gv=(()=>{let t=class t extends Si{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new At,this.form=new ws({},uv(n),hv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Zc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Eh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Zc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Zc.then(()=>{let r=this._findContainer(n.path),o=new ws({});$C(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Zc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Zc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,HC(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(C(Is,10),C(Ah,10),C(tl,8))},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&gt("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[nt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([F2]),Xt]});let e=t;return e})();function wC(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function xC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Jc=class extends ys{constructor(t=null,i,n){super(fv(i),mv(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sh(i)&&(i.nonNullable||i.initialValueIsDefault)&&(xC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){wC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){wC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){xC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var L2=e=>e instanceof Jc;var V2={provide:Ri,useExisting:fn(()=>el)},IC=Promise.resolve(),el=(()=>{let t=class t extends Ri{constructor(n,r,o,s,c,l){super(),this._changeDetectorRef=c,this.callSetDisabledState=l,this.control=new Jc,this._registered=!1,this.name="",this.update=new At,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=GC(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),qC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Eh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){IC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&Te(r);IC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?BC(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(C(Si,9),C(Is,10),C(Ah,10),C(to,10),C(_e,8),C(tl,8))},t.\u0275dir=tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[nt.None,"disabled","isDisabled"],model:[nt.None,"ngModel","model"],options:[nt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zt([V2]),Xt,Ue]});let e=t;return e})(),WC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var KC=new $("");var j2={provide:Si,useExisting:fn(()=>nl)},nl=(()=>{let t=class t extends Si{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new At,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ch(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Eh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){yC(n.control||null,n,!1),N2(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,HC(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(yC(r||null,n),L2(o)&&(Eh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);$C(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&O2(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pv(this.form,this),this._oldForm&&Ch(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(C(Is,10),C(Ah,10),C(tl,8))},t.\u0275dir=tt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&gt("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[nt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zt([j2]),Xt,Ue]});let e=t;return e})();var U2={provide:Ri,useExisting:fn(()=>_v)},_v=(()=>{let t=class t extends Ri{set isDisabled(n){}constructor(n,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new At,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=GC(this,s)}ngOnChanges(n){this._added||this._setUpControl(),qC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return BC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(C(Si,13),C(Is,10),C(Ah,10),C(to,10),C(KC,8))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""]],inputs:{name:[nt.None,"formControlName","name"],isDisabled:[nt.None,"disabled","isDisabled"],model:[nt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zt([U2]),Xt,Ue]});let e=t;return e})();function B2(e){return typeof e=="number"?e:parseInt(e,10)}var YC=(()=>{let t=class t{constructor(){this._validator=yh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):yh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,features:[Ue]});let e=t;return e})();var z2={provide:Is,useExisting:fn(()=>bv),multi:!0};var bv=(()=>{let t=class t extends YC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Te,this.createValidator=n=>AC}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ci(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Vt("required",o._enabled?"":null)},inputs:{required:"required"},features:[Zt([z2]),Xt]});let e=t;return e})();var $2={provide:Is,useExisting:fn(()=>vv),multi:!0},vv=(()=>{let t=class t extends YC{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>B2(n),this.createValidator=n=>SC(n)}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ci(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Vt("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Zt([$2]),Xt]});let e=t;return e})();var QC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({});let e=t;return e})(),dv=class extends ys{constructor(t,i,n){super(fv(i),mv(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){UC(this,!1,t),t.forEach((n,r)=>{jC(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function EC(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var XC=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return EC(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new ws(o,s)}record(n,r=null){let o=this._reduceControls(n);return new lv(o,r)}control(n,r,o){let s={};return this.useNonNullable?(EC(r)?s=r:(s.validators=r,s.asyncValidators=o),new Jc(n,Et(O({},s),{nonNullable:!0}))):new Jc(n,r,o)}array(n,r,o){let s=n.map(c=>this._createControl(c));return new dv(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Jc)return n;if(n instanceof ys)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Ts=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:tl,useValue:n.callSetDisabledState??Rh}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[QC]});let e=t;return e})(),ZC=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:KC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:tl,useValue:n.callSetDisabledState??Rh}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[QC]});let e=t;return e})();var yv=class{constructor(t){this._box=t,this._destroyed=new Q,this._resizeSubject=new Q,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ke(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ot(i=>i.some(n=>n.target===t)),Qf({bufferSize:1,refCount:!0}),oe(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},JC=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=L(q),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new yv(o)),this._observers.get(o).observe(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var q2=["notch"],H2=["matFormFieldNotchedOutline",""],G2=["*"],W2=["textField"],K2=["iconPrefixContainer"],Y2=["textPrefixContainer"],Q2=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],X2=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Z2(e,t){e&1&&rt(0,"span",17)}function J2(e,t){if(e&1&&(N(0,"label",16),Mt(1,1),ft(2,Z2,1,0,"span",17),F()),e&2){let i=_t(2);pt("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Vt("for",i._control.disableAutomaticLabeling?null:i._control.id),H(2),fe(2,!i.hideRequiredMarker&&i._control.required?2:-1)}}function tU(e,t){if(e&1&&ft(0,J2,3,5,"label",16),e&2){let i=_t();fe(0,i._hasFloatingLabel()?0:-1)}}function eU(e,t){e&1&&rt(0,"div",5)}function nU(e,t){}function iU(e,t){if(e&1&&ft(0,nU,0,0,"ng-template",11),e&2){_t(2);let i=pa(1);pt("ngTemplateOutlet",i)}}function rU(e,t){if(e&1&&(N(0,"div",7),ft(1,iU,1,1,null,11),F()),e&2){let i=_t();pt("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),H(),fe(1,i._forceDisplayInfixLabel()?-1:1)}}function oU(e,t){e&1&&(N(0,"div",8,2),Mt(2,2),F())}function sU(e,t){e&1&&(N(0,"div",9,3),Mt(2,3),F())}function aU(e,t){}function cU(e,t){if(e&1&&ft(0,aU,0,0,"ng-template",11),e&2){_t();let i=pa(1);pt("ngTemplateOutlet",i)}}function lU(e,t){e&1&&(N(0,"div",12),Mt(1,4),F())}function dU(e,t){e&1&&(N(0,"div",13),Mt(1,5),F())}function uU(e,t){e&1&&rt(0,"div",14)}function hU(e,t){if(e&1&&(N(0,"div",18),Mt(1,6),F()),e&2){let i=_t();pt("@transitionMessages",i._subscriptAnimationState)}}function fU(e,t){if(e&1&&(N(0,"mat-hint",20),K(1),F()),e&2){let i=_t(2);pt("id",i._hintLabelId),H(),Mn(i.hintLabel)}}function mU(e,t){if(e&1&&(N(0,"div",19),ft(1,fU,2,2,"mat-hint",20),Mt(2,7),rt(3,"div",21),Mt(4,8),F()),e&2){let i=_t();pt("@transitionMessages",i._subscriptAnimationState),H(),fe(1,i.hintLabel?1:-1)}}var Ph=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var pU=new $("MatError");var gU=0,Oh=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${gU++}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(wr("id",o.id),Vt("align",null),St("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),_U=new $("MatPrefix");var bU=new $("MatSuffix");var aA=new $("FloatingLabelParent"),tA=(()=>{let t=class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=L(JC),this._ngZone=L(q),this._parent=L(aA),this._resizeSubscription=new We}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return vU(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(r){return new(r||t)(C(dt))},t.\u0275dir=tt({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&St("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function vU(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var eA="mdc-line-ripple--active",kh="mdc-line-ripple--deactivating",nA=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(kh);o.propertyName==="opacity"&&c&&s.remove(eA,kh)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(kh),n.add(eA)}deactivate(){this._elementRef.nativeElement.classList.add(kh)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(q))},t.\u0275dir=tt({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),iA=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(q))},t.\u0275cmp=it({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&Ee(q2,5),r&2){let s;Dt(s=kt())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&St("mdc-notched-outline--notched",o.open)},inputs:{open:[nt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[st],attrs:H2,ngContentSelectors:G2,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(ze(),rt(0,"div",1),N(1,"div",2,0),Mt(3),F(),rt(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),yU={transitionMessages:xr("transitionMessages",[zi("enter",on({opacity:1,transform:"translateY(0%)"})),di("void => enter",[on({opacity:0,transform:"translateY(-5px)"}),li("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},wv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t});let e=t;return e})();var xv=new $("MatFormField"),wU=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),rA=0,oA="fill",xU="auto",sA="fixed",IU="translateY(-50%)",cA=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=Vn(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||xU}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let r=this._appearance,o=n||this._defaults?.appearance||oA;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||sA}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||sA}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,o,s,c,l,d,f){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=c,this._defaults=l,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance=oA,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${rA++}`,this._hintLabelId=`mat-mdc-hint-${rA++}`,this._subscriptAnimationState="",this._destroyed=new Q,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(oe(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),kn(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(oe(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(oe(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){let r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+c}px`,p=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${IU} translateX(${p})
    )`}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(_e),C(q),C(hi),C(Tt),C(wU,8),C(Xe,8),C(J))},t.\u0275cmp=it({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&($e(s,Ph,5),$e(s,Ph,7),$e(s,wv,5),$e(s,_U,5),$e(s,bU,5),$e(s,pU,5),$e(s,Oh,5)),r&2){let c;Dt(c=kt())&&(o._labelChildNonStatic=c.first),Dt(c=kt())&&(o._labelChildStatic=c.first),Dt(c=kt())&&(o._formFieldControl=c.first),Dt(c=kt())&&(o._prefixChildren=c),Dt(c=kt())&&(o._suffixChildren=c),Dt(c=kt())&&(o._errorChildren=c),Dt(c=kt())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(Ee(W2,5),Ee(K2,5),Ee(Y2,5),Ee(tA,5),Ee(iA,5),Ee(nA,5)),r&2){let s;Dt(s=kt())&&(o._textField=s.first),Dt(s=kt())&&(o._iconPrefixContainer=s.first),Dt(s=kt())&&(o._textPrefixContainer=s.first),Dt(s=kt())&&(o._floatingLabel=s.first),Dt(s=kt())&&(o._notchedOutline=s.first),Dt(s=kt())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&St("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Zt([{provide:xv,useExisting:t},{provide:aA,useExisting:t}]),st],ngContentSelectors:X2,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Ie();ze(Q2),ft(0,tU,1,1,"ng-template",null,0,f0),N(2,"div",4,1),gt("click",function(l){return Yt(s),Qt(o._control.onContainerClick(l))}),ft(4,eU,1,0,"div",5),N(5,"div",6),ft(6,rU,2,2,"div",7)(7,oU,3,0,"div",8)(8,sU,3,0,"div",9),N(9,"div",10),ft(10,cU,1,1,null,11),Mt(11),F(),ft(12,lU,2,0,"div",12)(13,dU,2,0,"div",13),F(),ft(14,uU,1,0,"div",14),F(),N(15,"div",15),ft(16,hU,2,1)(17,mU,5,2),F()}if(r&2){let s;H(2),St("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),H(2),fe(4,!o._hasOutline()&&!o._control.disabled?4:-1),H(2),fe(6,o._hasOutline()?6:-1),H(),fe(7,o._hasIconPrefix?7:-1),H(),fe(8,o._hasTextPrefix?8:-1),H(2),fe(10,!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),H(2),fe(12,o._hasTextSuffix?12:-1),H(),fe(13,o._hasIconSuffix?13:-1),H(),fe(14,o._hasOutline()?-1:14),H(),St("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),H(),fe(16,(s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[tA,iA,T0,nA,Oh],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[yU.transitionMessages]},changeDetection:0});let e=t;return e})(),il=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,me,Bw,Gt]});let e=t;return e})();var lA=jn({passive:!0}),dA=(()=>{let t=class t{constructor(n,r){this._platform=n,this._ngZone=r,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Dn;let r=gn(n),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new Q,c="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,lA),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,lA)}}),s}stopMonitoring(n){let r=gn(n),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((n,r)=>this.stopMonitoring(r))}};t.\u0275fac=function(r){return new(r||t)(R(Tt),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var uA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({});let e=t;return e})();var CU=new $("MAT_INPUT_VALUE_ACCESSOR"),AU=["button","checkbox","file","hidden","image","radio","range","reset","submit"],SU=0,hA=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){this._disabled=Vn(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(vh.required)??!1}set required(n){this._required=Vn(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&rp().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=Vn(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,o,s,c,l,d,f,p,g){this._elementRef=n,this._platform=r,this.ngControl=o,this._autofillMonitor=f,this._formField=g,this._uid=`mat-input-${SU++}`,this.focused=!1,this.stateChanges=new Q,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(M=>rp().has(M)),this._iOSKeyupListener=M=>{let D=M.target;!D.value&&D.selectionStart===0&&D.selectionEnd===0&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))};let w=this._elementRef.nativeElement,k=w.nodeName.toLowerCase();this._inputValueAccessor=d||w,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&p.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Rd(l,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=k==="select",this._isTextarea=k==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=w.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){AU.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,r=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Tt),C(Ri,10),C(gv,8),C(nl,8),C(sx),C(CU,10),C(dA),C(q),C(xv,8))},t.\u0275dir=tt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&gt("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(wr("id",o.id)("disabled",o.disabled)("required",o.required),Vt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),St("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[nt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[Zt([{provide:wv,useExisting:t}]),Ue]});let e=t;return e})(),fA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,il,il,uA,Gt]});let e=t;return e})();var DU=["*"];var kU=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],PU=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],OU=new $("MAT_CARD_CONFIG"),Mh=(()=>{let t=class t{constructor(n){this.appearance=n?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(C(OU,8))},t.\u0275cmp=it({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&St("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[st],ngContentSelectors:DU,decls:1,vars:0,template:function(r,o){r&1&&(ze(),Mt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),Nh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var Fh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),mA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})(),pA=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&St("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),Lh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=it({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[st],ngContentSelectors:PU,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(ze(kU),Mt(0),N(1,"div",0),Mt(2,1),F(),Mt(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var gA=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var Vh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,me,Gt]});let e=t;return e})();var Cs=class{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{let n="error"in i?i.error:i.reason;n instanceof Error&&this._handleError(n,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,i){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(i)}off(t,i){this._listeners[t]=this._listeners[t].filter(n=>n!==i)}_fire(t,...i){let n=this._listeners[t]||[];for(let r of n)r.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,i){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});let n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;let t=this.crashes[this.crashes.length-1].date,i=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-i)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}};function rl(e,t=new Set){let i=[e],n=new Set,r=0;for(;i.length>r;){let o=i[r++];if(!(n.has(o)||!MU(o)||t.has(o)))if(n.add(o),Symbol.iterator in o)try{for(let s of o)i.push(s)}catch{}else for(let s in o)s!=="defaultValue"&&i.push(o[s])}return n}function MU(e){let t=Object.prototype.toString.call(e),i=typeof e;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function jh(e,t,i=new Set){if(e===t&&NU(e))return!0;let n=rl(e,i),r=rl(t,i);for(let o of n)if(r.has(o))return!0;return!1}function NU(e){return typeof e=="object"&&e!==null}var FU=typeof global=="object"&&global&&global.Object===Object&&global,Uh=FU;var LU=typeof self=="object"&&self&&self.Object===Object&&self,VU=Uh||LU||Function("return this")(),re=VU;var jU=re.Symbol,Di=jU;var bA=Object.prototype,UU=bA.hasOwnProperty,BU=bA.toString,ol=Di?Di.toStringTag:void 0;function zU(e){var t=UU.call(e,ol),i=e[ol];try{e[ol]=void 0;var n=!0}catch{}var r=BU.call(e);return n&&(t?e[ol]=i:delete e[ol]),r}var vA=zU;var $U=Object.prototype,qU=$U.toString;function HU(e){return qU.call(e)}var yA=HU;var GU="[object Null]",WU="[object Undefined]",wA=Di?Di.toStringTag:void 0;function KU(e){return e==null?e===void 0?WU:GU:wA&&wA in Object(e)?vA(e):yA(e)}var hn=KU;function YU(e){return e!=null&&typeof e=="object"}var Ne=YU;var QU="[object Symbol]";function XU(e){return typeof e=="symbol"||Ne(e)&&hn(e)==QU}var xA=XU;var ZU=Array.isArray,As=ZU;var JU=/\s/;function tB(e){for(var t=e.length;t--&&JU.test(e.charAt(t)););return t}var IA=tB;var eB=/^\s+/;function nB(e){return e&&e.slice(0,IA(e)+1).replace(eB,"")}var EA=nB;function iB(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Se=iB;var TA=NaN,rB=/^[-+]0x[0-9a-f]+$/i,oB=/^0b[01]+$/i,sB=/^0o[0-7]+$/i,aB=parseInt;function cB(e){if(typeof e=="number")return e;if(xA(e))return TA;if(Se(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Se(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=EA(e);var i=oB.test(e);return i||sB.test(e)?aB(e.slice(2),i?2:8):rB.test(e)?TA:+e}var Iv=cB;var lB="[object AsyncFunction]",dB="[object Function]",uB="[object GeneratorFunction]",hB="[object Proxy]";function fB(e){if(!Se(e))return!1;var t=hn(e);return t==dB||t==uB||t==lB||t==hB}var Bh=fB;var mB=re["__core-js_shared__"],zh=mB;var CA=function(){var e=/[^.]+$/.exec(zh&&zh.keys&&zh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pB(e){return!!CA&&CA in e}var AA=pB;var gB=Function.prototype,_B=gB.toString;function bB(e){if(e!=null){try{return _B.call(e)}catch{}try{return e+""}catch{}}return""}var ki=bB;var vB=/[\\^$.*+?()[\]{}|]/g,yB=/^\[object .+?Constructor\]$/,wB=Function.prototype,xB=Object.prototype,IB=wB.toString,EB=xB.hasOwnProperty,TB=RegExp("^"+IB.call(EB).replace(vB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function CB(e){if(!Se(e)||AA(e))return!1;var t=Bh(e)?TB:yB;return t.test(ki(e))}var SA=CB;function AB(e,t){return e?.[t]}var RA=AB;function SB(e,t){var i=RA(e,t);return SA(i)?i:void 0}var Je=SB;var RB=Je(re,"WeakMap"),$h=RB;var DA=Object.create,DB=function(){function e(){}return function(t){if(!Se(t))return{};if(DA)return DA(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),kA=DB;function kB(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var PA=kB;var PB=function(){try{var e=Je(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ev=PB;function OB(e,t){for(var i=-1,n=e==null?0:e.length;++i<n&&t(e[i],i,e)!==!1;);return e}var OA=OB;var MB=9007199254740991,NB=/^(?:0|[1-9]\d*)$/;function FB(e,t){var i=typeof e;return t=t??MB,!!t&&(i=="number"||i!="symbol"&&NB.test(e))&&e>-1&&e%1==0&&e<t}var MA=FB;function LB(e,t,i){t=="__proto__"&&Ev?Ev(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var qh=LB;function VB(e,t){return e===t||e!==e&&t!==t}var Hh=VB;var jB=Object.prototype,UB=jB.hasOwnProperty;function BB(e,t,i){var n=e[t];(!(UB.call(e,t)&&Hh(n,i))||i===void 0&&!(t in e))&&qh(e,t,i)}var Gh=BB;function zB(e,t,i,n){var r=!i;i||(i={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=n?n(i[c],e[c],c,i,e):void 0;l===void 0&&(l=e[c]),r?qh(i,c,l):Gh(i,c,l)}return i}var lr=zB;var $B=9007199254740991;function qB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$B}var Wh=qB;function HB(e){return e!=null&&Wh(e.length)&&!Bh(e)}var Kh=HB;var GB=Object.prototype;function WB(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||GB;return e===i}var Ss=WB;function KB(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var NA=KB;var YB="[object Arguments]";function QB(e){return Ne(e)&&hn(e)==YB}var Tv=QB;var FA=Object.prototype,XB=FA.hasOwnProperty,ZB=FA.propertyIsEnumerable,JB=Tv(function(){return arguments}())?Tv:function(e){return Ne(e)&&XB.call(e,"callee")&&!ZB.call(e,"callee")},LA=JB;function tz(){return!1}var VA=tz;var BA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jA=BA&&typeof module=="object"&&module&&!module.nodeType&&module,ez=jA&&jA.exports===BA,UA=ez?re.Buffer:void 0,nz=UA?UA.isBuffer:void 0,iz=nz||VA,Yh=iz;var rz="[object Arguments]",oz="[object Array]",sz="[object Boolean]",az="[object Date]",cz="[object Error]",lz="[object Function]",dz="[object Map]",uz="[object Number]",hz="[object Object]",fz="[object RegExp]",mz="[object Set]",pz="[object String]",gz="[object WeakMap]",_z="[object ArrayBuffer]",bz="[object DataView]",vz="[object Float32Array]",yz="[object Float64Array]",wz="[object Int8Array]",xz="[object Int16Array]",Iz="[object Int32Array]",Ez="[object Uint8Array]",Tz="[object Uint8ClampedArray]",Cz="[object Uint16Array]",Az="[object Uint32Array]",$t={};$t[vz]=$t[yz]=$t[wz]=$t[xz]=$t[Iz]=$t[Ez]=$t[Tz]=$t[Cz]=$t[Az]=!0;$t[rz]=$t[oz]=$t[_z]=$t[sz]=$t[bz]=$t[az]=$t[cz]=$t[lz]=$t[dz]=$t[uz]=$t[hz]=$t[fz]=$t[mz]=$t[pz]=$t[gz]=!1;function Sz(e){return Ne(e)&&Wh(e.length)&&!!$t[hn(e)]}var zA=Sz;function Rz(e){return function(t){return e(t)}}var Rs=Rz;var $A=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sl=$A&&typeof module=="object"&&module&&!module.nodeType&&module,Dz=sl&&sl.exports===$A,Cv=Dz&&Uh.process,kz=function(){try{var e=sl&&sl.require&&sl.require("util").types;return e||Cv&&Cv.binding&&Cv.binding("util")}catch{}}(),Pi=kz;var qA=Pi&&Pi.isTypedArray,Pz=qA?Rs(qA):zA,HA=Pz;var Oz=Object.prototype,Mz=Oz.hasOwnProperty;function Nz(e,t){var i=As(e),n=!i&&LA(e),r=!i&&!n&&Yh(e),o=!i&&!n&&!r&&HA(e),s=i||n||r||o,c=s?NA(e.length,String):[],l=c.length;for(var d in e)(t||Mz.call(e,d))&&!(s&&(d=="length"||r&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||MA(d,l)))&&c.push(d);return c}var Qh=Nz;function Fz(e,t){return function(i){return e(t(i))}}var Xh=Fz;var Lz=Xh(Object.keys,Object),GA=Lz;var Vz=Object.prototype,jz=Vz.hasOwnProperty;function Uz(e){if(!Ss(e))return GA(e);var t=[];for(var i in Object(e))jz.call(e,i)&&i!="constructor"&&t.push(i);return t}var WA=Uz;function Bz(e){return Kh(e)?Qh(e):WA(e)}var Ds=Bz;function zz(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var KA=zz;var $z=Object.prototype,qz=$z.hasOwnProperty;function Hz(e){if(!Se(e))return KA(e);var t=Ss(e),i=[];for(var n in e)n=="constructor"&&(t||!qz.call(e,n))||i.push(n);return i}var YA=Hz;function Gz(e){return Kh(e)?Qh(e,!0):YA(e)}var ks=Gz;var Wz=Je(Object,"create"),Oi=Wz;function Kz(){this.__data__=Oi?Oi(null):{},this.size=0}var QA=Kz;function Yz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var XA=Yz;var Qz="__lodash_hash_undefined__",Xz=Object.prototype,Zz=Xz.hasOwnProperty;function Jz(e){var t=this.__data__;if(Oi){var i=t[e];return i===Qz?void 0:i}return Zz.call(t,e)?t[e]:void 0}var ZA=Jz;var t4=Object.prototype,e4=t4.hasOwnProperty;function n4(e){var t=this.__data__;return Oi?t[e]!==void 0:e4.call(t,e)}var JA=n4;var i4="__lodash_hash_undefined__";function r4(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=Oi&&t===void 0?i4:t,this}var tS=r4;function Ps(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Ps.prototype.clear=QA;Ps.prototype.delete=XA;Ps.prototype.get=ZA;Ps.prototype.has=JA;Ps.prototype.set=tS;var Av=Ps;function o4(){this.__data__=[],this.size=0}var eS=o4;function s4(e,t){for(var i=e.length;i--;)if(Hh(e[i][0],t))return i;return-1}var dr=s4;var a4=Array.prototype,c4=a4.splice;function l4(e){var t=this.__data__,i=dr(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():c4.call(t,i,1),--this.size,!0}var nS=l4;function d4(e){var t=this.__data__,i=dr(t,e);return i<0?void 0:t[i][1]}var iS=d4;function u4(e){return dr(this.__data__,e)>-1}var rS=u4;function h4(e,t){var i=this.__data__,n=dr(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}var oS=h4;function Os(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Os.prototype.clear=eS;Os.prototype.delete=nS;Os.prototype.get=iS;Os.prototype.has=rS;Os.prototype.set=oS;var ur=Os;var f4=Je(re,"Map"),hr=f4;function m4(){this.size=0,this.__data__={hash:new Av,map:new(hr||ur),string:new Av}}var sS=m4;function p4(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var aS=p4;function g4(e,t){var i=e.__data__;return aS(t)?i[typeof t=="string"?"string":"hash"]:i.map}var fr=g4;function _4(e){var t=fr(this,e).delete(e);return this.size-=t?1:0,t}var cS=_4;function b4(e){return fr(this,e).get(e)}var lS=b4;function v4(e){return fr(this,e).has(e)}var dS=v4;function y4(e,t){var i=fr(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}var uS=y4;function Ms(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Ms.prototype.clear=sS;Ms.prototype.delete=cS;Ms.prototype.get=lS;Ms.prototype.has=dS;Ms.prototype.set=uS;var hS=Ms;function w4(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}var Zh=w4;var x4=Xh(Object.getPrototypeOf,Object),Ns=x4;var I4="[object Object]",E4=Function.prototype,T4=Object.prototype,fS=E4.toString,C4=T4.hasOwnProperty,A4=fS.call(Object);function S4(e){if(!Ne(e)||hn(e)!=I4)return!1;var t=Ns(e);if(t===null)return!0;var i=C4.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&fS.call(i)==A4}var mS=S4;function R4(){this.__data__=new ur,this.size=0}var pS=R4;function D4(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var gS=D4;function k4(e){return this.__data__.get(e)}var _S=k4;function P4(e){return this.__data__.has(e)}var bS=P4;var O4=200;function M4(e,t){var i=this.__data__;if(i instanceof ur){var n=i.__data__;if(!hr||n.length<O4-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new hS(n)}return i.set(e,t),this.size=i.size,this}var vS=M4;function Fs(e){var t=this.__data__=new ur(e);this.size=t.size}Fs.prototype.clear=pS;Fs.prototype.delete=gS;Fs.prototype.get=_S;Fs.prototype.has=bS;Fs.prototype.set=vS;var yS=Fs;function N4(e,t){return e&&lr(t,Ds(t),e)}var wS=N4;function F4(e,t){return e&&lr(t,ks(t),e)}var xS=F4;var CS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IS=CS&&typeof module=="object"&&module&&!module.nodeType&&module,L4=IS&&IS.exports===CS,ES=L4?re.Buffer:void 0,TS=ES?ES.allocUnsafe:void 0;function V4(e,t){if(t)return e.slice();var i=e.length,n=TS?TS(i):new e.constructor(i);return e.copy(n),n}var AS=V4;function j4(e,t){for(var i=-1,n=e==null?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}var SS=j4;function U4(){return[]}var Jh=U4;var B4=Object.prototype,z4=B4.propertyIsEnumerable,RS=Object.getOwnPropertySymbols,$4=RS?function(e){return e==null?[]:(e=Object(e),SS(RS(e),function(t){return z4.call(e,t)}))}:Jh,Ls=$4;function q4(e,t){return lr(e,Ls(e),t)}var DS=q4;var H4=Object.getOwnPropertySymbols,G4=H4?function(e){for(var t=[];e;)Zh(t,Ls(e)),e=Ns(e);return t}:Jh,tf=G4;function W4(e,t){return lr(e,tf(e),t)}var kS=W4;function K4(e,t,i){var n=t(e);return As(e)?n:Zh(n,i(e))}var ef=K4;function Y4(e){return ef(e,Ds,Ls)}var PS=Y4;function Q4(e){return ef(e,ks,tf)}var OS=Q4;var X4=Je(re,"DataView"),nf=X4;var Z4=Je(re,"Promise"),rf=Z4;var J4=Je(re,"Set"),of=J4;var MS="[object Map]",t$="[object Object]",NS="[object Promise]",FS="[object Set]",LS="[object WeakMap]",VS="[object DataView]",e$=ki(nf),n$=ki(hr),i$=ki(rf),r$=ki(of),o$=ki($h),eo=hn;(nf&&eo(new nf(new ArrayBuffer(1)))!=VS||hr&&eo(new hr)!=MS||rf&&eo(rf.resolve())!=NS||of&&eo(new of)!=FS||$h&&eo(new $h)!=LS)&&(eo=function(e){var t=hn(e),i=t==t$?e.constructor:void 0,n=i?ki(i):"";if(n)switch(n){case e$:return VS;case n$:return MS;case i$:return NS;case r$:return FS;case o$:return LS}return t});var Vs=eo;var s$=Object.prototype,a$=s$.hasOwnProperty;function c$(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&a$.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var jS=c$;var l$=re.Uint8Array,Sv=l$;function d$(e){var t=new e.constructor(e.byteLength);return new Sv(t).set(new Sv(e)),t}var js=d$;function u$(e,t){var i=t?js(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var US=u$;var h$=/\w*$/;function f$(e){var t=new e.constructor(e.source,h$.exec(e));return t.lastIndex=e.lastIndex,t}var BS=f$;var zS=Di?Di.prototype:void 0,$S=zS?zS.valueOf:void 0;function m$(e){return $S?Object($S.call(e)):{}}var qS=m$;function p$(e,t){var i=t?js(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var HS=p$;var g$="[object Boolean]",_$="[object Date]",b$="[object Map]",v$="[object Number]",y$="[object RegExp]",w$="[object Set]",x$="[object String]",I$="[object Symbol]",E$="[object ArrayBuffer]",T$="[object DataView]",C$="[object Float32Array]",A$="[object Float64Array]",S$="[object Int8Array]",R$="[object Int16Array]",D$="[object Int32Array]",k$="[object Uint8Array]",P$="[object Uint8ClampedArray]",O$="[object Uint16Array]",M$="[object Uint32Array]";function N$(e,t,i){var n=e.constructor;switch(t){case E$:return js(e);case g$:case _$:return new n(+e);case T$:return US(e,i);case C$:case A$:case S$:case R$:case D$:case k$:case P$:case O$:case M$:return HS(e,i);case b$:return new n;case v$:case x$:return new n(e);case y$:return BS(e);case w$:return new n;case I$:return qS(e)}}var GS=N$;function F$(e){return typeof e.constructor=="function"&&!Ss(e)?kA(Ns(e)):{}}var WS=F$;var L$="[object Map]";function V$(e){return Ne(e)&&Vs(e)==L$}var KS=V$;var YS=Pi&&Pi.isMap,j$=YS?Rs(YS):KS,QS=j$;var U$="[object Set]";function B$(e){return Ne(e)&&Vs(e)==U$}var XS=B$;var ZS=Pi&&Pi.isSet,z$=ZS?Rs(ZS):XS,JS=z$;var $$=1,q$=2,H$=4,tR="[object Arguments]",G$="[object Array]",W$="[object Boolean]",K$="[object Date]",Y$="[object Error]",eR="[object Function]",Q$="[object GeneratorFunction]",X$="[object Map]",Z$="[object Number]",nR="[object Object]",J$="[object RegExp]",tq="[object Set]",eq="[object String]",nq="[object Symbol]",iq="[object WeakMap]",rq="[object ArrayBuffer]",oq="[object DataView]",sq="[object Float32Array]",aq="[object Float64Array]",cq="[object Int8Array]",lq="[object Int16Array]",dq="[object Int32Array]",uq="[object Uint8Array]",hq="[object Uint8ClampedArray]",fq="[object Uint16Array]",mq="[object Uint32Array]",Bt={};Bt[tR]=Bt[G$]=Bt[rq]=Bt[oq]=Bt[W$]=Bt[K$]=Bt[sq]=Bt[aq]=Bt[cq]=Bt[lq]=Bt[dq]=Bt[X$]=Bt[Z$]=Bt[nR]=Bt[J$]=Bt[tq]=Bt[eq]=Bt[nq]=Bt[uq]=Bt[hq]=Bt[fq]=Bt[mq]=!0;Bt[Y$]=Bt[eR]=Bt[iq]=!1;function sf(e,t,i,n,r,o){var s,c=t&$$,l=t&q$,d=t&H$;if(i&&(s=r?i(e,n,r,o):i(e)),s!==void 0)return s;if(!Se(e))return e;var f=As(e);if(f){if(s=jS(e),!c)return PA(e,s)}else{var p=Vs(e),g=p==eR||p==Q$;if(Yh(e))return AS(e,c);if(p==nR||p==tR||g&&!r){if(s=l||g?{}:WS(e),!c)return l?kS(e,xS(s,e)):DS(e,wS(s,e))}else{if(!Bt[p])return r?e:{};s=GS(e,p,c)}}o||(o=new yS);var w=o.get(e);if(w)return w;o.set(e,s),JS(e)?e.forEach(function(D){s.add(sf(D,t,i,D,e,o))}):QS(e)&&e.forEach(function(D,z){s.set(z,sf(D,t,i,z,e,o))});var k=d?l?OS:PS:l?ks:Ds,M=f?void 0:k(e);return OA(M||e,function(D,z){M&&(z=D,D=e[z]),Gh(s,z,sf(D,t,i,z,e,o))}),s}var iR=sf;var pq=1,gq=4;function _q(e,t){return t=typeof t=="function"?t:void 0,iR(e,pq|gq,t)}var Rv=_q;var bq=function(){return re.Date.now()},af=bq;var vq="Expected a function",yq=Math.max,wq=Math.min;function xq(e,t,i){var n,r,o,s,c,l,d=0,f=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(vq);t=Iv(t)||0,Se(i)&&(f=!!i.leading,p="maxWait"in i,o=p?yq(Iv(i.maxWait)||0,t):o,g="trailing"in i?!!i.trailing:g);function w(Z){var x=n,_=r;return n=r=void 0,d=Z,s=e.apply(_,x),s}function k(Z){return d=Z,c=setTimeout(z,t),f?w(Z):s}function M(Z){var x=Z-l,_=Z-d,v=t-x;return p?wq(v,o-_):v}function D(Z){var x=Z-l,_=Z-d;return l===void 0||x>=t||x<0||p&&_>=o}function z(){var Z=af();if(D(Z))return Y(Z);c=setTimeout(z,M(Z))}function Y(Z){return c=void 0,g&&n?w(Z):(n=r=void 0,s)}function et(){c!==void 0&&clearTimeout(c),d=0,n=l=r=c=void 0}function ht(){return c===void 0?s:Y(af())}function qt(){var Z=af(),x=D(Z);if(n=arguments,r=this,l=Z,x){if(c===void 0)return k(l);if(p)return clearTimeout(c),c=setTimeout(z,t),w(l)}return c===void 0&&(c=setTimeout(z,t)),s}return qt.cancel=et,qt.flush=ht,qt}var rR=xq;function Iq(e){return Ne(e)&&e.nodeType===1&&!mS(e)}var cf=Iq;var Eq="Expected a function";function Tq(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(Eq);return Se(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),rR(e,t,{leading:n,maxWait:t,trailing:r})}var Dv=Tq;var Us=class extends Cs{constructor(t,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Dv(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),t&&(this._creator=(n,r)=>t.create(n,r)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{let t={},i=[],n=this._config.rootsAttributes||{},r={};for(let[s,c]of Object.entries(this._data.roots))c.isLoaded?(t[s]="",r[s]=n[s]||{}):i.push(s);let o=Et(O({},this._config),{extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:r,_watchdogInitialData:this._data});return delete o.initialData,o.extraPlugins.push(kv),this._initUsingData?this.create(t,o,o.context):cf(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,i=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=n,this._creator(t,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();let t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){let t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){let t=this._editor,i=t.model.document.roots.filter(c=>c.isAttached()&&c.rootName!="$graveyard"),{plugins:n}=t,r=n.has("CommentsRepository")&&n.get("CommentsRepository"),o=n.has("TrackChanges")&&n.get("TrackChanges"),s={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(c=>{s.roots[c.rootName]={content:JSON.stringify(Array.from(c.getChildren())),attributes:JSON.stringify(Array.from(c.getAttributes())),isLoaded:c._isLoaded}});for(let c of t.model.markers)c._affectsData&&(s.markers[c.name]={rangeJSON:c.getRange().toJSON(),usingOperation:c._managedUsingOperations,affectsData:c._affectsData});return r&&(s.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(s.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),s}_getEditables(){let t={};for(let i of this.editor.model.document.getRootNames()){let n=this.editor.ui.getEditableElement(i);n&&(t[i]=n)}return t}_isErrorComingFromThisItem(t){return jh(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Rv(t,(i,n)=>{if(cf(i)||n==="context")return i})}};var kv=class{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,i){if("name"in i){let n=t.createElement(i.name,i.attributes);if(i.children)for(let r of i.children)n._appendChild(this._createNode(t,r));return n}else return t.createText(i.data,i.attributes)}_restoreEditorData(t){let i=this.editor;Object.entries(this._data.roots).forEach(([n,{content:r,attributes:o}])=>{let s=JSON.parse(r),c=JSON.parse(o),l=i.model.document.getRoot(n);for(let[d,f]of c)t.setAttribute(d,f,l);for(let d of s){let f=this._createNode(t,d);t.insert(f,l,"end")}}),Object.entries(this._data.markers).forEach(([n,r])=>{let{document:o}=i.model,w=r,{rangeJSON:{start:s,end:c}}=w,l=Rl(w,["rangeJSON"]),d=o.getRoot(s.root),f=t.createPositionFromPath(d,s.path,s.stickiness),p=t.createPositionFromPath(d,c.path,c.stickiness),g=t.createRange(f,p);t.addMarker(n,O({range:g},l))})}_restoreCollaborationData(){let t=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);t.forEach(n=>{let r=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");o.hasCommentThread(n.threadId)&&o.getCommentThread(n.threadId).remove(),o.addCommentThread(O({channelId:r},n))}),i.forEach(n=>{let r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(n.id)){let o=r.getSuggestion(n.id);o.attributes=n.attributes}else r.addSuggestionData(n)})}};var ttt=Symbol("MainQueueId");function Cq(e,t){}var Fe=new Array(256).fill(0).map((e,t)=>("0"+t.toString(16)).slice(-2));function Aq(){let e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+Fe[e>>0&255]+Fe[e>>8&255]+Fe[e>>16&255]+Fe[e>>24&255]+Fe[t>>0&255]+Fe[t>>8&255]+Fe[t>>16&255]+Fe[t>>24&255]+Fe[i>>0&255]+Fe[i>>8&255]+Fe[i>>16&255]+Fe[i>>24&255]+Fe[n>>0&255]+Fe[n>>8&255]+Fe[n>>16&255]+Fe[n>>24&255]}var Pv="Lock from Angular integration (@ckeditor/ckeditor5-angular)",oR=(()=>{class e{constructor(i,n){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new At,this.change=new At,this.blur=new At,this.focus=new At,this.error=new At,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=Aq(),this.ngZone=n,this.elementRef=i;let{CKEDITOR_VERSION:r}=window;if(r){let[o]=r.split(".").map(Number);o<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(i){this.setDisabledState(i)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let i=this.editorWatchdog;return this.watchdog&&(i=this.watchdog._watchdogs.get(this.id)),i?i.editor:null}getId(){return this.id}ngOnChanges(i){Object.prototype.hasOwnProperty.call(i,"data")&&i.data&&!i.data.isFirstChange()&&this.writeValue(i.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return b(this,null,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(i){i===null&&(i=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(i),this.isEditorSettingData=!1):(this.data=i,this.ready.pipe(Pn()).subscribe(n=>{n.data.set(this.data)}))}registerOnChange(i){this.cvaOnChange=i}registerOnTouched(i){this.cvaOnTouched=i}setDisabledState(i){this.editorInstance&&(i?this.editorInstance.enableReadOnlyMode(Pv):this.editorInstance.disableReadOnlyMode(Pv)),this.initiallyDisabled=i}attachToWatchdog(){let i=(c,l)=>this.ngZone.runOutsideAngular(()=>b(this,null,function*(){this.elementRef.nativeElement.appendChild(c);let d=yield this.editor.create(c,l);return this.initiallyDisabled&&d.enableReadOnlyMode(Pv),this.ngZone.run(()=>{this.ready.emit(d)}),this.setUpEditorEvents(d),d})),n=c=>b(this,null,function*(){yield c.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),r=c=>{Sq(this.error)&&this.ngZone.run(()=>this.error.emit(c))},o=document.createElement(this.tagName),s=this.getConfig();if(this.editorElement=o,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:i,destructor:n,sourceElementOrData:o,config:s}).catch(c=>{r(c)}),this.watchdog.on("itemError",(c,{itemId:l})=>{l===this.id&&r()});else{let c=new Us(this.editor,this.editorWatchdogConfig);c.setCreator(i),c.setDestructor(n),c.on("error",r),this.editorWatchdog=c,this.ngZone.runOutsideAngular(()=>{c.create(o,s).catch(l=>{r(l)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");let i=O({},this.config),n=this.config.initialData||this.data;return n&&(i.initialData=n),i}setUpEditorEvents(i){let n=i.model.document,r=i.editing.view.document;n.on("change:data",o=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){let s=i.data.get();this.cvaOnChange(s)}this.change.emit({event:o,editor:i})}})}),r.on("focus",o=>{this.ngZone.run(()=>{this.focus.emit({event:o,editor:i})})}),r.on("blur",o=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:o,editor:i})})})}}return e.\u0275fac=function(i){return new(i||e)(C(dt),C(q))},e.\u0275cmp=it({type:e,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[Zt([{provide:to,useExisting:fn(()=>e),multi:!0}]),Ue],decls:1,vars:0,template:function(i,n){i&1&&ft(0,Cq,0,0,"ng-template")},encapsulation:2}),e})();function Sq(e){return e.observed||e.observers.length>0}var lf=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=lt({type:e}),e.\u0275inj=ct({imports:[[Ts,me]]}),e})();function Dq(e,t){if(e&1){let i=Ie();N(0,"div")(1,"ckeditor",1),zl("ngModelChange",function(r){Yt(i);let o=_t();return Bl(o.editorData,r)||(o.editorData=r),Qt(r)}),gt("ready",function(r){Yt(i);let o=_t();return Qt(o.onReady(r))}),F()()}if(e&2){let i=_t();H(),pt("editor",i.Editor),Ul("ngModel",i.editorData)}}function kq(e,t){e&1&&(N(0,"div"),K(1,"Loading editor..."),F())}var sR=(()=>{let t=class t{constructor(){this.editorData="<p>Hello from CKEditor 5!</p>",this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){typeof window<"u"&&import("./chunk-CNFSKRWH.js").then(n=>{this.Editor=n.default})}writeValue(n){this.editorData=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onReady(n){n.model.document.on("change:data",()=>{let r=n.getData();this.onChange(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=it({type:t,selectors:[["app-ckeditor"]],standalone:!0,features:[Zt([{provide:to,useExisting:fn(()=>t),multi:!0}]),st],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngModelChange","ready","editor","ngModel"]],template:function(r,o){r&1&&ft(0,Dq,2,2,"div",0)(1,kq,2,0,"div",0),r&2&&(pt("ngIf",o.Editor),H(),pt("ngIf",!o.Editor))},dependencies:[lf,oR,Ts,Es,el,me,Nn],styles:["[_nghost-%COMP%]{display:block;width:100%}ckeditor[_ngcontent-%COMP%]{display:block;width:100%}"]});let e=t;return e})();var aR=(()=>{let t=class t{constructor(n,r,o){this.fb=n,this.newsService=r,this.customizationService=o,this.maxLength=150,this.newsForm=this.fb.group({title:[""],content:[""],image:[null]})}ngOnInit(){}onFileSelected(n){this.newsForm.patchValue({image:n.target.files[0]})}get remainingChars(){return this.maxLength-(this.newsForm.get("title")?.value.length||0)}onSubmit(){return b(this,null,function*(){if(this.newsForm.valid){let n=this.newsForm.value,r=n.content,o="";console.log("CKEditor Content before submission:",r),n.image&&(o=yield this.newsService.uploadImage(n.image));try{yield this.newsService.addNews(this.customizationService.getSubdomainFromUrl(),{title:n.title,content:r,imageUrl:o,date:new Date}),this.newsForm.reset()}catch(s){console.error("Error adding news:",s)}}else console.warn("Form is invalid")})}};t.\u0275fac=function(r){return new(r||t)(C(XC),C(bs),C(ii))},t.\u0275cmp=it({type:t,selectors:[["app-add-news"]],standalone:!0,features:[st],decls:27,vars:3,consts:[[1,"add-news-content"],[1,"add-news-container"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","id","title","formControlName","title","type","text","required","","maxlength","150"],["align","end"],[1,"ckeditor-container"],["for","content"],["formControlName","content"],[1,"file-input-container"],["for","image"],["id","image","type","file",3,"change"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"div",1)(2,"form",2),gt("ngSubmit",function(){return o.onSubmit()}),N(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),K(6,"Add News or Event article"),F()(),rt(7,"mat-divider"),N(8,"mat-card-content")(9,"mat-form-field",3)(10,"mat-label"),K(11,"Title"),F(),rt(12,"textarea",4),N(13,"mat-hint",5),K(14),F()(),N(15,"div",6)(16,"label",7),K(17,"Content"),F(),rt(18,"app-ckeditor",8),F(),N(19,"div",9)(20,"label",10),K(21,"Image : "),F(),N(22,"input",11),gt("change",function(c){return o.onFileSelected(c)}),F()()(),rt(23,"mat-divider"),N(24,"mat-card-actions")(25,"button",12),K(26,"Add News"),F()()()()()()),r&2&&(H(2),pt("formGroup",o.newsForm),H(12),d0("",o.remainingChars," / ",o.maxLength,""))},dependencies:[ZC,WC,xs,Es,VC,bv,vv,nl,_v,il,cA,Ph,Oh,fA,hA,$c,ps,Vh,Mh,pA,Fh,Lh,Nh,Yi,sR],styles:[".add-news-content[_ngcontent-%COMP%]{width:100%}.add-news-container[_ngcontent-%COMP%]{max-width:1050px;padding:20px;margin:auto}mat-card[_ngcontent-%COMP%]{margin-top:20px}.mat-mdc-form-field[_ngcontent-%COMP%]{max-width:auto!important;width:100%}.ckeditor-container[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]{margin-top:16px}.mat-divider[_ngcontent-%COMP%]{margin:24px 0}"]});let e=t;return e})();function Pq(e,t){e&1&&rt(0,"img",8)}function Oq(e,t){if(e&1&&rt(0,"img",9),e&2){let i=_t().$implicit;pt("src",i.imageUrl,mo)}}function Mq(e,t){if(e&1){let i=Ie();N(0,"mat-card",3),gt("click",function(){let r=Yt(i).$implicit,o=_t();return Qt(o.viewArticle(r.title,r.id))}),N(1,"mat-card-header")(2,"mat-card-title"),K(3),F(),N(4,"mat-card-subtitle"),K(5),$l(6,"date"),F()(),ft(7,Pq,1,0,"img",4)(8,Oq,1,1,"img",5),rt(9,"mat-divider"),N(10,"mat-card-content"),rt(11,"div",6),N(12,"p",7),K(13,"Read article ->"),F()()()}if(e&2){let i=t.$implicit,n=_t();H(3),Mn(i.title),H(2),Mn(u0(6,5,i.date.toDate())),H(2),pt("ngIf",!i.imageUrl),H(),pt("ngIf",i.imageUrl),H(3),pt("innerHTML",n.sanitizeContent(n.getTruncatedContent(i.content)),fo)}}var cR=(()=>{let t=class t{constructor(n,r,o,s){this.newsService=n,this.customizationService=r,this.router=o,this.sanitizer=s,this.newsList=[],this.lastVisibleDoc=null,this.instituteId=typeof window<"u"?this.customizationService.getSubdomainFromUrl():"Test 32"}ngOnInit(){return b(this,null,function*(){typeof window<"u"&&this.loadNews()})}loadNews(){this.newsService.getNews(this.instituteId).subscribe(n=>{n.length>0&&(this.lastVisibleDoc=n[n.length-1]),this.newsList=n,console.log("News list updated:",this.newsList)})}loadMoreNews(){this.lastVisibleDoc&&this.newsService.getMoreNews(this.instituteId,this.lastVisibleDoc).then(n=>{console.log("Fetched more news:",n),n.length>0&&(this.lastVisibleDoc=n[n.length-1],this.newsList=[...this.newsList,...n])})}onScroll(){this.loadMoreNews()}getTruncatedContent(n){return n.length>105?n.substring(0,105)+"...":n}encodeTitle(n){return n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}viewArticle(n,r){let o=this.encodeTitle(n)+"-"+r;this.router.navigate(["/view-news",o])}sanitizeContent(n){let r=n.replace(/<style[\s\S]*?<\/style>/gi,"");return this.sanitizer.bypassSecurityTrustHtml(r)}};t.\u0275fac=function(r){return new(r||t)(C(bs),C(ii),C(be),C(pm))},t.\u0275cmp=it({type:t,selectors:[["app-news-events"]],standalone:!0,features:[st],decls:5,vars:1,consts:[[1,"news-container"],[1,"newslist"],["matRipple","",3,"click",4,"ngFor","ngForOf"],["matRipple","",3,"click"],["mat-card-image","","src","../../assets/newsbg.jpg","class","news-image",4,"ngIf"],["mat-card-image","","class","news-image",3,"src",4,"ngIf"],[1,"news-content",3,"innerHTML"],[1,"readmore"],["mat-card-image","","src","../../assets/newsbg.jpg",1,"news-image"],["mat-card-image","",1,"news-image",3,"src"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"h1"),K(2,"Our News & Events articles"),F(),N(3,"div",1),ft(4,Mq,14,7,"mat-card",2),F()()),r&2&&(H(4),pt("ngForOf",o.newsList))},dependencies:[me,Wl,Nn,Kl,Vh,Mh,Fh,Lh,gA,mA,Nh,Mo,Yi,Oo,Za,Lw],styles:[".news-container[_ngcontent-%COMP%]{padding:80px 12px;background-color:#f5f5f5}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1% 2% .5%}.news-container[_ngcontent-%COMP%]   .newslist[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (max-width: 425px){.news-container[_ngcontent-%COMP%]{padding:72px 0}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}}.mdc-card[_ngcontent-%COMP%]{max-width:480px;margin:1% 2%;cursor:pointer;transition:all .3s cubic-bezier(0,0,.5,1);font-family:Verdana,Geneva,Tahoma,sans-serif}@media screen and (max-width: 425px){.mdc-card[_ngcontent-%COMP%]{max-width:96%}}.mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px -8px #00000029,0 0 24px -16px #00000029;transform:scale3d(1.01,1.01,1.03) translate3d(.1rem,-.25rem,20rem)}.mdc-card[_ngcontent-%COMP%]:hover   .readmore[_ngcontent-%COMP%]{opacity:1}.news-content[_ngcontent-%COMP%]{margin:12px 0 24px}.readmore[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000080;position:absolute;padding:24px 0 8px;bottom:0;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;opacity:0;transition:all .6s ease-in-out}.news-image[_ngcontent-%COMP%]{max-height:200px;width:auto;object-fit:cover}"]});let e=t;return e})();function Nq(e,t){}var no=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var Mv=(()=>{let t=class t extends sr{constructor(n,r,o,s,c,l,d,f){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=c,this._ngZone=l,this._overlayRef=d,this._focusMonitor=f,this._platform=L(Tt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=L(_e),this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),g},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Ha(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Ha();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ha()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Ad),C(J,8),C(no),C(Wa),C(q),C(Ai),C(ui))},t.\u0275cmp=it({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Ee(ar,7),r&2){let s;Dt(s=kt())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Vt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Xt,st],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&ft(0,Nq,0,0,"ng-template",0)},dependencies:[ar],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),al=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new Q,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!Wi(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},Fq=new $("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=L(we);return()=>e.scrollStrategies.block()}}),Lq=new $("DialogData"),Vq=new $("DefaultDialogConfig");var jq=0,lR=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,o,s,c,l){this._overlay=n,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Q,this._afterOpenedAtThisLevel=new Q,this._ariaHiddenElements=new Map,this.afterAllClosed=br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qe(void 0))),this._scrollStrategy=l}open(n,r){let o=this._defaultOptions||new no;r=O(O({},o),r),r.id=r.id||`cdk-dialog-${jq++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),c=this._overlay.create(s),l=new al(c,r),d=this._attachContainer(c,l,r);return l.containerInstance=d,this._attachDialogContent(n,l,d,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){Ov(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){Ov(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Ov(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new Ci({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let s=o.injector||o.viewContainerRef?.injector,c=[{provide:no,useValue:o},{provide:al,useValue:r},{provide:Ai,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,c.push(...o.container.providers(o))):l=Mv;let d=new Ti(l,o.viewContainerRef,Lt.create({parent:s||this._injector,providers:c}),o.componentFactoryResolver);return n.attach(d).instance}_attachDialogContent(n,r,o,s){if(n instanceof On){let c=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=O(O({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new ni(n,null,l,c))}else{let c=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new Ti(n,s.viewContainerRef,c,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,s){let c=n.injector||n.viewContainerRef?.injector,l=[{provide:Lq,useValue:n.data},{provide:al,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!c||!c.get(hi,null,{optional:!0}))&&l.push({provide:hi,useValue:{value:n.direction,change:W()}}),Lt.create({parent:c||s,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(R(we),R(Lt),R(Vq,8),R(t,12),R(gs),R(Fq))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ov(e,t){let i=e.length;for(;i--;)t(e[i])}function Uq(e,t){}var ll=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Nv="mdc-dialog--open",dR="mdc-dialog--opening",uR="mdc-dialog--closing",Bq=150,zq=75,$q=(()=>{let t=class t extends Mv{constructor(n,r,o,s,c,l,d,f,p){super(n,r,o,s,c,l,d,p),this._animationMode=f,this._animationStateChanged=new At,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?fR(this._config.enterAnimationDuration)??Bq:0,this._exitAnimationDuration=this._animationsEnabled?fR(this._config.exitAnimationDuration)??zq:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(hR,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(dR,Nv)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Nv),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Nv),this._animationsEnabled?(this._hostElement.style.setProperty(hR,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(uR)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(dR,uR)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Ad),C(J,8),C(ll),C(Wa),C(q),C(Ai),C(Xe,8),C(ui))},t.\u0275cmp=it({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(wr("id",o._config.id),Vt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),St("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Xt,st],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(N(0,"div",0)(1,"div",1),ft(2,Uq,0,0,"ng-template",2),F()())},dependencies:[ar],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),hR="--mat-dialog-transition-duration";function fR(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?Ro(e.substring(0,e.length-2)):e.endsWith("s")?Ro(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var df=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(df||{}),dl=class{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new Q,this._beforeClosed=new Q,this._state=df.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(Ot(r=>r.state==="opened"),le(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(Ot(r=>r.state==="closed"),le(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),kn(this.backdropClick(),this.keydownEvents().pipe(Ot(r=>r.keyCode===27&&!this.disableClose&&!Wi(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),qq(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ot(i=>i.state==="closing"),le(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=df.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=df.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function qq(e,t,i){return e._closeInteractionType=t,e.close(i)}var Hq=new $("MatMdcDialogData"),Gq=new $("mat-mdc-dialog-default-options"),Wq=new $("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=L(we);return()=>e.scrollStrategies.block()}});var Kq=0,mR=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,r,o,s,c,l,d,f){this._overlay=n,this._defaultOptions=s,this._scrollStrategy=c,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Q,this._afterOpenedAtThisLevel=new Q,this.dialogConfigClass=ll,this.afterAllClosed=br(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Qe(void 0))),this._dialog=r.get(lR),this._dialogRefConstructor=dl,this._dialogContainerType=$q,this._dialogDataToken=Hq}open(n,r){let o;r=O(O({},this._defaultOptions||new ll),r),r.id=r.id||`mat-mdc-dialog-${Kq++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(n,Et(O({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:no,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(c,l,d)=>(o=new this._dialogRefConstructor(c,r,d),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}};t.\u0275fac=function(r){return new(r||t)(R(we),R(Lt),R(rn,8),R(Gq,8),R(Wq),R(t,12),R(gs),R(Xe,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var gR=(()=>{let t=class t{constructor(n,r){this.authService=n,this.dialogRef=r}onGoogleSignIn(){this.authService.googleSignIn().then(()=>{console.log("Successfully logged in")}).catch(n=>{console.error("Error during Google sign-in:",n)})}onCancel(){this.dialogRef.close()}ngOnInit(){this.authService.user$.subscribe({next:n=>{n&&this.dialogRef.close()}})}};t.\u0275fac=function(r){return new(r||t)(C(Bs),C(dl))},t.\u0275cmp=it({type:t,selectors:[["app-auth"]],standalone:!0,features:[st],decls:19,vars:0,consts:[[1,"auth-container"],[1,"auth-card"],[1,"cancel-button",3,"click"],[1,"largeOr"],[1,"or"],[1,"google-signin-button",3,"click"],["src","https://developers.google.com/identity/images/g-logo.png","alt","Google logo"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"div",1)(2,"button",2),gt("click",function(){return o.onCancel()}),K(3,"\u2716"),F(),N(4,"h1"),K(5,"Welcome"),F(),N(6,"div")(7,"h2"),K(8,"Login with email"),F(),N(9,"div"),K(10,"Upcoming login with Email and password"),F()(),N(11,"div",3),rt(12,"hr"),N(13,"div",4),K(14," or "),F(),rt(15,"hr"),F(),N(16,"button",5),gt("click",function(){return o.onGoogleSignIn()}),rt(17,"img",6),K(18," Sign in with Google "),F()()())},styles:[".google-signin-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#757575;border:1px solid #dadce0;border-radius:4px;font-size:16px;padding:10px 20px;cursor:pointer;transition:background-color .3s,box-shadow .3s;width:100%}.google-signin-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px}.google-signin-button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;box-shadow:0 1px 3px #0000001a}.auth-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:.3em;padding:16px 44px;text-align:center;min-width:300px}@media screen and (max-width: 325px){.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{min-width:220px}}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:20px;cursor:pointer}.largeOr[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0009}.largeOr[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]{padding:12px}hr[_ngcontent-%COMP%]{margin:24px 0;width:100%}"]});let e=t;return e})();var Bs=(()=>{let t=class t{constructor(n,r,o){this.auth=n,this.firestore=r,this.dialog=o,this.logincnt=0,this.user$=xg(this.auth)}openAuthDialog(){this.dialog.open(gR)}googleSignIn(){return AI(this.auth,new pg)}signOut(){return SI(this.auth)}getUserRole(){return xg(this.auth).pipe(ge(n=>{if(n){let r=Xr(this.firestore,`users/${n.email}`);return ce(kT(r)).pipe(vt(o=>o.exists()?o.data().role:"user"))}else return W("user")}))}};t.\u0275fac=function(r){return new(r||t)(R(Vr),R(un),R(mR))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var _R=(()=>{let t=class t{constructor(n,r,o,s){this.document=n,this.renderer=r,this.customizationService=o,this.authService=s,this.subdomain="",this.about=""}openSignIn(){this.authService.openAuthDialog()}onWindowScroll(){let n=document.getElementById("header"),r=document.getElementById("sticky-nav"),o=document.getElementById("spacer"),s=window.pageYOffset;if(n&&o){let c=n.offsetHeight-60,l=Math.max(32,50-18*(s/c)),d=Math.min(s);n.querySelector("h1").style.fontSize=`${l}px`,o.style.height=`${d}px`,n.style.opacity=s>=c?"0":"1"}r&&(r.style.opacity=s>=(n?.offsetHeight||0)-60?"1":"0")}ngOnInit(){return b(this,null,function*(){if(typeof window<"u"){this.subdomain=this.customizationService.getSubdomainFromUrl();try{let n=yield this.customizationService.getCustomization(this.subdomain);n&&(this.subdomain=n.websiteTitle),n.themeColor?this.setThemeColor(n.themeColor):this.setThemeColor("#027359"),n.about?this.about=n.about:this.about="Welcome to "+this.subdomain}catch(n){console.error("Error fetching customization data:",n)}}})}setThemeColor(n){this.renderer.setStyle(this.document.documentElement,"--primary-color",n),this.document.documentElement.style.setProperty("--primary-color",n),setTimeout(()=>{let r=getComputedStyle(this.document.documentElement)},1e3)}};t.\u0275fac=function(r){return new(r||t)(C(J),C(ji),C(ii),C(Bs))},t.\u0275cmp=it({type:t,selectors:[["app-home"]],hostBindings:function(r,o){r&1&&gt("scroll",function(){return o.onWindowScroll()},!1,o0)},standalone:!0,features:[st],decls:21,vars:3,consts:[[1,"container"],["id","header",1,"float-header"],["id","spacer"],["id","institute-name"],["id","sticky-nav",1,"sticky-nav"],["id","main-content",1,"main"],[1,"about"],[1,"about_content"],[1,"news-content",3,"innerHTML"],["mat-flat-button","","color","primary"],["mat-stroked-button","",3,"click"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"header",1),rt(2,"div",2),N(3,"h1",3),K(4),F()(),N(5,"nav",4)(6,"h1"),K(7),F()(),N(8,"main",5),rt(9,"mat-divider"),N(10,"div",6)(11,"div",7)(12,"h1"),K(13,"About us"),F(),rt(14,"div",8),N(15,"div")(16,"button",9),K(17,"Enroll now"),F(),N(18,"button",10),gt("click",function(){return o.openSignIn()}),K(19,"Sign In"),F()()()(),rt(20,"app-news-events"),F()()),r&2&&(H(4),wn(" ",o.subdomain," "),H(3),wn(" ",o.subdomain," "),H(7),pt("innerHTML",o.about,fo))},dependencies:[cR,Mo,Yi,$c,ps],styles:["[_ngcontent-%COMP%]:root{--primary-color: #333}.container[_ngcontent-%COMP%]{padding-bottom:50vh}.float-header[_ngcontent-%COMP%]{height:70vh;background-color:var(--primary-color);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;transition:opacity .02s,font-size .1s}.float-header[_ngcontent-%COMP%]   #spacer[_ngcontent-%COMP%]{height:0;transition:height .1s}.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:capitalize;font-family:Inter,sans-serif;font-size:50px;color:#fff;transition:font-size .1s;margin:0}@media screen and (max-width: 425px){.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}.sticky-nav[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:var(--primary-color);display:flex;justify-content:center;align-items:center;height:60px;z-index:1000;opacity:0;transition:opacity .02s;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #0000004d}.sticky-nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;color:#fff;margin:0}.about[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:200px 16px 150px}.about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin:12px 0 36px}.about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:32px 12px 0 0;font-size:18px}.about[_ngcontent-%COMP%]   .about_content[_ngcontent-%COMP%]{max-width:1020px;font-family:Inter,sans-serif;font-size:20px;font-weight:500;line-height:30px}"]});let e=t;return e})();var bR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=it({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[st],decls:2,vars:0,template:function(r,o){r&1&&(N(0,"p"),K(1,"dashboard works!"),F())}});let e=t;return e})();var vR=(()=>{let t=class t{constructor(n,r){this.router=n,this._location=r}backClicked(){this._location.back()}};t.\u0275fac=function(r){return new(r||t)(C(be),C(rn))},t.\u0275cmp=it({type:t,selectors:[["app-error-404"]],standalone:!0,features:[st],decls:19,vars:1,consts:[[1,"content"],["href","/home"],[3,"click"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"h1")(2,"b")(3,"u"),K(4,"Error 404"),F(),K(5," : "),F(),K(6," You tried looking for "),N(7,"span"),K(8),F(),K(9," page"),F(),N(10,"h1"),K(11,"Sorry, we couldn't find the requested resource :("),F(),N(12,"a",1)(13,"p"),K(14,"Click here to go to home page"),F()(),N(15,"p"),K(16,"OR"),F(),N(17,"button",2),gt("click",function(){return o.backClicked()}),K(18,"Go back"),F()()),r&2&&(H(8),Mn(o.router.url))},styles:[".content[_ngcontent-%COMP%]{min-height:60vh;text-align:justify;padding:100px 20px;flex-direction:column;justify-content:center;align-items:center;display:flex}span[_ngcontent-%COMP%]{color:#044;background-color:#faebd7;padding:4px}p[_ngcontent-%COMP%]{margin-top:20px}"]});let e=t;return e})();var yR=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:_R},{path:"dashboard",component:bR},{path:"add-news",component:aR},{path:"view-news/:title",component:gC},{path:"**",component:vR}];var Yq="@",Qq=(()=>{let t=class t{constructor(n,r,o,s,c){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=L(s0,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-J5AS4343.js")).catch(r=>{throw new Nt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new Lv(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(n,r);s.use(l)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){po()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Lv=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(Yq)}};function wR(e="animations"){return jl("NgAsyncAnimations"),nn([{provide:Vl,useFactory:(t,i,n)=>new Qq(t,i,n,e),deps:[J,td,q]},{provide:Xe,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var xR={production:!0,firebaseConfig:{apiKey:"AIzaSyATgCP-L090V221ytPLZS3IWmrP5mBQpcs",authDomain:"growth-tutorials-saas.firebaseapp.com",projectId:"growth-tutorials-saas",storageBucket:"growth-tutorials-saas.appspot.com",messagingSenderId:"112132007998",appId:"1:112132007998:web:a21348190de17b6e0f896f",measurementId:"G-7170ZK3RHF"}};var IR={providers:[H0(),wR(),Nx(()=>Fx(xR.firebaseConfig)),TI(()=>CI()),ST(()=>PT()),Pw(yR)]};var Xq=["*",[["mat-toolbar-row"]]],Zq=["*","mat-toolbar-row"],Jq=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),ER=(()=>{let t=class t{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(Tt),C(J))},t.\u0275cmp=it({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&$e(s,Jq,5),r&2){let c;Dt(c=kt())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(go(o.color?"mat-"+o.color:""),St("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[st],ngContentSelectors:Zq,decls:2,vars:0,template:function(r,o){r&1&&(ze(Xq),Mt(0),Mt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var TR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({imports:[Gt,Gt]});let e=t;return e})();function e5(e,t){if(e&1){let i=Ie();N(0,"li")(1,"input",7),gt("change",function(){let r=Yt(i).$implicit,o=_t(2);return Qt(o.markAsCompleted(r.id))}),F(),K(2),F()}if(e&2){let i=t.$implicit;H(),pt("checked",i.completed),H(),wn(" ",i.text," ")}}function n5(e,t){if(e&1){let i=Ie();N(0,"div",3)(1,"ul"),ft(2,e5,3,2,"li",4),F(),N(3,"input",5),zl("ngModelChange",function(r){Yt(i);let o=_t();return Bl(o.newObservation,r)||(o.newObservation=r),Qt(r)}),F(),N(4,"button",6),gt("click",function(){Yt(i);let r=_t();return Qt(r.addObservation())}),K(5,"Add"),F()()}if(e&2){let i=_t();H(2),pt("ngForOf",i.observations),H(),Ul("ngModel",i.newObservation)}}var CR=(()=>{let t=class t{constructor(n,r,o){this.firestore=n,this.route=r,this.router=o,this.observations=[],this.newObservation="",this.pageUrl="",this.expanded=!1}ngOnInit(){this.pageUrl=this.router.url,this.loadObservations()}loadObservations(){return b(this,null,function*(){let n=ti(this.firestore,"observations"),r=Ei(n,us("page","==",this.pageUrl)),o=yield ds(r);this.observations=o.docs.map(s=>O({id:s.id},s.data()))})}addObservation(){return b(this,null,function*(){this.newObservation.trim()&&(yield sh(ti(this.firestore,"observations"),{page:this.pageUrl,text:this.newObservation,completed:!1}),this.newObservation="",this.loadObservations())})}markAsCompleted(n){return b(this,null,function*(){let r=Xr(this.firestore,"observations",n);yield OT(r,{completed:!0}),this.loadObservations()})}toggleList(){this.expanded=!this.expanded}};t.\u0275fac=function(r){return new(r||t)(C(un),C(cn),C(be))},t.\u0275cmp=it({type:t,selectors:[["app-observation-list"]],standalone:!0,features:[st],decls:4,vars:3,consts:[[1,"observation-list"],[1,"header",3,"click"],["class","content",4,"ngIf"],[1,"content"],[4,"ngFor","ngForOf"],["type","text","placeholder","Add new observation",3,"ngModelChange","ngModel"],[3,"click"],["type","checkbox",3,"change","checked"]],template:function(r,o){r&1&&(N(0,"div",0)(1,"div",1),gt("click",function(){return o.toggleList()}),K(2,"Observation List"),F(),ft(3,n5,6,2,"div",2),F()),r&2&&(St("expanded",o.expanded),H(3),pt("ngIf",o.expanded))},dependencies:[me,Wl,Nn,Ts,xs,Es,el],styles:[".observation-list[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:10px;width:300px;background:#fff;box-shadow:0 0 10px #0000001a;border-radius:5px;transition:transform .3s ease;transform:translateY(100%)}.observation-list.expanded[_ngcontent-%COMP%]{transform:translateY(0)}.observation-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:10px;background:#3f51b5;color:#fff;cursor:pointer}.observation-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:10px}.observation-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.observation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.observation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}"]});let e=t;return e})();var o5=["mat-menu-item",""],s5=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],a5=["mat-icon, [matMenuItemIcon]","*"];function c5(e,t){e&1&&(Yy(),N(0,"svg",2),rt(1,"polygon",3),F())}var l5=["*"];function d5(e,t){if(e&1){let i=Ie();N(0,"div",0),gt("keydown",function(r){Yt(i);let o=_t();return Qt(o._handleKeydown(r))})("click",function(){Yt(i);let r=_t();return Qt(r.closed.emit("click"))})("@transformMenu.start",function(r){Yt(i);let o=_t();return Qt(o._onAnimationStart(r))})("@transformMenu.done",function(r){Yt(i);let o=_t();return Qt(o._onAnimationDone(r))}),N(1,"div",1),Mt(2),F()()}if(e&2){let i=_t();go(i._classList),pt("id",i.panelId)("@transformMenu",i._panelAnimationState),Vt("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby||null)("aria-describedby",i.ariaDescribedby||null)}}var Vv=new $("MAT_MENU_PANEL"),ul=(()=>{let t=class t{constructor(n,r,o,s,c){this._elementRef=n,this._document=r,this._focusMonitor=o,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new Q,this._focused=new Q,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(n,r){this._focusMonitor&&n?this._focusMonitor.focusVia(this._getHostElement(),n,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(n){this.disabled&&(n.preventDefault(),n.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){let n=this._elementRef.nativeElement.cloneNode(!0),r=n.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<r.length;o++)r[o].remove();return n.textContent?.trim()||""}_setHighlighted(n){this._highlighted=n,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(n){this._triggersSubmenu=n,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(J),C(ui),C(Vv,8),C(_e))},t.\u0275cmp=it({type:t,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,o){r&1&&gt("click",function(c){return o._checkDisabled(c)})("mouseenter",function(){return o._handleMouseEnter()}),r&2&&(Vt("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),St("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[nt.HasDecoratorInputTransform,"disabled","disabled",Te],disableRipple:[nt.HasDecoratorInputTransform,"disableRipple","disableRipple",Te]},exportAs:["matMenuItem"],standalone:!0,features:[mn,st],attrs:o5,ngContentSelectors:a5,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,o){r&1&&(ze(s5),Mt(0),N(1,"span",0),Mt(2,1),F(),rt(3,"div",1),ft(4,c5,2,0,":svg:svg",2)),r&2&&(H(3),pt("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),H(),fe(4,o._triggersSubmenu?4:-1))},dependencies:[Za],encapsulation:2,changeDetection:0});let e=t;return e})();var u5=new $("MatMenuContent");var uf={transformMenu:xr("transformMenu",[zi("void",on({opacity:0,transform:"scale(0.8)"})),di("void => enter",li("120ms cubic-bezier(0, 0, 0.2, 1)",on({opacity:1,transform:"scale(1)"}))),di("* => void",li("100ms 25ms linear",on({opacity:0})))]),fadeInItems:xr("fadeInItems",[zi("showing",on({opacity:1})),di("void => *",[on({opacity:0}),li("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},qnt=uf.fadeInItems,Hnt=uf.transformMenu,h5=0,f5=new $("mat-menu-default-options",{providedIn:"root",factory:m5});function m5(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}var zs=(()=>{let t=class t{get xPosition(){return this._xPosition}set xPosition(n){this._xPosition=n,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(n){this._yPosition=n,this.setPositionClasses()}set panelClass(n){let r=this._previousPanelClass,o=O({},this._classList);r&&r.length&&r.split(" ").forEach(s=>{o[s]=!1}),this._previousPanelClass=n,n&&n.length&&(n.split(" ").forEach(s=>{o[s]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}get classList(){return this.panelClass}set classList(n){this.panelClass=n}constructor(n,r,o,s){this._elementRef=n,this._ngZone=r,this._changeDetectorRef=s,this._elevationPrefix="mat-elevation-z",this._baseElevation=8,this._directDescendantItems=new ua,this._classList={},this._panelAnimationState="void",this._animationDone=new Q,this.closed=new At,this.close=this.closed,this.panelId=`mat-menu-panel-${h5++}`,this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Ed(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Qe(this._directDescendantItems),ge(n=>kn(...n.map(r=>r._focused)))).subscribe(n=>this._keyManager.updateActiveItem(n)),this._directDescendantItems.changes.subscribe(n=>{let r=this._keyManager;if(this._panelAnimationState==="enter"&&r.activeItem?._hasFocus()){let o=n.toArray(),s=Math.max(0,Math.min(o.length-1,r.activeItemIndex||0));o[s]&&!o[s].disabled?r.setActiveItem(s):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(Qe(this._directDescendantItems),ge(r=>kn(...r.map(o=>o._hovered))))}addItem(n){}removeItem(n){}_handleKeydown(n){let r=n.keyCode,o=this._keyManager;switch(r){case 27:Wi(n)||(n.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&this.direction==="ltr"&&this.closed.emit("keydown");break;case 39:this.parentMenu&&this.direction==="rtl"&&this.closed.emit("keydown");break;default:(r===38||r===40)&&o.setFocusOrigin("keyboard"),o.onKeydown(n);return}n.stopPropagation()}focusFirstItem(n="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(le(1)).subscribe(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){let o=this._keyManager;o.setFocusOrigin(n).setFirstItemActive(),!o.activeItem&&r&&r.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(n){let r=Math.min(this._baseElevation+n,24),o=`${this._elevationPrefix}${r}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));if(!s||s===this._previousElevation){let c=O({},this._classList);this._previousElevation&&(c[this._previousElevation]=!1),c[o]=!0,this._previousElevation=o,this._classList=c}}setPositionClasses(n=this.xPosition,r=this.yPosition){this._classList=Et(O({},this._classList),{"mat-menu-before":n==="before","mat-menu-after":n==="after","mat-menu-above":r==="above","mat-menu-below":r==="below"}),this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(n){this._animationDone.next(n),this._isAnimating=!1}_onAnimationStart(n){this._isAnimating=!0,n.toState==="enter"&&this._keyManager.activeItemIndex===0&&(n.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Qe(this._allItems)).subscribe(n=>{this._directDescendantItems.reset(n.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}};t.\u0275fac=function(r){return new(r||t)(C(dt),C(q),C(f5),C(_e))},t.\u0275cmp=it({type:t,selectors:[["mat-menu"]],contentQueries:function(r,o,s){if(r&1&&($e(s,u5,5),$e(s,ul,5),$e(s,ul,4)),r&2){let c;Dt(c=kt())&&(o.lazyContent=c.first),Dt(c=kt())&&(o._allItems=c),Dt(c=kt())&&(o.items=c)}},viewQuery:function(r,o){if(r&1&&Ee(On,5),r&2){let s;Dt(s=kt())&&(o.templateRef=s.first)}},hostVars:3,hostBindings:function(r,o){r&2&&Vt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[nt.None,"aria-label","ariaLabel"],ariaLabelledby:[nt.None,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[nt.None,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[nt.HasDecoratorInputTransform,"overlapTrigger","overlapTrigger",Te],hasBackdrop:[nt.HasDecoratorInputTransform,"hasBackdrop","hasBackdrop",n=>n==null?null:Te(n)],panelClass:[nt.None,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[Zt([{provide:Vv,useExisting:t}]),mn,st],ngContentSelectors:l5,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,o){r&1&&(ze(),ft(0,d5,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:var(--mat-menu-item-trailing-spacing);padding-right:var(--mat-menu-item-leading-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]),.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon])[dir=rtl]{padding-left:var(--mat-menu-item-with-icon-trailing-spacing);padding-right:var(--mat-menu-item-with-icon-leading-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[uf.transformMenu,uf.fadeInItems]},changeDetection:0});let e=t;return e})(),SR=new $("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let e=L(we);return()=>e.scrollStrategies.reposition()}});function p5(e){return()=>e.scrollStrategies.reposition()}var g5={provide:SR,deps:[we],useFactory:p5},AR=jn({passive:!0});var RR=(()=>{let t=class t{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(n){this.menu=n}get menu(){return this._menu}set menu(n){n!==this._menu&&(this._menu=n,this._menuCloseSubscription.unsubscribe(),n&&(this._parentMaterialMenu,this._menuCloseSubscription=n.close.subscribe(r=>{this._destroyMenu(r),(r==="click"||r==="tab")&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(n,r,o,s,c,l,d,f,p){this._overlay=n,this._element=r,this._viewContainerRef=o,this._menuItemInstance=l,this._dir=d,this._focusMonitor=f,this._ngZone=p,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=We.EMPTY,this._hoverSubscription=We.EMPTY,this._menuCloseSubscription=We.EMPTY,this._changeDetectorRef=L(_e),this._handleTouchStart=g=>{Ya(g)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new At,this.onMenuOpen=this.menuOpened,this.menuClosed=new At,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof zs?c:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,AR)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,AR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){let n=this.menu;if(this._menuOpen||!n)return;let r=this._createOverlay(n),o=r.getConfig(),s=o.positionStrategy;this._setPosition(n,s),o.hasBackdrop=n.hasBackdrop==null?!this.triggersSubmenu():n.hasBackdrop,r.attach(this._getPortal(n)),n.lazyContent&&n.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(n),n instanceof zs&&(n._startAnimation(),n._directDescendantItems.changes.pipe(oe(n.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(n,r){this._focusMonitor&&n?this._focusMonitor.focusVia(this._element,n,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(n){if(!this._overlayRef||!this.menuOpen)return;let r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&(n==="keydown"||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof zs?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(Ot(o=>o.toState==="void"),le(1),oe(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(n){n.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,n.direction=this.dir,this._setMenuElevation(n),n.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(n){if(n.setElevation){let r=0,o=n.parentMenu;for(;o;)r++,o=o.parentMenu;n.setElevation(r)}}_setIsMenuOpen(n){n!==this._menuOpen&&(this._menuOpen=n,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(n),this._changeDetectorRef.markForCheck())}_createOverlay(n){if(!this._overlayRef){let r=this._getOverlayConfig(n);this._subscribeToPositions(n,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(n){return new Ci({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:n.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:n.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(n,r){n.setPositionClasses&&r.positionChanges.subscribe(o=>{let s=o.connectionPair.overlayX==="start"?"after":"before",c=o.connectionPair.overlayY==="top"?"below":"above";this._ngZone?this._ngZone.run(()=>n.setPositionClasses(s,c)):n.setPositionClasses(s,c)})}_setPosition(n,r){let[o,s]=n.xPosition==="before"?["end","start"]:["start","end"],[c,l]=n.yPosition==="above"?["bottom","top"]:["top","bottom"],[d,f]=[c,l],[p,g]=[o,s],w=0;if(this.triggersSubmenu()){if(g=o=n.xPosition==="before"?"start":"end",s=p=o==="end"?"start":"end",this._parentMaterialMenu){if(this._parentInnerPadding==null){let k=this._parentMaterialMenu.items.first;this._parentInnerPadding=k?k._getHostElement().offsetTop:0}w=c==="bottom"?this._parentInnerPadding:-this._parentInnerPadding}}else n.overlapTrigger||(d=c==="top"?"bottom":"top",f=l==="top"?"bottom":"top");r.withPositions([{originX:o,originY:d,overlayX:p,overlayY:c,offsetY:w},{originX:s,originY:d,overlayX:g,overlayY:c,offsetY:w},{originX:o,originY:f,overlayX:p,overlayY:l,offsetY:-w},{originX:s,originY:f,overlayX:g,overlayY:l,offsetY:-w}])}_menuClosingActions(){let n=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:W(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Ot(c=>c!==this._menuItemInstance),Ot(()=>this._menuOpen)):W();return kn(n,o,s,r)}_handleMousedown(n){Ka(n)||(this._openedBy=n.button===0?"mouse":void 0,this.triggersSubmenu()&&n.preventDefault())}_handleKeydown(n){let r=n.keyCode;(r===13||r===32)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(r===39&&this.dir==="ltr"||r===37&&this.dir==="rtl")&&(this._openedBy="keyboard",this.openMenu())}_handleClick(n){this.triggersSubmenu()?(n.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Ot(n=>n===this._menuItemInstance&&!n.disabled),Wf(0,Dl)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof zs&&this.menu._isAnimating?this.menu._animationDone.pipe(le(1),Wf(0,Dl),oe(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(n){return(!this._portal||this._portal.templateRef!==n.templateRef)&&(this._portal=new ni(n.templateRef,this._viewContainerRef)),this._portal}};t.\u0275fac=function(r){return new(r||t)(C(we),C(dt),C(Ui),C(SR),C(Vv,8),C(ul,10),C(hi,8),C(ui),C(q))},t.\u0275dir=tt({type:t,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,o){r&1&&gt("click",function(c){return o._handleClick(c)})("mousedown",function(c){return o._handleMousedown(c)})("keydown",function(c){return o._handleKeydown(c)}),r&2&&Vt("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[nt.None,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[nt.None,"matMenuTriggerFor","menu"],menuData:[nt.None,"matMenuTriggerData","menuData"],restoreFocus:[nt.None,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0});let e=t;return e})(),DR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=lt({type:t}),t.\u0275inj=ct({providers:[g5],imports:[me,Oo,Gt,Wc,mh,Gt]});let e=t;return e})();function b5(e,t){if(e&1){let i=Ie();N(0,"span",5),gt("click",function(){Yt(i);let r=_t(3);return Qt(r.openSignIn())}),K(1," Sign In "),F()}}function v5(e,t){if(e&1){let i=Ie();N(0,"div",9),rt(1,"img",10),N(2,"mat-menu",null,0),rt(4,"mat-icon",11),N(5,"button",12)(6,"span"),K(7,"Profile"),F()(),N(8,"button",13),gt("click",function(){Yt(i);let r=_t(3);return Qt(r.onSignOut())}),rt(9,"mat-icon"),N(10,"span"),K(11,"Sign Out"),F()()()()}if(e&2){let i=pa(3),n=_t(3);H(),pt("src",n.user.photoURL,mo)("matMenuTriggerFor",i)}}function y5(e,t){if(e&1){let i=Ie();N(0,"mat-toolbar",4)(1,"a",5),gt("click",function(){Yt(i);let r=_t(2);return Qt(r.homeroute())}),K(2),F(),N(3,"div",6),ft(4,b5,2,0,"span",7)(5,v5,12,2,"div",8),F()()}if(e&2){let i=_t(2);H(2),wn(" ",i.title,""),H(2),pt("ngIf",!i.user),H(),pt("ngIf",i.user)}}function w5(e,t){e&1&&rt(0,"app-observation-list")}function x5(e,t){if(e&1&&(N(0,"div"),ft(1,y5,6,3,"mat-toolbar",2),N(2,"content"),rt(3,"router-outlet"),F(),N(4,"div",3),K(5,"GT Gurukul \xA9 2024"),F(),ft(6,w5,1,0,"app-observation-list",1),F()),e&2){let i=_t();H(),pt("ngIf",i.checkhome()),H(5),pt("ngIf",i.showObservationList)}}var kR=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f,p,g,w){this.customizationService=n,this.titleService=r,this.location=o,this.router=s,this.viewportScroller=c,this._snackBar=l,this.route=d,this.authService=f,this.platformId=p,this.renderer=g,this.elRef=w,this.title="",this.themeColor="#3f51b5",this.header="defaultHeader",this.location_path="",this.subdomainChecked=!1,this.showObservationList=!1,this.user=null,console.log("AppComponent constructor")}homeroute(){this.user?this.router.navigate(["/dashboard"]):this.router.navigate(["/home"])}openSignIn(){this.authService.openAuthDialog()}onSignOut(){this.user=null,this.authService.signOut().then(()=>{console.log("Successfully logged out"),this.openSnackBar("Successfully logged out","Cancel")}).catch(n=>{console.error("Error during sign out:",n)})}openSnackBar(n,r){this._snackBar.open(n,r,{duration:2e3})}ngOnInit(){return b(this,null,function*(){this.authService.user$.subscribe({next:r=>{r&&this.authService.logincnt==0&&(console.log("User logged in:",r),this.openSnackBar("Logged in as "+r?.displayName,"Cancel"),this.user=r)}}),this.router.events.pipe(Ot(r=>r instanceof xn)).subscribe(()=>{this.viewportScroller.scrollToPosition([0,0])});let n="";typeof window<"u"&&(n=this.customizationService.getSubdomainFromUrl());try{let r=yield this.customizationService.getCustomization(n);r&&(this.title=r.websiteTitle,this.themeColor=r.themeColor,this.header=r.header,this.applyThemeColor(),this.setTitle(r.websiteTitle),console.log(r.status),r.status==="disabled"||r.status==="pending"?this.redirectToRegistration(n):this.subdomainChecked=!0)}catch(r){r.message==="Subdomain not registered"?this.redirectToRegistration(n):console.error(r)}this.route.queryParams.subscribe(r=>{console.log(r.obsl),this.showObservationList=r.obsl==="1"})})}checkhome(){return!(this.location.path()=="/home"||this.location.path()=="/"||this.location.path().includes("/home"))}ngAfterViewInit(){setTimeout(()=>{vo(this.platformId)&&this.applyThemeColor()},0)}applyThemeColor(){let n=this.elRef.nativeElement.ownerDocument.head,r=n.querySelector("meta[name=theme-color]");if(this.renderer.setStyle(document.documentElement,"--theme-color",this.themeColor),r)this.renderer.setAttribute(r,"content",this.themeColor);else{let o=this.renderer.createElement("meta");this.renderer.setAttribute(o,"name","theme-color"),this.renderer.setAttribute(o,"content",this.themeColor),this.renderer.appendChild(n,o)}}setTitle(n){this.titleService.setTitle(n)}redirectToRegistration(n){window.location.href=`https://register.growthtutorials.in/register?request=${n}`}redirectToInstitutes(n){window.location.href=`https://register.growthtutorials.in/institutes?request=${n}`}};t.\u0275fac=function(r){return new(r||t)(C(ii),C(nd),C(rn),C(be),C(Yl),C(_h),C(cn),C(Bs),C(Be),C(ji),C(dt))},t.\u0275cmp=it({type:t,selectors:[["app-root"]],standalone:!0,features:[st],decls:1,vars:1,consts:[["menu","matMenu"],[4,"ngIf"],["class","navbar",4,"ngIf"],[1,"footer"],[1,"navbar"],[3,"click"],[1,"profile"],[3,"click",4,"ngIf"],["class","profile-pic",4,"ngIf"],[1,"profile-pic"],[3,"src","matMenuTriggerFor"],["fontIcon","account_circle"],["mat-menu-item",""],["mat-menu-item","",3,"click"]],template:function(r,o){r&1&&ft(0,x5,7,2,"div",1),r&2&&pt("ngIf",o.subdomainChecked)},dependencies:[Ym,TR,ER,me,Nn,lf,CR,DR,zs,ul,RR],styles:["[_ngcontent-%COMP%]:root{--theme-color: #3f51b5}.navbar[_ngcontent-%COMP%]{border-top:8px solid var(--theme-color);color:var(--theme-color);padding:0 24px;font-size:24px;position:sticky;top:0;z-index:1000;transition:opacity .02s;box-shadow:0 1px 2px #0000001a,0 1px 3px 1px #0000001a;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit;cursor:pointer}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;cursor:pointer;color:#00f;font-weight:100}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.profile[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;cursor:pointer}.profile[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{height:40px;width:40px;background-color:#fff;border-radius:50%;box-shadow:0 0 2px #00000080}.profile[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:38px;width:38px;border-radius:50%;margin:1px}.logo[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:50%;float:left;padding:0 8px 0 0;margin-top:-2px}content[_ngcontent-%COMP%]{min-height:89vh;display:block}.footer[_ngcontent-%COMP%]{text-align:center;background-color:#00000003;padding:8px 0;box-shadow:0 0 1px #0003;border-bottom:16px solid #1b1b1b}@media screen and (max-width: 425px){.footer[_ngcontent-%COMP%]{margin:100px 0 0}}"]});let e=t;return e})();q0(kR,IR).catch(e=>console.error(e));
