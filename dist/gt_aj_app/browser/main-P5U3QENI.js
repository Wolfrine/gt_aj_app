import{$ as _f,$a as no,$b as $y,A as Kr,Aa as Gs,Ab as xf,Ac as Xs,B as $t,Ba as rl,Bb as Q,Bc as Zs,C as uf,Ca as Xr,Cb as In,D as Yr,Da as Zr,Db as Zn,E as nr,Ea as vy,Eb as Py,F as hf,Fa as yy,Fb as Oy,G as ff,Ga as wy,Gb as My,H as xe,Ha as xy,Hb as Ny,I as hy,Ia as Ey,Ib as re,J as el,Ja as Iy,Jb as ct,K as qs,Ka as Ty,Kb as ll,L as wn,La as ir,Lb as Fy,M as mf,Ma as Jr,Mb as Ly,N as fy,Na as Cy,Nb as Vy,O as pf,Oa as Ay,Ob as io,P as gf,Pa as Ws,Pb as jy,Q as nl,Qa as tt,Qb as dl,R as xn,Ra as S,Rb as ul,S as De,Sa as to,Sb as Ef,T as fe,Ta as rr,Tb as Ks,U as Zt,Ua as Sy,Ub as sr,V as At,Va as ol,Vb as Uy,W as Je,Wa as sl,Wb as hl,X as U,Xa as eo,Xb as We,Y as dt,Ya as al,Yb as By,Z as my,Za as q,Zb as zy,_ as $,_a as vf,_b as en,a as Kn,aa as R,ab as Gt,ac as ro,b as nf,ba as F,bb as Xn,bc as qy,c as Le,ca as ke,cb as Ry,cc as Hy,d as rf,da as py,db as yf,dc as X,e as of,ea as Hs,eb as wf,ec as Gy,f as et,fa as bt,fb as xt,fc as If,g as Ve,ga as rt,gb as Jt,gc as Wy,h as cy,ha as ut,hb as St,hc as Ky,i as ly,ia as J,ib as kt,ic as Ke,j as yn,ja as He,jb as cl,jc as Tf,k as Jc,ka as gy,kb as me,kc as Yy,l as sf,la as Qr,lb as V,lc as oo,m as af,ma as Yn,mb as j,mc as Qy,n as ie,na as Pe,nb as ht,nc as fl,o as G,oa as an,ob as En,oc as Me,p as $s,pa as cn,pb as or,pc as Xy,q as cf,qa as Qn,qb as Dy,qc as ml,r as dy,ra as Pt,rb as Ct,rc as Ys,s as ft,sa as bf,sb as ky,sc as pl,t as Wr,ta as mt,tb as Ft,tc as Zy,u as qe,ua as Dt,ub as tn,v as lf,va as _y,vb as Lt,w as tl,wa as il,wb as ln,wc as gl,x as er,xa as by,xb as Oe,xc as Qs,y as uy,ya as Ge,yb as Vt,z as df,za as je,zb as jt,zc as ar}from"./chunk-AEZD2D7C.js";import{a as M,b as Et,c as Zc,e as Ii,f as b}from"./chunk-OO2USZMJ.js";var bl=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var s0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(s0||{}),Cf=class{constructor(t,i=a0.Ok,n="OK"){this.headers=t.headers||new bl,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var vl=class e extends Cf{constructor(t={}){super(t),this.type=s0.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var a0=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(a0||{});var LR=new $("");var Jy="b",t0="h",e0="s",n0="st",i0="u",r0="rt",_l=new $(""),VR=["GET","HEAD"];function jR(e,t){let p=F(_l),{isCacheActive:i}=p,n=Zc(p,["isCacheActive"]),{transferCache:r,method:o}=e;if(!i||o==="POST"&&!n.includePostRequests&&!r||o!=="POST"&&!VR.includes(o)||r===!1||n.filter?.(e)===!1)return t(e);let s=F(rl),c=BR(e),l=s.get(c,null),d=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(d=r.includeHeaders),l){let{[Jy]:g,[r0]:E,[t0]:k,[e0]:O,[n0]:D,[i0]:z}=l,W=g;switch(E){case"arraybuffer":W=new TextEncoder().encode(g).buffer;break;case"blob":W=new Blob([g]);break}let Z=new bl(k);return G(new vl({body:W,headers:Z,status:O,statusText:D,url:z}))}let f=Ys(F(Ge));return t(e).pipe(Zt(g=>{g instanceof vl&&f&&s.set(c,{[Jy]:g.body,[t0]:UR(g.headers,d),[e0]:g.status,[n0]:g.statusText,[i0]:g.url||"",[r0]:e.responseType})}))}function UR(e,t){if(!t)return{};let i={};for(let n of t){let r=e.getAll(n);r!==null&&(i[n]=r)}return i}function o0(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function BR(e){let{params:t,method:i,responseType:n,url:r}=e,o=o0(t),s=e.serializeBody();s instanceof URLSearchParams?s=o0(s):typeof s!="string"&&(s="");let c=[i,n,r,s,o].join("|"),l=zR(c);return l}function zR(e){let t=0;for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function c0(e){return[{provide:_l,useFactory:()=>(al("NgHttpTransferCache"),M({isCacheActive:!0},e))},{provide:LR,useValue:jR,multi:!0,deps:[rl,_l]},{provide:Ks,multi:!0,useFactory:()=>{let t=F(sr),i=F(_l);return()=>{Uy(t).then(()=>{i.isCacheActive=!1})}}}]}var Rf=class extends Hy{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Df=class e extends Rf{static makeCurrent(){qy(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=qR();return i==null?null:HR(i)}resetBaseElement(){Js=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Tf(document.cookie,t)}},Js=null;function qR(){return Js=Js||document.querySelector("base"),Js?Js.getAttribute("href"):null}function HR(e){return new URL(e,document.baseURI).pathname}var GR=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),kf=new $(""),u0=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new At(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(R(kf),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),yl=class{constructor(t){this._doc=t}},Af="ng-app-id",h0=(()=>{let t=class t{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ys(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Af}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Af),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Af,this.appId),n.appendChild(c),c}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(R(X),R(il),R(Gs,8),R(Ge))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Sf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Mf=/%COMP%/g,f0="%COMP%",WR=`_nghost-${f0}`,KR=`_ngcontent-${f0}`,YR=!0,QR=new $("",{providedIn:"root",factory:()=>YR});function XR(e){return KR.replace(Mf,e)}function ZR(e){return WR.replace(Mf,e)}function m0(e,t){return t.map(i=>i.replace(Mf,e))}var wl=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Ys(l),this.defaultRenderer=new ta(n,c,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Hs.ShadowDom&&(r=Et(M({},r),{encapsulation:Hs.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof xl?o.applyToHost(n):o instanceof ea&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Hs.Emulated:s=new xl(d,f,r,this.appId,p,c,l,g);break;case Hs.ShadowDom:return new Pf(d,f,n,r,c,l,this.nonce,g);default:s=new ea(d,f,r,p,c,l,g);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(R(u0),R(h0),R(il),R(QR),R(X),R(Ge),R(q),R(Gs))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),ta=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(Sf[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(l0(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(l0(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new At(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let o=Sf[r];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=Sf[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(Ws.DashCase|Ws.Important)?t.style.setProperty(i,n,r&Ws.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&Ws.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=ro().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function l0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Pf=class extends ta{constructor(t,i,n,r,o,s,c,l){super(t,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=m0(r.id,r.styles);for(let f of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ea=class extends ta{constructor(t,i,n,r,o,s,c,l){super(t,o,s,c),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?m0(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},xl=class extends ea{constructor(t,i,n,r,o,s,c,l){let d=r+"-"+n.id;super(t,i,n,o,s,c,l,d),this.contentAttr=XR(d),this.hostAttr=ZR(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},JR=(()=>{let t=class t extends yl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),d0=["alt","control","meta","shift"],tD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eD={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},nD=(()=>{let t=class t extends yl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ro().onAndCancel(n,s.domEventName,c))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),d0.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(n,r){let o=tD[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),d0.forEach(c=>{if(c!==o){let l=eD[c];l(n)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function p0(e,t){return By(M({rootComponent:e},iD(t)))}function iD(e){return{appProviders:[...cD,...e?.providers??[]],platformProviders:aD}}function rD(){Df.makeCurrent()}function oD(){return new bf}function sD(){return _y(document),document}var aD=[{provide:Ge,useValue:Xy},{provide:by,useValue:rD,multi:!0},{provide:X,useFactory:sD,deps:[]}];var cD=[{provide:gy,useValue:"root"},{provide:bf,useFactory:oD,deps:[]},{provide:kf,useClass:JR,multi:!0,deps:[X,q,Ge]},{provide:kf,useClass:nD,multi:!0,deps:[X]},wl,h0,u0,{provide:sl,useExisting:wl},{provide:Zy,useClass:GR,deps:[]},[]];var El=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Nf=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=R(lD),o},providedIn:"root"});let e=t;return e})(),lD=(()=>{let t=class t extends Nf{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case ir.NONE:return r;case ir.HTML:return Zr(r,"HTML")?Xr(r):Ty(this._doc,String(r)).toString();case ir.STYLE:return Zr(r,"Style")?Xr(r):r;case ir.SCRIPT:if(Zr(r,"Script"))return Xr(r);throw new At(5200,!1);case ir.URL:return Zr(r,"URL")?Xr(r):Iy(String(r));case ir.RESOURCE_URL:if(Zr(r,"ResourceURL"))return Xr(r);throw new At(5201,!1);default:throw new At(5202,!1)}}bypassSecurityTrustHtml(n){return vy(n)}bypassSecurityTrustStyle(n){return yy(n)}bypassSecurityTrustScript(n){return wy(n)}bypassSecurityTrustUrl(n){return xy(n)}bypassSecurityTrustResourceUrl(n){return Ey(n)}};t.\u0275fac=function(r){return new(r||t)(R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Of=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Of||{});function g0(...e){let t=[],i=new Set,n=i.has(Of.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of e)i.add(o),r.length&&t.push(r);return He([[],zy(),i.has(Of.NoHttpTransferCache)||n?[]:c0({}),t])}var lt="primary",_a=Symbol("RouteTitle"),Bf=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function uo(e){return new Bf(e)}function uD(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],c=e[o];if(s.startsWith(":"))r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function hD(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Tn(e[i],t[i]))return!1;return!0}function Tn(e,t){let i=e?zf(e):void 0,n=t?zf(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!T0(e[r],t[r]))return!1;return!0}function zf(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function T0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,o)=>n[o]===r)}else return e===t}function C0(e){return e.length>0?e[e.length-1]:null}function Si(e){return cf(e)?e:ul(e)?ie(Promise.resolve(e)):G(e)}var fD={exact:S0,subset:R0},A0={exact:mD,subset:pD,ignored:()=>!0};function _0(e,t,i){return fD[i.paths](e.root,t.root,i.matrixParams)&&A0[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function mD(e,t){return Tn(e,t)}function S0(e,t,i){if(!lr(e.segments,t.segments)||!Cl(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!S0(e.children[n],t.children[n],i))return!1;return!0}function pD(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>T0(e[i],t[i]))}function R0(e,t,i){return D0(e,t,t.segments,i)}function D0(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!lr(r,i)||t.hasChildren()||!Cl(r,i,n))}else if(e.segments.length===i.length){if(!lr(e.segments,i)||!Cl(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!R0(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!lr(e.segments,r)||!Cl(e.segments,r,n)||!e.children[lt]?!1:D0(e.children[lt],t,o,n)}}function Cl(e,t,i){return t.every((n,r)=>A0[i](e[r].parameters,n.parameters))}var Ti=class{constructor(t=new Tt([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){return bD.serialize(this)}},Tt=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Al(this)}},cr=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=uo(this.parameters),this._parameterMap}toString(){return P0(this)}};function gD(e,t){return lr(e,t)&&e.every((i,n)=>Tn(i.parameters,t[n].parameters))}function lr(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function _D(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===lt&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==lt&&(i=i.concat(t(r,n)))}),i}var ba=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>new ca,providedIn:"root"});let e=t;return e})(),ca=class{parse(t){let i=new qf(t);return new Ti(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${na(t.root,!0)}`,n=wD(t.queryParams),r=typeof t.fragment=="string"?`#${vD(t.fragment)}`:"";return`${i}${n}${r}`}},bD=new ca;function Al(e){return e.segments.map(t=>P0(t)).join("/")}function na(e,t){if(!e.hasChildren())return Al(e);if(t){let i=e.children[lt]?na(e.children[lt],!1):"",n=[];return Object.entries(e.children).forEach(([r,o])=>{r!==lt&&n.push(`${r}:${na(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=_D(e,(n,r)=>r===lt?[na(e.children[lt],!1)]:[`${r}:${na(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[lt]!=null?`${Al(e)}/${i[0]}`:`${Al(e)}/(${i.join("//")})`}}function k0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Il(e){return k0(e).replace(/%3B/gi,";")}function vD(e){return encodeURI(e)}function $f(e){return k0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Sl(e){return decodeURIComponent(e)}function b0(e){return Sl(e.replace(/\+/g,"%20"))}function P0(e){return`${$f(e.path)}${yD(e.parameters)}`}function yD(e){return Object.entries(e).map(([t,i])=>`;${$f(t)}=${$f(i)}`).join("")}function wD(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${Il(i)}=${Il(r)}`).join("&"):`${Il(i)}=${Il(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var xD=/^[^\/()?;#]+/;function Lf(e){let t=e.match(xD);return t?t[0]:""}var ED=/^[^\/()?;=#]+/;function ID(e){let t=e.match(ED);return t?t[0]:""}var TD=/^[^=?&#]+/;function CD(e){let t=e.match(TD);return t?t[0]:""}var AD=/^[^&#]+/;function SD(e){let t=e.match(AD);return t?t[0]:""}var qf=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tt([],{}):new Tt([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[lt]=new Tt(t,i)),n}parseSegment(){let t=Lf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new At(4009,!1);return this.capture(t),new cr(Sl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=ID(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Lf(this.remaining);r&&(n=r,this.capture(n))}t[Sl(i)]=Sl(n)}parseQueryParam(t){let i=CD(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=SD(this.remaining);s&&(n=s,this.capture(n))}let r=b0(i),o=b0(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Lf(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new At(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=lt);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[lt]:new Tt([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new At(4011,!1)}};function O0(e){return e.segments.length>0?new Tt([],{[lt]:e}):e}function M0(e){let t={};for(let[n,r]of Object.entries(e.children)){let o=M0(r);if(n===lt&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new Tt(e.segments,t);return RD(i)}function RD(e){if(e.numberOfChildren===1&&e.children[lt]){let t=e.children[lt];return new Tt(e.segments.concat(t.segments),t.children)}return e}function ho(e){return e instanceof Ti}function DD(e,t,i=null,n=null){let r=N0(e);return F0(r,t,i,n)}function N0(e){let t;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let c=new Tt(o.url,s);return o===e&&(t=c),c}let n=i(e.root),r=O0(n);return t??r}function F0(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Vf(r,r,r,i,n);let o=kD(t);if(o.toRoot())return Vf(r,r,new Tt([],{}),i,n);let s=PD(o,r,e),c=s.processChildren?oa(s.segmentGroup,s.index,o.commands):V0(s.segmentGroup,s.index,o.commands);return Vf(r,s.segmentGroup,c,i,n)}function Rl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function la(e){return typeof e=="object"&&e!=null&&e.outlets}function Vf(e,t,i,n,r){let o={};n&&Object.entries(n).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;e===t?s=i:s=L0(e,t,i);let c=O0(M0(s));return new Ti(c,o,r)}function L0(e,t,i){let n={};return Object.entries(e.children).forEach(([r,o])=>{o===t?n[r]=i:n[r]=L0(o,t,i)}),new Tt(e.segments,n)}var Dl=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&Rl(n[0]))throw new At(4003,!1);let r=n.find(la);if(r&&r!==C0(n))throw new At(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kD(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Dl(!0,0,e);let t=0,i=!1,n=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?i=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Dl(i,t,n)}var co=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function PD(e,t,i){if(e.isAbsolute)return new co(t,!0,0);if(!i)return new co(t,!1,NaN);if(i.parent===null)return new co(i,!0,0);let n=Rl(e.commands[0])?0:1,r=i.segments.length-1+n;return OD(i,r,e.numberOfDoubleDots)}function OD(e,t,i){let n=e,r=t,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new At(4005,!1);r=n.segments.length}return new co(n,!1,r-o)}function MD(e){return la(e[0])?e[0].outlets:{[lt]:e}}function V0(e,t,i){if(e??=new Tt([],{}),e.segments.length===0&&e.hasChildren())return oa(e,t,i);let n=ND(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new Tt(e.segments.slice(0,n.pathIndex),{});return o.children[lt]=new Tt(e.segments.slice(n.pathIndex),e.children),oa(o,0,r)}else return n.match&&r.length===0?new Tt(e.segments,{}):n.match&&!e.hasChildren()?Hf(e,t,i):n.match?oa(e,0,r):Hf(e,t,i)}function oa(e,t,i){if(i.length===0)return new Tt(e.segments,{});{let n=MD(i),r={};if(Object.keys(n).some(o=>o!==lt)&&e.children[lt]&&e.numberOfChildren===1&&e.children[lt].segments.length===0){let o=oa(e.children[lt],t,i);return new Tt(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=V0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new Tt(e.segments,r)}}function ND(e,t,i){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return o;let s=e.segments[r],c=i[n];if(la(c))break;let l=`${c}`,d=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!y0(l,d,s))return o;n+=2}else{if(!y0(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function Hf(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(la(o)){let l=FD(o.outlets);return new Tt(n,l)}if(r===0&&Rl(i[0])){let l=e.segments[t];n.push(new cr(l.path,v0(i[0]))),r++;continue}let s=la(o)?o.outlets[lt]:`${o}`,c=r<i.length-1?i[r+1]:null;s&&c&&Rl(c)?(n.push(new cr(s,v0(c))),r+=2):(n.push(new cr(s,{})),r++)}return new Tt(n,{})}function FD(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=Hf(new Tt([],{}),0,n))}),t}function v0(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function y0(e,t,i){return e==i.path&&Tn(t,i.parameters)}var sa="imperative",de=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(de||{}),nn=class{constructor(t,i){this.id=t,this.url=i}},fo=class extends nn{constructor(t,i,n="imperative",r=null){super(t,i),this.type=de.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},dn=class extends nn{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=de.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Qe||{}),kl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(kl||{}),Ci=class extends nn{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=de.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ai=class extends nn{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=de.NavigationSkipped}},da=class extends nn{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=de.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pl=class extends nn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=de.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gf=class extends nn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=de.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wf=class extends nn{constructor(t,i,n,r,o){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=de.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kf=class extends nn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=de.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yf=class extends nn{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=de.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qf=class{constructor(t){this.route=t,this.type=de.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xf=class{constructor(t){this.route=t,this.type=de.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zf=class{constructor(t){this.snapshot=t,this.type=de.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jf=class{constructor(t){this.snapshot=t,this.type=de.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tm=class{constructor(t){this.snapshot=t,this.type=de.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},em=class{constructor(t){this.snapshot=t,this.type=de.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ol=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=de.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ua=class{},ha=class{constructor(t){this.url=t}};var nm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new va,this.attachRef=null}},va=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new nm,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ml=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=im(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=im(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=rm(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return rm(t,this._root).map(i=>i.value)}};function im(e,t){if(e===t.value)return t;for(let i of t.children){let n=im(e,i);if(n)return n}return null}function rm(e,t){if(e===t.value)return[t];for(let i of t.children){let n=rm(e,i);if(n.length)return n.unshift(t),n}return[]}var Ye=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function ao(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var Nl=class extends Ml{constructor(t,i){super(t),this.snapshot=i,mm(this,t)}toString(){return this.snapshot.toString()}};function j0(e){let t=LD(e),i=new Ve([new cr("",{})]),n=new Ve({}),r=new Ve({}),o=new Ve({}),s=new Ve(""),c=new Jn(i,n,o,s,r,lt,e,t.root);return c.snapshot=t.root,new Nl(new Ye(c,[]),t)}function LD(e){let t={},i={},n={},r="",o=new fa([],t,n,r,i,lt,e,null,{});return new Fl("",new Ye(o,[]))}var Jn=class{constructor(t,i,n,r,o,s,c,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ft(d=>d[_a]))??G(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(t=>uo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(t=>uo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function fm(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:M(M({},t.params),e.params),data:M(M({},t.data),e.data),resolve:M(M(M(M({},e.data),t.data),r?.data),e._resolvedData)}:n={params:M({},e.params),data:M({},e.data),resolve:M(M({},e.data),e._resolvedData??{})},r&&B0(r)&&(n.resolve[_a]=r.title),n}var fa=class{get title(){return this.data?.[_a]}constructor(t,i,n,r,o,s,c,l,d){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Fl=class extends Ml{constructor(t,i){super(i),this.url=t,mm(this,i)}toString(){return U0(this._root)}};function mm(e,t){t.value._routerState=e,t.children.forEach(i=>mm(e,i))}function U0(e){let t=e.children.length>0?` { ${e.children.map(U0).join(", ")} } `:"";return`${e.value}${t}`}function jf(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Tn(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Tn(t.params,i.params)||e.paramsSubject.next(i.params),hD(t.url,i.url)||e.urlSubject.next(i.url),Tn(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function om(e,t){let i=Tn(e.params,t.params)&&gD(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||om(e.parent,t.parent))}function B0(e){return typeof e.title=="string"||e.title===null}var pm=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new Dt,this.deactivateEvents=new Dt,this.attachEvents=new Dt,this.detachEvents=new Dt,this.parentContexts=F(va),this.location=F(no),this.changeDetector=F(We),this.environmentInjector=F(Qr),this.inputBinder=F(Ul,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new At(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new At(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new At(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new At(4013,!1);this._activatedRoute=n;let o=this.location,c=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new sm(n,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Pe]});let e=t;return e})(),sm=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===Jn?this.route:t===va?this.childContexts:this.parent.get(t,i)}},Ul=new $(""),w0=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Wr([r.queryParams,r.params,r.data]).pipe(De(([s,c,l],d)=>(l=M(M(M({},s),c),l),d===0?G(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let c=$y(r.component);if(!c){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of c.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function VD(e,t,i){let n=ma(e,t._root,i?i._root:void 0);return new Nl(n,t)}function ma(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=jD(e,t,i);return new Ye(n,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>ma(e,c)),s}}let n=UD(t.value),r=t.children.map(o=>ma(e,o));return new Ye(n,r)}}function jD(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return ma(e,n,r);return ma(e,n)})}function UD(e){return new Jn(new Ve(e.url),new Ve(e.params),new Ve(e.queryParams),new Ve(e.fragment),new Ve(e.data),e.outlet,e.component,e)}var z0="ngNavigationCancelingError";function $0(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=ho(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=q0(!1,Qe.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function q0(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[z0]=!0,i.cancellationCode=t,i}function BD(e){return H0(e)&&ho(e.url)}function H0(e){return!!e&&e[z0]}var zD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(r,o){r&1&&ht(0,"router-outlet")},dependencies:[pm],encapsulation:2});let e=t;return e})();function $D(e,t){return e.providers&&!e._injector&&(e._injector=yf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function gm(e){let t=e.children&&e.children.map(gm),i=t?Et(M({},e),{children:t}):M({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==lt&&(i.component=zD),i}function Cn(e){return e.outlet||lt}function qD(e,t){let i=e.filter(n=>Cn(n)===t);return i.push(...e.filter(n=>Cn(n)!==t)),i}function ya(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var HD=(e,t,i,n)=>ft(r=>(new am(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),am=class{constructor(t,i,n,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),jf(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=ao(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=ao(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=ao(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=ao(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new em(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Jf(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(jf(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),jf(c.route.value),this.activateChildRoutes(t,null,s.children)}else{let c=ya(r.snapshot);s.attachRef=null,s.route=r,s.injector=c,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},Ll=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},lo=class{constructor(t,i){this.component=t,this.route=i}};function GD(e,t,i){let n=e._root,r=t?t._root:null;return ia(n,r,i,[n.value])}function WD(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function po(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!my(e)?e:t.get(e):n}function ia(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ao(t);return e.children.forEach(s=>{KD(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>aa(c,i.getContext(s),r)),r}function KD(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,c=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=YD(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ll(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ia(e,t,c?c.children:null,n,r):ia(e,t,i,n,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new lo(c.outlet.component,s))}else s&&aa(t,c,r),r.canActivateChecks.push(new Ll(n)),o.component?ia(e,null,c?c.children:null,n,r):ia(e,null,i,n,r);return r}function YD(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!lr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!lr(e.url,t.url)||!Tn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!om(e,t)||!Tn(e.queryParams,t.queryParams);case"paramsChange":default:return!om(e,t)}}function aa(e,t,i){let n=ao(e),r=e.value;Object.entries(n).forEach(([o,s])=>{r.component?t?aa(s,t.children.getContext(o),i):aa(s,null,i):aa(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new lo(t.outlet.component,r)):i.canDeactivateChecks.push(new lo(null,r)):i.canDeactivateChecks.push(new lo(null,r))}function wa(e){return typeof e=="function"}function QD(e){return typeof e=="boolean"}function XD(e){return e&&wa(e.canLoad)}function ZD(e){return e&&wa(e.canActivate)}function JD(e){return e&&wa(e.canActivateChild)}function tk(e){return e&&wa(e.canDeactivate)}function ek(e){return e&&wa(e.canMatch)}function G0(e){return e instanceof dy||e?.name==="EmptyError"}var Tl=Symbol("INITIAL_VALUE");function mo(){return De(e=>Wr(e.map(t=>t.pipe(xe(1),xn(Tl)))).pipe(ft(t=>{for(let i of t)if(i!==!0){if(i===Tl)return Tl;if(i===!1||i instanceof Ti)return i}return!0}),$t(t=>t!==Tl),xe(1)))}function nk(e,t){return qe(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?G(Et(M({},i),{guardsResult:!0})):ik(s,n,r,e).pipe(qe(c=>c&&QD(c)?rk(n,o,e,t):G(c)),ft(c=>Et(M({},i),{guardsResult:c})))})}function ik(e,t,i,n){return ie(e).pipe(qe(r=>lk(r.component,r.route,i,t,n)),wn(r=>r!==!0,!0))}function rk(e,t,i,n){return ie(t).pipe(nr(r=>tl(sk(r.route.parent,n),ok(r.route,n),ck(e,r.path,i),ak(e,r.route,i))),wn(r=>r!==!0,!0))}function ok(e,t){return e!==null&&t&&t(new tm(e)),G(!0)}function sk(e,t){return e!==null&&t&&t(new Zf(e)),G(!0)}function ak(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return G(!0);let r=n.map(o=>er(()=>{let s=ya(t)??i,c=po(o,s),l=ZD(c)?c.canActivate(t,e):Yn(s,()=>c(t,e));return Si(l).pipe(wn())}));return G(r).pipe(mo())}function ck(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>WD(s)).filter(s=>s!==null).map(s=>er(()=>{let c=s.guards.map(l=>{let d=ya(s.node)??i,f=po(l,d),p=JD(f)?f.canActivateChild(n,e):Yn(d,()=>f(n,e));return Si(p).pipe(wn())});return G(c).pipe(mo())}));return G(o).pipe(mo())}function lk(e,t,i,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let l=ya(t)??r,d=po(c,l),f=tk(d)?d.canDeactivate(e,t,i,n):Yn(l,()=>d(e,t,i,n));return Si(f).pipe(wn())});return G(s).pipe(mo())}function dk(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return G(!0);let o=r.map(s=>{let c=po(s,e),l=XD(c)?c.canLoad(t,i):Yn(e,()=>c(t,i));return Si(l)});return G(o).pipe(mo(),W0(n))}function W0(e){return nf(Zt(t=>{if(ho(t))throw $0(e,t)}),ft(t=>t===!0))}function uk(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return G(!0);let o=r.map(s=>{let c=po(s,e),l=ek(c)?c.canMatch(t,i):Yn(e,()=>c(t,i));return Si(l)});return G(o).pipe(mo(),W0(n))}var pa=class{constructor(t){this.segmentGroup=t||null}},Vl=class extends Error{constructor(t){super(),this.urlTree=t}};function so(e){return $s(new pa(e))}function hk(e){return $s(new At(4e3,!1))}function fk(e){return $s(q0(!1,Qe.GuardRejected))}var cm=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return G(n);if(r.numberOfChildren>1||!r.children[lt])return hk(t.redirectTo);r=r.children[lt]}}applyRedirectCommands(t,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i.startsWith("/"))throw new Vl(r);return r}applyRedirectCreateUrlTree(t,i,n,r){let o=this.createSegmentGroup(t,i.root,n,r);return new Ti(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);n[r]=i[c]}else n[r]=o}),n}createSegmentGroup(t,i,n,r){let o=this.createSegments(t,i.segments,n,r),s={};return Object.entries(i.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(t,l,n,r)}),new Tt(o,s)}createSegments(t,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new At(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},lm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mk(e,t,i,n,r){let o=_m(e,t,i);return o.matched?(n=$D(t,n),uk(n,t,i,r).pipe(ft(s=>s===!0?o:M({},lm)))):G(o)}function _m(e,t,i){if(t.path==="**")return pk(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?M({},lm):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||uD)(i,e,t);if(!r)return M({},lm);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function pk(e){return{matched:!0,parameters:e.length>0?C0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function x0(e,t,i,n){return i.length>0&&bk(e,i,n)?{segmentGroup:new Tt(t,_k(n,new Tt(i,e.children))),slicedSegments:[]}:i.length===0&&vk(e,i,n)?{segmentGroup:new Tt(e.segments,gk(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new Tt(e.segments,e.children),slicedSegments:i}}function gk(e,t,i,n){let r={};for(let o of i)if(Bl(e,t,o)&&!n[Cn(o)]){let s=new Tt([],{});r[Cn(o)]=s}return M(M({},n),r)}function _k(e,t){let i={};i[lt]=t;for(let n of e)if(n.path===""&&Cn(n)!==lt){let r=new Tt([],{});i[Cn(n)]=r}return i}function bk(e,t,i){return i.some(n=>Bl(e,t,n)&&Cn(n)!==lt)}function vk(e,t,i){return i.some(n=>Bl(e,t,n))}function Bl(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function yk(e,t,i,n){return Cn(e)!==n&&(n===lt||!Bl(t,i,e))?!1:_m(t,e,i).matched}function wk(e,t,i){return t.length===0&&!e.children[i]}var dm=class{};function xk(e,t,i,n,r,o,s="emptyOnly"){return new um(e,t,i,n,r,s,o).recognize()}var Ek=31,um=class{constructor(t,i,n,r,o,s,c){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new cm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new At(4002,`'${t.segmentGroup}'`)}recognize(){let t=x0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ft(i=>{let n=new fa([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),r=new Ye(n,i),o=new Fl("",r),s=DD(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,lt).pipe(Yr(n=>{if(n instanceof Vl)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof pa?this.noMatchError(n):n}))}inheritParamsAndData(t,i){let n=t.value,r=fm(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0).pipe(ft(o=>o instanceof Ye?[o]:[]))}processChildren(t,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return ie(r).pipe(nr(o=>{let s=n.children[o],c=qD(i,o);return this.processSegmentGroup(t,c,s,o)}),pf((o,s)=>(o.push(...s),o)),ff(null),fy(),qe(o=>{if(o===null)return so(n);let s=K0(o);return Ik(s),G(s)}))}processSegment(t,i,n,r,o,s){return ie(i).pipe(nr(c=>this.processSegmentAgainstRoute(c._injector??t,i,c,n,r,o,s).pipe(Yr(l=>{if(l instanceof pa)return G(null);throw l}))),wn(c=>!!c),Yr(c=>{if(G0(c))return wk(n,r,o)?G(new dm):so(n);throw c}))}processSegmentAgainstRoute(t,i,n,r,o,s,c){return yk(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s):so(r):so(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s){let{matched:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=_m(i,r,o);if(!c)return so(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ek&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(qe(g=>this.processSegment(t,n,i,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,i,n,r,o){let s=mk(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(De(c=>c.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(De(({routes:l})=>{let d=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:g}=c,E=new fa(f,g,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Ck(n),Cn(n),n.component??n._loadedComponent??null,n,Ak(n)),{segmentGroup:k,slicedSegments:O}=x0(i,f,p,l);if(O.length===0&&k.hasChildren())return this.processChildren(d,l,k).pipe(ft(z=>z===null?null:new Ye(E,z)));if(l.length===0&&O.length===0)return G(new Ye(E,[]));let D=Cn(n)===o;return this.processSegment(d,l,k,O,D?lt:o,!0).pipe(ft(z=>new Ye(E,z instanceof Ye?[z]:[])))}))):so(i)))}getChildConfig(t,i,n){return i.children?G({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?G({routes:i._loadedRoutes,injector:i._loadedInjector}):dk(t,i,n,this.urlSerializer).pipe(qe(r=>r?this.configLoader.loadChildren(t,i).pipe(Zt(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):fk(i))):G({routes:[],injector:t})}};function Ik(e){e.sort((t,i)=>t.value.outlet===lt?-1:i.value.outlet===lt?1:t.value.outlet.localeCompare(i.value.outlet))}function Tk(e){let t=e.value.routeConfig;return t&&t.path===""}function K0(e){let t=[],i=new Set;for(let n of e){if(!Tk(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=K0(n.children);t.push(new Ye(n.value,r))}return t.filter(n=>!i.has(n))}function Ck(e){return e.data||{}}function Ak(e){return e.resolve||{}}function Sk(e,t,i,n,r,o){return qe(s=>xk(e,t,i,n,s.extractedUrl,r,o).pipe(ft(({state:c,tree:l})=>Et(M({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function Rk(e,t){return qe(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return G(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Y0(l))s.add(d);let c=0;return ie(s).pipe(nr(l=>o.has(l)?Dk(l,n,e,t):(l.data=fm(l,l.parent,e).resolve,G(void 0))),Zt(()=>c++),mf(1),qe(l=>c===s.size?G(i):yn))})}function Y0(e){let t=e.children.map(i=>Y0(i)).flat();return[e,...t]}function Dk(e,t,i,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!B0(r)&&(o[_a]=r.title),kk(o,e,t,n).pipe(ft(s=>(e._resolvedData=s,e.data=fm(e,e.parent,i).resolve,null)))}function kk(e,t,i,n){let r=zf(e);if(r.length===0)return G({});let o={};return ie(r).pipe(qe(s=>Pk(e[s],t,i,n).pipe(wn(),Zt(c=>{o[s]=c}))),mf(1),hy(o),Yr(s=>G0(s)?yn:$s(s)))}function Pk(e,t,i,n){let r=ya(t)??n,o=po(e,r),s=o.resolve?o.resolve(t,i):Yn(r,()=>o(t,i));return Si(s)}function Uf(e){return De(t=>{let i=e(t);return i?ie(i).pipe(ft(()=>t)):G(t)})}var Q0=(()=>{let t=class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===lt);return r}getResolvedTitleForRoute(n){return n.data[_a]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(Ok),providedIn:"root"});let e=t;return e})(),Ok=(()=>{let t=class t extends Q0{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(R(El))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xa=new $("",{providedIn:"root",factory:()=>({})}),ga=new $(""),bm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(hl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Si(n.loadComponent()).pipe(ft(X0),Zt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),qs(()=>{this.componentLoaders.delete(n)})),o=new of(r,()=>new et).pipe(rf());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Mk(r,this.compiler,n,this.onLoadEndListener).pipe(qs(()=>{this.childrenLoaders.delete(r)})),c=new of(s,()=>new et).pipe(rf());return this.childrenLoaders.set(r,c),c}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Mk(e,t,i,n){return Si(e.loadChildren()).pipe(ft(X0),qe(r=>r instanceof Ry||Array.isArray(r)?G(r):ie(t.compileModuleAsync(r))),ft(r=>{n&&n(e);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(i).injector,s=o.get(ga,[],{optional:!0,self:!0}).flat()),{routes:s.map(gm),injector:o}}))}function Nk(e){return e&&typeof e=="object"&&"default"in e}function X0(e){return Nk(e)?e.default:e}var vm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(Fk),providedIn:"root"});let e=t;return e})(),Fk=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Z0=new $(""),J0=new $("");function Lk(e,t,i){let n=e.get(J0),r=e.get(X);return e.get(q).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),c=r.startViewTransition(()=>(o(),Vk(e))),{onViewTransitionCreated:l}=n;return l&&Yn(e,()=>l({transition:c,from:t,to:i})),s})}function Vk(e){return new Promise(t=>{vf(t,{injector:e})})}var ym=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=F(bm),this.environmentInjector=F(Qr),this.urlSerializer=F(ba),this.rootContexts=F(va),this.location=F(Ke),this.inputBindingEnabled=F(Ul,{optional:!0})!==null,this.titleStrategy=F(Q0),this.options=F(xa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(vm),this.createViewTransition=F(Z0,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Qf(o)),r=o=>this.events.next(new Xf(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Et(M(M({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Ve({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($t(s=>s.id!==0),ft(s=>Et(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),De(s=>{let c=!1,l=!1;return G(s).pipe(De(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Qe.SupersededByNewNavigation),yn;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Et(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&p!=="reload"){let g="";return this.events.next(new Ai(d.id,this.urlSerializer.serialize(d.rawUrl),g,kl.IgnoredSameUrlNavigation)),d.resolve(null),yn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return G(d).pipe(De(g=>{let E=this.transitions?.getValue();return this.events.next(new fo(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),E!==this.transitions?.getValue()?yn:Promise.resolve(g)}),Sk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Zt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Et(M({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let E=new Pl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:g,extractedUrl:E,source:k,restoredState:O,extras:D}=d,z=new fo(g,this.urlSerializer.serialize(E),k,O);this.events.next(z);let W=j0(this.rootComponentType).snapshot;return this.currentTransition=s=Et(M({},d),{targetSnapshot:W,urlAfterRedirects:E,extras:Et(M({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,G(s)}else{let g="";return this.events.next(new Ai(d.id,this.urlSerializer.serialize(d.extractedUrl),g,kl.IgnoredByUrlHandlingStrategy)),d.resolve(null),yn}}),Zt(d=>{let f=new Gf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ft(d=>(this.currentTransition=s=Et(M({},d),{guards:GD(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),nk(this.environmentInjector,d=>this.events.next(d)),Zt(d=>{if(s.guardsResult=d.guardsResult,ho(d.guardsResult))throw $0(this.urlSerializer,d.guardsResult);let f=new Wf(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),$t(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Qe.GuardRejected),!1)),Uf(d=>{if(d.guards.canActivateChecks.length)return G(d).pipe(Zt(f=>{let p=new Kf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),De(f=>{let p=!1;return G(f).pipe(Rk(this.paramsInheritanceStrategy,this.environmentInjector),Zt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Qe.NoDataFromResolver)}}))}),Zt(f=>{let p=new Yf(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Uf(d=>{let f=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Zt(E=>{p.component=E}),ft(()=>{})));for(let E of p.children)g.push(...f(E));return g};return Wr(f(d.targetSnapshot.root)).pipe(ff(null),xe(1))}),Uf(()=>this.afterPreactivation()),De(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return p?ie(p).pipe(ft(()=>s)):G(s)}),ft(d=>{let f=VD(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Et(M({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Zt(()=>{this.events.next(new ua)}),HD(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),xe(1),Zt({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new dn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),fe(this.transitionAbortSubject.pipe(Zt(d=>{throw d}))),qs(()=>{!c&&!l&&this.cancelNavigationTransition(s,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Yr(d=>{if(l=!0,H0(d))this.events.next(new Ci(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),BD(d)?this.events.next(new ha(d.url)):s.resolve(!1);else{this.events.next(new da(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return yn}))}))}cancelNavigationTransition(n,r,o){let s=new Ci(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function jk(e){return e!==sa}var Uk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(Bk),providedIn:"root"});let e=t;return e})(),hm=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},Bk=(()=>{let t=class t extends hm{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Qn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),tw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>F(zk),providedIn:"root"});let e=t;return e})(),zk=(()=>{let t=class t extends tw{constructor(){super(...arguments),this.location=F(Ke),this.urlSerializer=F(ba),this.options=F(xa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(vm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ti,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=j0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof fo)this.stateMemento=this.createStateMemento();else if(n instanceof Ai)this.rawUrlTree=r.initialUrl;else if(n instanceof Pl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof ua?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Ci&&(n.code===Qe.GuardRejected||n.code===Qe.NoDataFromResolver)?this.restoreHistory(r):n instanceof da?this.restoreHistory(r,!0):n instanceof dn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=M(M({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Qn(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ra=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ra||{});function ew(e,t){e.events.pipe($t(i=>i instanceof dn||i instanceof Ci||i instanceof da||i instanceof Ai),ft(i=>i instanceof dn||i instanceof Ai?ra.COMPLETE:(i instanceof Ci?i.code===Qe.Redirect||i.code===Qe.SupersededByNewNavigation:!1)?ra.REDIRECTING:ra.FAILED),$t(i=>i!==ra.REDIRECTING),xe(1)).subscribe(()=>{t()})}function $k(e){throw e}var qk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ee=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=F(dl),this.stateManager=F(tw),this.options=F(xa,{optional:!0})||{},this.pendingTasks=F(wf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(ym),this.urlSerializer=F(ba),this.location=F(Ke),this.urlHandlingStrategy=F(vm),this._events=new et,this.errorHandler=this.options.errorHandler||$k,this.navigated=!1,this.routeReuseStrategy=F(Uk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(ga,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(Ul,{optional:!0}),this.eventsSubscription=new Kn,this.isNgZoneEnabled=F(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ci&&r.code!==Qe.Redirect&&r.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof dn)this.navigated=!0;else if(r instanceof ha){let c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||jk(o.source)};this.scheduleNavigation(c,sa,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Wk(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=M({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(gm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:l,preserveFragment:d}=r,f=d?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let E=o?o.snapshot:this.routerState.snapshot.root;g=N0(E)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return F0(g,n,p,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=ho(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,sa,null,r)}navigate(n,r={skipLocationChange:!1}){return Gk(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=M({},qk):r===!1?o=M({},Hk):o=r,ho(n))return _0(this.currentUrlTree,n,o);let s=this.parseUrl(n);return _0(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let l,d,f;c?(l=c.resolve,d=c.reject,f=c.promise):f=new Promise((g,E)=>{l=g,d=E});let p=this.pendingTasks.add();return ew(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Gk(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new At(4008,!1)}function Wk(e){return!(e instanceof ua)&&!(e instanceof ha)}var jl=class{};var Kk=(()=>{let t=class t{constructor(n,r,o,s,c){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe($t(n=>n instanceof dn),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=yf(s.providers,n,`Route: ${s.path}`));let c=s._injector??n,l=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ie(o).pipe(lf())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=G(null);let s=o.pipe(qe(c=>c===null?G(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return ie([s,c]).pipe(lf())}else return s})}};t.\u0275fac=function(r){return new(r||t)(R(Ee),R(hl),R(Qr),R(jl),R(bm))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),nw=new $(""),Yk=(()=>{let t=class t{constructor(n,r,o,s,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=F(Qr),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof dn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ai&&n.code===kl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ol&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),vf(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ol(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){to()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function iw(e,...t){return He([{provide:ga,multi:!0,useValue:e},[],{provide:Jn,useFactory:rw,deps:[Ee]},{provide:Ks,multi:!0,useFactory:ow},t.map(i=>i.\u0275providers)])}function rw(e){return e.routerState.root}function Ea(e,t){return{\u0275kind:e,\u0275providers:t}}function ow(){let e=F(Pt);return t=>{let i=e.get(sr);if(t!==i.components[0])return;let n=e.get(Ee),r=e.get(sw);e.get(wm)===1&&n.initialNavigation(),e.get(aw,null,_f.Optional)?.setUpPreloading(),e.get(nw,null,_f.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var sw=new $("",{factory:()=>new et}),wm=new $("",{providedIn:"root",factory:()=>1});function Qk(){return Ea(2,[{provide:wm,useValue:0},{provide:Ef,multi:!0,deps:[Pt],useFactory:t=>{let i=t.get(Gy,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(Ee),o=t.get(sw);ew(r,()=>{n(!0)}),t.get(ym).afterPreactivation=()=>(n(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}])}function Xk(){return Ea(3,[{provide:Ef,multi:!0,useFactory:()=>{let t=F(Ee);return()=>{t.setUpLocationChangeListener()}}},{provide:wm,useValue:2}])}var aw=new $("");function Zk(e){return Ea(0,[{provide:aw,useExisting:Kk},{provide:jl,useExisting:e}])}function Jk(){return Ea(8,[w0,{provide:Ul,useExisting:w0}])}function tP(e){let t=[{provide:Z0,useValue:Lk},{provide:J0,useValue:M({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ea(9,t)}var E0=new $("ROUTER_FORROOT_GUARD"),eP=[Ke,{provide:ba,useClass:ca},Ee,va,{provide:Jn,useFactory:rw,deps:[Ee]},bm,[]],cw=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[eP,[],{provide:ga,multi:!0,useValue:n},{provide:E0,useFactory:oP,deps:[[Ee,new ke,new py]]},{provide:xa,useValue:r||{}},r?.useHash?iP():rP(),nP(),r?.preloadingStrategy?Zk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sP(r):[],r?.bindToComponentInputs?Jk().\u0275providers:[],r?.enableViewTransitions?tP().\u0275providers:[],aP()]}}static forChild(n){return{ngModule:t,providers:[{provide:ga,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(R(E0,8))},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})();function nP(){return{provide:nw,useFactory:()=>{let e=F(pl),t=F(q),i=F(xa),n=F(ym),r=F(ba);return i.scrollOffset&&e.setOffset(i.scrollOffset),new Yk(r,n,e,t,i)}}}function iP(){return{provide:If,useClass:Ky}}function rP(){return{provide:If,useClass:Wy}}function oP(e){return"guarded"}function sP(e){return[e.initialNavigation==="disabled"?Xk().\u0275providers:[],e.initialNavigation==="enabledBlocking"?Qk().\u0275providers:[]]}var I0=new $("");function aP(){return[{provide:I0,useFactory:ow},{provide:Ks,multi:!0,useExisting:I0}]}function An(e){return e!=null&&`${e}`!="false"}function go(e,t=0){return cP(e)?Number(e):t}function cP(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function _o(e){return Array.isArray(e)?e:[e]}function te(e){return e==null?"":typeof e=="string"?e:`${e}px`}function rn(e){return e instanceof mt?e.nativeElement:e}var Em;try{Em=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Em=!1}var yt=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?ml(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Em)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(R(Ge))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var bo,lw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Im(){if(bo)return bo;if(typeof document!="object"||!document)return bo=new Set(lw),bo;let e=document.createElement("input");return bo=new Set(lw.filter(t=>(e.setAttribute("type",t),e.type===t))),bo}var Ia;function lP(){if(Ia==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ia=!0}))}finally{Ia=Ia||!1}return Ia}function Ri(e){return lP()?e:!!e.capture}var dr;function dw(){if(dr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return dr=!1,dr;if("scrollBehavior"in document.documentElement.style)dr=!0;else{let e=Element.prototype.scrollTo;e?dr=!/\{\s*\[native code\]\s*\}/.test(e.toString()):dr=!1}}return dr}var xm;function dP(){if(xm==null){let e=typeof document<"u"?document.head:null;xm=!!(e&&(e.createShadowRoot||e.attachShadow))}return xm}function uw(e){if(dP()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ta(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function un(e){return e.composedPath?e.composedPath()[0]:e.target}function Ca(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function $l(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var uP=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var hw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({providers:[uP]});let e=t;return e})();var fw=new Set,ur,hP=(()=>{let t=class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):mP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&fP(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(r){return new(r||t)(R(yt),R(Gs,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function fP(e,t){if(!fw.has(e))try{ur||(ur=document.createElement("style"),t&&ur.setAttribute("nonce",t),ur.setAttribute("type","text/css"),document.head.appendChild(ur)),ur.sheet&&(ur.sheet.insertRule(`@media ${e} {body{ }}`,0),fw.add(e))}catch(i){console.error(i)}}function mP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var ql=(()=>{let t=class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new et}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return mw(_o(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=mw(_o(n)).map(c=>this._registerQuery(c).observable),s=Wr(o);return s=tl(s.pipe(xe(1)),s.pipe(nl(1),hf(0))),s.pipe(ft(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:f})=>{l.matches=l.matches||d,l.breakpoints[f]=d}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Le(c=>{let l=d=>this._zone.run(()=>c.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(xn(r),ft(({matches:c})=>({query:n,matches:c})),fe(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};t.\u0275fac=function(r){return new(r||t)(R(hP),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function mw(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var pw={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Aa=(()=>{let t=class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return _P(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=gP(TP(n));if(r&&(gw(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=gw(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!EP(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return IP(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};t.\u0275fac=function(r){return new(r||t)(R(yt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function gP(e){try{return e.frameElement}catch{return null}}function _P(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function bP(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function vP(e){return wP(e)&&e.type=="hidden"}function yP(e){return xP(e)&&e.hasAttribute("href")}function wP(e){return e.nodeName.toLowerCase()=="input"}function xP(e){return e.nodeName.toLowerCase()=="a"}function vw(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function gw(e){if(!vw(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function EP(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function IP(e){return vP(e)?!1:bP(e)||yP(e)||e.hasAttribute("contenteditable")||vw(e)}function TP(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Cm=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,r,o=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(xe(1)).subscribe(t)}},Wl=(()=>{let t=class t{constructor(n,r,o){this._checker=n,this._ngZone=r,this._document=o}create(n,r=!1){return new Cm(n,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(R(Aa),R(q),R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Am(e){return e.buttons===0||e.detail===0}function Sm(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var CP=new $("cdk-input-modality-detector-options"),AP={ignoreKeys:[18,17,224,91,16]},yw=650,vo=Ri({passive:!0,capture:!0}),SP=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Ve(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=un(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<yw||(this._modality.next(Am(c)?"keyboard":"mouse"),this._mostRecentTarget=un(c))},this._onTouchstart=c=>{if(Sm(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=un(c)},this._options=M(M({},AP),s),this.modalityDetected=this._modality.pipe(nl(1)),this.modalityChanged=this.modalityDetected.pipe(el()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,vo),o.addEventListener("mousedown",this._onMousedown,vo),o.addEventListener("touchstart",this._onTouchstart,vo)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vo),document.removeEventListener("mousedown",this._onMousedown,vo),document.removeEventListener("touchstart",this._onTouchstart,vo))}};t.\u0275fac=function(r){return new(r||t)(R(yt),R(q),R(X),R(CP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),RP=new $("liveAnnouncerElement",{providedIn:"root",factory:DP});function DP(){return null}var kP=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),PP=0,ww=(()=>{let t=class t{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,c;return r.length===1&&typeof r[0]=="number"?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),c==null&&o&&(c=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof c=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${PP++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}};t.\u0275fac=function(r){return new(r||t)(R(RP,8),R(q),R(X),R(kP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Gl=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(Gl||{}),OP=new $("cdk-focus-monitor-default-options"),Hl=Ri({passive:!0,capture:!0}),yo=(()=>{let t=class t{constructor(n,r,o,s,c){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new et,this._rootNodeFocusAndBlurListener=l=>{let d=un(l);for(let f=d;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=c?.detectionMode||Gl.IMMEDIATE}monitor(n,r=!1){let o=rn(n);if(!this._platform.isBrowser||o.nodeType!==1)return G();let s=uw(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new et,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=rn(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=rn(n),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===Gl.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===Gl.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?yw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=un(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Hl),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Hl)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(fe(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Hl),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Hl),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(R(q),R(yt),R(SP),R(X,8),R(OP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var hr=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(hr||{}),_w="cdk-high-contrast-black-on-white",bw="cdk-high-contrast-white-on-black",Tm="cdk-high-contrast-active",xw=(()=>{let t=class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=F(ql).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return hr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return hr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return hr.BLACK_ON_WHITE}return hr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Tm,_w,bw),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===hr.BLACK_ON_WHITE?n.add(Tm,_w):r===hr.WHITE_ON_BLACK&&n.add(Tm,bw)}}};t.\u0275fac=function(r){return new(r||t)(R(yt),R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var MP=new $("cdk-dir-doc",{providedIn:"root",factory:NP});function NP(){return F(X)}var FP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function LP(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?FP.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var fr=(()=>{let t=class t{constructor(n){if(this.value="ltr",this.change=new Dt,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=LP(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(R(MP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Rm=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})();function VP(){return!0}var jP=new $("mat-sanity-checks",{providedIn:"root",factory:VP}),oe=(()=>{let t=class t{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Ca()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(r){return new(r||t)(R(xw),R(jP,8),R(X))},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[Rm,Rm]});let e=t;return e})();var Ql=class{constructor(t,i,n,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Pw=(()=>{let t=class t{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var on=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(on||{}),Pm=class{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=on.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Iw=Ri({passive:!0,capture:!0}),Om=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=un(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Iw)})}removeHandler(t,i,n){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Iw)))}},Tw={enterDuration:225,exitDuration:150},UP=800,Cw=Ri({passive:!0,capture:!0}),Aw=["mousedown","touchstart"],Sw=["mouseup","mouseleave","touchend","touchcancel"],Sa=class Sa{constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=rn(n))}fadeInRipple(t,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=M(M({},Tw),n.animation);n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||BP(t,i,r),c=t-r.left,l=i-r.top,d=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${l-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,n.color!=null&&(f.style.backgroundColor=n.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),g=p.transitionProperty,E=p.transitionDuration,k=g==="none"||E==="0s"||E==="0s, 0s"||r.width===0&&r.height===0,O=new Pm(this,f,n,k);f.style.transform="scale3d(1, 1, 1)",O.state=on.FADING_IN,n.persistent||(this._mostRecentTransientRipple=O);let D=null;return!k&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>this._finishRippleTransition(O),W=()=>this._destroyRipple(O);f.addEventListener("transitionend",z),f.addEventListener("transitioncancel",W),D={onTransitionEnd:z,onTransitionCancel:W}}),this._activeRipples.set(O,D),(k||!d)&&this._finishRippleTransition(O),O}fadeOutRipple(t){if(t.state===on.FADING_OUT||t.state===on.HIDDEN)return;let i=t.element,n=M(M({},Tw),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=on.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=rn(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Aw.forEach(n=>{Sa._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Sw.forEach(i=>{this._triggerElement.addEventListener(i,this,Cw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===on.FADING_IN?this._startFadeOutTransition(t):t.state===on.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=on.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=on.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=Am(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+UP;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Sm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===on.VISIBLE||t.config.terminateOnPointerUp&&t.state===on.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Aw.forEach(i=>Sa._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(Sw.forEach(i=>t.removeEventListener(i,this,Cw)),this._pointerUpEventsRegistered=!1))}};Sa._eventManager=new Om;var Mm=Sa;function BP(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}var Ow=new $("mat-ripple-global-options"),Nm=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Mm(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:M(M(M({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,M(M({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,M(M({},this.rippleConfig),n))}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(q),S(yt),S(Ow,8),S(je,8))},t.\u0275dir=J({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&kt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[bt.None,"matRippleColor","color"],unbounded:[bt.None,"matRippleUnbounded","unbounded"],centered:[bt.None,"matRippleCentered","centered"],radius:[bt.None,"matRippleRadius","radius"],animation:[bt.None,"matRippleAnimation","animation"],disabled:[bt.None,"matRippleDisabled","disabled"],trigger:[bt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),Xl=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,oe]});let e=t;return e})();var Rw={capture:!0},Dw=["focus","click","mouseenter","touchstart"],Dm="mat-ripple-loader-uninitialized",km="mat-ripple-loader-class-name",kw="mat-ripple-loader-centered",Yl="mat-ripple-loader-disabled",Mw=(()=>{let t=class t{constructor(){this._document=F(X,{optional:!0}),this._animationMode=F(je,{optional:!0}),this._globalRippleOptions=F(Ow,{optional:!0}),this._platform=F(yt),this._ngZone=F(q),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${Dm}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of Dw)this._document?.addEventListener(n,this._onInteraction,Rw)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of Dw)this._document?.removeEventListener(r,this._onInteraction,Rw)}configureRipple(n,r){n.setAttribute(Dm,""),(r.className||!n.hasAttribute(km))&&n.setAttribute(km,r.className||""),r.centered&&n.setAttribute(kw,""),r.disabled&&n.setAttribute(Yl,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(Yl,""):n.removeAttribute(Yl)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(km)),n.append(o);let s=new Nm(new mt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(kw),s.disabled=n.hasAttribute(Yl),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(Dm),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Di=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=An(n)}get inset(){return this._inset}set inset(n){this._inset=An(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(Jt("aria-orientation",o.vertical?"vertical":"horizontal"),kt("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[ct],decls:0,vars:0,template:function(r,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),wo=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,oe]});let e=t;return e})();var Lw=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:r<2048?(t[i++]=r>>6|192,t[i++]=r&63|128):(r&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++n)&1023),t[i++]=r>>18|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128,t[i++]=r&63|128):(t[i++]=r>>12|224,t[i++]=r>>6&63|128,t[i++]=r&63|128)}return t},zP=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[i++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[i++],s=e[i++],c=e[i++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=e[i++],s=e[i++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Vw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,c=s?e[r+1]:0,l=r+2<e.length,d=l?e[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,g=(c&15)<<2|d>>6,E=d&63;l||(E=64,s||(g=64)),n.push(i[f],i[p],i[g],i[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){let o=i[e.charAt(r++)],c=r<e.length?i[e.charAt(r)]:0;++r;let d=r<e.length?i[e.charAt(r)]:64;++r;let p=r<e.length?i[e.charAt(r)]:64;if(++r,o==null||c==null||d==null||p==null)throw new Vm;let g=o<<2|c>>4;if(n.push(g),d!==64){let E=c<<4&240|d>>2;if(n.push(E),p!==64){let k=d<<6&192|p;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Vm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$P=function(e){let t=Lw(e);return Vw.encodeByteArray(t,!0)},Ra=function(e){return $P(e).replace(/\./g,"")},Um=function(e){try{return Vw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var HP=()=>qP().__FIREBASE_DEFAULTS__,GP=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},WP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Um(e[1]);return t&&JSON.parse(t)},Jl=()=>{try{return HP()||GP()||WP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Bm=e=>{var t,i;return(i=(t=Jl())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},td=e=>{let t=Bm(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),n]:[t.substring(0,i),n]},zm=()=>{var e;return(e=Jl())===null||e===void 0?void 0:e.config},$m=e=>{var t;return(t=Jl())===null||t===void 0?void 0:t[`_${e}`]};var Zl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,n))}}};function ed(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ra(JSON.stringify(i)),Ra(JSON.stringify(s)),""].join(".")}function le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())}function KP(){var e;let t=(e=Jl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uw(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Bw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zw(){let e=le();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function $w(){return!KP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qm(){try{return typeof indexedDB=="object"}catch{return!1}}function qw(){return new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){t(i)}})}var YP="FirebaseError",Ne=class e extends Error{constructor(t,i,n){super(i),this.code=t,this.customData=n,this.name=YP,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}},ti=class{constructor(t,i,n){this.service=t,this.serviceName=i,this.errors=n}create(t,...i){let n=i[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?QP(o,n):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Ne(r,c,n)}};function QP(e,t){return e.replace(XP,(i,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var XP=/\{\$([^}]+)}/g;function Hw(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function mr(e,t){if(e===t)return!0;let i=Object.keys(e),n=Object.keys(t);for(let r of i){if(!n.includes(r))return!1;let o=e[r],s=t[r];if(Fw(o)&&Fw(s)){if(!mr(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!i.includes(r))return!1;return!0}function Fw(e){return e!==null&&typeof e=="object"}function xo(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Gw(e,t){let i=new jm(e,t);return i.subscribe.bind(i)}var jm=class{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,n){let r;if(t===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");ZP(t,["next","error","complete"])?r=t:r={next:t,error:i,complete:n},r.next===void 0&&(r.next=Lm),r.error===void 0&&(r.error=Lm),r.complete===void 0&&(r.complete=Lm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function ZP(e,t){if(typeof e!="object"||e===null)return!1;for(let i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function Lm(){}var yH=4*60*60*1e3;function qt(e){return e&&e._delegate?e._delegate:e}var Ue=class{constructor(t,i,n){this.name=t,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var pr="[DEFAULT]";var Hm=class{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){let n=new Zl;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tO(t))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(let[i,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(t=pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return b(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=pr){return this.instances.has(t)}getOptions(t=pr){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:i={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);n===c&&s.resolve(r)}return r}onInit(t,i){var n;let r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){let n=this.onInitCallbacks.get(i);if(n)for(let r of n)try{r(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:JP(t),options:i}),this.instances.set(t,n),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=pr){return this.component?this.component.multipleInstances?t:pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function JP(e){return e===pr?void 0:e}function tO(e){return e.instantiationMode==="EAGER"}var nd=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let i=new Hm(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}};var eO=[],gt=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(gt||{}),nO={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},iO=gt.INFO,rO={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},oO=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=rO[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},ki=class{constructor(t){this.name=t,this._logLevel=iO,this._logHandler=oO,this._userLogHandler=null,eO.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in gt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...t),this._logHandler(this,gt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...t),this._logHandler(this,gt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...t),this._logHandler(this,gt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...t),this._logHandler(this,gt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...t),this._logHandler(this,gt.ERROR,...t)}};var sO=(e,t)=>t.some(i=>e instanceof i),Ww,Kw;function aO(){return Ww||(Ww=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cO(){return Kw||(Kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Yw=new WeakMap,Wm=new WeakMap,Qw=new WeakMap,Gm=new WeakMap,Ym=new WeakMap;function lO(e){let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{i(Sn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(i=>{i instanceof IDBCursor&&Yw.set(i,e)}).catch(()=>{}),Ym.set(t,e),t}function dO(e){if(Wm.has(e))return;let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{i(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Wm.set(e,t)}var Km={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return Wm.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Qw.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Sn(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Xw(e){Km=e(Km)}function uO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){let n=e.call(id(this),t,...i);return Qw.set(n,t.sort?t.sort():[t]),Sn(n)}:cO().includes(e)?function(...t){return e.apply(id(this),t),Sn(Yw.get(this))}:function(...t){return Sn(e.apply(id(this),t))}}function hO(e){return typeof e=="function"?uO(e):(e instanceof IDBTransaction&&dO(e),sO(e,aO())?new Proxy(e,Km):e)}function Sn(e){if(e instanceof IDBRequest)return lO(e);if(Gm.has(e))return Gm.get(e);let t=hO(e);return t!==e&&(Gm.set(e,t),Ym.set(t,e)),t}var id=e=>Ym.get(e);function Jw(e,t,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(e,t),c=Sn(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Sn(s.result),l.oldVersion,l.newVersion,Sn(s.transaction),l)}),i&&s.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var fO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],Qm=new Map;function Zw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qm.get(t))return Qm.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=mO.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||fO.includes(i)))return;let o=function(s,...c){return b(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),d=l.store;return n&&(d=d.index(c.shift())),(yield Promise.all([d[i](...c),r&&l.done]))[0]})};return Qm.set(t,o),o}Xw(e=>Et(M({},e),{get:(t,i,n)=>Zw(t,i)||e.get(t,i,n),has:(t,i)=>!!Zw(t,i)||e.has(t,i)}));var Zm=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(pO(i)){let n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}};function pO(e){let t=e.getComponent();return t?.type==="VERSION"}var Jm="@firebase/app",tx="0.10.5";var gr=new ki("@firebase/app"),gO="@firebase/app-compat",_O="@firebase/analytics-compat",bO="@firebase/analytics",vO="@firebase/app-check-compat",yO="@firebase/app-check",wO="@firebase/auth",xO="@firebase/auth-compat",EO="@firebase/database",IO="@firebase/database-compat",TO="@firebase/functions",CO="@firebase/functions-compat",AO="@firebase/installations",SO="@firebase/installations-compat",RO="@firebase/messaging",DO="@firebase/messaging-compat",kO="@firebase/performance",PO="@firebase/performance-compat",OO="@firebase/remote-config",MO="@firebase/remote-config-compat",NO="@firebase/storage",FO="@firebase/storage-compat",LO="@firebase/firestore",VO="@firebase/vertexai-preview",jO="@firebase/firestore-compat",UO="firebase",BO="10.12.2";var tp="[DEFAULT]",zO={[Jm]:"fire-core",[gO]:"fire-core-compat",[bO]:"fire-analytics",[_O]:"fire-analytics-compat",[yO]:"fire-app-check",[vO]:"fire-app-check-compat",[wO]:"fire-auth",[xO]:"fire-auth-compat",[EO]:"fire-rtdb",[IO]:"fire-rtdb-compat",[TO]:"fire-fn",[CO]:"fire-fn-compat",[AO]:"fire-iid",[SO]:"fire-iid-compat",[RO]:"fire-fcm",[DO]:"fire-fcm-compat",[kO]:"fire-perf",[PO]:"fire-perf-compat",[OO]:"fire-rc",[MO]:"fire-rc-compat",[NO]:"fire-gcs",[FO]:"fire-gcs-compat",[LO]:"fire-fst",[jO]:"fire-fst-compat",[VO]:"fire-vertex","fire-js":"fire-js",[UO]:"fire-js-all"};var Da=new Map,$O=new Map,ep=new Map;function ex(e,t){try{e.container.addComponent(t)}catch(i){gr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function Rn(e){let t=e.name;if(ep.has(t))return gr.debug(`There were multiple attempts to register component ${t}.`),!1;ep.set(t,e);for(let i of Da.values())ex(i,e);for(let i of $O.values())ex(i,e);return!0}function _r(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function Dn(e){return e.settings!==void 0}var qO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new ti("app","Firebase",qO);var np=class{constructor(t,i,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ue("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}};var kn=BO;function op(e,t={}){let i=e;typeof t!="object"&&(t={name:t});let n=Object.assign({name:tp,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw Pi.create("bad-app-name",{appName:String(r)});if(i||(i=zm()),!i)throw Pi.create("no-options");let o=Da.get(r);if(o){if(mr(i,o.options)&&mr(n,o.config))return o;throw Pi.create("duplicate-app",{appName:r})}let s=new nd(r);for(let l of ep.values())s.addComponent(l);let c=new np(i,n,s);return Da.set(r,c),c}function Oi(e=tp){let t=Da.get(e);if(!t&&e===tp&&zm())return op();if(!t)throw Pi.create("no-app",{appName:e});return t}function rd(){return Array.from(Da.values())}function Wt(e,t,i){var n;let r=(n=zO[e])!==null&&n!==void 0?n:e;i&&(r+=`-${i}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),gr.warn(c.join(" "));return}Rn(new Ue(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var HO="firebase-heartbeat-database",GO=1,ka="firebase-heartbeat-store",Xm=null;function ox(){return Xm||(Xm=Jw(HO,GO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(ka)}catch(i){console.warn(i)}}}}).catch(e=>{throw Pi.create("idb-open",{originalErrorMessage:e.message})})),Xm}function WO(e){return b(this,null,function*(){try{let i=(yield ox()).transaction(ka),n=yield i.objectStore(ka).get(sx(e));return yield i.done,n}catch(t){if(t instanceof Ne)gr.warn(t.message);else{let i=Pi.create("idb-get",{originalErrorMessage:t?.message});gr.warn(i.message)}}})}function nx(e,t){return b(this,null,function*(){try{let n=(yield ox()).transaction(ka,"readwrite");yield n.objectStore(ka).put(t,sx(e)),yield n.done}catch(i){if(i instanceof Ne)gr.warn(i.message);else{let n=Pi.create("idb-set",{originalErrorMessage:i?.message});gr.warn(n.message)}}})}function sx(e){return`${e.name}!${e.options.appId}`}var KO=1024,YO=30*24*60*60*1e3,ip=class{constructor(t){this.container=t,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new rp(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return b(this,null,function*(){var t,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ix();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=YO}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=ix(),{heartbeatsToSend:n,unsentEntries:r}=QO(this._heartbeatsCache.heartbeats),o=Ra(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function ix(){return new Date().toISOString().substring(0,10)}function QO(e,t=KO){let i=[],n=e.slice();for(let r of e){let o=i.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),rx(i)>t){o.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),rx(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}var rp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return qm()?qw().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield WO(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nx(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return nx(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function rx(e){return Ra(JSON.stringify({version:2,heartbeats:e})).length}function XO(e){Rn(new Ue("platform-logger",t=>new Zm(t),"PRIVATE")),Rn(new Ue("heartbeat",t=>new ip(t),"PRIVATE")),Wt(Jm,tx,e),Wt(Jm,tx,"esm2017"),Wt("fire-js","")}XO("");var ZO="firebase",JO="10.12.2";Wt(ZO,JO,"app");var vr=new io("ANGULARFIRE2_VERSION");function sd(e,t,i){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(e).getImmediate({optional:!0})}var Pa=(e,t)=>{let i=t?[t]:rd(),n=[];return i.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Io=class{constructor(){return Pa(t1)}},t1="app-check";function Eo(){}var od=class{zone;delegate;constructor(t,i=ly){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},sp=class{zone;task=null;constructor(t){this.zone=t}call(t,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo)),i.pipe(Zt({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},To=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new od(Zone.current)),this.insideAngular=i.run(()=>new od(Zone.current,cy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||e)(R(q))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ad(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function e1(e){return ad().ngZone.runOutsideAngular(()=>e())}function br(e){return ad().ngZone.run(()=>e())}function n1(e){return i1(ad())(e)}function i1(e){return function(i){return i=i.lift(new sp(e.ngZone)),i.pipe(af(e.outsideAngular),sf(e.insideAngular))}}var r1=(e,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),br(()=>e.apply(void 0,n))},ee=(e,t)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(i||=br(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eo,{},Eo,Eo))),n[o]=r1(n[o],i));let r=e1(()=>e.apply(this,n));if(!t)if(r instanceof Le){let o=ad();return r.pipe(af(o.outsideAngular),sf(o.insideAngular))}else return br(()=>r);return r instanceof Le?r.pipe(n1):r instanceof Promise?br(()=>new Promise((o,s)=>r.then(c=>br(()=>o(c)),c=>br(()=>s(c))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:br(()=>r)};var ei=class{constructor(t){return t}},yr=class{constructor(){return rd()}};function o1(e){return e&&e.length===1?e[0]:new ei(Oi())}var ap=new $("angularfire2._apps"),s1={provide:ei,useFactory:o1,deps:[[new ke,ap]]},a1={provide:yr,deps:[[new ke,ap]]};function c1(e){return(t,i)=>{let n=i.get(Ge);Wt("angularfire",vr.full,"core"),Wt("angularfire",vr.full,"app"),Wt("angular",jy.full,n.toString());let r=t.runOutsideAngular(()=>e(i));return new ei(r)}}function ax(e,...t){return He([s1,a1,{provide:ap,useFactory:c1(e),multi:!0,deps:[q,Pt,To,...t]}])}var cx=ee(op,!0);function Ex(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ix=Ex,Tx=new ti("auth","Firebase",Ex());var fd=new ki("@firebase/auth");function l1(e,...t){fd.logLevel<=gt.WARN&&fd.warn(`Auth (${kn}): ${e}`,...t)}function ld(e,...t){fd.logLevel<=gt.ERROR&&fd.error(`Auth (${kn}): ${e}`,...t)}function On(e,...t){throw Tp(e,...t)}function fn(e,...t){return Tp(e,...t)}function Ip(e,t,i){let n=Object.assign(Object.assign({},Ix()),{[t]:i});return new ti("auth","Firebase",n).create(t,{appName:e.name})}function wr(e){return Ip(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d1(e,t,i){let n=i;if(!(t instanceof n))throw n.name!==t.constructor.name&&On(e,"argument-error"),Ip(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(e,...t){if(typeof e!="string"){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return Tx.create(e,...t)}function it(e,t,...i){if(!e)throw Tp(t,...i)}function ni(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ld(t),new Error(t)}function ri(e,t){e||ni(t)}function dp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function u1(){return lx()==="http:"||lx()==="https:"}function lx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function h1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(u1()||Uw()||"connection"in navigator)?navigator.onLine:!0}function f1(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var xr=class{constructor(t,i){this.shortDelay=t,this.longDelay=i,ri(i>t,"Short delay should be less than long delay!"),this.isMobile=jw()||Bw()}get(){return h1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Cp(e,t){ri(e.emulator,"Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}var md=class{static initialize(t,i,n){this.fetchImpl=t,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var m1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var p1=new xr(3e4,6e4);function Ap(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function So(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){return Cx(e,r,()=>b(this,null,function*(){let d={},f={};n&&(t==="GET"?f=n:d={body:JSON.stringify(n)});let p=xo(Object.assign({key:e.config.apiKey},f)).slice(1),g=yield e._getAdditionalHeaders();return g["Content-Type"]="application/json",e.languageCode&&(g["X-Firebase-Locale"]=e.languageCode),md.fetch()(Ax(e,e.config.apiHost,i,p),Object.assign({method:t,headers:g,referrerPolicy:"no-referrer"},d))}))})}function Cx(e,t,i){return b(this,null,function*(){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},m1),t);try{let r=new up(e),o=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw cd(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw cd(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw cd(e,"user-disabled",s);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ip(e,f,d);On(e,f)}}catch(r){if(r instanceof Ne)throw r;On(e,"network-request-failed",{message:String(r)})}})}function g1(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){let d=yield So(e,t,i,n,r);return"mfaPendingCredential"in d&&On(e,"multi-factor-auth-required",{_serverResponse:d}),d})}function Ax(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?Cp(e.config,r):`${e.config.apiScheme}://${r}`}var up=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(fn(this.auth,"network-request-failed")),p1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function cd(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=fn(e,t,n);return r.customData._tokenResponse=i,r}function _1(e,t){return b(this,null,function*(){return So(e,"POST","/v1/accounts:delete",t)})}function Sx(e,t){return b(this,null,function*(){return So(e,"POST","/v1/accounts:lookup",t)})}function Oa(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Sp(e,t=!1){return b(this,null,function*(){let i=qt(e),n=yield i.getIdToken(t),r=Rp(n);it(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:Oa(cp(r.auth_time)),issuedAtTime:Oa(cp(r.iat)),expirationTime:Oa(cp(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function cp(e){return Number(e)*1e3}function Rp(e){let[t,i,n]=e.split(".");if(t===void 0||i===void 0||n===void 0)return ld("JWT malformed, contained fewer than 3 sections"),null;try{let r=Um(i);return r?JSON.parse(r):(ld("Failed to decode base64 JWT payload"),null)}catch(r){return ld("Caught error parsing JWT payload as JSON",r?.toString()),null}}function dx(e){let t=Rp(e);return it(t,"internal-error"),it(typeof t.exp<"u","internal-error"),it(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Na(e,t,i=!1){return b(this,null,function*(){if(i)return t;try{return yield t}catch(n){throw n instanceof Ne&&b1(n)&&e.auth.currentUser===e&&(yield e.auth.signOut()),n}})}function b1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var hp=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let i=this.getInterval(t);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),i)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Fa=class{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oa(this.lastLoginAt),this.creationTime=Oa(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pd(e){return b(this,null,function*(){var t;let i=e.auth,n=yield e.getIdToken(),r=yield Na(e,Sx(i,{idToken:n}));it(r?.users.length,i,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Rx(o.providerUserInfo):[],c=v1(e.providerData,s),l=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!c?.length,f=l?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Fa(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)})}function Dp(e){return b(this,null,function*(){let t=qt(e);yield pd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function v1(e,t){return[...e.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function Rx(e){return e.map(t=>{var{providerId:i}=t,n=Jc(t,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function y1(e,t){return b(this,null,function*(){let i=yield Cx(e,{},()=>b(this,null,function*(){let n=xo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=Ax(e,r,"/v1/token",`key=${o}`),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",md.fetch()(s,{method:"POST",headers:c,body:n})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function w1(e,t){return b(this,null,function*(){return So(e,"POST","/v2/accounts:revokeToken",Ap(e,t))})}var Ma=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){it(t.idToken,"internal-error"),it(typeof t.idToken<"u","internal-error"),it(typeof t.refreshToken<"u","internal-error");let i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){it(t.length!==0,"internal-error");let i=dx(t);this.updateTokensAndExpiration(t,null,i)}getToken(t,i=!1){return b(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,i){return b(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield y1(t,i);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,i,n){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,i){let{refreshToken:n,accessToken:r,expirationTime:o}=i,s=new e;return n&&(it(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(it(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(it(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return ni("not implemented")}};function Mi(e,t){it(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Ao=class e{constructor(t){var{uid:i,auth:n,stsTokenManager:r}=t,o=Jc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Fa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return b(this,null,function*(){let i=yield Na(this,this.stsTokenManager.getToken(this.auth,t));return it(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(t){return Sp(this,t)}reload(){return Dp(this)}_assign(t){this!==t&&(it(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let i=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,i=!1){return b(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),i&&(yield pd(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Dn(this.auth.app))return Promise.reject(wr(this.auth));let t=yield this.getIdToken();return yield Na(this,_1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var n,r,o,s,c,l,d,f;let p=(n=i.displayName)!==null&&n!==void 0?n:void 0,g=(r=i.email)!==null&&r!==void 0?r:void 0,E=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=i.photoURL)!==null&&s!==void 0?s:void 0,O=(c=i.tenantId)!==null&&c!==void 0?c:void 0,D=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,z=(d=i.createdAt)!==null&&d!==void 0?d:void 0,W=(f=i.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:Z,emailVerified:st,isAnonymous:Bt,providerData:Y,stsTokenManager:w}=i;it(Z&&w,t,"internal-error");let _=Ma.fromJSON(this.name,w);it(typeof Z=="string",t,"internal-error"),Mi(p,t.name),Mi(g,t.name),it(typeof st=="boolean",t,"internal-error"),it(typeof Bt=="boolean",t,"internal-error"),Mi(E,t.name),Mi(k,t.name),Mi(O,t.name),Mi(D,t.name),Mi(z,t.name),Mi(W,t.name);let v=new e({uid:Z,auth:t,email:g,emailVerified:st,displayName:p,isAnonymous:Bt,photoURL:k,phoneNumber:E,tenantId:O,stsTokenManager:_,createdAt:z,lastLoginAt:W});return Y&&Array.isArray(Y)&&(v.providerData=Y.map(x=>Object.assign({},x))),D&&(v._redirectEventId=D),v}static _fromIdTokenResponse(t,i,n=!1){return b(this,null,function*(){let r=new Ma;r.updateFromServerResponse(i);let o=new e({uid:i.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield pd(o),o})}static _fromGetAccountInfoResponse(t,i,n){return b(this,null,function*(){let r=i.users[0];it(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Rx(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new Ma;c.updateFromIdToken(n);let l=new e({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Fa(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var ux=new Map;function ii(e){ri(e instanceof Function,"Expected a class definition");let t=ux.get(e);return t?(ri(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,ux.set(e,t),t)}var x1=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(i,n){return b(this,null,function*(){this.storage[i]=n})}_get(i){return b(this,null,function*(){let n=this.storage[i];return n===void 0?null:n})}_remove(i){return b(this,null,function*(){delete this.storage[i]})}_addListener(i,n){}_removeListener(i,n){}}return e.type="NONE",e})(),fp=x1;function dd(e,t,i){return`firebase:${e}:${t}:${i}`}var gd=class e{constructor(t,i,n){this.persistence=t,this.auth=i,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=dd(this.userKey,r.apiKey,o),this.fullPersistenceKey=dd("persistence",r.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return b(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?Ao._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return b(this,null,function*(){if(this.persistence===t)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,i,n="authUser"){return b(this,null,function*(){if(!i.length)return new e(ii(fp),t,n);let r=(yield Promise.all(i.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||ii(fp),s=dd(n,t.config.apiKey,t.name),c=null;for(let d of i)try{let f=yield d._get(s);if(f){let p=Ao._fromJSON(t,f);d!==o&&(c=p),o=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new e(o,t,n):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(i.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new e(o,t,n))})}};function hx(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Px(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Dx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mx(t))return"Blackberry";if(Nx(t))return"Webos";if(kp(t))return"Safari";if((t.includes("chrome/")||kx(t))&&!t.includes("edge/"))return"Chrome";if(Ox(t))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(i);if(n?.length===2)return n[1]}return"Other"}function Dx(e=le()){return/firefox\//i.test(e)}function kp(e=le()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kx(e=le()){return/crios\//i.test(e)}function Px(e=le()){return/iemobile/i.test(e)}function Ox(e=le()){return/android/i.test(e)}function Mx(e=le()){return/blackberry/i.test(e)}function Nx(e=le()){return/webos/i.test(e)}function Td(e=le()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function E1(e=le()){var t;return Td(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function I1(){return zw()&&document.documentMode===10}function Fx(e=le()){return Td(e)||Ox(e)||Nx(e)||Mx(e)||/windows phone/i.test(e)||Px(e)}function T1(){try{return!!(window&&window!==window.top)}catch{return!1}}function Lx(e,t=[]){let i;switch(e){case"Browser":i=hx(le());break;case"Worker":i=`${hx(le())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${kn}/${n}`}var mp=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){let n=o=>new Promise((s,c)=>{try{let l=t(o);s(l)}catch(l){c(l)}});n.onAbort=i,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return b(this,null,function*(){if(this.auth.currentUser===t)return;let i=[];try{for(let n of this.queue)yield n(t),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function C1(i){return b(this,arguments,function*(e,t={}){return So(e,"GET","/v2/passwordPolicy",Ap(e,t))})}var A1=6,pp=class{constructor(t){var i,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=s.minPasswordLength)!==null&&i!==void 0?i:A1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,n,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,i){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=t.length>=n),r&&(i.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,i,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var gp=class{constructor(t,i,n,r){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _d(this),this.idTokenSubscription=new _d(this),this.beforeStateQueue=new mp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ii(i)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield gd.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return b(this,null,function*(){try{let i=yield Sx(this,{idToken:t}),n=yield Ao._fromGetAccountInfoResponse(this,i,t);yield this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return b(this,null,function*(){var i;if(Dn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return b(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(t){return b(this,null,function*(){try{yield pd(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=f1()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return b(this,null,function*(){if(Dn(this.app))return Promise.reject(wr(this));let i=t?qt(t):null;return i&&it(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(t,i=!1){return b(this,null,function*(){if(!this._deleted)return t&&it(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Dn(this.app)?Promise.reject(wr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Dn(this.app)?Promise.reject(wr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(ii(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let t=yield C1(this),i=new pp(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ti("auth","Firebase",t())}onAuthStateChanged(t,i,n){return this.registerStateListener(this.authStateSubscription,t,i,n)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,n){return this.registerStateListener(this.idTokenSubscription,t,i,n)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},i)}})}revokeAccessToken(t){return b(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),yield w1(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,i){return b(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(i);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return b(this,null,function*(){if(!this.redirectPersistenceManager){let i=t&&ii(t)||this._popupRedirectResolver;it(i,this,"argument-error"),this.redirectPersistenceManager=yield gd.create(this,[ii(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return b(this,null,function*(){var i,n;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return b(this,null,function*(){if(t===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,n,r){if(this._deleted)return()=>{};let o=typeof i=="function"?i:i.next.bind(i),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof i=="function"){let l=t.addObserver(i,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(i);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return b(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Lx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var t;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(i["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return b(this,null,function*(){var t;let i=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return i?.error&&l1(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function Cd(e){return qt(e)}var _d=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Gw(i=>this.observer=i)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Pp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function S1(e){Pp=e}function R1(e){return Pp.loadJS(e)}function D1(){return Pp.gapiScript}function Vx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function Op(e,t){let i=_r(e,"auth");if(i.isInitialized()){let r=i.getImmediate(),o=i.getOptions();if(mr(o,t??{}))return r;On(r,"already-initialized")}return i.initialize({options:t})}function k1(e,t){let i=t?.persistence||[],n=(Array.isArray(i)?i:[i]).map(ii);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}function Mp(e,t,i){let n=Cd(e);it(n._canInitEmulator,n,"emulator-config-failed"),it(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!i?.disableWarnings,o=jx(t),{host:s,port:c}=P1(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||O1()}function jx(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function P1(e){let t=jx(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:fx(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:fx(s)}}}function fx(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function O1(){function e(){let t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var La=class{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ni("not implemented")}_getIdTokenResponse(t){return ni("not implemented")}_linkToIdToken(t,i){return ni("not implemented")}_getReauthenticationResolver(t){return ni("not implemented")}};function Co(e,t){return b(this,null,function*(){return g1(e,"POST","/v1/accounts:signInWithIdp",Ap(e,t))})}var M1="http://localhost",bd=class e extends La{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let i=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):On("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let i=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=i,o=Jc(i,["providerId","signInMethod"]);if(!n||!r)return null;let s=new e(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let i=this.buildRequest();return Co(t,i)}_linkToIdToken(t,i){let n=this.buildRequest();return n.idToken=i,Co(t,n)}_getReauthenticationResolver(t){let i=this.buildRequest();return i.autoCreate=!1,Co(t,i)}buildRequest(){let t={requestUri:M1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=xo(i)}return t}};var Va=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var vd=class extends Va{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Np=(()=>{class e extends vd{constructor(){super("google.com"),this.addScope("profile")}static credential(i,n){return bd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:n})}static credentialFromResult(i){return e.credentialFromTaggedObject(i)}static credentialFromError(i){return e.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;let{oauthIdToken:n,oauthAccessToken:r}=i;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}}e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com";return e})();var ja=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,i,n,r=!1){return b(this,null,function*(){let o=yield Ao._fromIdTokenResponse(t,n,r),s=mx(n);return new e({user:o,providerId:s,_tokenResponse:n,operationType:i})})}static _forOperation(t,i,n){return b(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=mx(n);return new e({user:t,providerId:r,_tokenResponse:n,operationType:i})})}};function mx(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var _p=class e extends Ne{constructor(t,i,n,r){var o;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,i,n,r){return new e(t,i,n,r)}};function Ux(e,t,i,n){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?_p._fromErrorAndOperation(e,o,t,n):o})}function N1(e,t,i=!1){return b(this,null,function*(){let n=yield Na(e,t._linkToIdToken(e.auth,yield e.getIdToken()),i);return ja._forOperation(e,"link",n)})}function F1(e,t,i=!1){return b(this,null,function*(){let{auth:n}=e;if(Dn(n.app))return Promise.reject(wr(n));let r="reauthenticate";try{let o=yield Na(e,Ux(n,r,t,e),i);it(o.idToken,n,"internal-error");let s=Rp(o.idToken);it(s,n,"internal-error");let{sub:c}=s;return it(e.uid===c,n,"user-mismatch"),ja._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&On(n,"user-mismatch"),o}})}function L1(e,t,i=!1){return b(this,null,function*(){if(Dn(e.app))return Promise.reject(wr(e));let n="signIn",r=yield Ux(e,n,t),o=yield ja._fromIdTokenResponse(e,n,r);return i||(yield e._updateCurrentUser(o.user)),o})}function Ad(e,t,i,n){return qt(e).onIdTokenChanged(t,i,n)}function Fp(e,t,i){return qt(e).beforeAuthStateChanged(t,i)}function Sd(e,t,i,n){return qt(e).onAuthStateChanged(t,i,n)}function Lp(e){return qt(e).signOut()}var yd="__sak";var wd=class{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(yd,"1"),this.storage.removeItem(yd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){let i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};function V1(){let e=le();return kp(e)||Td(e)}var j1=1e3,U1=10,B1=(()=>{class e extends wd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,n)=>this.onStorageEvent(i,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=V1()&&T1(),this.fallbackToPolling=Fx(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&i(n,o,r)}}onStorageEvent(i,n=!1){if(!i.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let r=i.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(i.newValue!==c)i.newValue!==null?this.storage.setItem(r,i.newValue):this.storage.removeItem(r);else if(this.localCache[r]===i.newValue&&!n)return}let o=()=>{let c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);I1()&&s!==i.newValue&&i.newValue!==i.oldValue?setTimeout(o,U1):o()}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:n,newValue:r}),!0)})},j1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(i,n){return b(this,null,function*(){yield Ii(e.prototype,this,"_set").call(this,i,n),this.localCache[i]=JSON.stringify(n)})}_get(i){return b(this,null,function*(){let n=yield Ii(e.prototype,this,"_get").call(this,i);return this.localCache[i]=JSON.stringify(n),n})}_remove(i){return b(this,null,function*(){yield Ii(e.prototype,this,"_remove").call(this,i),delete this.localCache[i]})}}return e.type="LOCAL",e})(),Bx=B1;var z1=(()=>{class e extends wd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,n){}_removeListener(i,n){}}return e.type="SESSION",e})(),Vp=z1;function $1(e){return Promise.all(e.map(t=>b(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}})))}var q1=(()=>{class e{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){let n=this.receivers.find(o=>o.isListeningto(i));if(n)return n;let r=new e(i);return this.receivers.push(r),r}isListeningto(i){return this.eventTarget===i}handleEvent(i){return b(this,null,function*(){let n=i,{eventId:r,eventType:o,data:s}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(f=>b(this,null,function*(){return f(n.origin,s)})),d=yield $1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(i,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(n)}_unsubscribe(i,n){this.handlersMap[i]&&n&&this.handlersMap[i].delete(n),(!n||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function jp(e="",t=10){let i="";for(let n=0;n<t;n++)i+=Math.floor(Math.random()*10);return e+i}var bp=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,i,n=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let d=jp("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(p){let g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:d,data:i},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Pn(){return window}function H1(e){Pn().location.href=e}function zx(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}function G1(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function W1(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function K1(){return zx()?self:null}var $x="firebaseLocalStorageDb",Y1=1,xd="firebaseLocalStorage",qx="fbase_key",Er=class{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}};function Rd(e,t){return e.transaction([xd],t?"readwrite":"readonly").objectStore(xd)}function Q1(){let e=indexedDB.deleteDatabase($x);return new Er(e).toPromise()}function vp(){let e=indexedDB.open($x,Y1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let n=e.result;try{n.createObjectStore(xd,{keyPath:qx})}catch(r){i(r)}}),e.addEventListener("success",()=>b(this,null,function*(){let n=e.result;n.objectStoreNames.contains(xd)?t(n):(n.close(),yield Q1(),t(yield vp()))}))})}function px(e,t,i){return b(this,null,function*(){let n=Rd(e,!0).put({[qx]:t,value:i});return new Er(n).toPromise()})}function X1(e,t){return b(this,null,function*(){let i=Rd(e,!1).get(t),n=yield new Er(i).toPromise();return n===void 0?null:n.value})}function gx(e,t){let i=Rd(e,!0).delete(t);return new Er(i).toPromise()}var Z1=800,J1=3,tM=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield vp(),this.db)})}_withRetries(i){return b(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield i(r)}catch(r){if(n++>J1)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return zx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=q1._getInstance(K1()),this.receiver._subscribe("keyChanged",(i,n)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(i,n)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var i,n;if(this.activeServiceWorker=yield G1(),!this.activeServiceWorker)return;this.sender=new bp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((i=r[0])===null||i===void 0)&&i.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(i){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||W1()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let i=yield vp();return yield px(i,yd,"1"),yield gx(i,yd),!0}catch{}return!1})}_withPendingWrite(i){return b(this,null,function*(){this.pendingWrites++;try{yield i()}finally{this.pendingWrites--}})}_set(i,n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>px(r,i,n)),this.localCache[i]=n,this.notifyServiceWorker(i)}))})}_get(i){return b(this,null,function*(){let n=yield this._withRetries(r=>X1(r,i));return this.localCache[i]=n,n})}_remove(i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(n=>gx(n,i)),delete this.localCache[i],this.notifyServiceWorker(i)}))})}_poll(){return b(this,null,function*(){let i=yield this._withRetries(o=>{let s=Rd(o,!1).getAll();return new Er(s).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(i.length!==0)for(let{fbase_key:o,value:s}of i)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),Z1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),Hx=tM;var mG=Vx("rcb"),pG=new xr(3e4,6e4);function Gx(e,t){return t?ii(t):(it(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ua=class extends La{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Co(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Co(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Co(t,this._buildIdpRequest())}_buildIdpRequest(t){let i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}};function eM(e){return L1(e.auth,new Ua(e),e.bypassAuthState)}function nM(e){let{auth:t,user:i}=e;return it(i,t,"internal-error"),F1(i,new Ua(e),e.bypassAuthState)}function iM(e){return b(this,null,function*(){let{auth:t,user:i}=e;return it(i,t,"internal-error"),N1(i,new Ua(e),e.bypassAuthState)})}var Ed=class{constructor(t,i,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise((t,i)=>b(this,null,function*(){this.pendingPromise={resolve:t,reject:i};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return b(this,null,function*(){let{urlResponse:i,sessionId:n,postBody:r,tenantId:o,error:s,type:c}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:i,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(d){this.reject(d)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eM;case"linkViaPopup":case"linkViaRedirect":return iM;case"reauthViaPopup":case"reauthViaRedirect":return nM;default:On(this.auth,"internal-error")}}resolve(t){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var rM=new xr(2e3,1e4);function Up(e,t,i){return b(this,null,function*(){if(Dn(e.app))return Promise.reject(fn(e,"operation-not-supported-in-this-environment"));let n=Cd(e);d1(e,t,Va);let r=Gx(n,i);return new oM(n,"signInViaPopup",t,r).executeNotNull()})}var oM=(()=>{class e extends Ed{constructor(i,n,r,o,s){super(i,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){return b(this,null,function*(){let i=yield this.execute();return it(i,this.auth,"internal-error"),i})}onExecution(){return b(this,null,function*(){ri(this.filter.length===1,"Popup operations only handle one event");let i=jp();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let i=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,rM.get())};i()}}e.currentPopupAction=null;return e})(),sM="pendingRedirect",ud=new Map,yp=class e extends Ed{constructor(t,i,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}execute(){return b(this,null,function*(){let t=ud.get(this.auth._key());if(!t){try{let n=(yield aM(this.resolver,this.auth))?yield Ii(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(i){t=()=>Promise.reject(i)}ud.set(this.auth._key(),t)}return this.bypassAuthState||ud.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return b(this,null,function*(){if(t.type==="signInViaRedirect")return Ii(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let i=yield this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,Ii(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function aM(e,t){return b(this,null,function*(){let i=dM(t),n=lM(e);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(i))==="true";return yield n._remove(i),r})}function cM(e,t){ud.set(e._key(),t)}function lM(e){return ii(e._redirectPersistence)}function dM(e){return dd(sM,e.config.apiKey,e.name)}function uM(e,t,i=!1){return b(this,null,function*(){if(Dn(e.app))return Promise.reject(wr(e));let n=Cd(e),r=Gx(n,t),s=yield new yp(n,r,i).execute();return s&&!i&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,t)),s})}var hM=10*60*1e3,wp=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(i=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fM(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var n;if(t.error&&!Wx(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(fn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){let n=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hM&&this.cachedEventUids.clear(),this.cachedEventUids.has(_x(t))}saveEventToCache(t){this.cachedEventUids.add(_x(t)),this.lastProcessedEventTime=Date.now()}};function _x(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Wx({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function fM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wx(e);default:return!1}}function mM(i){return b(this,arguments,function*(e,t={}){return So(e,"GET","/v1/projects",t)})}var pM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gM=/^https?/;function _M(e){return b(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield mM(e);for(let i of t)try{if(bM(i))return}catch{}On(e,"unauthorized-domain")})}function bM(e){let t=dp(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&n===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&s.hostname===n}if(!gM.test(i))return!1;if(pM.test(e))return n===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var vM=new xr(3e4,6e4);function bx(){let e=Pn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function yM(e){return new Promise((t,i)=>{var n,r,o;function s(){bx(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bx(),i(fn(e,"network-request-failed"))},timeout:vM.get()})}if(!((r=(n=Pn().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Pn().gapi)===null||o===void 0)&&o.load)s();else{let c=Vx("iframefcb");return Pn()[c]=()=>{gapi.load?s():i(fn(e,"network-request-failed"))},R1(`${D1()}?onload=${c}`).catch(l=>i(l))}}).catch(t=>{throw hd=null,t})}var hd=null;function wM(e){return hd=hd||yM(e),hd}var xM=new xr(5e3,15e3),EM="__/auth/iframe",IM="emulator/auth/iframe",TM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AM(e){let t=e.config;it(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?Cp(t,IM):`https://${e.config.authDomain}/${EM}`,n={apiKey:t.apiKey,appName:e.name,v:kn},r=CM.get(e.config.apiHost);r&&(n.eid=r);let o=e._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${xo(n).slice(1)}`}function SM(e){return b(this,null,function*(){let t=yield wM(e),i=Pn().gapi;return it(i,e,"internal-error"),t.open({where:document.body,url:AM(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TM,dontclear:!0},n=>new Promise((r,o)=>b(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=fn(e,"network-request-failed"),c=Pn().setTimeout(()=>{o(s)},xM.get());function l(){Pn().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var RM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DM=500,kM=600,PM="_blank",OM="http://localhost",Id=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function MM(e,t,i,n=DM,r=kM){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},RM),{width:n.toString(),height:r.toString(),top:o,left:s}),d=le().toLowerCase();i&&(c=kx(d)?PM:i),Dx(d)&&(t=t||OM,l.scrollbars="yes");let f=Object.entries(l).reduce((g,[E,k])=>`${g}${E}=${k},`,"");if(E1(d)&&c!=="_self")return NM(t||"",c),new Id(null);let p=window.open(t||"",c,f);it(p,e,"popup-blocked");try{p.focus()}catch{}return new Id(p)}function NM(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}var FM="__/auth/handler",LM="emulator/auth/handler",VM=encodeURIComponent("fac");function vx(e,t,i,n,r,o){return b(this,null,function*(){it(e.config.authDomain,e,"auth-domain-config-required"),it(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:kn,eventId:r};if(t instanceof Va){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Hw(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(t instanceof vd){let f=t.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}e.tenantId&&(s.tid=e.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield e._getAppCheckToken(),d=l?`#${VM}=${encodeURIComponent(l)}`:"";return`${jM(e)}?${xo(c).slice(1)}${d}`})}function jM({config:e}){return e.emulator?Cp(e,LM):`https://${e.authDomain}/${FM}`}var lp="webStorageSupport",xp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vp,this._completeRedirectFn=uM,this._overrideRedirectResult=cM}_openPopup(t,i,n,r){return b(this,null,function*(){var o;ri((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield vx(t,i,n,dp(),r);return MM(t,s,jp())})}_openRedirect(t,i,n,r){return b(this,null,function*(){yield this._originValidation(t);let o=yield vx(t,i,n,dp(),r);return H1(o),new Promise(()=>{})})}_initialize(t){let i=t._key();if(this.eventManagers[i]){let{manager:r,promise:o}=this.eventManagers[i];return r?Promise.resolve(r):(ri(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(t);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}initAndGetManager(t){return b(this,null,function*(){let i=yield SM(t),n=new wp(t);return i.register("authEvent",r=>(it(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=i,n})}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(lp,{type:lp},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[lp];s!==void 0&&i(!!s),On(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_M(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Fx()||kp()||Td()}},Kx=xp;var yx="@firebase/auth",wx="1.7.4";var Ep=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let i=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function UM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BM(e){Rn(new Ue("auth",(t,{options:i})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;it(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lx(e)},d=new gp(n,r,o,l);return k1(d,i),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,n)=>{t.getProvider("auth-internal").initialize()})),Rn(new Ue("auth-internal",t=>{let i=Cd(t.getProvider("auth").getImmediate());return(n=>new Ep(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(yx,wx,UM(e)),Wt(yx,wx,"esm2017")}var zM=5*60,$M=$m("authIdTokenMaxAge")||zM,xx=null,qM=e=>t=>b(void 0,null,function*(){let i=t&&(yield t.getIdTokenResult()),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>$M)return;let r=i?.token;xx!==r&&(xx=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function Bp(e=Oi()){let t=_r(e,"auth");if(t.isInitialized())return t.getImmediate();let i=Op(e,{popupRedirectResolver:Kx,persistence:[Hx,Bx,Vp]}),n=$m("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=qM(o.toString());Fp(i,s,()=>s(i.currentUser)),Ad(i,c=>s(c))}}let r=Bm("auth");return r&&Mp(i,`http://${r}`),i}function HM(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}S1({loadJS(e){return new Promise((t,i)=>{let n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=r=>{let o=fn("internal-error");o.customData=r,i(o)},n.type="text/javascript",n.charset="UTF-8",HM().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BM("Browser");function zp(e){return new Le(function(t){var i=Sd(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:i}})}var Qx="auth",Ir=class{constructor(t){return t}},Ba=class{constructor(){return Pa(Qx)}};var $p=new $("angularfire2.auth-instances");function NN(e,t){let i=sd(Qx,e,t);return i&&new Ir(i)}function FN(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new Ir(n)}}var LN={provide:Ba,deps:[[new ke,$p]]},VN={provide:Ir,useFactory:NN,deps:[[new ke,$p],ei]};function Xx(e,...t){return Wt("angularfire",vr.full,"auth"),He([VN,LN,{provide:$p,useFactory:FN(e),multi:!0,deps:[q,Pt,To,yr,[new ke,Io],...t]}])}var Zx=ee(Bp,!0);var Jx=ee(Up,!0);var tE=ee(Lp,!0);var eE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nE={};var Ni,qp;(function(){var e;function t(w,_){function v(){}v.prototype=_.prototype,w.D=_.prototype,w.prototype=new v,w.prototype.constructor=w,w.C=function(x,I,C){for(var y=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)y[Hn-2]=arguments[Hn];return _.prototype[I].apply(x,y)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,_,v){v||(v=0);var x=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)x[I]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(I=0;16>I;++I)x[I]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=w.g[0],v=w.g[1],I=w.g[2];var C=w.g[3],y=_+(C^v&(I^C))+x[0]+3614090360&4294967295;_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[1]+3905402710&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[2]+606105819&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[3]+3250441966&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(C^v&(I^C))+x[4]+4118548399&4294967295,_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[5]+1200080426&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[6]+2821735955&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[7]+4249261313&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(C^v&(I^C))+x[8]+1770035416&4294967295,_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[9]+2336552879&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[10]+4294925233&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[11]+2304563134&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(C^v&(I^C))+x[12]+1804603682&4294967295,_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[13]+4254626195&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[14]+2792965006&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[15]+1236535329&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(I^C&(v^I))+x[1]+4129170786&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[6]+3225465664&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[11]+643717713&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[0]+3921069994&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(I^C&(v^I))+x[5]+3593408605&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[10]+38016083&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[15]+3634488961&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[4]+3889429448&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(I^C&(v^I))+x[9]+568446438&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[14]+3275163606&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[3]+4107603335&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[8]+1163531501&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(I^C&(v^I))+x[13]+2850285829&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[2]+4243563512&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[7]+1735328473&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[12]+2368359562&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(v^I^C)+x[5]+4294588738&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[8]+2272392833&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[11]+1839030562&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[14]+4259657740&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(v^I^C)+x[1]+2763975236&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[4]+1272893353&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[7]+4139469664&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[10]+3200236656&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(v^I^C)+x[13]+681279174&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[0]+3936430074&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[3]+3572445317&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[6]+76029189&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(v^I^C)+x[9]+3654602809&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[12]+3873151461&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[15]+530742520&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[2]+3299628645&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(I^(v|~C))+x[0]+4096336452&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[7]+1126891415&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[14]+2878612391&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[5]+4237533241&4294967295,v=I+(y<<21&4294967295|y>>>11),y=_+(I^(v|~C))+x[12]+1700485571&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[3]+2399980690&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[10]+4293915773&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[1]+2240044497&4294967295,v=I+(y<<21&4294967295|y>>>11),y=_+(I^(v|~C))+x[8]+1873313359&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[15]+4264355552&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[6]+2734768916&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[13]+1309151649&4294967295,v=I+(y<<21&4294967295|y>>>11),y=_+(I^(v|~C))+x[4]+4149444226&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[11]+3174756917&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[2]+718787259&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+_&4294967295,w.g[1]=w.g[1]+(I+(y<<21&4294967295|y>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}n.prototype.u=function(w,_){_===void 0&&(_=w.length);for(var v=_-this.blockSize,x=this.B,I=this.h,C=0;C<_;){if(I==0)for(;C<=v;)r(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<_;)if(x[I++]=w.charCodeAt(C++),I==this.blockSize){r(this,x),I=0;break}}else for(;C<_;)if(x[I++]=w[C++],I==this.blockSize){r(this,x),I=0;break}}this.h=I,this.o+=_},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var _=1;_<w.length-8;++_)w[_]=0;var v=8*this.o;for(_=w.length-8;_<w.length;++_)w[_]=v&255,v/=256;for(this.u(w),w=Array(16),_=v=0;4>_;++_)for(var x=0;32>x;x+=8)w[v++]=this.g[_]>>>x&255;return w};function o(w,_){var v=c;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=_(w)}function s(w,_){this.h=_;for(var v=[],x=!0,I=w.length-1;0<=I;I--){var C=w[I]|0;x&&C==_||(v[I]=C,x=!1)}this.g=v}var c={};function l(w){return-128<=w&&128>w?o(w,function(_){return new s([_|0],0>_?-1:0)}):new s([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return D(d(-w));for(var _=[],v=1,x=0;w>=v;x++)_[x]=w/v|0,v*=4294967296;return new s(_,0)}function f(w,_){if(w.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w.charAt(0)=="-")return D(f(w.substring(1),_));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(_,8)),x=p,I=0;I<w.length;I+=8){var C=Math.min(8,w.length-I),y=parseInt(w.substring(I,I+C),_);8>C?(C=d(Math.pow(_,C)),x=x.j(C).add(d(y))):(x=x.j(v),x=x.add(d(y)))}return x}var p=l(0),g=l(1),E=l(16777216);e=s.prototype,e.m=function(){if(O(this))return-D(this).m();for(var w=0,_=1,v=0;v<this.g.length;v++){var x=this.i(v);w+=(0<=x?x:4294967296+x)*_,_*=4294967296}return w},e.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k(this))return"0";if(O(this))return"-"+D(this).toString(w);for(var _=d(Math.pow(w,6)),v=this,x="";;){var I=st(v,_).g;v=z(v,I.j(_));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(w);if(v=I,k(v))return C+x;for(;6>C.length;)C="0"+C;x=C+x}},e.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function k(w){if(w.h!=0)return!1;for(var _=0;_<w.g.length;_++)if(w.g[_]!=0)return!1;return!0}function O(w){return w.h==-1}e.l=function(w){return w=z(this,w),O(w)?-1:k(w)?0:1};function D(w){for(var _=w.g.length,v=[],x=0;x<_;x++)v[x]=~w.g[x];return new s(v,~w.h).add(g)}e.abs=function(){return O(this)?D(this):this},e.add=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0,I=0;I<=_;I++){var C=x+(this.i(I)&65535)+(w.i(I)&65535),y=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);x=y>>>16,C&=65535,y&=65535,v[I]=y<<16|C}return new s(v,v[v.length-1]&-2147483648?-1:0)};function z(w,_){return w.add(D(_))}e.j=function(w){if(k(this)||k(w))return p;if(O(this))return O(w)?D(this).j(D(w)):D(D(this).j(w));if(O(w))return D(this.j(D(w)));if(0>this.l(E)&&0>w.l(E))return d(this.m()*w.m());for(var _=this.g.length+w.g.length,v=[],x=0;x<2*_;x++)v[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<w.g.length;I++){var C=this.i(x)>>>16,y=this.i(x)&65535,Hn=w.i(I)>>>16,Is=w.i(I)&65535;v[2*x+2*I]+=y*Is,W(v,2*x+2*I),v[2*x+2*I+1]+=C*Is,W(v,2*x+2*I+1),v[2*x+2*I+1]+=y*Hn,W(v,2*x+2*I+1),v[2*x+2*I+2]+=C*Hn,W(v,2*x+2*I+2)}for(x=0;x<_;x++)v[x]=v[2*x+1]<<16|v[2*x];for(x=_;x<2*_;x++)v[x]=0;return new s(v,0)};function W(w,_){for(;(w[_]&65535)!=w[_];)w[_+1]+=w[_]>>>16,w[_]&=65535,_++}function Z(w,_){this.g=w,this.h=_}function st(w,_){if(k(_))throw Error("division by zero");if(k(w))return new Z(p,p);if(O(w))return _=st(D(w),_),new Z(D(_.g),D(_.h));if(O(_))return _=st(w,D(_)),new Z(D(_.g),_.h);if(30<w.g.length){if(O(w)||O(_))throw Error("slowDivide_ only works with positive integers.");for(var v=g,x=_;0>=x.l(w);)v=Bt(v),x=Bt(x);var I=Y(v,1),C=Y(x,1);for(x=Y(x,2),v=Y(v,2);!k(x);){var y=C.add(x);0>=y.l(w)&&(I=I.add(v),C=y),x=Y(x,1),v=Y(v,1)}return _=z(w,I.j(_)),new Z(I,_)}for(I=p;0<=w.l(_);){for(v=Math.max(1,Math.floor(w.m()/_.m())),x=Math.ceil(Math.log(v)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),C=d(v),y=C.j(_);O(y)||0<y.l(w);)v-=x,C=d(v),y=C.j(_);k(C)&&(C=g),I=I.add(C),w=z(w,y)}return new Z(I,w)}e.A=function(w){return st(this,w).h},e.and=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0;x<_;x++)v[x]=this.i(x)&w.i(x);return new s(v,this.h&w.h)},e.or=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0;x<_;x++)v[x]=this.i(x)|w.i(x);return new s(v,this.h|w.h)},e.xor=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0;x<_;x++)v[x]=this.i(x)^w.i(x);return new s(v,this.h^w.h)};function Bt(w){for(var _=w.g.length+1,v=[],x=0;x<_;x++)v[x]=w.i(x)<<1|w.i(x-1)>>>31;return new s(v,w.h)}function Y(w,_){var v=_>>5;_%=32;for(var x=w.g.length-v,I=[],C=0;C<x;C++)I[C]=0<_?w.i(C+v)>>>_|w.i(C+v+1)<<32-_:w.i(C+v);return new s(I,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,qp=nE.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Ni=nE.Integer=s}).apply(typeof eE<"u"?eE:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oi={};var Hp,Gp,Ro,Wp,za,kd,Kp,Yp,Qp;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var n=i(this);function r(a,u){if(u)t:{var h=n;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in h))break t;h=h[T]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&t(h,a,{configurable:!0,writable:!0,value:u})}}function o(a,u){a instanceof String&&(a+="");var h=0,m=!1,T={next:function(){if(!m&&h<a.length){var A=h++;return{value:u(A,a[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return o(this,function(u,h){return h})}});var s=s||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function g(a,u,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function E(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function k(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,T,A){for(var L=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)L[Rt-2]=arguments[Rt];return u.prototype[T].apply(m,L)}}function O(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function D(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let T=a.length||0,A=m.length||0;a.length=T+A;for(let L=0;L<A;L++)a[T+L]=m[L]}else a.push(m)}}class z{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function W(a){return/^[\s\xa0]*$/.test(a)}function Z(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function st(a){return st[" "](a),a}st[" "]=function(){};var Bt=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function Y(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function w(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function _(a){let u={};for(let h in a)u[h]=a[h];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,u){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)a[h]=m[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function I(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function y(){var a=kh;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class Hn{constructor(){this.h=this.g=null}add(u,h){let m=Is.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Is=new z(()=>new eR,a=>a.reset());class eR{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Ts,Cs=!1,kh=new Hn,av=()=>{let a=c.Promise.resolve(void 0);Ts=()=>{a.then(nR)}};var nR=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){C(h)}var u=Is;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Cs=!1};function yi(){this.s=this.s,this.C=this.C}yi.prototype.s=!1,yi.prototype.ma=function(){this.s||(this.s=!0,this.N())},yi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function be(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}be.prototype.h=function(){this.defaultPrevented=!0};var iR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function As(a,u){if(be.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(Bt){t:{try{st(u.nodeName);var T=!0;break t}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:rR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&As.aa.h.call(this)}}k(As,be);var rR={2:"touch",3:"pen",4:"mouse"};As.prototype.h=function(){As.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Ss="closure_listenable_"+(1e6*Math.random()|0),oR=0;function sR(a,u,h,m,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=T,this.key=++oR,this.da=this.fa=!1}function Nc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Fc(a){this.src=a,this.g={},this.h=0}Fc.prototype.add=function(a,u,h,m,T){var A=a.toString();a=this.g[A],a||(a=this.g[A]=[],this.h++);var L=Oh(a,u,m,T);return-1<L?(u=a[L],h||(u.fa=!1)):(u=new sR(u,this.src,A,!!m,T),u.fa=h,a.push(u)),u};function Ph(a,u){var h=u.type;if(h in a.g){var m=a.g[h],T=Array.prototype.indexOf.call(m,u,void 0),A;(A=0<=T)&&Array.prototype.splice.call(m,T,1),A&&(Nc(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Oh(a,u,h,m){for(var T=0;T<a.length;++T){var A=a[T];if(!A.da&&A.listener==u&&A.capture==!!h&&A.ha==m)return T}return-1}var Mh="closure_lm_"+(1e6*Math.random()|0),Nh={};function cv(a,u,h,m,T){if(m&&m.once)return dv(a,u,h,m,T);if(Array.isArray(u)){for(var A=0;A<u.length;A++)cv(a,u[A],h,m,T);return null}return h=jh(h),a&&a[Ss]?a.K(u,h,d(m)?!!m.capture:!!m,T):lv(a,u,h,!1,m,T)}function lv(a,u,h,m,T,A){if(!u)throw Error("Invalid event type");var L=d(T)?!!T.capture:!!T,Rt=Lh(a);if(Rt||(a[Mh]=Rt=new Fc(a)),h=Rt.add(u,h,m,L,A),h.proxy)return h;if(m=aR(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)iR||(T=L),T===void 0&&(T=!1),a.addEventListener(u.toString(),m,T);else if(a.attachEvent)a.attachEvent(hv(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function aR(){function a(h){return u.call(a.src,a.listener,h)}let u=cR;return a}function dv(a,u,h,m,T){if(Array.isArray(u)){for(var A=0;A<u.length;A++)dv(a,u[A],h,m,T);return null}return h=jh(h),a&&a[Ss]?a.L(u,h,d(m)?!!m.capture:!!m,T):lv(a,u,h,!0,m,T)}function uv(a,u,h,m,T){if(Array.isArray(u))for(var A=0;A<u.length;A++)uv(a,u[A],h,m,T);else m=d(m)?!!m.capture:!!m,h=jh(h),a&&a[Ss]?(a=a.i,u=String(u).toString(),u in a.g&&(A=a.g[u],h=Oh(A,h,m,T),-1<h&&(Nc(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete a.g[u],a.h--)))):a&&(a=Lh(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Oh(u,h,m,T)),(h=-1<a?u[a]:null)&&Fh(h))}function Fh(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Ss])Ph(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent(hv(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=Lh(u))?(Ph(h,a),h.h==0&&(h.src=null,u[Mh]=null)):Nc(a)}}}function hv(a){return a in Nh?Nh[a]:Nh[a]="on"+a}function cR(a,u){if(a.da)a=!0;else{u=new As(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&Fh(a),a=h.call(m,u)}return a}function Lh(a){return a=a[Mh],a instanceof Fc?a:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function jh(a){return typeof a=="function"?a:(a[Vh]||(a[Vh]=function(u){return a.handleEvent(u)}),a[Vh])}function ve(){yi.call(this),this.i=new Fc(this),this.M=this,this.F=null}k(ve,yi),ve.prototype[Ss]=!0,ve.prototype.removeEventListener=function(a,u,h,m){uv(this,a,u,h,m)};function Se(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new be(u,a);else if(u instanceof be)u.target=u.target||a;else{var T=u;u=new be(m,a),x(u,T)}if(T=!0,h)for(var A=h.length-1;0<=A;A--){var L=u.g=h[A];T=Lc(L,m,!0,u)&&T}if(L=u.g=a,T=Lc(L,m,!0,u)&&T,T=Lc(L,m,!1,u)&&T,h)for(A=0;A<h.length;A++)L=u.g=h[A],T=Lc(L,m,!1,u)&&T}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)Nc(h[m]);delete a.g[u],a.h--}}this.F=null},ve.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},ve.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function Lc(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,A=0;A<u.length;++A){var L=u[A];if(L&&!L.da&&L.capture==h){var Rt=L.listener,he=L.ha||L.src;L.fa&&Ph(a.i,L),T=Rt.call(he,m)!==!1&&T}}return T&&!m.defaultPrevented}function fv(a,u,h){if(typeof a=="function")h&&(a=g(a,h));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function mv(a){a.g=fv(()=>{a.g=null,a.i&&(a.i=!1,mv(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class lR extends yi{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:mv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(a){yi.call(this),this.h=a,this.g={}}k(Rs,yi);var pv=[];function gv(a){Y(a.g,function(u,h){this.g.hasOwnProperty(h)&&Fh(u)},a),a.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),gv(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uh=c.JSON.stringify,dR=c.JSON.parse,uR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Bh(){}Bh.prototype.h=null;function _v(a){return a.h||(a.h=a.i())}function bv(){}var Ds={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zh(){be.call(this,"d")}k(zh,be);function $h(){be.call(this,"c")}k($h,be);var Xi={},vv=null;function Vc(){return vv=vv||new ve}Xi.La="serverreachability";function yv(a){be.call(this,Xi.La,a)}k(yv,be);function ks(a){let u=Vc();Se(u,new yv(u))}Xi.STAT_EVENT="statevent";function wv(a,u){be.call(this,Xi.STAT_EVENT,a),this.stat=u}k(wv,be);function Re(a){let u=Vc();Se(u,new wv(u,a))}Xi.Ma="timingevent";function xv(a,u){be.call(this,Xi.Ma,a),this.size=u}k(xv,be);function Ps(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function Os(){this.g=!0}Os.prototype.xa=function(){this.g=!1};function hR(a,u,h,m,T,A){a.info(function(){if(a.g)if(A)for(var L="",Rt=A.split("&"),he=0;he<Rt.length;he++){var wt=Rt[he].split("=");if(1<wt.length){var ye=wt[0];wt=wt[1];var we=ye.split("_");L=2<=we.length&&we[1]=="type"?L+(ye+"="+wt+"&"):L+(ye+"=redacted&")}}else L=null;else L=A;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+u+`
`+h+`
`+L})}function fR(a,u,h,m,T,A,L){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+u+`
`+h+`
`+A+" "+L})}function $r(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+pR(a,h)+(m?" "+m:"")})}function mR(a,u){a.info(function(){return"TIMEOUT: "+u})}Os.prototype.info=function(){};function pR(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var L=1;L<T.length;L++)T[L]=""}}}}return Uh(h)}catch{return u}}var jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ev={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qh;function Uc(){}k(Uc,Bh),Uc.prototype.g=function(){return new XMLHttpRequest},Uc.prototype.i=function(){return{}},qh=new Uc;function wi(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}var Tv={},Hh={};function Gh(a,u,h){a.L=1,a.v=qc(Gn(u)),a.m=h,a.P=!0,Cv(a,null)}function Cv(a,u){a.F=Date.now(),Bc(a),a.A=Gn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Uv(h.i,"t",m),a.C=0,h=a.j.J,a.h=new Iv,a.g=ry(a.j,h?u:null,!a.m),0<a.O&&(a.M=new lR(g(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(pv[0]=T.toString()),T=pv);for(var A=0;A<T.length;A++){var L=cv(h,T[A],m||u.handleEvent,!1,u.h||u);if(!L)break;u.g[L.key]=L}u=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),ks(),hR(a.i,a.u,a.A,a.l,a.R,a.m)}wi.prototype.ca=function(a){a=a.target;let u=this.M;u&&Wn(a)==3?u.j():this.Y(a)},wi.prototype.Y=function(a){try{if(a==this.g)t:{let we=Wn(this.g);var u=this.g.Ba();let Gr=this.g.Z();if(!(3>we)&&(we!=3||this.g&&(this.h.h||this.g.oa()||Wv(this.g)))){this.J||we!=4||u==7||(u==8||0>=Gr?ks(3):ks(2)),Wh(this);var h=this.g.Z();this.X=h;e:if(Av(this)){var m=Wv(this.g);a="";var T=m.length,A=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Ms(this);var L="";break e}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(A&&u==T-1)});m.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,fR(this.i,this.u,this.A,this.l,this.R,we,h),this.o){if(this.T&&!this.K){e:{if(this.g){var Rt,he=this.g;if((Rt=he.g?he.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Rt)){var wt=Rt;break e}}wt=null}if(h=wt)$r(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kh(this,h);else{this.o=!1,this.s=3,Re(12),Zi(this),Ms(this);break t}}if(this.P){h=!0;let sn;for(;!this.J&&this.C<L.length;)if(sn=gR(this,L),sn==Hh){we==4&&(this.s=4,Re(14),h=!1),$r(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Tv){this.s=4,Re(15),$r(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else $r(this.i,this.l,sn,null),Kh(this,sn);if(Av(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||L.length!=0||this.h.h||(this.s=1,Re(16),h=!1),this.o=this.o&&h,!h)$r(this.i,this.l,L,"[Invalid Chunked Response]"),Zi(this),Ms(this);else if(0<L.length&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.ba&&!ye.M&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),tf(ye),ye.M=!0,Re(11))}}else $r(this.i,this.l,L,null),Kh(this,L);we==4&&Zi(this),this.o&&!this.J&&(we==4?ty(this.j,this):(this.o=!1,Bc(this)))}else OR(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,Re(12)):(this.s=0,Re(13)),Zi(this),Ms(this)}}}catch{}finally{}};function Av(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function gR(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?Hh:(h=Number(u.substring(h,m)),isNaN(h)?Tv:(m+=1,m+h>u.length?Hh:(u=u.slice(m,m+h),a.C=m+h,u)))}wi.prototype.cancel=function(){this.J=!0,Zi(this)};function Bc(a){a.S=Date.now()+a.I,Sv(a,a.I)}function Sv(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ps(g(a.ba,a),u)}function Wh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}wi.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(mR(this.i,this.A),this.L!=2&&(ks(),Re(17)),Zi(this),this.s=2,Ms(this)):Sv(this,this.S-a)};function Ms(a){a.j.G==0||a.J||ty(a.j,a)}function Zi(a){Wh(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,gv(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Kh(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||Yh(h.h,a))){if(!a.K&&Yh(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Yc(h),Wc(h);else break t;Jh(h),Re(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ps(g(h.Za,h),6e3));if(1>=kv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else tr(h,11)}else if((a.K||h.g==a)&&Yc(h),!W(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let wt=T[u];if(h.T=wt[0],wt=wt[1],h.G==2)if(wt[0]=="c"){h.K=wt[1],h.ia=wt[2];let ye=wt[3];ye!=null&&(h.la=ye,h.j.info("VER="+h.la));let we=wt[4];we!=null&&(h.Aa=we,h.j.info("SVER="+h.Aa));let Gr=wt[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(m=1.5*Gr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let sn=a.g;if(sn){let Xc=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xc){var A=m.h;A.g||Xc.indexOf("spdy")==-1&&Xc.indexOf("quic")==-1&&Xc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Qh(A,A.h),A.h=null))}if(m.D){let ef=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(m.ya=ef,Nt(m.I,m.D,ef))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var L=a;if(m.qa=iy(m,m.J?m.ia:null,m.W),L.K){Pv(m.h,L);var Rt=L,he=m.L;he&&(Rt.I=he),Rt.B&&(Wh(Rt),Bc(Rt)),m.g=L}else Zv(m);0<h.i.length&&Kc(h)}else wt[0]!="stop"&&wt[0]!="close"||tr(h,7);else h.G==3&&(wt[0]=="stop"||wt[0]=="close"?wt[0]=="stop"?tr(h,7):Zh(h):wt[0]!="noop"&&h.l&&h.l.ta(wt),h.v=0)}}ks(4)}catch{}}var _R=class{constructor(a,u){this.g=a,this.map=u}};function Rv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dv(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function kv(a){return a.h?1:a.g?a.g.size:0}function Yh(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Qh(a,u){a.g?a.g.add(u):a.h=u}function Pv(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Rv.prototype.cancel=function(){if(this.i=Ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Ov(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return O(a.i)}function bR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function vR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function Mv(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=vR(a),m=bR(a),T=m.length,A=0;A<T;A++)u.call(void 0,m[A],h&&h[A],a)}var Nv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yR(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),T=null;if(0<=m){var A=a[h].substring(0,m);T=a[h].substring(m+1)}else A=a[h];u(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Ji(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ji){this.h=a.h,zc(this,a.j),this.o=a.o,this.g=a.g,$c(this,a.s),this.l=a.l;var u=a.i,h=new Ls;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Fv(this,h),this.m=a.m}else a&&(u=String(a).match(Nv))?(this.h=!1,zc(this,u[1]||"",!0),this.o=Ns(u[2]||""),this.g=Ns(u[3]||"",!0),$c(this,u[4]),this.l=Ns(u[5]||"",!0),Fv(this,u[6]||"",!0),this.m=Ns(u[7]||"")):(this.h=!1,this.i=new Ls(null,this.h))}Ji.prototype.toString=function(){var a=[],u=this.j;u&&a.push(Fs(u,Lv,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(Fs(u,Lv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Fs(h,h.charAt(0)=="/"?ER:xR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Fs(h,TR)),a.join("")};function Gn(a){return new Ji(a)}function zc(a,u,h){a.j=h?Ns(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function $c(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Fv(a,u,h){u instanceof Ls?(a.i=u,CR(a.i,a.h)):(h||(u=Fs(u,IR)),a.i=new Ls(u,a.h))}function Nt(a,u,h){a.i.set(u,h)}function qc(a){return Nt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ns(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fs(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,wR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function wR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Lv=/[#\/\?@]/g,xR=/[#\?:]/g,ER=/[#\?]/g,IR=/[#\?@]/g,TR=/#/g;function Ls(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function xi(a){a.g||(a.g=new Map,a.h=0,a.i&&yR(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}e=Ls.prototype,e.add=function(a,u){xi(this),this.i=null,a=qr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function Vv(a,u){xi(a),u=qr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function jv(a,u){return xi(a),u=qr(a,u),a.g.has(u)}e.forEach=function(a,u){xi(this),this.g.forEach(function(h,m){h.forEach(function(T){a.call(u,T,m,this)},this)},this)},e.na=function(){xi(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let T=a[m];for(let A=0;A<T.length;A++)h.push(u[m])}return h},e.V=function(a){xi(this);let u=[];if(typeof a=="string")jv(this,a)&&(u=u.concat(this.g.get(qr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},e.set=function(a,u){return xi(this),this.i=null,a=qr(this,a),jv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},e.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Uv(a,u,h){Vv(a,u),0<h.length&&(a.i=null,a.g.set(qr(a,u),O(h)),a.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let A=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var T=A;L[m]!==""&&(T+="="+encodeURIComponent(String(L[m]))),a.push(T)}}return this.i=a.join("&")};function qr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function CR(a,u){u&&!a.j&&(xi(a),a.i=null,a.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(Vv(this,m),Uv(this,T,h))},a)),a.j=u}function AR(a,u){let h=new Os;if(c.Image){let m=new Image;m.onload=E(Ei,h,"TestLoadImage: loaded",!0,u,m),m.onerror=E(Ei,h,"TestLoadImage: error",!1,u,m),m.onabort=E(Ei,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=E(Ei,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function SR(a,u){let h=new Os,m=new AbortController,T=setTimeout(()=>{m.abort(),Ei(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(A=>{clearTimeout(T),A.ok?Ei(h,"TestPingServer: ok",!0,u):Ei(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),Ei(h,"TestPingServer: error",!1,u)})}function Ei(a,u,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function RR(){this.g=new uR}function DR(a,u,h){let m=h||"";try{Mv(a,function(T,A){let L=T;d(T)&&(L=Uh(T)),u.push(m+A+"="+encodeURIComponent(L))})}catch(T){throw u.push(m+"type="+encodeURIComponent("_badmap")),T}}function Vs(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Vs,Bh),Vs.prototype.g=function(){return new Hc(this.l,this.j)},Vs.prototype.i=function(a){return function(){return a}}({});function Hc(a,u){ve.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Hc,ve),e=Hc.prototype,e.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Us(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,js(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Us(this)),this.g&&(this.readyState=3,Us(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bv(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bv(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?js(this):Us(this),this.readyState==3&&Bv(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,js(this))},e.Qa=function(a){this.g&&(this.response=a,js(this))},e.ga=function(){this.g&&js(this)};function js(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Us(a)}e.setRequestHeader=function(a,u){this.u.append(a,u)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function Us(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zv(a){let u="";return Y(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function Xh(a,u,h){t:{for(m in h){var m=!1;break t}m=!0}m||(h=zv(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Nt(a,u,h))}function Ht(a){ve.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ht,ve);var kR=/^https?$/i,PR=["POST","PUT"];e=Ht.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qh.g(),this.v=this.o?_v(this.o):_v(qh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(A){$v(this,A);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())h.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(PR,u,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,L]of h)this.g.setRequestHeader(A,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gv(this),this.u=!0,this.g.send(a),this.u=!1}catch(A){$v(this,A)}};function $v(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,qv(a),Gc(a)}function qv(a){a.A||(a.A=!0,Se(a,"complete"),Se(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Se(this,"complete"),Se(this,"abort"),Gc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gc(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Hv(this):this.bb())},e.bb=function(){Hv(this)};function Hv(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Wn(a)!=4||a.Z()!=2)){if(a.u&&Wn(a)==4)fv(a.Ea,0,a);else if(Se(a,"readystatechange"),Wn(a)==4){a.h=!1;try{let L=a.Z();t:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var m;if(m=L===0){var T=String(a.D).match(Nv)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!kR.test(T?T.toLowerCase():"")}h=m}if(h)Se(a,"complete"),Se(a,"success");else{a.m=6;try{var A=2<Wn(a)?a.g.statusText:""}catch{A=""}a.l=A+" ["+a.Z()+"]",qv(a)}}finally{Gc(a)}}}}function Gc(a,u){if(a.g){Gv(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||Se(a,"ready");try{h.onreadystatechange=m}catch{}}}function Gv(a){a.I&&(c.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function Wn(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),dR(u)}};function Wv(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function OR(a){let u={};a=(a.g&&2<=Wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(W(a[m]))continue;var h=I(a[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=u[T]||[];u[T]=A,A.push(h)}w(u,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function Kv(a){this.Aa=0,this.i=[],this.j=new Os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,a),this.cb=Bs("retryDelaySeedMs",1e4,a),this.Wa=Bs("forwardChannelMaxRetries",2,a),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Rv(a&&a.concurrentRequestLimit),this.Da=new RR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Kv.prototype,e.la=8,e.G=1,e.connect=function(a,u,h,m){Re(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=iy(this,null,this.W),Kc(this)};function Zh(a){if(Yv(a),a.G==3){var u=a.U++,h=Gn(a.I);if(Nt(h,"SID",a.K),Nt(h,"RID",u),Nt(h,"TYPE","terminate"),zs(a,h),u=new wi(a,a.j,u),u.L=2,u.v=qc(Gn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=ry(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Bc(u)}ny(a)}function Wc(a){a.g&&(tf(a),a.g.cancel(),a.g=null)}function Yv(a){Wc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Yc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Kc(a){if(!Dv(a.h)&&!a.s){a.s=!0;var u=a.Ga;Ts||av(),Cs||(Ts(),Cs=!0),kh.add(u,a),a.B=0}}function MR(a,u){return kv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ps(g(a.Ga,a,u),ey(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new wi(this,this.j,a),A=this.o;if(this.S&&(A?(A=_(A),x(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)t:{for(var u=0,h=0;h<this.i.length;h++){e:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break t}if(u===4096||h===this.i.length-1){u=h+1;break t}}u=1e3}else u=1e3;u=Xv(this,T,u),h=Gn(this.I),Nt(h,"RID",a),Nt(h,"CVER",22),this.D&&Nt(h,"X-HTTP-Session-Id",this.D),zs(this,h),A&&(this.O?u="headers="+encodeURIComponent(String(zv(A)))+"&"+u:this.m&&Xh(h,this.m,A)),Qh(this.h,T),this.Ua&&Nt(h,"TYPE","init"),this.P?(Nt(h,"$req",u),Nt(h,"SID","null"),T.T=!0,Gh(T,h,null)):Gh(T,h,u),this.G=2}}else this.G==3&&(a?Qv(this,a):this.i.length==0||Dv(this.h)||Qv(this))};function Qv(a,u){var h;u?h=u.l:h=a.U++;let m=Gn(a.I);Nt(m,"SID",a.K),Nt(m,"RID",h),Nt(m,"AID",a.T),zs(a,m),a.m&&a.o&&Xh(m,a.m,a.o),h=new wi(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=Xv(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Qh(a.h,h),Gh(h,m,u)}function zs(a,u){a.H&&Y(a.H,function(h,m){Nt(u,m,h)}),a.l&&Mv({},function(h,m){Nt(u,m,h)})}function Xv(a,u,h){h=Math.min(a.i.length,h);var m=a.l?g(a.l.Na,a.l,a):null;t:{var T=a.i;let A=-1;for(;;){let L=["count="+h];A==-1?0<h?(A=T[0].g,L.push("ofs="+A)):A=0:L.push("ofs="+A);let Rt=!0;for(let he=0;he<h;he++){let wt=T[he].g,ye=T[he].map;if(wt-=A,0>wt)A=Math.max(0,T[he].g-100),Rt=!1;else try{DR(ye,L,"req"+wt+"_")}catch{m&&m(ye)}}if(Rt){m=L.join("&");break t}}}return a=a.i.splice(0,h),u.D=a,m}function Zv(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;Ts||av(),Cs||(Ts(),Cs=!0),kh.add(u,a),a.v=0}}function Jh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ps(g(a.Fa,a),ey(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,Jv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ps(g(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Re(10),Wc(this),Jv(this))};function tf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function Jv(a){a.g=new wi(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=Gn(a.qa);Nt(u,"RID","rpc"),Nt(u,"SID",a.K),Nt(u,"AID",a.T),Nt(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Nt(u,"TO",a.ja),Nt(u,"TYPE","xmlhttp"),zs(a,u),a.m&&a.o&&Xh(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=qc(Gn(u)),h.m=null,h.P=!0,Cv(h,a)}e.Za=function(){this.C!=null&&(this.C=null,Wc(this),Jh(this),Re(19))};function Yc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function ty(a,u){var h=null;if(a.g==u){Yc(a),tf(a),a.g=null;var m=2}else if(Yh(a.h,u))h=u.D,Pv(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;m=Vc(),Se(m,new xv(m,h)),Kc(a)}else Zv(a);else if(T=u.s,T==3||T==0&&0<u.X||!(m==1&&MR(a,u)||m==2&&Jh(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:tr(a,5);break;case 4:tr(a,10);break;case 3:tr(a,6);break;default:tr(a,2)}}}function ey(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function tr(a,u){if(a.j.info("Error code "+u),u==2){var h=g(a.fb,a),m=a.Xa;let T=!m;m=new Ji(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zc(m,"https"),qc(m),T?AR(m.toString(),h):SR(m.toString(),h)}else Re(2);a.G=0,a.l&&a.l.sa(u),ny(a),Yv(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function ny(a){if(a.G=0,a.ka=[],a.l){let u=Ov(a.h);(u.length!=0||a.i.length!=0)&&(D(a.ka,u),D(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function iy(a,u,h){var m=h instanceof Ji?Gn(h):new Ji(h);if(m.g!="")u&&(m.g=u+"."+m.g),$c(m,m.s);else{var T=c.location;m=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var A=new Ji(null);m&&zc(A,m),u&&(A.g=u),T&&$c(A,T),h&&(A.l=h),m=A}return h=a.D,u=a.ya,h&&u&&Nt(m,h,u),Nt(m,"VER",a.la),zs(a,m),m}function ry(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Ht(new Vs({eb:h})):new Ht(a.pa),u.Ha(a.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function oy(){}e=oy.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Qc(){}Qc.prototype.g=function(a,u){return new $e(a,u)};function $e(a,u){ve.call(this),this.g=new Kv(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!W(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!W(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Hr(this)}k($e,ve),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Zh(this.g)},$e.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=Uh(a),a=h);u.i.push(new _R(u.Ya++,a)),u.G==3&&Kc(u)},$e.prototype.N=function(){this.g.l=null,delete this.j,Zh(this.g),delete this.g,$e.aa.N.call(this)};function sy(a){zh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){t:{for(let h in u){a=h;break t}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}k(sy,zh);function ay(){$h.call(this),this.status=1}k(ay,$h);function Hr(a){this.g=a}k(Hr,oy),Hr.prototype.ua=function(){Se(this.g,"a")},Hr.prototype.ta=function(a){Se(this.g,new sy(a))},Hr.prototype.sa=function(a){Se(this.g,new ay)},Hr.prototype.ra=function(){Se(this.g,"b")},Qc.prototype.createWebChannel=Qc.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,Qp=oi.createWebChannelTransport=function(){return new Qc},Yp=oi.getStatEventTarget=function(){return Vc()},Kp=oi.Event=Xi,kd=oi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,za=oi.ErrorCode=jc,Ev.COMPLETE="complete",Wp=oi.EventType=Ev,bv.EventType=Ds,Ds.OPEN="a",Ds.CLOSE="b",Ds.ERROR="c",Ds.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Ro=oi.WebChannel=bv,Gp=oi.FetchXmlHttpFactory=Vs,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Hp=oi.XhrIo=Ht}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});var iE="@firebase/firestore";var ue=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};ue.UNAUTHENTICATED=new ue(null),ue.GOOGLE_CREDENTIALS=new ue("google-credentials-uid"),ue.FIRST_PARTY=new ue("first-party-uid"),ue.MOCK_USER=new ue("mock-user");var Ko="10.12.1";var Sr=new ki("@firebase/firestore");function $a(){return Sr.logLevel}function H(e,...t){if(Sr.logLevel<=gt.DEBUG){let i=t.map(O_);Sr.debug(`Firestore (${Ko}): ${e}`,...i)}}function si(e,...t){if(Sr.logLevel<=gt.ERROR){let i=t.map(O_);Sr.error(`Firestore (${Ko}): ${e}`,...i)}}function Lo(e,...t){if(Sr.logLevel<=gt.WARN){let i=t.map(O_);Sr.warn(`Firestore (${Ko}): ${e}`,...i)}}function O_(e){if(typeof e=="string")return e;try{return function(i){return JSON.stringify(i)}(e)}catch{return e}}function nt(e="Unexpected state"){let t=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+e;throw si(t),new Error(t)}function Ot(e,t){e||nt()}function ot(e,t){return e}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Ne{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pn=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var Fd=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},eg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(ue.UNAUTHENTICATED))}shutdown(){}},ng=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},ig=class{constructor(t){this.t=t,this.currentUser=ue.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),o=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pn,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;t.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pn)}},0),s()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ot(typeof n.accessToken=="string"),new Fd(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return Ot(t===null||typeof t=="string"),new ue(t)}},rg=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n,this.type="FirstParty",this.user=ue.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},og=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n}getToken(){return Promise.resolve(new rg(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(ue.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sg=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ag=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){let n=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ot(typeof i.token=="string"),this.R=i.token,new sg(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function UN(e){let t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let n=0;n<e;n++)i[n]=Math.floor(256*Math.random());return i}var Ld=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,n="";for(;n.length<20;){let r=UN(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=t.charAt(r[o]%t.length))}return n}};function It(e,t){return e<t?-1:e>t?1:0}function Vo(e,t,i){return e.length===t.length&&e.every((n,r)=>i(n,t[r]))}var pe=class e{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let i=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*i));return new e(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var at=class e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new e(t)}static min(){return new e(new pe(0,0))}static max(){return new e(new pe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Vd=class e{constructor(t,i,n){i===void 0?i=0:i>t.length&&nt(),n===void 0?n=t.length-i:n>t.length-i&&nt(),this.segments=t,this.offset=i,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(n=>{i.push(n)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,n=this.limit();i<n;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let n=Math.min(t.length,i.length);for(let r=0;r<n;r++){let o=t.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<i.length?-1:t.length>i.length?1:0}},zt=class e extends Vd{construct(t,i,n){return new e(t,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let n of t){if(n.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new e(i)}static emptyPath(){return new e([])}},BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Xe=class e extends Vd{construct(t,i,n){return new e(t,i,n)}static isValidIdentifier(t){return BN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new e(["__name__"])}static fromServerFormat(t){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<t.length;){let c=t[r];if(c==="\\"){if(r+1===t.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(n+=c,r++):(o(),r++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)}static emptyPath(){return new e([])}};var K=class e{constructor(t){this.path=t}static fromPath(t){return new e(zt.fromString(t))}static fromName(t){return new e(zt.fromString(t).popFirst(5))}static empty(){return new e(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return zt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new e(new zt(t.slice()))}};var cg=class{constructor(t,i,n,r){this.indexId=t,this.collectionGroup=i,this.fields=n,this.indexState=r}};cg.UNKNOWN_ID=-1;function zN(e,t){let i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=at.fromTimestamp(n===1e9?new pe(i+1,0):new pe(i,n));return new Rr(r,K.empty(),t)}function $N(e){return new Rr(e.readTime,e.key,-1)}var Rr=class e{constructor(t,i,n){this.readTime=t,this.documentKey=i,this.largestBatchId=n}static min(){return new e(at.min(),K.empty(),-1)}static max(){return new e(at.max(),K.empty(),-1)}};function qN(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=K.comparator(e.documentKey,t.documentKey),i!==0?i:It(e.largestBatchId,t.largestBatchId))}var HN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function dc(e){return b(this,null,function*(){if(e.code!==P.FAILED_PRECONDITION||e.message!==HN)throw e;H("LocalStore","Unexpectedly lost primary lease")})}var N=class e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new e((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{let i=t();return i instanceof e?i:e.resolve(i)}catch(i){return e.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):e.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):e.reject(i)}static resolve(t){return new e((i,n)=>{i(t)})}static reject(t){return new e((i,n)=>{n(t)})}static waitFor(t){return new e((i,n)=>{let r=0,o=0,s=!1;t.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&i()},l=>n(l))}),s=!0,o===r&&i()})}static or(t){let i=e.resolve(!1);for(let n of t)i=i.next(r=>r?e.resolve(r):n());return i}static forEach(t,i){let n=[];return t.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(t,i){return new e((n,r)=>{let o=t.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let d=l;i(t[d]).next(f=>{s[d]=f,++c,c===o&&n(s)},f=>r(f))}})}static doWhile(t,i){return new e((n,r)=>{let o=()=>{t()===!0?i().next(()=>{o()},r):n()};o()})}};function GN(e){let t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uc(e){return e.name==="IndexedDbTransactionError"}var ME=(()=>{class e{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return e.oe=-1,e})();function mu(e){return e==null}function Ka(e){return e===0&&1/e==-1/0}function WN(e){return typeof e=="number"&&Number.isInteger(e)&&!Ka(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var KN=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],mW=[...KN,"documentOverlays"],YN=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],QN=YN,pW=[...QN,"indexConfiguration","indexState","indexEntries"];function rE(e){let t=0;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Yo(e,t){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function NE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Yt=class e{constructor(t,i){this.comparator=t,this.root=i||Fn.EMPTY}insert(t,i){return new e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(t,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(t){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,n)=>(t(i,n),!1))}toString(){let t=[];return this.inorderTraversal((i,n)=>(t.push(`${i}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oo(this.root,t,this.comparator,!0)}},Oo=class{constructor(t,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?n(t.key,i):1,i&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},Fn=class e{constructor(t,i,n,r,o){this.key=t,this.value=i,this.color=n??e.RED,this.left=r??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,n,r,o){return new e(t??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let n,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();let t=this.left.check();if(t!==this.right.check())throw nt();return t+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(t,i,n,r,o){return this}insert(t,i,n){return new Fn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Te=class e{constructor(t){this.comparator=t,this.data=new Yt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,n)=>(t(i),!1))}forEachInRange(t,i){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new jd(this.data.getIterator())}getIteratorFrom(t){return new jd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(n=>{i=i.add(n)}),i}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.data.getIterator(),n=t.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new e(this.comparator);return i.data=t,i}},jd=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Nn=class e{constructor(t){this.fields=t,t.sort(Xe.comparator)}static empty(){return new e([])}unionWith(t){let i=new Te(Xe.comparator);for(let n of this.fields)i=i.add(n);for(let n of t)i=i.add(n);return new e(i.toArray())}covers(t){for(let i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Vo(this.fields,t.fields,(i,n)=>i.isEqual(n))}};var Ud=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Fe=class e{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ud("Invalid base64 string: "+o):o}}(t);return new e(i)}static fromUint8Array(t){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Fe.EMPTY_BYTE_STRING=new Fe("");var XN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ai(e){if(Ot(!!e),typeof e=="string"){let t=0,i=XN.exec(e);if(Ot(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Kt(e.seconds),nanos:Kt(e.nanos)}}function Kt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vi(e){return typeof e=="string"?Fe.fromBase64String(e):Fe.fromUint8Array(e)}function pu(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function M_(e){let t=e.mapValue.fields.__previous_value__;return pu(t)?M_(t):t}function Ya(e){let t=ai(e.mapValue.fields.__local_write_time__.timestampValue);return new pe(t.seconds,t.nanos)}var dg=class{constructor(t,i,n,r,o,s,c,l,d){this.databaseId=t,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},Bd=class e{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new e("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};var Pd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Dr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pu(e)?4:FE(e)?9007199254740991:10:nt()}function Un(e,t){if(e===t)return!0;let i=Dr(e);if(i!==Dr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ya(e).isEqual(Ya(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=ai(r.timestampValue),c=ai(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Vi(r.bytesValue).isEqual(Vi(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Kt(r.geoPointValue.latitude)===Kt(o.geoPointValue.latitude)&&Kt(r.geoPointValue.longitude)===Kt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Kt(r.integerValue)===Kt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Kt(r.doubleValue),c=Kt(o.doubleValue);return s===c?Ka(s)===Ka(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return Vo(e.arrayValue.values||[],t.arrayValue.values||[],Un);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(rE(s)!==rE(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!Un(s[l],c[l])))return!1;return!0}(e,t);default:return nt()}}function Qa(e,t){return(e.values||[]).find(i=>Un(i,t))!==void 0}function jo(e,t){if(e===t)return 0;let i=Dr(e),n=Dr(t);if(i!==n)return It(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(o,s){let c=Kt(o.integerValue||o.doubleValue),l=Kt(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return oE(e.timestampValue,t.timestampValue);case 4:return oE(Ya(e),Ya(t));case 5:return It(e.stringValue,t.stringValue);case 6:return function(o,s){let c=Vi(o),l=Vi(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=It(c[d],l[d]);if(f!==0)return f}return It(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){let c=It(Kt(o.latitude),Kt(s.latitude));return c!==0?c:It(Kt(o.longitude),Kt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){let c=o.values||[],l=s.values||[];for(let d=0;d<c.length&&d<l.length;++d){let f=jo(c[d],l[d]);if(f)return f}return It(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Pd.mapValue&&s===Pd.mapValue)return 0;if(o===Pd.mapValue)return 1;if(s===Pd.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let g=It(l[p],f[p]);if(g!==0)return g;let E=jo(c[l[p]],d[f[p]]);if(E!==0)return E}return It(l.length,f.length)}(e.mapValue,t.mapValue);default:throw nt()}}function oE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);let i=ai(e),n=ai(t),r=It(i.seconds,n.seconds);return r!==0?r:It(i.nanos,n.nanos)}function Uo(e){return ug(e)}function ug(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){let n=ai(i);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return Vi(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return K.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=ug(o);return n+"]"}(e.arrayValue):"mapValue"in e?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${ug(i.fields[s])}`;return r+"}"}(e.mapValue):nt()}function zd(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function hg(e){return!!e&&"integerValue"in e}function N_(e){return!!e&&"arrayValue"in e}function sE(e){return!!e&&"nullValue"in e}function aE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Md(e){return!!e&&"mapValue"in e}function Ha(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return Yo(e.mapValue.fields,(i,n)=>t.mapValue.fields[i]=Ha(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ha(e.arrayValue.values[i]);return t}return Object.assign({},e)}function FE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var mn=class e{constructor(t){this.value=t}static empty(){return new e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let n=0;n<t.length-1;++n)if(i=(i.mapValue.fields||{})[t.get(n)],!Md(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ha(i)}setAll(t){let i=Xe.emptyPath(),n={},r=[];t.forEach((s,c)=>{if(!i.isImmediateParentOf(c)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=c.popLast()}s?n[c.lastSegment()]=Ha(s):r.push(c.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(t){let i=this.field(t.popLast());Md(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Un(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=i.mapValue.fields[t.get(n)];Md(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,n){Yo(i,(r,o)=>t[r]=o);for(let r of n)delete t[r]}clone(){return new e(Ha(this.value))}};function LE(e){let t=[];return Yo(e.fields,(i,n)=>{let r=new Xe([i]);if(Md(n)){let o=LE(n.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new Nn(t)}var gn=class e{constructor(t,i,n,r,o,s,c){this.key=t,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(t){return new e(t,0,at.min(),at.min(),at.min(),mn.empty(),0)}static newFoundDocument(t,i,n,r){return new e(t,1,i,at.min(),n,r,0)}static newNoDocument(t,i){return new e(t,2,i,at.min(),at.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new e(t,3,i,at.min(),at.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(at.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ji=class{constructor(t,i){this.position=t,this.inclusive=i}};function cE(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){let o=t[r],s=e.position[r];if(o.field.isKeyField()?n=K.comparator(K.fromName(s.referenceValue),i.key):n=jo(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function lE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!Un(e.position[i],t.position[i]))return!1;return!0}var kr=class{constructor(t,i="asc"){this.field=t,this.dir=i}};function ZN(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var $d=class{},ce=class e extends $d{constructor(t,i,n){super(),this.field=t,this.op=i,this.value=n}static create(t,i,n){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,n):new mg(t,i,n):i==="array-contains"?new _g(t,n):i==="in"?new bg(t,n):i==="not-in"?new vg(t,n):i==="array-contains-any"?new yg(t,n):new e(t,i,n)}static createKeyFieldInFilter(t,i,n){return i==="in"?new pg(t,n):new gg(t,n)}matches(t){let i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(jo(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(jo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class e extends $d{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new e(t,i)}matches(t){return VE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function VE(e){return e.op==="and"}function jE(e){return JN(e)&&VE(e)}function JN(e){for(let t of e.filters)if(t instanceof _n)return!1;return!0}function fg(e){if(e instanceof ce)return e.field.canonicalString()+e.op.toString()+Uo(e.value);if(jE(e))return e.filters.map(t=>fg(t)).join(",");{let t=e.filters.map(i=>fg(i)).join(",");return`${e.op}(${t})`}}function UE(e,t){return e instanceof ce?function(n,r){return r instanceof ce&&n.op===r.op&&n.field.isEqual(r.field)&&Un(n.value,r.value)}(e,t):e instanceof _n?function(n,r){return r instanceof _n&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,c)=>o&&UE(s,r.filters[c]),!0):!1}(e,t):void nt()}function BE(e){return e instanceof ce?function(i){return`${i.field.canonicalString()} ${i.op} ${Uo(i.value)}`}(e):e instanceof _n?function(i){return i.op.toString()+" {"+i.getFilters().map(BE).join(" ,")+"}"}(e):"Filter"}var mg=class extends ce{constructor(t,i,n){super(t,i,n),this.key=K.fromName(n.referenceValue)}matches(t){let i=K.comparator(t.key,this.key);return this.matchesComparison(i)}},pg=class extends ce{constructor(t,i){super(t,"in",i),this.keys=zE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}},gg=class extends ce{constructor(t,i){super(t,"not-in",i),this.keys=zE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}};function zE(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>K.fromName(n.referenceValue))}var _g=class extends ce{constructor(t,i){super(t,"array-contains",i)}matches(t){let i=t.data.field(this.field);return N_(i)&&Qa(i.arrayValue,this.value)}},bg=class extends ce{constructor(t,i){super(t,"in",i)}matches(t){let i=t.data.field(this.field);return i!==null&&Qa(this.value.arrayValue,i)}},vg=class extends ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(Qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=t.data.field(this.field);return i!==null&&!Qa(this.value.arrayValue,i)}},yg=class extends ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){let i=t.data.field(this.field);return!(!N_(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>Qa(this.value.arrayValue,n))}};var wg=class{constructor(t,i=null,n=[],r=[],o=null,s=null,c=null){this.path=t,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function dE(e,t=null,i=[],n=[],r=null,o=null,s=null){return new wg(e,t,i,n,r,o,s)}function F_(e){let t=ot(e);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(n=>fg(n)).join(","),i+="|ob:",i+=t.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),mu(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>Uo(n)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>Uo(n)).join(",")),t.ue=i}return t.ue}function L_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!ZN(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!UE(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lE(e.startAt,t.startAt)&&lE(e.endAt,t.endAt)}function xg(e){return K.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var ci=class{constructor(t,i=null,n=[],r=[],o=null,s="F",c=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function tF(e,t,i,n,r,o,s,c){return new ci(e,t,i,n,r,o,s,c)}function gu(e){return new ci(e)}function uE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function V_(e){return e.collectionGroup!==null}function Mo(e){let t=ot(e);if(t.ce===null){t.ce=[];let i=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Te(Xe.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new kr(o,n))}),i.has(Xe.keyField().canonicalString())||t.ce.push(new kr(Xe.keyField(),n))}return t.ce}function Ln(e){let t=ot(e);return t.le||(t.le=eF(t,Mo(e))),t.le}function eF(e,t){if(e.limitType==="F")return dE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new kr(r.field,o)});let i=e.endAt?new ji(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new ji(e.startAt.position,e.startAt.inclusive):null;return dE(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}function Eg(e,t){let i=e.filters.concat([t]);return new ci(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function qd(e,t,i){return new ci(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function _u(e,t){return L_(Ln(e),Ln(t))&&e.limitType===t.limitType}function $E(e){return`${F_(Ln(e))}|lt:${e.limitType}`}function Do(e){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>BE(r)).join(", ")}]`),mu(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>Uo(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>Uo(r)).join(",")),`Target(${n})`}(Ln(e))}; limitType=${e.limitType})`}function bu(e,t){return t.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):K.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(let o of Mo(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,c,l){let d=cE(s,c,l);return s.inclusive?d<=0:d<0}(n.startAt,Mo(n),r)||n.endAt&&!function(s,c,l){let d=cE(s,c,l);return s.inclusive?d>=0:d>0}(n.endAt,Mo(n),r))}(e,t)}function nF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qE(e){return(t,i)=>{let n=!1;for(let r of Mo(e)){let o=iF(r,t,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function iF(e,t,i){let n=e.field.isKeyField()?K.comparator(t.key,i.key):function(o,s,c){let l=s.data.field(o),d=c.data.field(o);return l!==null&&d!==null?jo(l,d):nt()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return nt()}}var Ui=class{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Yo(this.inner,(i,n)=>{for(let[r,o]of n)t(r,o)})}isEmpty(){return NE(this.inner)}size(){return this.innerSize}};var rF=new Yt(K.comparator);function li(){return rF}var HE=new Yt(K.comparator);function qa(...e){let t=HE;for(let i of e)t=t.insert(i.key,i);return t}function GE(e){let t=HE;return e.forEach((i,n)=>t=t.insert(i,n.overlayedDocument)),t}function Tr(){return Ga()}function WE(){return Ga()}function Ga(){return new Ui(e=>e.toString(),(e,t)=>e.isEqual(t))}var oF=new Yt(K.comparator),sF=new Te(K.comparator);function _t(...e){let t=sF;for(let i of e)t=t.add(i);return t}var aF=new Te(It);function cF(){return aF}function KE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ka(t)?"-0":t}}function YE(e){return{integerValue:""+e}}function lF(e,t){return WN(t)?YE(t):KE(e,t)}var Bo=class{constructor(){this._=void 0}};function dF(e,t,i){return e instanceof zo?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&pu(o)&&(o=M_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,t):e instanceof Pr?XE(e,t):e instanceof Or?ZE(e,t):function(r,o){let s=QE(r,o),c=hE(s)+hE(r.Pe);return hg(s)&&hg(r.Pe)?YE(c):KE(r.serializer,c)}(e,t)}function uF(e,t,i){return e instanceof Pr?XE(e,t):e instanceof Or?ZE(e,t):i}function QE(e,t){return e instanceof $o?function(n){return hg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(t)?t:{integerValue:0}:null}var zo=class extends Bo{},Pr=class extends Bo{constructor(t){super(),this.elements=t}};function XE(e,t){let i=JE(t);for(let n of e.elements)i.some(r=>Un(r,n))||i.push(n);return{arrayValue:{values:i}}}var Or=class extends Bo{constructor(t){super(),this.elements=t}};function ZE(e,t){let i=JE(t);for(let n of e.elements)i=i.filter(r=>!Un(r,n));return{arrayValue:{values:i}}}var $o=class extends Bo{constructor(t,i){super(),this.serializer=t,this.Pe=i}};function hE(e){return Kt(e.integerValue||e.doubleValue)}function JE(e){return N_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function hF(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Pr&&r instanceof Pr||n instanceof Or&&r instanceof Or?Vo(n.elements,r.elements,Un):n instanceof $o&&r instanceof $o?Un(n.Pe,r.Pe):n instanceof zo&&r instanceof zo}(e.transform,t.transform)}var Ig=class{constructor(t,i){this.version=t,this.transformResults=i}},Fi=class e{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Nd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var qo=class{};function tI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Xa(e.key,Fi.none()):new Mr(e.key,e.data,Fi.none());{let i=e.data,n=mn.empty(),r=new Te(Xe.comparator);for(let o of t.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new di(e.key,n,new Nn(r.toArray()),Fi.none())}}function fF(e,t,i){e instanceof Mr?function(r,o,s){let c=r.value.clone(),l=mE(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,i):e instanceof di?function(r,o,s){if(!Nd(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=mE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(eI(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,i)}function Wa(e,t,i,n){return e instanceof Mr?function(o,s,c,l){if(!Nd(o.precondition,s))return c;let d=o.value.clone(),f=pE(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(e,t,i,n):e instanceof di?function(o,s,c,l){if(!Nd(o.precondition,s))return c;let d=pE(o.fieldTransforms,l,s),f=s.data;return f.setAll(eI(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(e,t,i,n):function(o,s,c){return Nd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(e,t,i)}function mF(e,t){let i=null;for(let n of e.fieldTransforms){let r=t.data.field(n.field),o=QE(n.transform,r||null);o!=null&&(i===null&&(i=mn.empty()),i.set(n.field,o))}return i||null}function fE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Vo(n,r,(o,s)=>hF(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Mr=class extends qo{constructor(t,i,n,r=[]){super(),this.key=t,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},di=class extends qo{constructor(t,i,n,r,o=[]){super(),this.key=t,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function eI(e){let t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=e.data.field(i);t.set(i,n)}}),t}function mE(e,t,i){let n=new Map;Ot(e.length===i.length);for(let r=0;r<i.length;r++){let o=e[r],s=o.transform,c=t.data.field(o.field);n.set(o.field,uF(s,c,i[r]))}return n}function pE(e,t,i){let n=new Map;for(let r of e){let o=r.transform,s=i.data.field(r.field);n.set(r.field,dF(o,s,t))}return n}var Xa=class extends qo{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Tg=class extends qo{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Cg=class{constructor(t,i,n,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&fF(o,t,n[r])}}applyToLocalView(t,i){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(i=Wa(n,t,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(i=Wa(n,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){let n=WE();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=i.has(r.key)?null:c;let l=tI(s,c);l!==null&&n.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(at.min())}),n}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),_t())}isEqual(t){return this.batchId===t.batchId&&Vo(this.mutations,t.mutations,(i,n)=>fE(i,n))&&Vo(this.baseMutations,t.baseMutations,(i,n)=>fE(i,n))}},Ag=class e{constructor(t,i,n,r){this.batch=t,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(t,i,n){Ot(t.mutations.length===n.length);let r=function(){return oF}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new e(t,i,n,r)}};var Sg=class{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Rg=class{constructor(t,i){this.count=t,this.unchangedNames=i}};var se,vt;function pF(e){switch(e){default:return nt();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function nI(e){if(e===void 0)return si("GRPC error has no .code"),P.UNKNOWN;switch(e){case se.OK:return P.OK;case se.CANCELLED:return P.CANCELLED;case se.UNKNOWN:return P.UNKNOWN;case se.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case se.INTERNAL:return P.INTERNAL;case se.UNAVAILABLE:return P.UNAVAILABLE;case se.UNAUTHENTICATED:return P.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case se.NOT_FOUND:return P.NOT_FOUND;case se.ALREADY_EXISTS:return P.ALREADY_EXISTS;case se.PERMISSION_DENIED:return P.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case se.ABORTED:return P.ABORTED;case se.OUT_OF_RANGE:return P.OUT_OF_RANGE;case se.UNIMPLEMENTED:return P.UNIMPLEMENTED;case se.DATA_LOSS:return P.DATA_LOSS;default:return nt()}}(vt=se||(se={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";var gE=null;function gF(){return new TextEncoder}var _F=new Ni([4294967295,4294967295],0);function _E(e){let t=gF().encode(e),i=new qp;return i.update(t),new Uint8Array(i.digest())}function bE(e){let t=new DataView(e.buffer),i=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ni([i,n],0),new Ni([r,o],0)]}var Dg=class e{constructor(t,i,n){if(this.bitmap=t,this.padding=i,this.hashCount=n,i<0||i>=8)throw new Cr(`Invalid padding: ${i}`);if(n<0)throw new Cr(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Cr(`Invalid hash count: ${n}`);if(t.length===0&&i!==0)throw new Cr(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Ni.fromNumber(this.Ie)}Ee(t,i,n){let r=t.add(i.multiply(Ni.fromNumber(n)));return r.compare(_F)===1&&(r=new Ni([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let i=_E(t),[n,r]=bE(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);if(!this.de(s))return!1}return!0}static create(t,i,n){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new e(o,r,i);return n.forEach(c=>s.insert(c)),s}insert(t){if(this.Ie===0)return;let i=_E(t),[n,r]=bE(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);this.Ae(s)}}Ae(t){let i=Math.floor(t/8),n=t%8;this.bitmap[i]|=1<<n}},Cr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Hd=class e{constructor(t,i,n,r,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,n){let r=new Map;return r.set(t,Za.createSynthesizedTargetChangeForCurrentChange(t,i,n)),new e(at.min(),r,new Yt(It),li(),_t())}},Za=class e{constructor(t,i,n,r,o){this.resumeToken=t,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,n){return new e(n,i,_t(),_t(),_t())}};var No=class{constructor(t,i,n,r){this.Re=t,this.removedTargetIds=i,this.key=n,this.Ve=r}},Gd=class{constructor(t,i){this.targetId=t,this.me=i}},Wd=class{constructor(t,i,n=Fe.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=n,this.cause=r}},Kd=class{constructor(){this.fe=0,this.ge=yE(),this.pe=Fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=_t(),i=_t(),n=_t();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:nt()}}),new Za(this.pe,this.ye,t,i,n)}ve(){this.we=!1,this.ge=yE()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ot(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},kg=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=li(),this.qe=vE(),this.Qe=new Yt(It)}Ke(t){for(let i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(let i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{let n=this.Ge(i);switch(t.state){case 0:this.ze(i)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(t.resumeToken));break;default:nt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(t){let i=t.targetId,n=t.me.count,r=this.Je(i);if(r){let o=r.target;if(xg(o))if(n===0){let s=new K(o.path);this.Ue(i,s,gn.newNoDocument(s,at.min()))}else Ot(n===1);else{let s=this.Ye(i);if(s!==n){let c=this.Ze(t),l=c?this.Xe(c,t,s):1;if(l!==0){this.je(i);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,d)}gE?.et(function(f,p,g,E,k){var O,D,z,W,Z,st;let Bt={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},Y=p.unchangedNames;return Y&&(Bt.bloomFilter={applied:k===0,hashCount:(O=Y?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(W=(z=(D=Y?.bits)===null||D===void 0?void 0:D.bitmap)===null||z===void 0?void 0:z.length)!==null&&W!==void 0?W:0,padding:(st=(Z=Y?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&st!==void 0?st:0,mightContain:w=>{var _;return(_=E?.mightContain(w))!==null&&_!==void 0&&_}}),Bt}(s,t.me,this.Le.tt(),c,l))}}}}Ze(t){let i=t.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,c;try{s=Vi(n).toUint8Array()}catch(l){if(l instanceof Ud)return Lo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Dg(s,r,o)}catch(l){return Lo(l instanceof Cr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,i,n){return i.me.count===n-this.nt(t,i.targetId)?0:2}nt(t,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(i,o,null),r++)}),r}rt(t){let i=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&xg(c.target)){let l=new K(c.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,gn.newNoDocument(l,t))}o.be&&(i.set(s,o.Ce()),o.ve())}});let n=_t();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new Hd(t,i,this.Qe,this.ke,n);return this.ke=li(),this.qe=vE(),this.Qe=new Yt(It),r}$e(t,i){if(!this.ze(t))return;let n=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,n){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(t){this.Be.delete(t)}Ye(t){let i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Kd,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Te(It),this.qe=this.qe.insert(t,i)),i}ze(t){let i=this.Je(t)!==null;return i||H("WatchChangeAggregator","Detected inactive target",t),i}Je(t){let i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Kd),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}};function vE(){return new Yt(K.comparator)}function yE(){return new Yt(K.comparator)}var bF={asc:"ASCENDING",desc:"DESCENDING"},vF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yF={and:"AND",or:"OR"},Pg=class{constructor(t,i){this.databaseId=t,this.useProto3Json=i}};function Og(e,t){return e.useProto3Json||mu(t)?t:{value:t}}function Yd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function wF(e,t){return Yd(e,t.toTimestamp())}function Vn(e){return Ot(!!e),at.fromTimestamp(function(i){let n=ai(i);return new pe(n.seconds,n.nanos)}(e))}function j_(e,t){return Mg(e,t).canonicalString()}function Mg(e,t){let i=function(r){return new zt(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?i:i.child(t)}function rI(e){let t=zt.fromString(e);return Ot(lI(t)),t}function Ng(e,t){return j_(e.databaseId,t.path)}function Xp(e,t){let i=rI(t);if(i.get(1)!==e.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new K(sI(i))}function oI(e,t){return j_(e.databaseId,t)}function xF(e){let t=rI(e);return t.length===4?zt.emptyPath():sI(t)}function Fg(e){return new zt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sI(e){return Ot(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function wE(e,t,i){return{name:Ng(e,t),fields:i.value.mapValue.fields}}function EF(e,t){let i;if("targetChange"in t){t.targetChange;let n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(Ot(f===void 0||typeof f=="string"),Fe.fromBase64String(f||"")):(Ot(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Fe.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,c=s&&function(d){let f=d.code===void 0?P.UNKNOWN:nI(d.code);return new B(f,d.message||"")}(s);i=new Wd(n,r,o,c||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=Xp(e,n.document.name),o=Vn(n.document.updateTime),s=n.document.createTime?Vn(n.document.createTime):at.min(),c=new mn({mapValue:{fields:n.document.fields}}),l=gn.newFoundDocument(r,o,s,c),d=n.targetIds||[],f=n.removedTargetIds||[];i=new No(d,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=Xp(e,n.document),o=n.readTime?Vn(n.readTime):at.min(),s=gn.newNoDocument(r,o),c=n.removedTargetIds||[];i=new No([],c,s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=Xp(e,n.document),o=n.removedTargetIds||[];i=new No([],o,r,null)}else{if(!("filter"in t))return nt();{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new Rg(r,o),c=n.targetId;i=new Gd(c,s)}}return i}function IF(e,t){let i;if(t instanceof Mr)i={update:wE(e,t.key,t.value)};else if(t instanceof Xa)i={delete:Ng(e,t.key)};else if(t instanceof di)i={update:wE(e,t.key,t.data),updateMask:OF(t.fieldMask)};else{if(!(t instanceof Tg))return nt();i={verify:Ng(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(n=>function(o,s){let c=s.transform;if(c instanceof zo)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Pr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Or)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof $o)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw nt()}(0,n))),t.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:wF(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nt()}(e,t.precondition)),i}function TF(e,t){return e&&e.length>0?(Ot(t!==void 0),e.map(i=>function(r,o){let s=r.updateTime?Vn(r.updateTime):Vn(o);return s.isEqual(at.min())&&(s=Vn(o)),new Ig(s,r.transformResults||[])}(i,t))):[]}function CF(e,t){return{documents:[oI(e,t.path)]}}function AF(e,t){let i={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=oI(e,r);let o=function(d){if(d.length!==0)return cI(_n.create(d,"and"))}(t.filters);o&&(i.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:ko(g.field),direction:DF(g.dir)}}(f))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);let c=Og(e,t.limit);return c!==null&&(i.structuredQuery.limit=c),t.startAt&&(i.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{_t:i,parent:r}}function SF(e){let t=xF(e.parent),i=e.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){Ot(n===1);let f=i.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let o=[];i.where&&(o=function(p){let g=aI(p);return g instanceof _n&&jE(g)?g.getFilters():[g]}(i.where));let s=[];i.orderBy&&(s=function(p){return p.map(g=>function(k){return new kr(Po(k.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(i.orderBy));let c=null;i.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,mu(g)?null:g}(i.limit));let l=null;i.startAt&&(l=function(p){let g=!!p.before,E=p.values||[];return new ji(E,g)}(i.startAt));let d=null;return i.endAt&&(d=function(p){let g=!p.before,E=p.values||[];return new ji(E,g)}(i.endAt)),tF(t,r,s,o,c,"F",l,d)}function RF(e,t){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function aI(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=Po(i.unaryFilter.field);return ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Po(i.unaryFilter.field);return ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Po(i.unaryFilter.field);return ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Po(i.unaryFilter.field);return ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(e):e.fieldFilter!==void 0?function(i){return ce.create(Po(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return _n.create(i.compositeFilter.filters.map(n=>aI(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return nt()}}(i.compositeFilter.op))}(e):nt()}function DF(e){return bF[e]}function kF(e){return vF[e]}function PF(e){return yF[e]}function ko(e){return{fieldPath:e.canonicalString()}}function Po(e){return Xe.fromServerFormat(e.fieldPath)}function cI(e){return e instanceof ce?function(i){if(i.op==="=="){if(aE(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NAN"}};if(sE(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(aE(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NOT_NAN"}};if(sE(i.value))return{unaryFilter:{field:ko(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(i.field),op:kF(i.op),value:i.value}}}(e):e instanceof _n?function(i){let n=i.getFilters().map(r=>cI(r));return n.length===1?n[0]:{compositeFilter:{op:PF(i.op),filters:n}}}(e):nt()}function OF(e){let t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function lI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}var Ja=class e{constructor(t,i,n,r,o=at.min(),s=at.min(),c=Fe.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var Lg=class{constructor(t){this.ct=t}};function MF(e){let t=SF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?qd(t,t.limit,"L"):t}var Qd=class{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(Kt(t.integerValue));else if("doubleValue"in t){let n=Kt(t.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),Ka(n)?i.dt(0):i.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(i,20),typeof n=="string"&&(n=ai(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(Vi(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){let n=t.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in t?FE(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):nt()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){let n=t.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(t,i){let n=t.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(t,i){this.Et(i,37),K.fromName(t).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}};Qd.bt=new Qd;var Vg=class{constructor(){this._n=new jg}addToCollectionParentIndex(t,i){return this._n.add(i),N.resolve()}getCollectionParents(t,i){return N.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return N.resolve()}deleteFieldIndex(t,i){return N.resolve()}deleteAllFieldIndexes(t){return N.resolve()}createTargetIndexes(t,i){return N.resolve()}getDocumentsMatchingTarget(t,i){return N.resolve(null)}getIndexType(t,i){return N.resolve(0)}getFieldIndexes(t,i){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,i){return N.resolve(Rr.min())}getMinOffsetFromCollectionGroup(t,i){return N.resolve(Rr.min())}updateCollectionGroup(t,i,n){return N.resolve()}updateIndexEntries(t,i){return N.resolve()}},jg=class{constructor(){this.index={}}add(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i]||new Te(zt.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Te(zt.comparator)).toArray()}};var _W=new Uint8Array(0);var Mn=class e{constructor(t,i,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(41943040,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);var tc=class e{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new e(0)}static Ln(){return new e(-1)}};var Ug=class{constructor(){this.changes=new Ui(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,gn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?N.resolve(n):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var Bg=class{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}};var zg=class{constructor(t,i,n,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,i){let n=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(n!==null&&Wa(n.mutation,r,Nn.empty(),pe.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.getLocalViewOfDocuments(t,n,_t()).next(()=>n))}getLocalViewOfDocuments(t,i,n=_t()){let r=Tr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,n).next(o=>{let s=qa();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,i){let n=Tr();return this.populateOverlays(t,n,i).next(()=>this.computeViews(t,i,n,_t()))}populateOverlays(t,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,c)=>{i.set(s,c)})})}computeViews(t,i,n,r){let o=li(),s=Ga(),c=function(){return Ga()}();return i.forEach((l,d)=>{let f=n.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof di)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),Wa(f.mutation,d,f.mutation.getFieldMask(),pe.now())):s.set(d.key,Nn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),i.forEach((d,f)=>{var p;return c.set(d,new Bg(f,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,i){let n=Ga(),r=new Yt((s,c)=>s-c),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(s=>{for(let c of s)c.keys().forEach(l=>{let d=i.get(l);if(d===null)return;let f=n.get(l)||Nn.empty();f=c.applyToLocalView(d,f),n.set(l,f);let p=(r.get(c.batchId)||_t()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=WE();f.forEach(g=>{if(!o.has(g)){let E=tI(i.get(g),n.get(g));E!==null&&p.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,d,p))}return N.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,i,n,r){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):V_(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,n,r):this.getDocumentsMatchingCollectionQuery(t,i,n,r)}getNextDocuments(t,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,n.largestBatchId,r-o.size):N.resolve(Tr()),c=-1,l=o;return s.next(d=>N.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(t,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,l,d,_t())).next(f=>({batchId:c,changes:GE(f)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new K(i)).next(n=>{let r=qa();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,n,r){let o=i.collectionGroup,s=qa();return this.indexManager.getCollectionParents(t,o).next(c=>N.forEach(c,l=>{let d=function(p,g){return new ci(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,n,r).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,n,o,r))).next(s=>{o.forEach((l,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,gn.newInvalidDocument(f)))});let c=qa();return s.forEach((l,d)=>{let f=o.get(l);f!==void 0&&Wa(f.mutation,d,Nn.empty(),pe.now()),bu(i,d)&&(c=c.insert(l,d))}),c})}};var $g=class{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return N.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Vn(r.createTime)}}(i)),N.resolve()}getNamedQuery(t,i){return N.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,function(r){return{name:r.name,query:MF(r.bundledQuery),readTime:Vn(r.readTime)}}(i)),N.resolve()}};var qg=class{constructor(){this.overlays=new Yt(K.comparator),this.hr=new Map}getOverlay(t,i){return N.resolve(this.overlays.get(i))}getOverlays(t,i){let n=Tr();return N.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(t,i,n){return n.forEach((r,o)=>{this.ht(t,i,o)}),N.resolve()}removeOverlaysForBatchId(t,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),N.resolve()}getOverlaysForCollection(t,i,n){let r=Tr(),o=i.length+1,s=new K(i.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!i.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return N.resolve(r)}getOverlaysForCollectionGroup(t,i,n,r){let o=new Yt((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===i&&d.largestBatchId>n){let f=o.get(d.largestBatchId);f===null&&(f=Tr(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Tr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return N.resolve(c)}ht(t,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Sg(i,n));let o=this.hr.get(i);o===void 0&&(o=_t(),this.hr.set(i,o)),this.hr.set(i,o.add(n.key))}};var ec=class{constructor(){this.Pr=new Te(ae.Ir),this.Tr=new Te(ae.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){let n=new ae(t,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,i){t.forEach(n=>this.addReference(n,i))}removeReference(t,i){this.Ar(new ae(t,i))}Rr(t,i){t.forEach(n=>this.removeReference(n,i))}Vr(t){let i=new K(new zt([])),n=new ae(i,t),r=new ae(i,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){let i=new K(new zt([])),n=new ae(i,t),r=new ae(i,t+1),o=_t();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){let i=new ae(t,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&t.isEqual(n.key)}},ae=class{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return K.comparator(t.key,i.key)||It(t.pr,i.pr)}static Er(t,i){return It(t.pr,i.pr)||K.comparator(t.key,i.key)}};var Hg=class{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Te(ae.Ir)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,n,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Cg(o,i,n,r);this.mutationQueue.push(s);for(let c of r)this.wr=this.wr.add(new ae(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(t,i){return N.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){let n=i+1,r=this.br(n),o=r<0?0:r;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){let n=new ae(i,0),r=new ae(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{let c=this.Sr(s.pr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new Te(It);return i.forEach(r=>{let o=new ae(r,0),s=new ae(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],c=>{n=n.add(c.pr)})}),N.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,i){let n=i.path,r=n.length+1,o=n;K.isDocumentKey(o)||(o=o.child(""));let s=new ae(new K(o),0),c=new Te(It);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!n.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.pr)),!0)},s),N.resolve(this.Dr(c))}Dr(t){let i=[];return t.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(t,i){Ot(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return N.forEach(i.mutations,r=>{let o=new ae(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,i){let n=new ae(i,0),r=this.wr.firstAfterOrEqual(n);return N.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}Cr(t,i){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){let i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var Gg=class{constructor(t){this.vr=t,this.docs=function(){return new Yt(K.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){let n=this.docs.get(i);return N.resolve(n?n.document.mutableCopy():gn.newInvalidDocument(i))}getEntries(t,i){let n=li();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():gn.newInvalidDocument(r))}),N.resolve(n)}getDocumentsMatchingQuery(t,i,n,r){let o=li(),s=i.path,c=new K(s.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||qN($N(f),n)<=0||(r.has(f.key)||bu(i,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(t,i,n,r){nt()}Fr(t,i){return N.forEach(this.docs,n=>i(n))}newChangeBuffer(t){return new Wg(this)}getSize(t){return N.resolve(this.size)}},Wg=class extends Ug{constructor(t){super(),this.ar=t}applyChanges(t){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),N.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}};var Kg=class{constructor(t){this.persistence=t,this.Mr=new Ui(i=>F_(i),L_),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.Or=0,this.Nr=new ec,this.targetCount=0,this.Lr=tc.Nn()}forEachTarget(t,i){return this.Mr.forEach((n,r)=>i(r)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),N.resolve()}qn(t){this.Mr.set(t.target,t);let i=t.targetId;i>this.highestTargetId&&(this.Lr=new tc(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,N.resolve()}updateTargetData(t,i){return this.qn(i),N.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,i,n){let r=0,o=[];return this.Mr.forEach((s,c)=>{c.sequenceNumber<=i&&n.get(c.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),N.waitFor(o).next(()=>r)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,i){let n=this.Mr.get(i)||null;return N.resolve(n)}addMatchingKeys(t,i,n){return this.Nr.dr(i,n),N.resolve()}removeMatchingKeys(t,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),N.resolve()}getMatchingKeysForTargetId(t,i){let n=this.Nr.gr(i);return N.resolve(n)}containsKey(t,i){return N.resolve(this.Nr.containsKey(i))}};var Yg=class{constructor(t,i){this.Br={},this.overlays={},this.kr=new ME(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Kg(this),this.indexManager=new Vg,this.remoteDocumentCache=function(r){return new Gg(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new Lg(i),this.$r=new $g(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new qg,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let n=this.Br[t.toKey()];return n||(n=new Hg(i,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,n){H("MemoryPersistence","Starting transaction:",t);let r=new Qg(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,i){return N.or(Object.values(this.Br).map(n=>()=>n.containsKey(t,i)))}},Qg=class extends lg{constructor(t){super(),this.currentSequenceNumber=t}},Xg=class e{constructor(t){this.persistence=t,this.zr=new ec,this.jr=null}static Hr(t){return new e(t)}get Jr(){if(this.jr)return this.jr;throw nt()}addReference(t,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),N.resolve()}removeReference(t,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),N.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),N.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Jr,n=>{let r=K.fromPath(n);return this.Yr(t,r).next(o=>{o||i.removeEntry(r,at.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return N.or([()=>N.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}};var Zg=class e{constructor(t,i,n,r){this.targetId=t,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(t,i){let n=_t(),r=_t();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e(t,i.fromCache,n,r)}};var Jg=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var t_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $w()?8:GN(le())>0?6:4}()}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,n,r){let o={result:null};return this.ji(t,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jg;return this.Ji(t,i,s).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,i,s,c.size)})}).next(()=>o.result)}Yi(t,i,n,r){return n.documentReadCount<this.Wi?($a()<=gt.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Do(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),N.resolve()):($a()<=gt.DEBUG&&H("QueryEngine","Query:",Do(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?($a()<=gt.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Do(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ln(i))):N.resolve())}ji(t,i){if(uE(i))return N.resolve(null);let n=Ln(i);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=qd(i,null,"F"),n=Ln(i)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{let s=_t(...o);return this.zi.getDocuments(t,s).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{let d=this.Zi(i,c);return this.Xi(i,d,s,l.readTime)?this.ji(t,qd(i,null,"F")):this.es(t,d,i,l)}))})))}Hi(t,i,n,r){return uE(i)||r.isEqual(at.min())?N.resolve(null):this.zi.getDocuments(t,n).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,n,r)?N.resolve(null):($a()<=gt.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Do(i)),this.es(t,s,i,zN(r,-1)).next(c=>c))})}Zi(t,i){let n=new Te(qE(t));return i.forEach((r,o)=>{bu(t,o)&&(n=n.add(o))}),n}Xi(t,i,n,r){if(t.limit===null)return!1;if(n.size!==i.size)return!0;let o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,i,n){return $a()<=gt.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Do(i)),this.zi.getDocumentsMatchingQuery(t,i,Rr.min(),n)}es(t,i,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var e_=class{constructor(t,i,n,r){this.persistence=t,this.ts=i,this.serializer=r,this.ns=new Yt(It),this.rs=new Ui(o=>F_(o),L_),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zg(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}};function NF(e,t,i,n){return new e_(e,t,i,n)}function dI(e,t){return b(this,null,function*(){let i=ot(e);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i._s(t),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],c=[],l=_t();for(let d of r){s.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return i.localDocuments.getDocuments(n,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:c}))})})})}function FF(e,t){let i=ot(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let p=d.batch,g=p.keys(),E=N.resolve();return g.forEach(k=>{E=E.next(()=>f.getEntry(l,k)).next(O=>{let D=d.docVersions.get(k);Ot(D!==null),O.version.compareTo(D)<0&&(p.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),f.addEntry(O)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(i,n,t,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=_t();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(t))).next(()=>i.localDocuments.getDocuments(n,r))})}function uI(e){let t=ot(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function LF(e,t){let i=ot(e),n=t.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let c=[];t.targetChanges.forEach((f,p)=>{let g=r.get(p);if(!g)return;c.push(i.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>i.Qr.addMatchingKeys(o,f.addedDocuments,p)));let E=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(p)!==null?E=E.withResumeToken(Fe.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,n)),r=r.insert(p,E),function(O,D,z){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(g,E,f)&&c.push(i.Qr.updateTargetData(o,E))});let l=li(),d=_t();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(VF(o,s,t.documentUpdates).next(f=>{l=f.cs,d=f.ls})),!n.isEqual(at.min())){let f=i.Qr.getLastRemoteSnapshotVersion(o).next(p=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(f)}return N.waitFor(c).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(i.ns=r,o))}function VF(e,t,i){let n=_t(),r=_t();return i.forEach(o=>n=n.add(o)),t.getEntries(e,n).next(o=>{let s=li();return i.forEach((c,l)=>{let d=o.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(at.min())?(t.removeEntry(c,l.readTime),s=s.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(l),s=s.insert(c,l)):H("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function jF(e,t){let i=ot(e);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function UF(e,t){let i=ot(e);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,t).next(o=>o?(r=o,N.resolve(r)):i.Qr.allocateTargetId(n).next(s=>(r=new Ja(t,s,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(t,n.targetId)),n})}function n_(e,t,i){return b(this,null,function*(){let n=ot(e),r=n.ns.get(t),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!uc(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)})}function xE(e,t,i){let n=ot(e),r=at.min(),o=_t();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){let p=ot(l),g=p.rs.get(f);return g!==void 0?N.resolve(p.ns.get(g)):p.Qr.getTargetData(d,f)}(n,s,Ln(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,i?r:at.min(),i?o:_t())).next(c=>(BF(n,nF(t),c),{documents:c,hs:o})))}function BF(e,t,i){let n=e.ss.get(t)||at.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),e.ss.set(t,n)}var Xd=class{constructor(){this.activeTargetIds=cF()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var i_=class{constructor(){this.no=new Xd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,n){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Xd,Promise.resolve()}handleUserChange(t,i,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var r_=class{io(t){}shutdown(){}};var Zd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.uo)t(0)}ao(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Od=null;function Zp(){return Od===null?Od=function(){return 268435456+Math.round(2147483648*Math.random())}():Od++,"0x"+Od.toString(16)}var zF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var o_=class{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}};var Ie="WebChannelConnection",s_=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,n,r,o,s){let c=Zp(),l=this.vo(i,n.toUriEncodedString());H("RestConnection",`Sending RPC '${i}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(i,l,d,r).then(f=>(H("RestConnection",`Received RPC '${i}' ${c}: `,f),f),f=>{throw Lo("RestConnection",`RPC '${i}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(i,n,r,o,s,c){return this.Co(i,n,r,o,s)}Fo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,n){let r=zF[i];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,n,r){let o=Zp();return new Promise((s,c)=>{let l=new Hp;l.setWithCredentials(!0),l.listenOnce(Wp.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case za.NO_ERROR:let f=l.getResponseJson();H(Ie,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),s(f);break;case za.TIMEOUT:H(Ie,`RPC '${t}' ${o} timed out`),c(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:let p=l.getStatus();if(H(Ie,`RPC '${t}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let E=g?.error;if(E&&E.status&&E.message){let k=function(D){let z=D.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(z)>=0?z:P.UNKNOWN}(E.status);c(new B(k,E.message))}else c(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new B(P.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{H(Ie,`RPC '${t}' ${o} completed.`)}});let d=JSON.stringify(r);H(Ie,`RPC '${t}' ${o} sending request:`,r),l.send(i,"POST",d,n,15)})}Oo(t,i,n){let r=Zp(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Qp(),c=Yp(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new Gp({})),this.Fo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let f=o.join("");H(Ie,`Creating RPC '${t}' stream ${r}: ${f}`,l);let p=s.createWebChannel(f,l),g=!1,E=!1,k=new o_({lo:D=>{E?H(Ie,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(g||(H(Ie,`Opening RPC '${t}' stream ${r} transport.`),p.open(),g=!0),H(Ie,`RPC '${t}' stream ${r} sending:`,D),p.send(D))},ho:()=>p.close()}),O=(D,z,W)=>{D.listen(z,Z=>{try{W(Z)}catch(st){setTimeout(()=>{throw st},0)}})};return O(p,Ro.EventType.OPEN,()=>{E||(H(Ie,`RPC '${t}' stream ${r} transport opened.`),k.mo())}),O(p,Ro.EventType.CLOSE,()=>{E||(E=!0,H(Ie,`RPC '${t}' stream ${r} transport closed`),k.po())}),O(p,Ro.EventType.ERROR,D=>{E||(E=!0,Lo(Ie,`RPC '${t}' stream ${r} transport errored:`,D),k.po(new B(P.UNAVAILABLE,"The operation could not be completed")))}),O(p,Ro.EventType.MESSAGE,D=>{var z;if(!E){let W=D.data[0];Ot(!!W);let Z=W,st=Z.error||((z=Z[0])===null||z===void 0?void 0:z.error);if(st){H(Ie,`RPC '${t}' stream ${r} received error:`,st);let Bt=st.status,Y=function(v){let x=se[v];if(x!==void 0)return nI(x)}(Bt),w=st.message;Y===void 0&&(Y=P.INTERNAL,w="Unknown error status: "+Bt+" with message "+st.message),E=!0,k.po(new B(Y,w)),p.close()}else H(Ie,`RPC '${t}' stream ${r} received:`,W),k.yo(W)}}),O(c,Kp.STAT_EVENT,D=>{D.stat===kd.PROXY?H(Ie,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===kd.NOPROXY&&H(Ie,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}};function Jp(){return typeof document<"u"?document:null}function vu(e){return new Pg(e,!0)}var Jd=class{constructor(t,i,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=i,this.No=n,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();let i=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-n);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var tu=class{constructor(t,i,n,r,o,s,c,l){this.oi=t,this.Go=n,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Jd(t,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return b(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){return b(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){return b(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():i&&i.code===P.RESOURCE_EXHAUSTED?(si(i.toString()),si("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===i&&this.u_(n,r)},n=>{t(()=>{let r=new B(P.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(t,i){let n=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>b(this,null,function*(){this.state=0,this.start()}))}c_(t){return H("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},a_=class extends tu{constructor(t,i,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();let i=EF(this.serializer,t),n=function(o){if(!("targetChange"in o))return at.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?at.min():s.readTime?Vn(s.readTime):at.min()}(t);return this.listener.h_(i,n)}P_(t){let i={};i.database=Fg(this.serializer),i.addTarget=function(o,s){let c,l=s.target;if(c=xg(l)?{documents:CF(o,l)}:{query:AF(o,l)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=iI(o,s.resumeToken);let d=Og(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(at.min())>0){c.readTime=Yd(o,s.snapshotVersion.toTimestamp());let d=Og(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);let n=RF(this.serializer,t);n&&(i.labels=n),this.i_(i)}I_(t){let i={};i.database=Fg(this.serializer),i.removeTarget=t,this.i_(i)}},c_=class extends tu{constructor(t,i,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(Ot(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();let i=TF(t.writeResults,t.commitTime),n=Vn(t.commitTime);return this.listener.A_(n,i)}return Ot(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let t={};t.database=Fg(this.serializer),this.i_(t)}d_(t){let i={streamToken:this.lastStreamToken,writes:t.map(n=>IF(this.serializer,n))};this.i_(i)}};var l_=class extends class{}{constructor(t,i,n,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,Mg(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}xo(t,i,n,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.xo(t,Mg(i,n),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},d_=class{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(si(i),this.y_=!1):H("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var u_=class{constructor(t,i,n,r,o){this.localStore=t,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{n.enqueueAndForget(()=>b(this,null,function*(){Nr(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(l){return b(this,null,function*(){let d=ot(l);d.M_.add(4),yield hc(d),d.N_.set("Unknown"),d.M_.delete(4),yield yu(d)})}(this))}))}),this.N_=new d_(n,r)}};function yu(e){return b(this,null,function*(){if(Nr(e))for(let t of e.x_)yield t(!0)})}function hc(e){return b(this,null,function*(){for(let t of e.x_)yield t(!1)})}function hI(e,t){let i=ot(e);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),$_(i)?z_(i):Qo(i).Xo()&&B_(i,t))}function U_(e,t){let i=ot(e),n=Qo(i);i.F_.delete(t),n.Xo()&&fI(i,t),i.F_.size===0&&(n.Xo()?n.n_():Nr(i)&&i.N_.set("Unknown"))}function B_(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(at.min())>0){let i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Qo(e).P_(t)}function fI(e,t){e.L_.xe(t),Qo(e).I_(t)}function z_(e){e.L_=new kg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Qo(e).start(),e.N_.w_()}function $_(e){return Nr(e)&&!Qo(e).Zo()&&e.F_.size>0}function Nr(e){return ot(e).M_.size===0}function mI(e){e.L_=void 0}function $F(e){return b(this,null,function*(){e.N_.set("Online")})}function qF(e){return b(this,null,function*(){e.F_.forEach((t,i)=>{B_(e,t)})})}function HF(e,t){return b(this,null,function*(){mI(e),$_(e)?(e.N_.D_(t),z_(e)):e.N_.set("Unknown")})}function GF(e,t,i){return b(this,null,function*(){if(e.N_.set("Online"),t instanceof Wd&&t.state===2&&t.cause)try{yield function(r,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.F_.delete(c),r.L_.removeTarget(c))})}(e,t)}catch(n){H("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield eu(e,n)}else if(t instanceof No?e.L_.Ke(t):t instanceof Gd?e.L_.He(t):e.L_.We(t),!i.isEqual(at.min()))try{let n=yield uI(e.localStore);i.compareTo(n)>=0&&(yield function(o,s){let c=o.L_.rt(s);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.F_.get(d);f&&o.F_.set(d,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,d)=>{let f=o.F_.get(l);if(!f)return;o.F_.set(l,f.withResumeToken(Fe.EMPTY_BYTE_STRING,f.snapshotVersion)),fI(o,l);let p=new Ja(f.target,l,d,f.sequenceNumber);B_(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(e,i))}catch(n){H("RemoteStore","Failed to raise snapshot:",n),yield eu(e,n)}})}function eu(e,t,i){return b(this,null,function*(){if(!uc(t))throw t;e.M_.add(1),yield hc(e),e.N_.set("Offline"),i||(i=()=>uI(e.localStore)),e.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield i(),e.M_.delete(1),yield yu(e)}))})}function pI(e,t){return t().catch(i=>eu(e,i,t))}function wu(e){return b(this,null,function*(){let t=ot(e),i=Bi(t),n=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;WF(t);)try{let r=yield jF(t.localStore,n);if(r===null){t.v_.length===0&&i.n_();break}n=r.batchId,KF(t,r)}catch(r){yield eu(t,r)}gI(t)&&_I(t)})}function WF(e){return Nr(e)&&e.v_.length<10}function KF(e,t){e.v_.push(t);let i=Bi(e);i.Xo()&&i.E_&&i.d_(t.mutations)}function gI(e){return Nr(e)&&!Bi(e).Zo()&&e.v_.length>0}function _I(e){Bi(e).start()}function YF(e){return b(this,null,function*(){Bi(e).V_()})}function QF(e){return b(this,null,function*(){let t=Bi(e);for(let i of e.v_)t.d_(i.mutations)})}function XF(e,t,i){return b(this,null,function*(){let n=e.v_.shift(),r=Ag.from(n,t,i);yield pI(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield wu(e)})}function ZF(e,t){return b(this,null,function*(){t&&Bi(e).E_&&(yield function(n,r){return b(this,null,function*(){if(function(s){return pF(s)&&s!==P.ABORTED}(r.code)){let o=n.v_.shift();Bi(n).t_(),yield pI(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield wu(n)}})}(e,t)),gI(e)&&_I(e)})}function EE(e,t){return b(this,null,function*(){let i=ot(e);i.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let n=Nr(i);i.M_.add(3),yield hc(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield yu(i)})}function JF(e,t){return b(this,null,function*(){let i=ot(e);t?(i.M_.delete(2),yield yu(i)):t||(i.M_.add(2),yield hc(i),i.N_.set("Unknown"))})}function Qo(e){return e.B_||(e.B_=function(i,n,r){let o=ot(i);return o.f_(),new a_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:$F.bind(null,e),To:qF.bind(null,e),Ao:HF.bind(null,e),h_:GF.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.B_.t_(),$_(e)?z_(e):e.N_.set("Unknown")):(yield e.B_.stop(),mI(e))}))),e.B_}function Bi(e){return e.k_||(e.k_=function(i,n,r){let o=ot(i);return o.f_(),new c_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:YF.bind(null,e),Ao:ZF.bind(null,e),R_:QF.bind(null,e),A_:XF.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.k_.t_(),yield wu(e)):(yield e.k_.stop(),e.v_.length>0&&(H("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}var h_=class e{constructor(t,i,n,r,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,n,r,o){let s=Date.now()+n,c=new e(t,i,s,r,o);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function q_(e,t){if(si("AsyncQueue",`${t}: ${e}`),uc(e))return new B(P.UNAVAILABLE,`${t}: ${e}`);throw e}var nu=class e{constructor(t){this.comparator=t?(i,n)=>t(i,n)||K.comparator(i.key,n.key):(i,n)=>K.comparator(i.key,n.key),this.keyedMap=qa(),this.sortedSet=new Yt(this.comparator)}static emptySet(t){return new e(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,n)=>(t(i),!1))}add(t){let i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){let i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){let n=new e;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=i,n}};var iu=class{constructor(){this.q_=new Yt(K.comparator)}track(t){let i=t.doc.key,n=this.q_.get(i);n?t.type!==0&&n.type===3?this.q_=this.q_.insert(i,t):t.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.q_=this.q_.remove(i):t.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):nt():this.q_=this.q_.insert(i,t)}Q_(){let t=[];return this.q_.inorderTraversal((i,n)=>{t.push(n)}),t}},Ho=class e{constructor(t,i,n,r,o,s,c,l,d){this.query=t,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(t,i,n,r,o){let s=[];return i.forEach(c=>{s.push({type:0,doc:c})}),new e(t,i,nu.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_u(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let i=this.docChanges,n=t.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var f_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},m_=class{constructor(){this.queries=new Ui(t=>$E(t),_u),this.onlineState="Unknown",this.z_=new Set}};function H_(e,t){return b(this,null,function*(){let i=ot(e),n=3,r=t.query,o=i.queries.get(r);o?!o.W_()&&t.G_()&&(n=2):(o=new f_,n=t.G_()?0:1);try{switch(n){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let c=q_(s,`Initialization of query '${Do(t.query)}' failed`);return void t.onError(c)}i.queries.set(r,o),o.U_.push(t),t.j_(i.onlineState),o.K_&&t.H_(o.K_)&&W_(i)})}function G_(e,t){return b(this,null,function*(){let i=ot(e),n=t.query,r=3,o=i.queries.get(n);if(o){let s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function tL(e,t){let i=ot(e),n=!1;for(let r of t){let o=r.query,s=i.queries.get(o);if(s){for(let c of s.U_)c.H_(r)&&(n=!0);s.K_=r}}n&&W_(i)}function eL(e,t,i){let n=ot(e),r=n.queries.get(t);if(r)for(let o of r.U_)o.onError(i);n.queries.delete(t)}function W_(e){e.z_.forEach(t=>{t.next()})}var p_,IE;(IE=p_||(p_={})).J_="default",IE.Cache="cache";var nc=class{constructor(t,i,n){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new Ho(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){if(!t.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==p_.Cache}};var ru=class{constructor(t){this.key=t}},ou=class{constructor(t){this.key=t}},g_=class{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=_t(),this.mutatedKeys=_t(),this.Ia=qE(t),this.Ta=new nu(this.Ia)}get Ea(){return this.la}da(t,i){let n=i?i.Aa:new iu,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{let g=r.get(f),E=bu(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),D=!1;g&&E?g.data.isEqual(E.data)?k!==O&&(n.track({type:3,doc:E}),D=!0):this.Ra(g,E)||(n.track({type:2,doc:E}),D=!0,(l&&this.Ia(E,l)>0||d&&this.Ia(E,d)<0)&&(c=!0)):!g&&E?(n.track({type:0,doc:E}),D=!0):g&&!E&&(n.track({type:1,doc:g}),D=!0,(l||d)&&(c=!0)),D&&(E?(s=s.add(E),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),n.track({type:1,doc:f})}return{Ta:s,Aa:n,Xi:c,mutatedKeys:o}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,n,r){let o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let s=t.Aa.Q_();s.sort((f,p)=>function(E,k){let O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return O(E)-O(k)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(n),r=r!=null&&r;let c=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new Ho(this.query,t.Ta,o,s,t.mutatedKeys,l===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new iu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=_t(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return t.forEach(n=>{this.Pa.has(n)||i.push(new ou(n))}),this.Pa.forEach(n=>{t.has(n)||i.push(new ru(n))}),i}pa(t){this.la=t.hs,this.Pa=_t();let i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return Ho.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},__=class{constructor(t,i,n){this.query=t,this.targetId=i,this.view=n}},b_=class{constructor(t){this.key=t,this.wa=!1}},v_=class{constructor(t,i,n,r,o,s){this.localStore=t,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ui(c=>$E(c),_u),this.Da=new Map,this.Ca=new Set,this.va=new Yt(K.comparator),this.Fa=new Map,this.Ma=new ec,this.xa={},this.Oa=new Map,this.Na=tc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function nL(e,t,i=!0){return b(this,null,function*(){let n=EI(e),r,o=n.ba.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield bI(n,t,i,!0),r})}function iL(e,t){return b(this,null,function*(){let i=EI(e);yield bI(i,t,!0,!1)})}function bI(e,t,i,n){return b(this,null,function*(){let r=yield UF(e.localStore,Ln(t)),o=r.targetId,s=i?e.sharedClientState.addLocalQueryTarget(o):"not-current",c;return n&&(c=yield rL(e,t,o,s==="current",r.resumeToken)),e.isPrimaryClient&&i&&hI(e.remoteStore,r),c})}function rL(e,t,i,n,r){return b(this,null,function*(){e.Ba=(p,g,E)=>function(O,D,z,W){return b(this,null,function*(){let Z=D.view.da(z);Z.Xi&&(Z=yield xE(O.localStore,D.query,!1).then(({documents:w})=>D.view.da(w,Z)));let st=W&&W.targetChanges.get(D.targetId),Bt=W&&W.targetMismatches.get(D.targetId)!=null,Y=D.view.applyChanges(Z,O.isPrimaryClient,st,Bt);return CE(O,D.targetId,Y.fa),Y.snapshot})}(e,p,g,E);let o=yield xE(e.localStore,t,!0),s=new g_(t,o.hs),c=s.da(o.documents),l=Za.createSynthesizedTargetChangeForCurrentChange(i,n&&e.onlineState!=="Offline",r),d=s.applyChanges(c,e.isPrimaryClient,l);CE(e,i,d.fa);let f=new __(t,i,s);return e.ba.set(t,f),e.Da.has(i)?e.Da.get(i).push(t):e.Da.set(i,[t]),d.snapshot})}function oL(e,t,i){return b(this,null,function*(){let n=ot(e),r=n.ba.get(t),o=n.Da.get(r.targetId);if(o.length>1)return n.Da.set(r.targetId,o.filter(s=>!_u(s,t))),void n.ba.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield n_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&U_(n.remoteStore,r.targetId),y_(n,r.targetId)}).catch(dc))):(y_(n,r.targetId),yield n_(n.localStore,r.targetId,!0))})}function sL(e,t){return b(this,null,function*(){let i=ot(e),n=i.ba.get(t),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),U_(i.remoteStore,n.targetId))})}function aL(e,t,i){return b(this,null,function*(){let n=mL(e);try{let r=yield function(s,c){let l=ot(s),d=pe.now(),f=c.reduce((E,k)=>E.add(k.key),_t()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let k=li(),O=_t();return l.os.getEntries(E,f).next(D=>{k=D,k.forEach((z,W)=>{W.isValidDocument()||(O=O.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,k)).next(D=>{p=D;let z=[];for(let W of c){let Z=mF(W,p.get(W.key).overlayedDocument);Z!=null&&z.push(new di(W.key,Z,LE(Z.value.mapValue),Fi.exists(!0)))}return l.mutationQueue.addMutationBatch(E,d,z,c)}).next(D=>{g=D;let z=D.applyToLocalDocumentSet(p,O);return l.documentOverlayCache.saveOverlays(E,D.batchId,z)})}).then(()=>({batchId:g.batchId,changes:GE(p)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,c,l){let d=s.xa[s.currentUser.toKey()];d||(d=new Yt(It)),d=d.insert(c,l),s.xa[s.currentUser.toKey()]=d}(n,r.batchId,i),yield fc(n,r.changes),yield wu(n.remoteStore)}catch(r){let o=q_(r,"Failed to persist write");i.reject(o)}})}function vI(e,t){return b(this,null,function*(){let i=ot(e);try{let n=yield LF(i.localStore,t);t.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(Ot(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?Ot(s.wa):r.removedDocuments.size>0&&(Ot(s.wa),s.wa=!1))}),yield fc(i,n,t)}catch(n){yield dc(n)}})}function TE(e,t,i){let n=ot(e);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((o,s)=>{let c=s.view.j_(t);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=ot(s);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let g of p.U_)g.j_(c)&&(d=!0)}),d&&W_(l)}(n.eventManager,t),r.length&&n.Sa.h_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function cL(e,t,i){return b(this,null,function*(){let n=ot(e);n.sharedClientState.updateQueryState(t,"rejected",i);let r=n.Fa.get(t),o=r&&r.key;if(o){let s=new Yt(K.comparator);s=s.insert(o,gn.newNoDocument(o,at.min()));let c=_t().add(o),l=new Hd(at.min(),new Map,new Yt(It),s,c);yield vI(n,l),n.va=n.va.remove(o),n.Fa.delete(t),K_(n)}else yield n_(n.localStore,t,!1).then(()=>y_(n,t,i)).catch(dc)})}function lL(e,t){return b(this,null,function*(){let i=ot(e),n=t.batch.batchId;try{let r=yield FF(i.localStore,t);wI(i,n,null),yI(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield fc(i,r)}catch(r){yield dc(r)}})}function dL(e,t,i){return b(this,null,function*(){let n=ot(e);try{let r=yield function(s,c){let l=ot(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(Ot(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(n.localStore,t);wI(n,t,i),yI(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),yield fc(n,r)}catch(r){yield dc(r)}})}function yI(e,t){(e.Oa.get(t)||[]).forEach(i=>{i.resolve()}),e.Oa.delete(t)}function wI(e,t,i){let n=ot(e),r=n.xa[n.currentUser.toKey()];if(r){let o=r.get(t);o&&(i?o.reject(i):o.resolve(),r=r.remove(t)),n.xa[n.currentUser.toKey()]=r}}function y_(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(let n of e.Da.get(t))e.ba.delete(n),i&&e.Sa.ka(n,i);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(n=>{e.Ma.containsKey(n)||xI(e,n)})}function xI(e,t){e.Ca.delete(t.path.canonicalString());let i=e.va.get(t);i!==null&&(U_(e.remoteStore,i),e.va=e.va.remove(t),e.Fa.delete(i),K_(e))}function CE(e,t,i){for(let n of i)n instanceof ru?(e.Ma.addReference(n.key,t),uL(e,n)):n instanceof ou?(H("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,t),e.Ma.containsKey(n.key)||xI(e,n.key)):nt()}function uL(e,t){let i=t.key,n=i.path.canonicalString();e.va.get(i)||e.Ca.has(n)||(H("SyncEngine","New document in limbo: "+i),e.Ca.add(n),K_(e))}function K_(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){let t=e.Ca.values().next().value;e.Ca.delete(t);let i=new K(zt.fromString(t)),n=e.Na.next();e.Fa.set(n,new b_(i)),e.va=e.va.insert(i,n),hI(e.remoteStore,new Ja(Ln(gu(i.path)),n,"TargetPurposeLimboResolution",ME.oe))}}function fc(e,t,i){return b(this,null,function*(){let n=ot(e),r=[],o=[],s=[];n.ba.isEmpty()||(n.ba.forEach((c,l)=>{s.push(n.Ba(l,t,i).then(d=>{if((d||i)&&n.isPrimaryClient){let f=d&&!d.fromCache;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){r.push(d);let f=Zg.Ki(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),n.Sa.h_(r),yield function(l,d){return b(this,null,function*(){let f=ot(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>N.forEach(d,g=>N.forEach(g.qi,E=>f.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>N.forEach(g.Qi,E=>f.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!uc(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let g=p.targetId;if(!p.fromCache){let E=f.ns.get(g),k=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(k);f.ns=f.ns.insert(g,O)}}})}(n.localStore,o))})}function hL(e,t){return b(this,null,function*(){let i=ot(e);if(!i.currentUser.isEqual(t)){H("SyncEngine","User change. New user:",t.toKey());let n=yield dI(i.localStore,t);i.currentUser=t,function(o,s){o.Oa.forEach(c=>{c.forEach(l=>{l.reject(new B(P.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield fc(i,n.us)}})}function fL(e,t){let i=ot(e),n=i.Fa.get(t);if(n&&n.wa)return _t().add(n.key);{let r=_t(),o=i.Da.get(t);if(!o)return r;for(let s of o){let c=i.ba.get(s);r=r.unionWith(c.view.Ea)}return r}}function EI(e){let t=ot(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=fL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cL.bind(null,t),t.Sa.h_=tL.bind(null,t.eventManager),t.Sa.ka=eL.bind(null,t.eventManager),t}function mL(e){let t=ot(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dL.bind(null,t),t}var su=class{constructor(){this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=vu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return NF(this.persistence,new t_,t.initialUser,this.serializer)}createPersistence(t){return new Yg(Xg.Hr,this.serializer)}createSharedClientState(t){return new i_}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var w_=class{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>TE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=hL.bind(null,this.syncEngine),yield JF(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new m_}()}createDatastore(t){let i=vu(t.databaseInfo.databaseId),n=function(o){return new s_(o)}(t.databaseInfo);return function(o,s,c,l){return new l_(o,s,c,l)}(t.authCredentials,t.appCheckCredentials,n,i)}createRemoteStore(t){return function(n,r,o,s,c){return new u_(n,r,o,s,c)}(this.localStore,this.datastore,t.asyncQueue,i=>TE(this.syncEngine,i,0),function(){return Zd.D()?new Zd:new r_}())}createSyncEngine(t,i){return function(r,o,s,c,l,d,f){let p=new v_(r,o,s,c,l,d);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t;yield function(n){return b(this,null,function*(){let r=ot(n);H("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield hc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};var ic=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):si("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}};var x_=class{constructor(t,i,n,r){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=ue.UNAUTHENTICATED,this.clientId=Ld.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>b(this,null,function*(){H("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){let n=q_(i,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function tg(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let i=e.configuration;yield t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(r=>b(this,null,function*(){n.isEqual(r)||(yield dI(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t})}function AE(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress();let i=yield gL(e);H("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,e.configuration),e.setCredentialChangeListener(n=>EE(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>EE(t.remoteStore,r)),e._onlineComponents=t})}function pL(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}function gL(e){return b(this,null,function*(){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield tg(e,e._uninitializedComponentsProvider._offline)}catch(t){let i=t;if(!pL(i))throw i;Lo("Error using user provided cache. Falling back to memory cache: "+i),yield tg(e,new su)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield tg(e,new su);return e._offlineComponents})}function II(e){return b(this,null,function*(){return e._onlineComponents||(e._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield AE(e,e._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield AE(e,new w_))),e._onlineComponents})}function _L(e){return II(e).then(t=>t.syncEngine)}function au(e){return b(this,null,function*(){let t=yield II(e),i=t.eventManager;return i.onListen=nL.bind(null,t.syncEngine),i.onUnlisten=oL.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iL.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sL.bind(null,t.syncEngine),i})}function bL(e,t,i={}){let n=new pn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,d){let f=new ic({next:g=>{s.enqueueAndForget(()=>G_(o,p));let E=g.docs.has(c);!E&&g.fromCache?d.reject(new B(P.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&l&&l.source==="server"?d.reject(new B(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new nc(gu(c.path),f,{includeMetadataChanges:!0,ra:!0});return H_(o,p)}(yield au(e),e.asyncQueue,t,i,n)})),n.promise}function vL(e,t,i={}){let n=new pn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,d){let f=new ic({next:g=>{s.enqueueAndForget(()=>G_(o,p)),g.fromCache&&l.source==="server"?d.reject(new B(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new nc(c,f,{includeMetadataChanges:!0,ra:!0});return H_(o,p)}(yield au(e),e.asyncQueue,t,i,n)})),n.promise}function TI(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var SE=new Map;function CI(e,t,i){if(!i)throw new B(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function yL(e,t,i,n){if(t===!0&&n===!0)throw new B(P.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function RE(e){if(!K.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function DE(e){if(K.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function xu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{let t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":nt()}function jn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=xu(e);throw new B(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function wL(e,t){if(t<=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}var cu=class{constructor(t){var i,n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TI((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Go=class{constructor(t,i,n,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cu(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new eg;switch(n.type){case"firstParty":return new og(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=SE.get(i);n&&(H("ComponentProvider","Removing Datastore"),SE.delete(i),n.terminate())}(this),Promise.resolve()}};function AI(e,t,i,n={}){var r;let o=(e=jn(e,Go))._getSettings(),s=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=ue.MOCK_USER;else{c=ed(n.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);let d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ue(d)}e._authCredentials=new ng(new Fd(c,l))}}var Bn=class e{constructor(t,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new e(this.firestore,t,this._query)}},Be=class e{constructor(t,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Li(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},Li=class e extends Bn{constructor(t,i,n){super(t,i,gu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new K(t))}withConverter(t){return new e(this.firestore,t,this._path)}};function SI(e,t,...i){if(e=qt(e),CI("collection","path",t),e instanceof Go){let n=zt.fromString(t,...i);return DE(n),new Li(e,null,n)}{if(!(e instanceof Be||e instanceof Li))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(zt.fromString(t,...i));return DE(n),new Li(e.firestore,null,n)}}function Y_(e,t,...i){if(e=qt(e),arguments.length===1&&(t=Ld.newId()),CI("doc","path",t),e instanceof Go){let n=zt.fromString(t,...i);return RE(n),new Be(e,null,new K(n))}{if(!(e instanceof Be||e instanceof Li))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child(zt.fromString(t,...i));return RE(n),new Be(e.firestore,e instanceof Li?e.converter:null,new K(n))}}var E_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Jd(this,"async_queue_retry"),this.hu=()=>{let i=Jp();i&&H("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let t=Jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let i=Jp();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new pn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!uc(t))throw t;H("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(t){let i=this.iu.then(()=>(this.uu=!0,t().catch(n=>{this.au=n,this.uu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(n);throw si("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(t,i,n){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);let r=h_.createAndSchedule(this,t,i,n,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&nt()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let i=this._u.indexOf(t);this._u.splice(i,1)}};function kE(e){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(e,["next","error","complete"])}var ui=class extends Go{constructor(t,i,n,r){super(t,i,n,r),this.type="firestore",this._queue=function(){return new E_}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DI(this),this._firestoreClient.terminate()}};function RI(e,t){let i=typeof e=="object"?e:Oi(),n=typeof e=="string"?e:t||"(default)",r=_r(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=td("firestore");o&&AI(r,...o)}return r}function Eu(e){return e._firestoreClient||DI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function DI(e){var t,i,n;let r=e._freezeSettings(),o=function(c,l,d,f){return new dg(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,TI(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new x_(e._authCredentials,e._appCheckCredentials,e._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var rc=class e{constructor(t){this._byteString=t}static fromBase64String(t){try{return new e(Fe.fromBase64String(t))}catch(i){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new e(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var oc=class{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var lu=class{constructor(t){this._methodName=t}};var sc=class{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}};var xL=/^__.*__$/,I_=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return this.fieldMask!==null?new di(t,this.data,this.fieldMask,i,this.fieldTransforms):new Mr(t,this.data,i,this.fieldTransforms)}};function kI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}var T_=class e{constructor(t,i,n,r,o,s){this.settings=t,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return du(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(kI(this.fu)&&xL.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},C_=class{constructor(t,i,n){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=n||vu(t)}Fu(t,i,n,r=!1){return new T_({fu:t,methodName:i,vu:n,path:Xe.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Q_(e){let t=e._freezeSettings(),i=vu(e._databaseId);return new C_(e._databaseId,!!t.ignoreUndefinedProperties,i)}function EL(e,t,i,n,r,o={}){let s=e.Fu(o.merge||o.mergeFields?2:0,t,i,r);NI("Data must be an object, but it was:",s,n);let c=OI(n,s),l,d;if(o.merge)l=new Nn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=IL(t,p,i);if(!s.contains(g))throw new B(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);CL(f,g)||f.push(g)}l=new Nn(f),d=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=s.fieldTransforms;return new I_(new mn(c),l,d)}function PI(e,t,i,n=!1){return X_(i,e.Fu(n?4:3,t))}function X_(e,t){if(MI(e=qt(e)))return NI("Unsupported field value:",t,e),OI(e,t);if(e instanceof lu)return function(n,r){if(!kI(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let c of n){let l=X_(c,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=qt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return lF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=pe.fromDate(n);return{timestampValue:Yd(r.serializer,o)}}if(n instanceof pe){let o=new pe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Yd(r.serializer,o)}}if(n instanceof sc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rc)return{bytesValue:iI(r.serializer,n._byteString)};if(n instanceof Be){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:j_(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${xu(n)}`)}(e,t)}function OI(e,t){let i={};return NE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yo(e,(n,r)=>{let o=X_(r,t.pu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function MI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof pe||e instanceof sc||e instanceof rc||e instanceof Be||e instanceof lu)}function NI(e,t,i){if(!MI(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=xu(i);throw n==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+n)}}function IL(e,t,i){if((t=qt(t))instanceof oc)return t._internalPath;if(typeof t=="string")return FI(e,t);throw du("Field path arguments must be of type string or ",e,!1,void 0,i)}var TL=new RegExp("[~\\*/\\[\\]]");function FI(e,t,i){if(t.search(TL)>=0)throw du(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new oc(...t.split("."))._internalPath}catch{throw du(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function du(e,t,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,c=`Function ${t}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${r}`),l+=")"),new B(P.INVALID_ARGUMENT,c+e+l)}function CL(e,t){return e.some(i=>i.isEqual(t))}var ac=class{constructor(t,i,n,r,o){this._firestore=t,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new A_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let i=this._document.data.field(Iu("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}},A_=class extends ac{data(){return super.data()}};function Iu(e,t){return typeof t=="string"?FI(e,t):t instanceof oc?t._internalPath:t._delegate._internalPath}function LI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cc=class{},Wo=class extends cc{};function VI(e,t,...i){let n=[];t instanceof cc&&n.push(t),n=n.concat(i),function(o){let s=o.filter(l=>l instanceof S_).length,c=o.filter(l=>l instanceof uu).length;if(s>1||s>0&&c>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)e=r._apply(e);return e}var uu=class e extends Wo{constructor(t,i,n){super(),this._field=t,this._op=i,this._value=n,this.type="where"}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=this._parse(t);return $I(t._query,i),new Bn(t.firestore,t.converter,Eg(t._query,i))}_parse(t){let i=Q_(t.firestore);return function(o,s,c,l,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){OE(p,f);let E=[];for(let k of p)E.push(PE(l,o,k));g={arrayValue:{values:E}}}else g=PE(l,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||OE(p,f),g=PI(c,s,p,f==="in"||f==="not-in");return ce.create(d,f,g)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}};function jI(e,t,i){let n=t,r=Iu("where",e);return uu._create(r,n,i)}var S_=class e extends cc{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new e(t,i)}_parse(t){let i=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:_n.create(i,this._getOperator())}_apply(t){let i=this._parse(t);return i.getFilters().length===0?t:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let l of c)$I(s,l),s=Eg(s,l)}(t._query,i),new Bn(t.firestore,t.converter,Eg(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var R_=class e extends Wo{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new e(t,i)}_apply(t){let i=function(r,o,s){if(r.startAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kr(o,s)}(t._query,this._field,this._direction);return new Bn(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new ci(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}};function UI(e,t="asc"){let i=t,n=Iu("orderBy",e);return R_._create(n,i)}var D_=class e extends Wo{constructor(t,i,n){super(),this.type=t,this._limit=i,this._limitType=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){return new Bn(t.firestore,t.converter,qd(t._query,this._limit,this._limitType))}};function BI(e){return wL("limit",e),D_._create("limit",e,"F")}var k_=class e extends Wo{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=AL(t,this.type,this._docOrFields,this._inclusive);return new Bn(t.firestore,t.converter,function(r,o){return new ci(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,i))}};function zI(...e){return k_._create("startAfter",e,!1)}function AL(e,t,i,n){if(i[0]=qt(i[0]),i[0]instanceof ac)return function(o,s,c,l,d){if(!l)throw new B(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let p of Mo(o))if(p.field.isKeyField())f.push(zd(s,l.key));else{let g=l.data.field(p.field);if(pu(g))throw new B(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let E=p.field.canonicalString();throw new B(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}f.push(g)}return new ji(f,d)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{let r=Q_(e.firestore);return function(s,c,l,d,f,p){let g=s.explicitOrderBy;if(f.length>g.length)throw new B(P.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let E=[];for(let k=0;k<f.length;k++){let O=f[k];if(g[k].field.isKeyField()){if(typeof O!="string")throw new B(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof O}`);if(!V_(s)&&O.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${O}' contains a slash.`);let D=s.path.child(zt.fromString(O));if(!K.isDocumentKey(D))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);let z=new K(D);E.push(zd(c,z))}else{let D=PI(l,d,O);E.push(D)}}return new ji(E,p)}(e._query,e.firestore._databaseId,r,t,i,n)}}function PE(e,t,i){if(typeof(i=qt(i))=="string"){if(i==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!V_(t)&&i.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=t.path.child(zt.fromString(i));if(!K.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return zd(e,new K(n))}if(i instanceof Be)return zd(e,i._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xu(i)}.`)}function OE(e,t){if(!Array.isArray(e)||e.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $I(e,t){let i=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}var P_=class{convertValue(t,i="none"){switch(Dr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Kt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Vi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw nt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){let n={};return Yo(t,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(t){return new sc(Kt(t.latitude),Kt(t.longitude))}convertArray(t,i){return(t.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(t,i){switch(i){case"previous":let n=M_(t);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(Ya(t));default:return null}}convertTimestamp(t){let i=ai(t);return new pe(i.seconds,i.nanos)}convertDocumentKey(t,i){let n=zt.fromString(t);Ot(lI(n));let r=new Bd(n.get(1),n.get(3)),o=new K(n.popFirst(5));return r.isEqual(i)||si(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function SL(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}var Ar=class{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},hu=class extends ac{constructor(t,i,n,r,o,s){super(t,i,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let i=new Fo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){let n=this._document.data.field(Iu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},Fo=class extends hu{data(t={}){return super.data(t)}},fu=class{constructor(t,i,n,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new Ar(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(n=>{t.call(i,new Fo(this._firestore,this._userDataWriter,n.key,n,new Ar(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new Fo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ar(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Fo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Ar(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:RL(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function RL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function qI(e){e=jn(e,Be);let t=jn(e.firestore,ui);return bL(Eu(t),e._key).then(i=>YI(t,e,i))}var lc=class extends P_{constructor(t){super(),this.firestore=t}convertBytes(t){return new rc(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,i)}};function HI(e){e=jn(e,Bn);let t=jn(e.firestore,ui),i=Eu(t),n=new lc(t);return LI(e._query),vL(i,e._query).then(r=>new fu(t,n,e,r))}function GI(e){return KI(jn(e.firestore,ui),[new Xa(e._key,Fi.none())])}function WI(e,t){let i=jn(e.firestore,ui),n=Y_(e),r=SL(e.converter,t);return KI(i,[EL(Q_(e.firestore),"addDoc",n._key,r,e.converter!==null,{}).toMutation(n._key,Fi.exists(!1))]).then(()=>n)}function Z_(e,...t){var i,n,r;e=qt(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||kE(t[s])||(o=t[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(kE(t[s])){let p=t[s];t[s]=(i=p.next)===null||i===void 0?void 0:i.bind(p),t[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),t[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,d,f;if(e instanceof Be)d=jn(e.firestore,ui),f=gu(e._key.path),l={next:p=>{t[s]&&t[s](YI(d,e,p))},error:t[s+1],complete:t[s+2]};else{let p=jn(e,Bn);d=jn(p.firestore,ui),f=p._query;let g=new lc(d);l={next:E=>{t[s]&&t[s](new fu(d,g,p,E))},error:t[s+1],complete:t[s+2]},LI(e._query)}return function(g,E,k,O){let D=new ic(O),z=new nc(E,D,k);return g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return H_(yield au(g),z)})),()=>{D.$a(),g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return G_(yield au(g),z)}))}}(Eu(d),f,c,l)}function KI(e,t){return function(n,r){let o=new pn;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return aL(yield _L(n),r,o)})),o.promise}(Eu(e),t)}function YI(e,t,i){let n=i.docs.get(t._key),r=new lc(e);return new hu(e,r,t._key,n,new Ar(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(r){Ko=r})(kn),Rn(new Ue("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),c=new ui(new ig(n.getProvider("auth-internal")),new ag(n.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bd(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Wt(iE,"4.6.3",t),Wt(iE,"4.6.3","esm2017")})();var Tu=function(){return Tu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Tu.apply(this,arguments)};var OL={includeMetadataChanges:!1};function J_(e,t){return t===void 0&&(t=OL),new Le(function(i){var n=Z_(e,t,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:n}})}function QI(e){return J_(e,{includeMetadataChanges:!0})}function XI(e,t){return t===void 0&&(t={}),QI(e).pipe(ft(function(i){return tb(i,t)}))}function tb(e,t){var i;t===void 0&&(t={});var n=e.data(t);return!e.exists()||typeof n!="object"||n===null||!t.idField?n:Tu(Tu({},n),(i={},i[t.idField]=e.id,i))}function ZI(e){return J_(e,{includeMetadataChanges:!0}).pipe(ft(function(t){return t.docs}))}function JI(e,t){return t===void 0&&(t={}),ZI(e).pipe(ft(function(i){return i.map(function(n){return tb(n,t)})}))}var bn=class{constructor(t){return t}},tT="firestore",eb=class{constructor(){return Pa(tT)}};var nb=new $("angularfire2.firestore-instances");function ML(e,t){let i=sd(tT,e,t);return i&&new bn(i)}function NL(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new bn(n)}}var FL={provide:eb,deps:[[new ke,nb]]},LL={provide:bn,useFactory:ML,deps:[[new ke,nb],ei]};function eT(e,...t){return Wt("angularfire",vr.full,"fst"),He([LL,FL,{provide:nb,useFactory:NL(e),multi:!0,deps:[q,Pt,To,yr,[new ke,Ba],[new ke,Io],...t]}])}var ib=ee(JI,!0);var nT=ee(XI,!0);var iT=ee(WI,!0);var Fr=ee(SI,!0);var rT=ee(GI,!0);var mc=ee(Y_,!0);var oT=ee(qI,!0);var Cu=ee(HI,!0);var sT=ee(RI,!0);var Au=ee(BI,!0);var Su=ee(UI,!0);var Lr=ee(VI,!0);var rb=ee(zI,!0);var Ru=ee(jI,!0);var fT="firebasestorage.googleapis.com",mT="storageBucket",VL=2*60*1e3,jL=10*60*1e3;var Qt=class e extends Ne{constructor(t,i,n=0){super(sb(t),`Firebase Storage: ${i} (${sb(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return sb(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ne=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(ne||{});function sb(e){return"storage/"+e}function hb(){let e="An unknown error occurred, please check the error payload for server response.";return new Qt(ne.UNKNOWN,e)}function UL(e){return new Qt(ne.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function BL(e){return new Qt(ne.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zL(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qt(ne.UNAUTHENTICATED,e)}function $L(){return new Qt(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qL(e){return new Qt(ne.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function HL(){return new Qt(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GL(){return new Qt(ne.CANCELED,"User canceled the upload/download.")}function WL(e){return new Qt(ne.INVALID_URL,"Invalid URL '"+e+"'.")}function KL(e){return new Qt(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function YL(){return new Qt(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mT+"' property when initializing the app?")}function QL(){return new Qt(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function XL(){return new Qt(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZL(e){return new Qt(ne.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ab(e){return new Qt(ne.INVALID_ARGUMENT,e)}function pT(){return new Qt(ne.APP_DELETED,"The Firebase app was deleted.")}function JL(e){return new Qt(ne.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gc(e,t){return new Qt(ne.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function pc(e){throw new Qt(ne.INTERNAL_ERROR,"Internal error: "+e)}var vn=class e{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let n;try{n=e.makeFromUrl(t,i)}catch{return new e(t,"")}if(n.path==="")return n;throw KL(t)}static makeFromUrl(t,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(st){st.path.charAt(st.path.length-1)==="/"&&(st.path_=st.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function d(st){st.path_=decodeURIComponent(st.path)}let f="v[A-Za-z0-9_]+",p=i.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${p}/${f}/b/${r}/o${g}`,"i"),k={bucket:1,path:3},O=i===fT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,D="([^?#]*)",z=new RegExp(`^https?://${O}/${r}/${D}`,"i"),Z=[{regex:c,indices:l,postModify:o},{regex:E,indices:k,postModify:d},{regex:z,indices:{bucket:1,path:2},postModify:d}];for(let st=0;st<Z.length;st++){let Bt=Z[st],Y=Bt.regex.exec(t);if(Y){let w=Y[Bt.indices.bucket],_=Y[Bt.indices.path];_||(_=""),n=new e(w,_),Bt.postModify(n);break}}if(n==null)throw WL(t);return n}},cb=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function tV(e,t,i){let n=1,r=null,o=null,s=!1,c=0;function l(){return c===2}let d=!1;function f(...D){d||(d=!0,t.apply(null,D))}function p(D){r=setTimeout(()=>{r=null,e(E,l())},D)}function g(){o&&clearTimeout(o)}function E(D,...z){if(d){g();return}if(D){g(),f.call(null,D,...z);return}if(l()||s){g(),f.call(null,D,...z);return}n<64&&(n*=2);let Z;c===1?(c=2,Z=0):Z=(n+Math.random())*1e3,p(Z)}let k=!1;function O(D){k||(k=!0,g(),!d&&(r!==null?(D||(c=2),clearTimeout(r),p(0)):D||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,O(!0)},i),O}function eV(e){e(!1)}function nV(e){return e!==void 0}function iV(e){return typeof e=="object"&&!Array.isArray(e)}function fb(e){return typeof e=="string"||e instanceof String}function aT(e){return mb()&&e instanceof Blob}function mb(){return typeof Blob<"u"}function cT(e,t,i,n){if(n<t)throw ab(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>i)throw ab(`Invalid value for '${e}'. Expected ${i} or less.`)}function pb(e,t,i){let n=t;return i==null&&(n=`https://${t}`),`${i}://${n}/v0${e}`}function gT(e){let t=encodeURIComponent,i="?";for(let n in e)if(e.hasOwnProperty(n)){let r=t(n)+"="+t(e[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var Zo=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(Zo||{});function rV(e,t){let i=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return i||r||o}var lb=class{constructor(t,i,n,r,o,s,c,l,d,f,p,g=!0){this.url_=t,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,k)=>{this.resolve_=E,this.reject_=k,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new Xo(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let l=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===Zo.NO_ERROR,l=o.getStatus();if(!c||rV(l,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===Zo.ABORT;n(!1,new Xo(!1,null,f));return}let d=this.successCodes_.indexOf(l)!==-1;n(!0,new Xo(d,o))})},i=(n,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());nV(l)?o(l):o()}catch(l){s(l)}else if(c!==null){let l=hb();l.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,l)):s(l)}else if(r.canceled){let l=this.appDelete_?pT():GL();s(l)}else{let l=HL();s(l)}};this.canceled_?i(!1,new Xo(!1,null,!0)):this.backoffId_=tV(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Xo=class{constructor(t,i,n){this.wasSuccessCode=t,this.connection=i,this.canceled=!!n}};function oV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function sV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function aV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function cV(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function lV(e,t,i,n,r,o,s=!0){let c=gT(e.urlParams),l=e.url+c,d=Object.assign({},e.headers);return aV(d,t),oV(d,i),sV(d,o),cV(d,n),new lb(l,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}function dV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uV(...e){let t=dV();if(t!==void 0){let i=new t;for(let n=0;n<e.length;n++)i.append(e[n]);return i.getBlob()}else{if(mb())return new Blob(e);throw new Qt(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function hV(e,t,i){return e.webkitSlice?e.webkitSlice(t,i):e.mozSlice?e.mozSlice(t,i):e.slice?e.slice(t,i):null}function fV(e){if(typeof atob>"u")throw ZL("base-64");return atob(e)}var zn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},_c=class{constructor(t,i){this.data=t,this.contentType=i||null}};function mV(e,t){switch(e){case zn.RAW:return new _c(_T(t));case zn.BASE64:case zn.BASE64URL:return new _c(bT(e,t));case zn.DATA_URL:return new _c(gV(t),_V(t))}throw hb()}function _T(e){let t=[];for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<e.length-1&&(e.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{let o=n,s=e.charCodeAt(++i);n=65536|(o&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function pV(e){let t;try{t=decodeURIComponent(e)}catch{throw gc(zn.DATA_URL,"Malformed data URL.")}return _T(t)}function bT(e,t){switch(e){case zn.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw gc(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case zn.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw gc(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=fV(t)}catch(r){throw r.message.includes("polyfill")?r:gc(e,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var ku=class{constructor(t){this.base64=!1,this.contentType=null;let i=t.match(/^data:([^,]+)?,/);if(i===null)throw gc(zn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=bV(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}};function gV(e){let t=new ku(e);return t.base64?bT(zn.BASE64,t.rest):pV(t.rest)}function _V(e){return new ku(e).contentType}function bV(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}var Pu=class e{constructor(t,i){let n=0,r="";aT(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,i){if(aT(this.data_)){let n=this.data_,r=hV(n,t,i);return r===null?null:new e(r)}else{let n=new Uint8Array(this.data_.buffer,t,i-t);return new e(n,!0)}}static getBlob(...t){if(mb()){let i=t.map(n=>n instanceof e?n.data_:n);return new e(uV.apply(null,i))}else{let i=t.map(s=>fb(s)?mV(zn.RAW,s).data:s.data_),n=0;i.forEach(s=>{n+=s.byteLength});let r=new Uint8Array(n),o=0;return i.forEach(s=>{for(let c=0;c<s.length;c++)r[o++]=s[c]}),new e(r,!0)}}uploadData(){return this.data_}};function vT(e){let t;try{t=JSON.parse(e)}catch{return null}return iV(t)?t:null}function vV(e){if(e.length===0)return null;let t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function yV(e,t){let i=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?i:e+"/"+i}function yT(e){let t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function wV(e,t){return t}var ge=class{constructor(t,i,n,r){this.server=t,this.local=i||t,this.writable=!!n,this.xform=r||wV}},Du=null;function xV(e){return!fb(e)||e.length<2?e:yT(e)}function wT(){if(Du)return Du;let e=[];e.push(new ge("bucket")),e.push(new ge("generation")),e.push(new ge("metageneration")),e.push(new ge("name","fullPath",!0));function t(o,s){return xV(s)}let i=new ge("name");i.xform=t,e.push(i);function n(o,s){return s!==void 0?Number(s):s}let r=new ge("size");return r.xform=n,e.push(r),e.push(new ge("timeCreated")),e.push(new ge("updated")),e.push(new ge("md5Hash",null,!0)),e.push(new ge("cacheControl",null,!0)),e.push(new ge("contentDisposition",null,!0)),e.push(new ge("contentEncoding",null,!0)),e.push(new ge("contentLanguage",null,!0)),e.push(new ge("contentType",null,!0)),e.push(new ge("metadata","customMetadata",!0)),Du=e,Du}function EV(e,t){function i(){let n=e.bucket,r=e.fullPath,o=new vn(n,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:i})}function IV(e,t,i){let n={};n.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];n[s.local]=s.xform(n,t[s.server])}return EV(n,e),n}function xT(e,t,i){let n=vT(t);return n===null?null:IV(e,n,i)}function TV(e,t,i,n){let r=vT(t);if(r===null||!fb(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let f=e.bucket,p=e.fullPath,g="/b/"+s(f)+"/o/"+s(p),E=pb(g,i,n),k=gT({alt:"media",token:d});return E+k})[0]}function CV(e,t){let i={},n=t.length;for(let r=0;r<n;r++){let o=t[r];o.writable&&(i[o.server]=e[o.local])}return JSON.stringify(i)}var Ou=class{constructor(t,i,n,r){this.url=t,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ET(e){if(!e)throw hb()}function AV(e,t){function i(n,r){let o=xT(e,r,t);return ET(o!==null),o}return i}function SV(e,t){function i(n,r){let o=xT(e,r,t);return ET(o!==null),TV(o,r,e.host,e._protocol)}return i}function IT(e){function t(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=$L():r=zL():i.getStatus()===402?r=BL(e.bucket):i.getStatus()===403?r=qL(e.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return t}function RV(e){let t=IT(e);function i(n,r){let o=t(n,r);return n.getStatus()===404&&(o=UL(e.path)),o.serverResponse=r.serverResponse,o}return i}function DV(e,t,i){let n=t.fullServerUrl(),r=pb(n,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,c=new Ou(r,o,SV(e,i),s);return c.errorHandler=RV(t),c}function kV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function PV(e,t,i){let n=Object.assign({},i);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=kV(null,t)),n}function OV(e,t,i,n,r){let o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let Z="";for(let st=0;st<2;st++)Z=Z+Math.random().toString().slice(2);return Z}let l=c();s["Content-Type"]="multipart/related; boundary="+l;let d=PV(t,n,r),f=CV(d,i),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+l+"--",E=Pu.getBlob(p,n,g);if(E===null)throw QL();let k={name:d.fullPath},O=pb(o,e.host,e._protocol),D="POST",z=e.maxUploadRetryTime,W=new Ou(O,D,AV(e,i),z);return W.urlParams=k,W.headers=s,W.body=E.uploadData(),W.errorHandler=IT(t),W}var $6=256*1024;var lT=null,db=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,n,r){if(this.sent_)throw pc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},ub=class extends db{initXhr(){this.xhr_.responseType="text"}};function TT(){return lT?lT():new ub}var Jo=class e{constructor(t,i){this._service=t,i instanceof vn?this._location=i:this._location=vn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new e(t,i)}get root(){let t=new vn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yT(this._location.path)}get storage(){return this._service}get parent(){let t=vV(this._location.path);if(t===null)return null;let i=new vn(this._location.bucket,t);return new e(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw JL(t)}};function MV(e,t,i){e._throwIfRoot("uploadBytes");let n=OV(e.storage,e._location,wT(),new Pu(t,!0),i);return e.storage.makeRequestWithTokens(n,TT).then(r=>({metadata:r,ref:e}))}function NV(e){e._throwIfRoot("getDownloadURL");let t=DV(e.storage,e._location,wT());return e.storage.makeRequestWithTokens(t,TT).then(i=>{if(i===null)throw XL();return i})}function FV(e,t){let i=yV(e._location.path,t),n=new vn(e._location.bucket,i);return new Jo(e.storage,n)}function LV(e){return/^[A-Za-z]+:\/\//.test(e)}function VV(e,t){return new Jo(e,t)}function CT(e,t){if(e instanceof bc){let i=e;if(i._bucket==null)throw YL();let n=new Jo(i,i._bucket);return t!=null?CT(n,t):n}else return t!==void 0?FV(e,t):e}function jV(e,t){if(t&&LV(t)){if(e instanceof bc)return VV(e,t);throw ab("To use ref(service, url), the first argument must be a Storage instance.")}else return CT(e,t)}function dT(e,t){let i=t?.[mT];return i==null?null:vn.makeFromBucketSpec(i,e)}function UV(e,t,i,n={}){e.host=`${t}:${i}`,e._protocol="http";let{mockUserToken:r}=n;r&&(e._overrideAuthToken=typeof r=="string"?r:ed(r,e.app.options.projectId))}var bc=class{constructor(t,i,n,r,o){this.app=t,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=fT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VL,this._maxUploadRetryTime=jL,this._requests=new Set,r!=null?this._bucket=vn.makeFromBucketSpec(r,this._host):this._bucket=dT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,t):this._bucket=dT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){cT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){cT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let i=yield t.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Jo(this,t)}_makeRequest(t,i,n,r,o=!0){if(this._deleted)return new cb(pT());{let s=lV(t,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,i){return b(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,n,r).getPromise()})}},uT="@firebase/storage",hT="0.12.5";var AT="storage";function ST(e,t,i){return e=qt(e),MV(e,t,i)}function RT(e){return e=qt(e),NV(e)}function DT(e,t){return e=qt(e),jV(e,t)}function kT(e=Oi(),t){e=qt(e);let n=_r(e,AT).getImmediate({identifier:t}),r=td("storage");return r&&BV(n,...r),n}function BV(e,t,i,n={}){UV(e,t,i,n)}function zV(e,{instanceIdentifier:t}){let i=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new bc(i,n,r,t,kn)}function $V(){Rn(new Ue(AT,zV,"PUBLIC").setMultipleInstances(!0)),Wt(uT,hT,""),Wt(uT,hT,"esm2017")}$V();var qV=["mat-button",""],HV=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],GV=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var WV=new $("MAT_BUTTON_CONFIG");var KV=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],YV=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=F(yo),this._rippleLoader=F(Mw),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=F(WV,{optional:!0}),l=n.nativeElement,d=l.classList;this.disabledInteractive=c?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:f,mdcClasses:p}of KV)l.hasAttribute(f)&&d.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){to()},t.\u0275dir=J({type:t,inputs:{color:"color",disableRipple:[bt.HasDecoratorInputTransform,"disableRipple","disableRipple",en],disabled:[bt.HasDecoratorInputTransform,"disabled","disabled",en],ariaDisabled:[bt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",en],disabledInteractive:[bt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",en]},features:[Xn]});let e=t;return e})();var ts=(()=>{let t=class t extends YV{constructor(n,r,o,s){super(n,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(yt),S(q),S(je,8))},t.\u0275cmp=rt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Jt("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),cl(o.color?"mat-"+o.color:""),kt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Gt,ct],attrs:qV,ngContentSelectors:GV,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(tn(HV),ht(0,"span",0),Lt(1),V(2,"span",1),Lt(3,1),j(),Lt(4,2),ht(5,"span",2)(6,"span",3)),r&2&&kt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var vc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,Xl,oe]});let e=t;return e})();var yc=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},hi=class extends yc{constructor(t,i,n,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},zi=class extends yc{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},gb=class extends yc{constructor(t){super(),this.element=t instanceof mt?t.nativeElement:t}},$i=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof hi)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof zi)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof gb)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Mu=class extends $i{constructor(t,i,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Pt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var qi=(()=>{let t=class t extends $i{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Dt,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(l,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),c=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=n,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};t.\u0275fac=function(r){return new(r||t)(S(ol),S(no),S(X))},t.\u0275dir=J({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[bt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Gt]});let e=t;return e})();var QV=20,OT=(()=>{let t=class t{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new et,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=QV){return this._platform.isBrowser?new Le(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(uf(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe($t(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=rn(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return df(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(R(q),R(yt),R(X,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var XV=20,_b=(()=>{let t=class t{constructor(n,r,o){this._platform=n,this._change=new et,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),c=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:c,left:l}}change(n=XV){return n>0?this._change.pipe(uf(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(R(yt),R(q),R(X,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var MT=dw(),bb=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=te(-this._previousScrollPosition.left),t.style.top=te(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),MT&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MT&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var vb=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe($t(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Nu=class{enable(){}disable(){}attach(){}};function yb(e,t){return t.some(i=>{let n=e.bottom<i.top,r=e.top>i.bottom,o=e.right<i.left,s=e.left>i.right;return n||r||o||s})}function NT(e,t){return t.some(i=>{let n=e.top<i.top,r=e.bottom>i.bottom,o=e.left<i.left,s=e.right>i.right;return n||r||o||s})}var wb=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();yb(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},JV=(()=>{let t=class t{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Nu,this.close=c=>new vb(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new bb(this._viewportRuler,this._document),this.reposition=c=>new wb(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}};t.\u0275fac=function(r){return new(r||t)(R(OT),R(_b),R(q),R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jr=class{constructor(t){if(this.scrollStrategy=new Nu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var xb=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var UT=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(R(X))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),tj=(()=>{let t=class t extends UT{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){let l=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(R(X),R(q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ej=(()=>{let t=class t extends UT{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=un(s)},this._clickListener=s=>{let c=un(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){let p=d[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(c)||p.overlayElement.contains(l))break;let g=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(R(X),R(yt),R(q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ns=(()=>{let t=class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Ca()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),Ca()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(R(X),R(yt))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),fi=class{constructor(t,i,n,r,o,s,c,l,d,f=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new et,this._attachments=new et,this._detachments=new et,this._locationChanges=Kn.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new et,this._outsidePointerEvents=new et,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(xe(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=M(M({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Et(M({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=te(this._config.width),t.height=te(this._config.height),t.minWidth=te(this._config.minWidth),t.minHeight=te(this._config.minHeight),t.maxWidth=te(this._config.maxWidth),t.maxHeight=te(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let r=_o(i||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(fe(Kr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},FT="cdk-overlay-connected-position-bounding-box",nj=/([A-Za-z%]+)$/,Eb=class{get positions(){return this._preferredPositions}constructor(t,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new et,this._resizeSubscription=Kn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(FT),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let c of this._preferredPositions){let l=this._getOriginPoint(t,r,c),d=this._getOverlayPoint(l,i,c),f=this._getOverlayFit(d,i,n,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,d,n)){o.push({position:c,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:d,originPoint:l,position:c,overlayRect:i})}if(o.length){let c=null,l=-1;for(let d of o){let f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>l&&(l=f,c=d)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:c}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,n,r){let o=VT(i),{x:s,y:c}=t,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(c+=d);let f=0-s,p=s+o.width-n.width,g=0-c,E=c+o.height-n.height,k=this._subtractOverflows(o.width,f,p),O=this._subtractOverflows(o.height,g,E),D=k*O;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:k==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=LT(this._overlayRef.getConfig().minHeight),c=LT(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,d=t.fitsInViewportHorizontally||c!=null&&c<=o;return l&&d}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=VT(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),c=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),d=Math.max(o.left-n.left-t.x,0),f=0,p=0;return r.width<=o.width?f=d||-s:f=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?p=l||-c:p=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:f,y:p},{x:t.x+f,y:t.y+p}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!ij(this._lastScrollVisibility,n)){let r=new xb(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,r=this._isRtl(),o,s,c;if(i.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")c=n.height-t.y+this._viewportMargin*2,o=n.height-c+this._viewportMargin;else{let E=Math.min(n.bottom-t.y+n.top,t.y),k=this._lastBoundingBoxSize.height;o=E*2,s=t.y-E,o>k&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-k/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,d=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,f,p,g;if(d)g=n.width-t.x+this._viewportMargin*2,f=t.x-this._viewportMargin;else if(l)p=t.x,f=n.right-t.x;else{let E=Math.min(n.right-t.x+n.left,t.x),k=this._lastBoundingBoxSize.width;f=E*2,p=t.x-E,f>k&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-k/2)}return{top:s,left:p,bottom:c,right:g,width:f,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=te(n.height),r.top=te(n.top),r.bottom=te(n.bottom),r.width=te(n.width),r.left=te(n.left),r.right=te(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=te(o)),s&&(r.maxWidth=te(s))}this._lastBoundingBoxSize=n,Vr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Vr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();Vr(n,this._getExactOverlayY(i,t,f)),Vr(n,this._getExactOverlayX(i,t,f))}else n.position="static";let c="",l=this._getOffset(i,"x"),d=this._getOffset(i,"y");l&&(c+=`translateX(${l}px) `),d&&(c+=`translateY(${d}px)`),n.transform=c.trim(),s.maxHeight&&(r?n.maxHeight=te(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=te(s.maxWidth):o&&(n.maxWidth="")),Vr(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=te(o.y);return r}_getExactOverlayX(t,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=te(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:NT(t,n),isOriginOutsideView:yb(t,n),isOverlayClipped:NT(i,n),isOverlayOutsideView:yb(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&_o(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof mt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function Vr(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function LT(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(nj);return!i||i==="px"?parseFloat(t):null}return e||null}function VT(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function ij(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var jT="cdk-global-overlay-wrapper",Ib=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(jT),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",E="",k="",O="";l?O="flex-start":f==="center"?(O="center",g?k=p:E=p):g?f==="left"||f==="end"?(O="flex-end",E=p):(f==="right"||f==="start")&&(O="flex-start",k=p):f==="left"||f==="start"?(O="flex-start",E=p):(f==="right"||f==="end")&&(O="flex-end",k=p),t.position=this._cssPosition,t.marginLeft=l?"0":E,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":k,i.justifyContent=O,i.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(jT),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},rj=(()=>{let t=class t{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new Ib}flexibleConnectedTo(n){return new Eb(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(R(_b),R(X),R(yt),R(ns))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),oj=0,$n=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f,p,g,E,k){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=l,this._ngZone=d,this._document=f,this._directionality=p,this._location=g,this._outsideClickDispatcher=E,this._animationsModuleType=k}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),c=new jr(n);return c.direction=c.direction||this._directionality.value,new fi(s,r,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${oj++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(sr)),new Mu(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(R(JV),R(ns),R(ol),R(rj),R(tj),R(Pt),R(q),R(X),R(fr),R(Ke),R(ej),R(je,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function sj(e,t){if(e&1){let i=En();V(0,"div",1)(1,"button",2),Ct("click",function(){an(i);let r=Ft();return cn(r.action())}),Q(2),j()()}if(e&2){let i=Ft();tt(2),Zn(" ",i.data.action," ")}}var aj=["label"];function cj(e,t){}var lj=Math.pow(2,31)-1,wc=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new et,this._afterOpened=new et,this._onAction=new et,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,lj))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},zT=new $("MatSnackBarData"),is=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},dj=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),uj=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),hj=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),fj=(()=>{let t=class t{constructor(n,r){this.snackBarRef=n,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(S(wc),S(zT))},t.\u0275cmp=rt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[ct],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(V(0,"div",0),Q(1),j(),xt(2,sj,3,1,"div",1)),r&2&&(tt(),Zn(" ",o.data.message,`
`),tt(),me(2,o.hasAction?2:-1))},dependencies:[ts,dj,uj,hj],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),mj={snackBarState:gl("state",[Xs("void, hidden",ar({transform:"scale(0.8)",opacity:0})),Xs("visible",ar({transform:"scale(1)",opacity:1})),Zs("* => visible",Qs("150ms cubic-bezier(0, 0, 0.2, 1)")),Zs("* => void, * => hidden",Qs("75ms cubic-bezier(0.4, 0.0, 1, 1)",ar({opacity:0})))])},pj=0,gj=(()=>{let t=class t extends $i{constructor(n,r,o,s,c){super(),this._ngZone=n,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=c,this._document=F(X),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new et,this._onExit=new et,this._onEnter=new et,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${pj++}`,this.attachDomPortal=l=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},c.politeness==="assertive"&&!c.announcementMessage?this._live="assertive":c.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}onAnimationEnd(n){let{fromState:r,toState:o}=n;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(c=>n.classList.add(c)):n.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");this._trackedModals.add(s),c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(S(q),S(mt),S(We),S(yt),S(is))},t.\u0275cmp=rt({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Oe(qi,7),Oe(aj,7)),r&2){let s;Vt(s=jt())&&(o._portalOutlet=s.first),Vt(s=jt())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&ky("@state.done",function(c){return o.onAnimationEnd(c)}),r&2&&Dy("@state",o._animationState)},standalone:!0,features:[Gt,ct],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(V(0,"div",1)(1,"div",2,0)(3,"div",3),xt(4,cj,0,0,"ng-template",4),j(),ht(5,"div"),j()()),r&2&&(tt(5),Jt("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[qi],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[mj.snackBarState]}});let e=t;return e})();function _j(){return new is}var bj=new $("mat-snack-bar-default-options",{providedIn:"root",factory:_j}),Fu=(()=>{let t=class t{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,r,o,s,c,l){this._overlay=n,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=fj,this.snackBarContainerComponent=gj,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",o){let s=M(M({},this._defaultConfig),o);return s.data={message:n,action:r},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=Pt.create({parent:o||this._injector,providers:[{provide:is,useValue:r}]}),c=new hi(this.snackBarContainerComponent,r.viewContainerRef,s),l=n.attach(c);return l.instance.snackBarConfig=r,l.instance}_attach(n,r){let o=M(M(M({},new is),this._defaultConfig),r),s=this._createOverlay(o),c=this._attachSnackBarContainer(s,o),l=new wc(c,s);if(n instanceof rr){let d=new zi(n,null,{$implicit:o.data,snackBarRef:l});l.instance=c.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),f=new hi(n,void 0,d),p=c.attachComponentPortal(f);l.instance=p.instance}return this._breakpointObserver.observe(pw.HandsetPortrait).pipe(fe(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration))}_createOverlay(n){let r=new jr;r.direction=n.direction;let o=this._overlay.position().global(),s=n.direction==="rtl",c=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!c&&n.horizontalPosition!=="center";return c?o.left("0"):l?o.right("0"):o.centerHorizontally(),n.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(n,r){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Pt.create({parent:o||this._injector,providers:[{provide:wc,useValue:r},{provide:zT,useValue:n.data}]})}};t.\u0275fac=function(r){return new(r||t)(R($n),R(ww),R(Pt),R(ql),R(t,12),R(bj))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rs=(()=>{let t=class t{constructor(n,r){this.firestore=n,this._snackBar=r}openSnackBar(n,r){this._snackBar.open(n,r)}getNews(n,r=null,o=10){console.log("getNews called");let s=Fr(this.firestore,`institutes/${n}/newsEvents`),c;return r?c=Lr(s,Su("date","desc"),rb(r),Au(o)):c=Lr(s,Su("date","desc"),Au(o)),ib(c,{idField:"id"})}getMoreNews(n,r,o=10){return b(this,null,function*(){let s=Fr(this.firestore,`institutes/${n}/newsEvents`),c=Lr(s,Su("date","desc"),rb(r),Au(o));return console.log("Fetching more news events..."),(yield Cu(c)).docs.map(d=>M({id:d.id},d.data()))})}addNews(n,r){return b(this,null,function*(){try{console.log(r);let o=Fr(this.firestore,`institutes/${n}/newsEvents`);yield iT(o,r),console.log("News added successfully")}catch(o){throw this.openSnackBar("Failed to add news, please try again later","Cancel"),console.error("Error adding news:",o),new Error("Failed to add news. Please try again later.")}})}deleteNews(n,r){let o=mc(this.firestore,`institutes/${n}/newsEvents/${r}`);return rT(o)}getNewsEventById(n,r){let o=mc(this.firestore,`institutes/${n}/newsEvents/${r}`);return console.log(o.id),nT(o,{idField:"id"})}getNewsByTitle(n,r){let o=Fr(this.firestore,`institutes/${n}/newsEvents`),s=Lr(o,Ru("title","==",r));return ib(s,{idField:"id"})}uploadImage(n){return b(this,null,function*(){let r=kT(),o=DT(r,`news-images/${n.name}`);return yield ST(o,n),yield RT(o)})}};t.\u0275fac=function(r){return new(r||t)(R(bn),R(Fu))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qn=(()=>{let t=class t{constructor(n,r){this.firestore=n,this.platformId=r,this.isLocalStorageAvailable=this.checkLocalStorageAvailability()}checkLocalStorageAvailability(){if(ml(this.platformId))try{let n="test";return localStorage.setItem(n,"testValue"),localStorage.removeItem(n),!0}catch{return!1}return!1}getCustomization(n){return b(this,null,function*(){console.log("getCustomization called");let r=this.getCachedCustomization(n);if(r)return r;let o=Fr(this.firestore,"registrations"),s=Lr(o,Ru("subdomain","==",n)),c=yield Cu(s);if(c.empty)throw new Error("Subdomain not registered");console.error(`registration found for subdomain: ${n}`);let l=c.docs.map(d=>d.data())[0];return this.cacheCustomization(n,l),l})}getCachedCustomization(n){if(this.isLocalStorageAvailable){let r=localStorage.getItem(`customization_${n}`);return r?JSON.parse(r):null}return null}cacheCustomization(n,r){this.isLocalStorageAvailable&&localStorage.setItem(`customization_${n}`,JSON.stringify(r))}getSubdomainFromUrl(){return window.location.host.split(".")[0]}};t.\u0275fac=function(r){return new(r||t)(R(bn),R(Ge))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var qT=(()=>{let t=class t{constructor(n,r,o,s){this.route=n,this.router=r,this.newsService=o,this.customizatonservice=s,this.title=""}ngOnInit(){let n=this.route.snapshot.paramMap.get("title");n?(this.title=n,this.newsService.getNewsEventById(this.customizatonservice.getSubdomainFromUrl(),this.decodeTitle(n)).subscribe(r=>{this.newsItem=r})):this.router.navigate(["/news"])}decodeTitle(n){return console.log(n.split("-").pop()),n.split("-").pop()}};t.\u0275fac=function(r){return new(r||t)(S(Jn),S(Ee),S(rs),S(qn))},t.\u0275cmp=rt({type:t,selectors:[["app-view-news"]],standalone:!0,features:[ct],decls:9,vars:6,consts:[[1,"news-article-container"],[1,"news-article-header"],[1,"news-article-date"],[1,"news-article-content",3,"innerHTML"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1)(2,"h1"),Q(3),j(),V(4,"p",2),Q(5),ll(6,"date"),j()(),ht(7,"mat-divider")(8,"div",3),j()),r&2&&(tt(3),In(o.newsItem==null?null:o.newsItem.title),tt(2),In(Ly(6,3,o.newsItem==null||o.newsItem.date==null?null:o.newsItem.date.toDate(),"fullDate")),tt(3),St("innerHTML",o.newsItem==null?null:o.newsItem.content,Jr))},dependencies:[Me,fl,wo,Di],styles:[".news-article-container[_ngcontent-%COMP%]{max-width:800px;min-height:60vh;margin:120px auto;padding:20px;font-family:Georgia,Times New Roman,Times,serif}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]{margin-bottom:40px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;line-height:1.2;margin-bottom:10px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   .news-article-date[_ngcontent-%COMP%]{color:#888;font-size:.9em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]{font-size:1.2em;line-height:1.6;color:#333}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:20px 0}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px;background:#f9f9f9;border-left:5px solid #ccc;font-style:italic}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f5f5f5;padding:15px;border-radius:5px;overflow-x:auto;margin-bottom:20px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f4f4f4;padding:2px 4px;border-radius:4px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:.5em}.mat-divider[_ngcontent-%COMP%]{margin:12px 0}"]});let e=t;return e})();var JT=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(S(eo),S(mt))},t.\u0275dir=J({type:t});let e=t;return e})(),vj=(()=>{let t=class t extends JT{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Qn(t)))(o||t)}})(),t.\u0275dir=J({type:t,features:[Gt]});let e=t;return e})(),Ur=new $("");var yj={provide:Ur,useExisting:Je(()=>Gu),multi:!0};function wj(){let e=ro()?ro().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var xj=new $(""),Gu=(()=>{let t=class t extends JT{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!wj())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(S(eo),S(mt),S(xj,8))},t.\u0275dir=J({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&Ct("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[re([yj]),Gt]});let e=t;return e})();function Hi(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function tC(e){return e!=null&&typeof e.length=="number"}var cs=new $(""),Wu=new $(""),Ej=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vu=class{static min(t){return Ij(t)}static max(t){return Tj(t)}static required(t){return eC(t)}static requiredTrue(t){return Cj(t)}static email(t){return Aj(t)}static minLength(t){return Sj(t)}static maxLength(t){return nC(t)}static pattern(t){return Rj(t)}static nullValidator(t){return ju(t)}static compose(t){return cC(t)}static composeAsync(t){return lC(t)}};function Ij(e){return t=>{if(Hi(t.value)||Hi(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function Tj(e){return t=>{if(Hi(t.value)||Hi(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function eC(e){return Hi(e.value)?{required:!0}:null}function Cj(e){return e.value===!0?null:{required:!0}}function Aj(e){return Hi(e.value)||Ej.test(e.value)?null:{email:!0}}function Sj(e){return t=>Hi(t.value)||!tC(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function nC(e){return t=>tC(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function Rj(e){if(!e)return ju;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(Hi(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function ju(e){return null}function iC(e){return e!=null}function rC(e){return ul(e)?ie(e):e}function oC(e){let t={};return e.forEach(i=>{t=i!=null?M(M({},t),i):t}),Object.keys(t).length===0?null:t}function sC(e,t){return t.map(i=>i(e))}function Dj(e){return!e.validate}function aC(e){return e.map(t=>Dj(t)?t:i=>t.validate(i))}function cC(e){if(!e)return null;let t=e.filter(iC);return t.length==0?null:function(i){return oC(sC(i,t))}}function kb(e){return e!=null?cC(aC(e)):null}function lC(e){if(!e)return null;let t=e.filter(iC);return t.length==0?null:function(i){let n=sC(i,t).map(rC);return uy(n).pipe(ft(oC))}}function Pb(e){return e!=null?lC(aC(e)):null}function HT(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function dC(e){return e._rawValidators}function uC(e){return e._rawAsyncValidators}function Sb(e){return e?Array.isArray(e)?e:[e]:[]}function Uu(e,t){return Array.isArray(e)?e.includes(t):e===t}function GT(e,t){let i=Sb(t);return Sb(e).forEach(r=>{Uu(i,r)||i.push(r)}),i}function WT(e,t){return Sb(t).filter(i=>!Uu(e,i))}var Bu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=kb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Pb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},mi=class extends Bu{get formDirective(){return null}get path(){return null}},pi=class extends Bu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},zu=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},kj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},k9=Et(M({},kj),{"[class.ng-submitted]":"isSubmitted"}),Ku=(()=>{let t=class t extends zu{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(S(pi,2))},t.\u0275dir=J({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&kt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Gt]});let e=t;return e})(),hC=(()=>{let t=class t extends zu{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(S(mi,10))},t.\u0275dir=J({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&kt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Gt]});let e=t;return e})();var Ec="VALID",Lu="INVALID",os="PENDING",Ic="DISABLED";function Ob(e){return(Yu(e)?e.validators:e)||null}function Pj(e){return Array.isArray(e)?kb(e):e||null}function Mb(e,t){return(Yu(t)?t.asyncValidators:e)||null}function Oj(e){return Array.isArray(e)?Pb(e):e||null}function Yu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function fC(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new At(1e3,"");if(!n[i])throw new At(1001,"")}function mC(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new At(1002,"")})}var ss=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ec}get invalid(){return this.status===Lu}get pending(){return this.status==os}get disabled(){return this.status===Ic}get enabled(){return this.status!==Ic}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(GT(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(GT(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(WT(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(WT(t,this._rawAsyncValidators))}hasValidator(t){return Uu(this._rawValidators,t)}hasAsyncValidator(t){return Uu(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=os,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Ic,this.errors=null,this._forEachChild(n=>{n.disable(Et(M({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Et(M({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Ec,this._forEachChild(n=>{n.enable(Et(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Et(M({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ec||this.status===os)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ic:Ec}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=os,this._hasOwnPendingAsyncValidator=!0;let i=rC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Dt,this.statusChanges=new Dt}_calculateStatus(){return this._allControlsDisabled()?Ic:this.errors?Lu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(os)?os:this._anyControlsHaveStatus(Lu)?Lu:Ec}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Pj(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Oj(this._rawAsyncValidators)}},as=class extends ss{constructor(t,i,n){super(Ob(i),Mb(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){mC(this,!0,t),Object.keys(t).forEach(n=>{fC(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Rb=class extends as{};var Ac=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Qu}),Qu="always";function pC(e,t){return[...t.path,e]}function $u(e,t,i=Qu){Nb(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Nj(e,t),Lj(e,t),Fj(e,t),Mj(e,t)}function KT(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Hu(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function qu(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function Mj(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function Nb(e,t){let i=dC(e);t.validator!==null?e.setValidators(HT(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=uC(e);t.asyncValidator!==null?e.setAsyncValidators(HT(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();qu(t._rawValidators,r),qu(t._rawAsyncValidators,r)}function Hu(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=dC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=uC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return qu(t._rawValidators,n),qu(t._rawAsyncValidators,n),i}function Nj(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&gC(e,t)})}function Fj(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&gC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function gC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Lj(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function _C(e,t){e==null,Nb(e,t)}function Vj(e,t){return Hu(e,t)}function bC(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function jj(e){return Object.getPrototypeOf(e.constructor)===vj}function vC(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function yC(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(o=>{o.constructor===Gu?i=o:jj(o)?n=o:r=o}),r||n||i||null}function Uj(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var Bj={provide:mi,useExisting:Je(()=>Fb)},Tc=Promise.resolve(),Fb=(()=>{let t=class t extends mi{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Dt,this.form=new as({},kb(n),Pb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Tc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),$u(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Tc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Tc.then(()=>{let r=this._findContainer(n.path),o=new as({});_C(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Tc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Tc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,vC(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(S(cs,10),S(Wu,10),S(Ac,8))},t.\u0275dir=J({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&Ct("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[bt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[re([Bj]),Gt]});let e=t;return e})();function YT(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function QT(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Cc=class extends ss{constructor(t=null,i,n){super(Ob(i),Mb(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Yu(i)&&(i.nonNullable||i.initialValueIsDefault)&&(QT(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){YT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){YT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){QT(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var zj=e=>e instanceof Cc;var $j={provide:pi,useExisting:Je(()=>Lb)},XT=Promise.resolve(),Lb=(()=>{let t=class t extends pi{constructor(n,r,o,s,c,l){super(),this._changeDetectorRef=c,this.callSetDisabledState=l,this.control=new Cc,this._registered=!1,this.name="",this.update=new Dt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=yC(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),bC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){$u(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){XT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&en(r);XT.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?pC(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(S(mi,9),S(cs,10),S(Wu,10),S(Ur,10),S(We,8),S(Ac,8))},t.\u0275dir=J({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[bt.None,"disabled","isDisabled"],model:[bt.None,"ngModel","model"],options:[bt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[re([$j]),Gt,Pe]});let e=t;return e})(),wC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var xC=new $("");var qj={provide:mi,useExisting:Je(()=>Sc)},Sc=(()=>{let t=class t extends mi{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Dt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Hu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return $u(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){KT(n.control||null,n,!1),Uj(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,vC(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(KT(r||null,n),zj(o)&&($u(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);_C(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&Vj(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Nb(this.form,this),this._oldForm&&Hu(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(S(cs,10),S(Wu,10),S(Ac,8))},t.\u0275dir=J({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&Ct("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[bt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[re([qj]),Gt,Pe]});let e=t;return e})();var Hj={provide:pi,useExisting:Je(()=>Vb)},Vb=(()=>{let t=class t extends pi{set isDisabled(n){}constructor(n,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Dt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=yC(this,s)}ngOnChanges(n){this._added||this._setUpControl(),bC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return pC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(S(mi,13),S(cs,10),S(Wu,10),S(Ur,10),S(xC,8))},t.\u0275dir=J({type:t,selectors:[["","formControlName",""]],inputs:{name:[bt.None,"formControlName","name"],isDisabled:[bt.None,"disabled","isDisabled"],model:[bt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[re([Hj]),Gt,Pe]});let e=t;return e})();function Gj(e){return typeof e=="number"?e:parseInt(e,10)}var EC=(()=>{let t=class t{constructor(){this._validator=ju}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ju,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,features:[Pe]});let e=t;return e})();var Wj={provide:cs,useExisting:Je(()=>jb),multi:!0};var jb=(()=>{let t=class t extends EC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=en,this.createValidator=n=>eC}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Qn(t)))(o||t)}})(),t.\u0275dir=J({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Jt("required",o._enabled?"":null)},inputs:{required:"required"},features:[re([Wj]),Gt]});let e=t;return e})();var Kj={provide:cs,useExisting:Je(()=>Ub),multi:!0},Ub=(()=>{let t=class t extends EC{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>Gj(n),this.createValidator=n=>nC(n)}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Qn(t)))(o||t)}})(),t.\u0275dir=J({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&Jt("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[re([Kj]),Gt]});let e=t;return e})();var IC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})(),Db=class extends ss{constructor(t,i,n){super(Ob(i),Mb(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){mC(this,!1,t),t.forEach((n,r)=>{fC(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function ZT(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var TC=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return ZT(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new as(o,s)}record(n,r=null){let o=this._reduceControls(n);return new Rb(o,r)}control(n,r,o){let s={};return this.useNonNullable?(ZT(r)?s=r:(s.validators=r,s.asyncValidators=o),new Cc(n,Et(M({},s),{nonNullable:!0}))):new Cc(n,r,o)}array(n,r,o){let s=n.map(c=>this._createControl(c));return new Db(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Cc)return n;if(n instanceof ss)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Xu=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Ac,useValue:n.callSetDisabledState??Qu}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[IC]});let e=t;return e})(),CC=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:xC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Ac,useValue:n.callSetDisabledState??Qu}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[IC]});let e=t;return e})();var zb=class{constructor(t){this._box=t,this._destroyed=new et,this._resizeSubject=new et,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Le(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe($t(i=>i.some(n=>n.target===t)),gf({bufferSize:1,refCount:!0}),fe(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},AC=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=F(q),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new zb(o)),this._observers.get(o).observe(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yj=["notch"],Qj=["matFormFieldNotchedOutline",""],Xj=["*"],Zj=["textField"],Jj=["iconPrefixContainer"],t2=["textPrefixContainer"],e2=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],n2=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function i2(e,t){e&1&&ht(0,"span",17)}function r2(e,t){if(e&1&&(V(0,"label",16),Lt(1,1),xt(2,i2,1,0,"span",17),j()),e&2){let i=Ft(2);St("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Jt("for",i._control.disableAutomaticLabeling?null:i._control.id),tt(2),me(2,!i.hideRequiredMarker&&i._control.required?2:-1)}}function o2(e,t){if(e&1&&xt(0,r2,3,5,"label",16),e&2){let i=Ft();me(0,i._hasFloatingLabel()?0:-1)}}function s2(e,t){e&1&&ht(0,"div",5)}function a2(e,t){}function c2(e,t){if(e&1&&xt(0,a2,0,0,"ng-template",11),e&2){Ft(2);let i=xf(1);St("ngTemplateOutlet",i)}}function l2(e,t){if(e&1&&(V(0,"div",7),xt(1,c2,1,1,null,11),j()),e&2){let i=Ft();St("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),tt(),me(1,i._forceDisplayInfixLabel()?-1:1)}}function d2(e,t){e&1&&(V(0,"div",8,2),Lt(2,2),j())}function u2(e,t){e&1&&(V(0,"div",9,3),Lt(2,3),j())}function h2(e,t){}function f2(e,t){if(e&1&&xt(0,h2,0,0,"ng-template",11),e&2){Ft();let i=xf(1);St("ngTemplateOutlet",i)}}function m2(e,t){e&1&&(V(0,"div",12),Lt(1,4),j())}function p2(e,t){e&1&&(V(0,"div",13),Lt(1,5),j())}function g2(e,t){e&1&&ht(0,"div",14)}function _2(e,t){if(e&1&&(V(0,"div",18),Lt(1,6),j()),e&2){let i=Ft();St("@transitionMessages",i._subscriptAnimationState)}}function b2(e,t){if(e&1&&(V(0,"mat-hint",20),Q(1),j()),e&2){let i=Ft(2);St("id",i._hintLabelId),tt(),In(i.hintLabel)}}function v2(e,t){if(e&1&&(V(0,"div",19),xt(1,b2,2,2,"mat-hint",20),Lt(2,7),ht(3,"div",21),Lt(4,8),j()),e&2){let i=Ft();St("@transitionMessages",i._subscriptAnimationState),tt(),me(1,i.hintLabel?1:-1)}}var Ju=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var y2=new $("MatError");var w2=0,th=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${w2++}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(or("id",o.id),Jt("align",null),kt("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),x2=new $("MatPrefix");var E2=new $("MatSuffix");var NC=new $("FloatingLabelParent"),SC=(()=>{let t=class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=F(AC),this._ngZone=F(q),this._parent=F(NC),this._resizeSubscription=new Kn}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return I2(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(r){return new(r||t)(S(mt))},t.\u0275dir=J({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&kt("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function I2(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var RC="mdc-line-ripple--active",Zu="mdc-line-ripple--deactivating",DC=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(Zu);o.propertyName==="opacity"&&c&&s.remove(RC,Zu)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(Zu),n.add(RC)}deactivate(){this._elementRef.nativeElement.classList.add(Zu)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(q))},t.\u0275dir=J({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),kC=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(q))},t.\u0275cmp=rt({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&Oe(Yj,5),r&2){let s;Vt(s=jt())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&kt("mdc-notched-outline--notched",o.open)},inputs:{open:[bt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ct],attrs:Qj,ngContentSelectors:Xj,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(tn(),ht(0,"div",1),V(1,"div",2,0),Lt(3),j(),ht(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),T2={transitionMessages:gl("transitionMessages",[Xs("enter",ar({opacity:1,transform:"translateY(0%)"})),Zs("void => enter",[ar({opacity:0,transform:"translateY(-5px)"}),Qs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},$b=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t});let e=t;return e})();var qb=new $("MatFormField"),C2=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),PC=0,OC="fill",A2="auto",MC="fixed",S2="translateY(-50%)",FC=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=An(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||A2}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let r=this._appearance,o=n||this._defaults?.appearance||OC;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||MC}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||MC}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,o,s,c,l,d,f){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=c,this._defaults=l,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance=OC,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${PC++}`,this._hintLabelId=`mat-mdc-hint-${PC++}`,this._subscriptAnimationState="",this._destroyed=new et,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(fe(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Kr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(fe(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(fe(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){let r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+c}px`,p=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${S2} translateX(${p})
    )`}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(We),S(q),S(fr),S(yt),S(C2,8),S(je,8),S(X))},t.\u0275cmp=rt({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(ln(s,Ju,5),ln(s,Ju,7),ln(s,$b,5),ln(s,x2,5),ln(s,E2,5),ln(s,y2,5),ln(s,th,5)),r&2){let c;Vt(c=jt())&&(o._labelChildNonStatic=c.first),Vt(c=jt())&&(o._labelChildStatic=c.first),Vt(c=jt())&&(o._formFieldControl=c.first),Vt(c=jt())&&(o._prefixChildren=c),Vt(c=jt())&&(o._suffixChildren=c),Vt(c=jt())&&(o._errorChildren=c),Vt(c=jt())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(Oe(Zj,5),Oe(Jj,5),Oe(t2,5),Oe(SC,5),Oe(kC,5),Oe(DC,5)),r&2){let s;Vt(s=jt())&&(o._textField=s.first),Vt(s=jt())&&(o._iconPrefixContainer=s.first),Vt(s=jt())&&(o._textPrefixContainer=s.first),Vt(s=jt())&&(o._floatingLabel=s.first),Vt(s=jt())&&(o._notchedOutline=s.first),Vt(s=jt())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&kt("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[re([{provide:qb,useExisting:t},{provide:NC,useExisting:t}]),ct],ngContentSelectors:n2,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=En();tn(e2),xt(0,o2,1,1,"ng-template",null,0,Vy),V(2,"div",4,1),Ct("click",function(l){return an(s),cn(o._control.onContainerClick(l))}),xt(4,s2,1,0,"div",5),V(5,"div",6),xt(6,l2,2,2,"div",7)(7,d2,3,0,"div",8)(8,u2,3,0,"div",9),V(9,"div",10),xt(10,f2,1,1,null,11),Lt(11),j(),xt(12,m2,2,0,"div",12)(13,p2,2,0,"div",13),j(),xt(14,g2,1,0,"div",14),j(),V(15,"div",15),xt(16,_2,2,1)(17,v2,5,2),j()}if(r&2){let s;tt(2),kt("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),tt(2),me(4,!o._hasOutline()&&!o._control.disabled?4:-1),tt(2),me(6,o._hasOutline()?6:-1),tt(),me(7,o._hasIconPrefix?7:-1),tt(),me(8,o._hasTextPrefix?8:-1),tt(2),me(10,!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),tt(2),me(12,o._hasTextSuffix?12:-1),tt(),me(13,o._hasIconSuffix?13:-1),tt(),me(14,o._hasOutline()?-1:14),tt(),kt("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),tt(),me(16,(s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[SC,kC,Qy,DC,th],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[T2.transitionMessages]},changeDetection:0});let e=t;return e})(),Rc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,Me,hw,oe]});let e=t;return e})();var LC=Ri({passive:!0}),VC=(()=>{let t=class t{constructor(n,r){this._platform=n,this._ngZone=r,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return yn;let r=rn(n),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new et,c="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,LC),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,LC)}}),s}stopMonitoring(n){let r=rn(n),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((n,r)=>this.stopMonitoring(r))}};t.\u0275fac=function(r){return new(r||t)(R(yt),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var jC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({});let e=t;return e})();var k2=new $("MAT_INPUT_VALUE_ACCESSOR"),P2=["button","checkbox","file","hidden","image","radio","range","reset","submit"],O2=0,UC=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){this._disabled=An(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vu.required)??!1}set required(n){this._required=An(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&Im().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=An(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,o,s,c,l,d,f,p,g){this._elementRef=n,this._platform=r,this.ngControl=o,this._autofillMonitor=f,this._formField=g,this._uid=`mat-input-${O2++}`,this.focused=!1,this.stateChanges=new et,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>Im().has(O)),this._iOSKeyupListener=O=>{let D=O.target;!D.value&&D.selectionStart===0&&D.selectionEnd===0&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))};let E=this._elementRef.nativeElement,k=E.nodeName.toLowerCase();this._inputValueAccessor=d||E,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&p.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Ql(l,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=k==="select",this._isTextarea=k==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){P2.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,r=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(yt),S(pi,10),S(Fb,8),S(Sc,8),S(Pw),S(k2,10),S(VC),S(q),S(qb,8))},t.\u0275dir=J({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&Ct("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(or("id",o.id)("disabled",o.disabled)("required",o.required),Jt("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),kt("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[bt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[re([{provide:$b,useExisting:t}]),Pe]});let e=t;return e})(),BC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,Rc,Rc,jC,oe]});let e=t;return e})();var N2=["*"];var F2=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],L2=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],V2=new $("MAT_CARD_CONFIG"),eh=(()=>{let t=class t{constructor(n){this.appearance=n?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(S(V2,8))},t.\u0275cmp=rt({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&kt("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ct],ngContentSelectors:N2,decls:1,vars:0,template:function(r,o){r&1&&(tn(),Lt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),nh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var ih=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),zC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})(),$C=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&kt("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),rh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ct],ngContentSelectors:L2,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(tn(F2),Lt(0),V(1,"div",0),Lt(2,1),j(),Lt(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var qC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var oh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,Me,oe]});let e=t;return e})();var ls=class{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{let n="error"in i?i.error:i.reason;n instanceof Error&&this._handleError(n,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,i){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(i)}off(t,i){this._listeners[t]=this._listeners[t].filter(n=>n!==i)}_fire(t,...i){let n=this._listeners[t]||[];for(let r of n)r.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,i){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});let n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;let t=this.crashes[this.crashes.length-1].date,i=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-i)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}};function Dc(e,t=new Set){let i=[e],n=new Set,r=0;for(;i.length>r;){let o=i[r++];if(!(n.has(o)||!j2(o)||t.has(o)))if(n.add(o),Symbol.iterator in o)try{for(let s of o)i.push(s)}catch{}else for(let s in o)s!=="defaultValue"&&i.push(o[s])}return n}function j2(e){let t=Object.prototype.toString.call(e),i=typeof e;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function sh(e,t,i=new Set){if(e===t&&U2(e))return!0;let n=Dc(e,i),r=Dc(t,i);for(let o of n)if(r.has(o))return!0;return!1}function U2(e){return typeof e=="object"&&e!==null}var B2=typeof global=="object"&&global&&global.Object===Object&&global,ah=B2;var z2=typeof self=="object"&&self&&self.Object===Object&&self,$2=ah||z2||Function("return this")(),Xt=$2;var q2=Xt.Symbol,gi=q2;var GC=Object.prototype,H2=GC.hasOwnProperty,G2=GC.toString,kc=gi?gi.toStringTag:void 0;function W2(e){var t=H2.call(e,kc),i=e[kc];try{e[kc]=void 0;var n=!0}catch{}var r=G2.call(e);return n&&(t?e[kc]=i:delete e[kc]),r}var WC=W2;var K2=Object.prototype,Y2=K2.toString;function Q2(e){return Y2.call(e)}var KC=Q2;var X2="[object Null]",Z2="[object Undefined]",YC=gi?gi.toStringTag:void 0;function J2(e){return e==null?e===void 0?Z2:X2:YC&&YC in Object(e)?WC(e):KC(e)}var Ze=J2;function tU(e){return e!=null&&typeof e=="object"}var Ce=tU;var eU="[object Symbol]";function nU(e){return typeof e=="symbol"||Ce(e)&&Ze(e)==eU}var QC=nU;var iU=Array.isArray,ds=iU;var rU=/\s/;function oU(e){for(var t=e.length;t--&&rU.test(e.charAt(t)););return t}var XC=oU;var sU=/^\s+/;function aU(e){return e&&e.slice(0,XC(e)+1).replace(sU,"")}var ZC=aU;function cU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _e=cU;var JC=NaN,lU=/^[-+]0x[0-9a-f]+$/i,dU=/^0b[01]+$/i,uU=/^0o[0-7]+$/i,hU=parseInt;function fU(e){if(typeof e=="number")return e;if(QC(e))return JC;if(_e(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=_e(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ZC(e);var i=dU.test(e);return i||uU.test(e)?hU(e.slice(2),i?2:8):lU.test(e)?JC:+e}var Hb=fU;var mU="[object AsyncFunction]",pU="[object Function]",gU="[object GeneratorFunction]",_U="[object Proxy]";function bU(e){if(!_e(e))return!1;var t=Ze(e);return t==pU||t==gU||t==mU||t==_U}var ch=bU;var vU=Xt["__core-js_shared__"],lh=vU;var tA=function(){var e=/[^.]+$/.exec(lh&&lh.keys&&lh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yU(e){return!!tA&&tA in e}var eA=yU;var wU=Function.prototype,xU=wU.toString;function EU(e){if(e!=null){try{return xU.call(e)}catch{}try{return e+""}catch{}}return""}var _i=EU;var IU=/[\\^$.*+?()[\]{}|]/g,TU=/^\[object .+?Constructor\]$/,CU=Function.prototype,AU=Object.prototype,SU=CU.toString,RU=AU.hasOwnProperty,DU=RegExp("^"+SU.call(RU).replace(IU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kU(e){if(!_e(e)||eA(e))return!1;var t=ch(e)?DU:TU;return t.test(_i(e))}var nA=kU;function PU(e,t){return e?.[t]}var iA=PU;function OU(e,t){var i=iA(e,t);return nA(i)?i:void 0}var ze=OU;var MU=ze(Xt,"WeakMap"),dh=MU;var rA=Object.create,NU=function(){function e(){}return function(t){if(!_e(t))return{};if(rA)return rA(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),oA=NU;function FU(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var sA=FU;var LU=function(){try{var e=ze(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Gb=LU;function VU(e,t){for(var i=-1,n=e==null?0:e.length;++i<n&&t(e[i],i,e)!==!1;);return e}var aA=VU;var jU=9007199254740991,UU=/^(?:0|[1-9]\d*)$/;function BU(e,t){var i=typeof e;return t=t??jU,!!t&&(i=="number"||i!="symbol"&&UU.test(e))&&e>-1&&e%1==0&&e<t}var cA=BU;function zU(e,t,i){t=="__proto__"&&Gb?Gb(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var uh=zU;function $U(e,t){return e===t||e!==e&&t!==t}var hh=$U;var qU=Object.prototype,HU=qU.hasOwnProperty;function GU(e,t,i){var n=e[t];(!(HU.call(e,t)&&hh(n,i))||i===void 0&&!(t in e))&&uh(e,t,i)}var fh=GU;function WU(e,t,i,n){var r=!i;i||(i={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=n?n(i[c],e[c],c,i,e):void 0;l===void 0&&(l=e[c]),r?uh(i,c,l):fh(i,c,l)}return i}var Gi=WU;var KU=9007199254740991;function YU(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=KU}var mh=YU;function QU(e){return e!=null&&mh(e.length)&&!ch(e)}var ph=QU;var XU=Object.prototype;function ZU(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||XU;return e===i}var us=ZU;function JU(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var lA=JU;var tB="[object Arguments]";function eB(e){return Ce(e)&&Ze(e)==tB}var Wb=eB;var dA=Object.prototype,nB=dA.hasOwnProperty,iB=dA.propertyIsEnumerable,rB=Wb(function(){return arguments}())?Wb:function(e){return Ce(e)&&nB.call(e,"callee")&&!iB.call(e,"callee")},uA=rB;function oB(){return!1}var hA=oB;var pA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fA=pA&&typeof module=="object"&&module&&!module.nodeType&&module,sB=fA&&fA.exports===pA,mA=sB?Xt.Buffer:void 0,aB=mA?mA.isBuffer:void 0,cB=aB||hA,gh=cB;var lB="[object Arguments]",dB="[object Array]",uB="[object Boolean]",hB="[object Date]",fB="[object Error]",mB="[object Function]",pB="[object Map]",gB="[object Number]",_B="[object Object]",bB="[object RegExp]",vB="[object Set]",yB="[object String]",wB="[object WeakMap]",xB="[object ArrayBuffer]",EB="[object DataView]",IB="[object Float32Array]",TB="[object Float64Array]",CB="[object Int8Array]",AB="[object Int16Array]",SB="[object Int32Array]",RB="[object Uint8Array]",DB="[object Uint8ClampedArray]",kB="[object Uint16Array]",PB="[object Uint32Array]",Ut={};Ut[IB]=Ut[TB]=Ut[CB]=Ut[AB]=Ut[SB]=Ut[RB]=Ut[DB]=Ut[kB]=Ut[PB]=!0;Ut[lB]=Ut[dB]=Ut[xB]=Ut[uB]=Ut[EB]=Ut[hB]=Ut[fB]=Ut[mB]=Ut[pB]=Ut[gB]=Ut[_B]=Ut[bB]=Ut[vB]=Ut[yB]=Ut[wB]=!1;function OB(e){return Ce(e)&&mh(e.length)&&!!Ut[Ze(e)]}var gA=OB;function MB(e){return function(t){return e(t)}}var hs=MB;var _A=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Pc=_A&&typeof module=="object"&&module&&!module.nodeType&&module,NB=Pc&&Pc.exports===_A,Kb=NB&&ah.process,FB=function(){try{var e=Pc&&Pc.require&&Pc.require("util").types;return e||Kb&&Kb.binding&&Kb.binding("util")}catch{}}(),bi=FB;var bA=bi&&bi.isTypedArray,LB=bA?hs(bA):gA,vA=LB;var VB=Object.prototype,jB=VB.hasOwnProperty;function UB(e,t){var i=ds(e),n=!i&&uA(e),r=!i&&!n&&gh(e),o=!i&&!n&&!r&&vA(e),s=i||n||r||o,c=s?lA(e.length,String):[],l=c.length;for(var d in e)(t||jB.call(e,d))&&!(s&&(d=="length"||r&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||cA(d,l)))&&c.push(d);return c}var _h=UB;function BB(e,t){return function(i){return e(t(i))}}var bh=BB;var zB=bh(Object.keys,Object),yA=zB;var $B=Object.prototype,qB=$B.hasOwnProperty;function HB(e){if(!us(e))return yA(e);var t=[];for(var i in Object(e))qB.call(e,i)&&i!="constructor"&&t.push(i);return t}var wA=HB;function GB(e){return ph(e)?_h(e):wA(e)}var fs=GB;function WB(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var xA=WB;var KB=Object.prototype,YB=KB.hasOwnProperty;function QB(e){if(!_e(e))return xA(e);var t=us(e),i=[];for(var n in e)n=="constructor"&&(t||!YB.call(e,n))||i.push(n);return i}var EA=QB;function XB(e){return ph(e)?_h(e,!0):EA(e)}var ms=XB;var ZB=ze(Object,"create"),vi=ZB;function JB(){this.__data__=vi?vi(null):{},this.size=0}var IA=JB;function tz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var TA=tz;var ez="__lodash_hash_undefined__",nz=Object.prototype,iz=nz.hasOwnProperty;function rz(e){var t=this.__data__;if(vi){var i=t[e];return i===ez?void 0:i}return iz.call(t,e)?t[e]:void 0}var CA=rz;var oz=Object.prototype,sz=oz.hasOwnProperty;function az(e){var t=this.__data__;return vi?t[e]!==void 0:sz.call(t,e)}var AA=az;var cz="__lodash_hash_undefined__";function lz(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=vi&&t===void 0?cz:t,this}var SA=lz;function ps(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}ps.prototype.clear=IA;ps.prototype.delete=TA;ps.prototype.get=CA;ps.prototype.has=AA;ps.prototype.set=SA;var Yb=ps;function dz(){this.__data__=[],this.size=0}var RA=dz;function uz(e,t){for(var i=e.length;i--;)if(hh(e[i][0],t))return i;return-1}var Wi=uz;var hz=Array.prototype,fz=hz.splice;function mz(e){var t=this.__data__,i=Wi(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():fz.call(t,i,1),--this.size,!0}var DA=mz;function pz(e){var t=this.__data__,i=Wi(t,e);return i<0?void 0:t[i][1]}var kA=pz;function gz(e){return Wi(this.__data__,e)>-1}var PA=gz;function _z(e,t){var i=this.__data__,n=Wi(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}var OA=_z;function gs(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}gs.prototype.clear=RA;gs.prototype.delete=DA;gs.prototype.get=kA;gs.prototype.has=PA;gs.prototype.set=OA;var Ki=gs;var bz=ze(Xt,"Map"),Yi=bz;function vz(){this.size=0,this.__data__={hash:new Yb,map:new(Yi||Ki),string:new Yb}}var MA=vz;function yz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var NA=yz;function wz(e,t){var i=e.__data__;return NA(t)?i[typeof t=="string"?"string":"hash"]:i.map}var Qi=wz;function xz(e){var t=Qi(this,e).delete(e);return this.size-=t?1:0,t}var FA=xz;function Ez(e){return Qi(this,e).get(e)}var LA=Ez;function Iz(e){return Qi(this,e).has(e)}var VA=Iz;function Tz(e,t){var i=Qi(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}var jA=Tz;function _s(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}_s.prototype.clear=MA;_s.prototype.delete=FA;_s.prototype.get=LA;_s.prototype.has=VA;_s.prototype.set=jA;var UA=_s;function Cz(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}var vh=Cz;var Az=bh(Object.getPrototypeOf,Object),bs=Az;var Sz="[object Object]",Rz=Function.prototype,Dz=Object.prototype,BA=Rz.toString,kz=Dz.hasOwnProperty,Pz=BA.call(Object);function Oz(e){if(!Ce(e)||Ze(e)!=Sz)return!1;var t=bs(e);if(t===null)return!0;var i=kz.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&BA.call(i)==Pz}var zA=Oz;function Mz(){this.__data__=new Ki,this.size=0}var $A=Mz;function Nz(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var qA=Nz;function Fz(e){return this.__data__.get(e)}var HA=Fz;function Lz(e){return this.__data__.has(e)}var GA=Lz;var Vz=200;function jz(e,t){var i=this.__data__;if(i instanceof Ki){var n=i.__data__;if(!Yi||n.length<Vz-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new UA(n)}return i.set(e,t),this.size=i.size,this}var WA=jz;function vs(e){var t=this.__data__=new Ki(e);this.size=t.size}vs.prototype.clear=$A;vs.prototype.delete=qA;vs.prototype.get=HA;vs.prototype.has=GA;vs.prototype.set=WA;var KA=vs;function Uz(e,t){return e&&Gi(t,fs(t),e)}var YA=Uz;function Bz(e,t){return e&&Gi(t,ms(t),e)}var QA=Bz;var tS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,XA=tS&&typeof module=="object"&&module&&!module.nodeType&&module,zz=XA&&XA.exports===tS,ZA=zz?Xt.Buffer:void 0,JA=ZA?ZA.allocUnsafe:void 0;function $z(e,t){if(t)return e.slice();var i=e.length,n=JA?JA(i):new e.constructor(i);return e.copy(n),n}var eS=$z;function qz(e,t){for(var i=-1,n=e==null?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}var nS=qz;function Hz(){return[]}var yh=Hz;var Gz=Object.prototype,Wz=Gz.propertyIsEnumerable,iS=Object.getOwnPropertySymbols,Kz=iS?function(e){return e==null?[]:(e=Object(e),nS(iS(e),function(t){return Wz.call(e,t)}))}:yh,ys=Kz;function Yz(e,t){return Gi(e,ys(e),t)}var rS=Yz;var Qz=Object.getOwnPropertySymbols,Xz=Qz?function(e){for(var t=[];e;)vh(t,ys(e)),e=bs(e);return t}:yh,wh=Xz;function Zz(e,t){return Gi(e,wh(e),t)}var oS=Zz;function Jz(e,t,i){var n=t(e);return ds(e)?n:vh(n,i(e))}var xh=Jz;function t4(e){return xh(e,fs,ys)}var sS=t4;function e4(e){return xh(e,ms,wh)}var aS=e4;var n4=ze(Xt,"DataView"),Eh=n4;var i4=ze(Xt,"Promise"),Ih=i4;var r4=ze(Xt,"Set"),Th=r4;var cS="[object Map]",o4="[object Object]",lS="[object Promise]",dS="[object Set]",uS="[object WeakMap]",hS="[object DataView]",s4=_i(Eh),a4=_i(Yi),c4=_i(Ih),l4=_i(Th),d4=_i(dh),Br=Ze;(Eh&&Br(new Eh(new ArrayBuffer(1)))!=hS||Yi&&Br(new Yi)!=cS||Ih&&Br(Ih.resolve())!=lS||Th&&Br(new Th)!=dS||dh&&Br(new dh)!=uS)&&(Br=function(e){var t=Ze(e),i=t==o4?e.constructor:void 0,n=i?_i(i):"";if(n)switch(n){case s4:return hS;case a4:return cS;case c4:return lS;case l4:return dS;case d4:return uS}return t});var ws=Br;var u4=Object.prototype,h4=u4.hasOwnProperty;function f4(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&h4.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var fS=f4;var m4=Xt.Uint8Array,Qb=m4;function p4(e){var t=new e.constructor(e.byteLength);return new Qb(t).set(new Qb(e)),t}var xs=p4;function g4(e,t){var i=t?xs(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var mS=g4;var _4=/\w*$/;function b4(e){var t=new e.constructor(e.source,_4.exec(e));return t.lastIndex=e.lastIndex,t}var pS=b4;var gS=gi?gi.prototype:void 0,_S=gS?gS.valueOf:void 0;function v4(e){return _S?Object(_S.call(e)):{}}var bS=v4;function y4(e,t){var i=t?xs(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var vS=y4;var w4="[object Boolean]",x4="[object Date]",E4="[object Map]",I4="[object Number]",T4="[object RegExp]",C4="[object Set]",A4="[object String]",S4="[object Symbol]",R4="[object ArrayBuffer]",D4="[object DataView]",k4="[object Float32Array]",P4="[object Float64Array]",O4="[object Int8Array]",M4="[object Int16Array]",N4="[object Int32Array]",F4="[object Uint8Array]",L4="[object Uint8ClampedArray]",V4="[object Uint16Array]",j4="[object Uint32Array]";function U4(e,t,i){var n=e.constructor;switch(t){case R4:return xs(e);case w4:case x4:return new n(+e);case D4:return mS(e,i);case k4:case P4:case O4:case M4:case N4:case F4:case L4:case V4:case j4:return vS(e,i);case E4:return new n;case I4:case A4:return new n(e);case T4:return pS(e);case C4:return new n;case S4:return bS(e)}}var yS=U4;function B4(e){return typeof e.constructor=="function"&&!us(e)?oA(bs(e)):{}}var wS=B4;var z4="[object Map]";function $4(e){return Ce(e)&&ws(e)==z4}var xS=$4;var ES=bi&&bi.isMap,q4=ES?hs(ES):xS,IS=q4;var H4="[object Set]";function G4(e){return Ce(e)&&ws(e)==H4}var TS=G4;var CS=bi&&bi.isSet,W4=CS?hs(CS):TS,AS=W4;var K4=1,Y4=2,Q4=4,SS="[object Arguments]",X4="[object Array]",Z4="[object Boolean]",J4="[object Date]",t$="[object Error]",RS="[object Function]",e$="[object GeneratorFunction]",n$="[object Map]",i$="[object Number]",DS="[object Object]",r$="[object RegExp]",o$="[object Set]",s$="[object String]",a$="[object Symbol]",c$="[object WeakMap]",l$="[object ArrayBuffer]",d$="[object DataView]",u$="[object Float32Array]",h$="[object Float64Array]",f$="[object Int8Array]",m$="[object Int16Array]",p$="[object Int32Array]",g$="[object Uint8Array]",_$="[object Uint8ClampedArray]",b$="[object Uint16Array]",v$="[object Uint32Array]",Mt={};Mt[SS]=Mt[X4]=Mt[l$]=Mt[d$]=Mt[Z4]=Mt[J4]=Mt[u$]=Mt[h$]=Mt[f$]=Mt[m$]=Mt[p$]=Mt[n$]=Mt[i$]=Mt[DS]=Mt[r$]=Mt[o$]=Mt[s$]=Mt[a$]=Mt[g$]=Mt[_$]=Mt[b$]=Mt[v$]=!0;Mt[t$]=Mt[RS]=Mt[c$]=!1;function Ch(e,t,i,n,r,o){var s,c=t&K4,l=t&Y4,d=t&Q4;if(i&&(s=r?i(e,n,r,o):i(e)),s!==void 0)return s;if(!_e(e))return e;var f=ds(e);if(f){if(s=fS(e),!c)return sA(e,s)}else{var p=ws(e),g=p==RS||p==e$;if(gh(e))return eS(e,c);if(p==DS||p==SS||g&&!r){if(s=l||g?{}:wS(e),!c)return l?oS(e,QA(s,e)):rS(e,YA(s,e))}else{if(!Mt[p])return r?e:{};s=yS(e,p,c)}}o||(o=new KA);var E=o.get(e);if(E)return E;o.set(e,s),AS(e)?e.forEach(function(D){s.add(Ch(D,t,i,D,e,o))}):IS(e)&&e.forEach(function(D,z){s.set(z,Ch(D,t,i,z,e,o))});var k=d?l?aS:sS:l?ms:fs,O=f?void 0:k(e);return aA(O||e,function(D,z){O&&(z=D,D=e[z]),fh(s,z,Ch(D,t,i,z,e,o))}),s}var kS=Ch;var y$=1,w$=4;function x$(e,t){return t=typeof t=="function"?t:void 0,kS(e,y$|w$,t)}var Xb=x$;var E$=function(){return Xt.Date.now()},Ah=E$;var I$="Expected a function",T$=Math.max,C$=Math.min;function A$(e,t,i){var n,r,o,s,c,l,d=0,f=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(I$);t=Hb(t)||0,_e(i)&&(f=!!i.leading,p="maxWait"in i,o=p?T$(Hb(i.maxWait)||0,t):o,g="trailing"in i?!!i.trailing:g);function E(Y){var w=n,_=r;return n=r=void 0,d=Y,s=e.apply(_,w),s}function k(Y){return d=Y,c=setTimeout(z,t),f?E(Y):s}function O(Y){var w=Y-l,_=Y-d,v=t-w;return p?C$(v,o-_):v}function D(Y){var w=Y-l,_=Y-d;return l===void 0||w>=t||w<0||p&&_>=o}function z(){var Y=Ah();if(D(Y))return W(Y);c=setTimeout(z,O(Y))}function W(Y){return c=void 0,g&&n?E(Y):(n=r=void 0,s)}function Z(){c!==void 0&&clearTimeout(c),d=0,n=l=r=c=void 0}function st(){return c===void 0?s:W(Ah())}function Bt(){var Y=Ah(),w=D(Y);if(n=arguments,r=this,l=Y,w){if(c===void 0)return k(l);if(p)return clearTimeout(c),c=setTimeout(z,t),E(l)}return c===void 0&&(c=setTimeout(z,t)),s}return Bt.cancel=Z,Bt.flush=st,Bt}var PS=A$;function S$(e){return Ce(e)&&e.nodeType===1&&!zA(e)}var Sh=S$;var R$="Expected a function";function D$(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(R$);return _e(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),PS(e,t,{leading:n,maxWait:t,trailing:r})}var Zb=D$;var Es=class extends ls{constructor(t,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Zb(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),t&&(this._creator=(n,r)=>t.create(n,r)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{let t={},i=[],n=this._config.rootsAttributes||{},r={};for(let[s,c]of Object.entries(this._data.roots))c.isLoaded?(t[s]="",r[s]=n[s]||{}):i.push(s);let o=Et(M({},this._config),{extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:r,_watchdogInitialData:this._data});return delete o.initialData,o.extraPlugins.push(Jb),this._initUsingData?this.create(t,o,o.context):Sh(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,i=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=n,this._creator(t,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();let t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){let t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){let t=this._editor,i=t.model.document.roots.filter(c=>c.isAttached()&&c.rootName!="$graveyard"),{plugins:n}=t,r=n.has("CommentsRepository")&&n.get("CommentsRepository"),o=n.has("TrackChanges")&&n.get("TrackChanges"),s={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(c=>{s.roots[c.rootName]={content:JSON.stringify(Array.from(c.getChildren())),attributes:JSON.stringify(Array.from(c.getAttributes())),isLoaded:c._isLoaded}});for(let c of t.model.markers)c._affectsData&&(s.markers[c.name]={rangeJSON:c.getRange().toJSON(),usingOperation:c._managedUsingOperations,affectsData:c._affectsData});return r&&(s.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(s.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),s}_getEditables(){let t={};for(let i of this.editor.model.document.getRootNames()){let n=this.editor.ui.getEditableElement(i);n&&(t[i]=n)}return t}_isErrorComingFromThisItem(t){return sh(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return Xb(t,(i,n)=>{if(Sh(i)||n==="context")return i})}};var Jb=class{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,i){if("name"in i){let n=t.createElement(i.name,i.attributes);if(i.children)for(let r of i.children)n._appendChild(this._createNode(t,r));return n}else return t.createText(i.data,i.attributes)}_restoreEditorData(t){let i=this.editor;Object.entries(this._data.roots).forEach(([n,{content:r,attributes:o}])=>{let s=JSON.parse(r),c=JSON.parse(o),l=i.model.document.getRoot(n);for(let[d,f]of c)t.setAttribute(d,f,l);for(let d of s){let f=this._createNode(t,d);t.insert(f,l,"end")}}),Object.entries(this._data.markers).forEach(([n,r])=>{let{document:o}=i.model,E=r,{rangeJSON:{start:s,end:c}}=E,l=Zc(E,["rangeJSON"]),d=o.getRoot(s.root),f=t.createPositionFromPath(d,s.path,s.stickiness),p=t.createPositionFromPath(d,c.path,c.stickiness),g=t.createRange(f,p);t.addMarker(n,M({range:g},l))})}_restoreCollaborationData(){let t=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);t.forEach(n=>{let r=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");o.hasCommentThread(n.threadId)&&o.getCommentThread(n.threadId).remove(),o.addCommentThread(M({channelId:r},n))}),i.forEach(n=>{let r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(n.id)){let o=r.getSuggestion(n.id);o.attributes=n.attributes}else r.addSuggestionData(n)})}};var WZ=Symbol("MainQueueId");function k$(e,t){}var Ae=new Array(256).fill(0).map((e,t)=>("0"+t.toString(16)).slice(-2));function P$(){let e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+Ae[e>>0&255]+Ae[e>>8&255]+Ae[e>>16&255]+Ae[e>>24&255]+Ae[t>>0&255]+Ae[t>>8&255]+Ae[t>>16&255]+Ae[t>>24&255]+Ae[i>>0&255]+Ae[i>>8&255]+Ae[i>>16&255]+Ae[i>>24&255]+Ae[n>>0&255]+Ae[n>>8&255]+Ae[n>>16&255]+Ae[n>>24&255]}var tv="Lock from Angular integration (@ckeditor/ckeditor5-angular)",OS=(()=>{class e{constructor(i,n){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new Dt,this.change=new Dt,this.blur=new Dt,this.focus=new Dt,this.error=new Dt,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=P$(),this.ngZone=n,this.elementRef=i;let{CKEDITOR_VERSION:r}=window;if(r){let[o]=r.split(".").map(Number);o<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(i){this.setDisabledState(i)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let i=this.editorWatchdog;return this.watchdog&&(i=this.watchdog._watchdogs.get(this.id)),i?i.editor:null}getId(){return this.id}ngOnChanges(i){Object.prototype.hasOwnProperty.call(i,"data")&&i.data&&!i.data.isFirstChange()&&this.writeValue(i.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return b(this,null,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(i){i===null&&(i=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(i),this.isEditorSettingData=!1):(this.data=i,this.ready.pipe(wn()).subscribe(n=>{n.data.set(this.data)}))}registerOnChange(i){this.cvaOnChange=i}registerOnTouched(i){this.cvaOnTouched=i}setDisabledState(i){this.editorInstance&&(i?this.editorInstance.enableReadOnlyMode(tv):this.editorInstance.disableReadOnlyMode(tv)),this.initiallyDisabled=i}attachToWatchdog(){let i=(c,l)=>this.ngZone.runOutsideAngular(()=>b(this,null,function*(){this.elementRef.nativeElement.appendChild(c);let d=yield this.editor.create(c,l);return this.initiallyDisabled&&d.enableReadOnlyMode(tv),this.ngZone.run(()=>{this.ready.emit(d)}),this.setUpEditorEvents(d),d})),n=c=>b(this,null,function*(){yield c.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),r=c=>{O$(this.error)&&this.ngZone.run(()=>this.error.emit(c))},o=document.createElement(this.tagName),s=this.getConfig();if(this.editorElement=o,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:i,destructor:n,sourceElementOrData:o,config:s}).catch(c=>{r(c)}),this.watchdog.on("itemError",(c,{itemId:l})=>{l===this.id&&r()});else{let c=new Es(this.editor,this.editorWatchdogConfig);c.setCreator(i),c.setDestructor(n),c.on("error",r),this.editorWatchdog=c,this.ngZone.runOutsideAngular(()=>{c.create(o,s).catch(l=>{r(l)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");let i=M({},this.config),n=this.config.initialData||this.data;return n&&(i.initialData=n),i}setUpEditorEvents(i){let n=i.model.document,r=i.editing.view.document;n.on("change:data",o=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){let s=i.data.get();this.cvaOnChange(s)}this.change.emit({event:o,editor:i})}})}),r.on("focus",o=>{this.ngZone.run(()=>{this.focus.emit({event:o,editor:i})})}),r.on("blur",o=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:o,editor:i})})})}}return e.\u0275fac=function(i){return new(i||e)(S(mt),S(q))},e.\u0275cmp=rt({type:e,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[re([{provide:Ur,useExisting:Je(()=>e),multi:!0}]),Pe],decls:1,vars:0,template:function(i,n){i&1&&xt(0,k$,0,0,"ng-template")},encapsulation:2}),e})();function O$(e){return e.observed||e.observers.length>0}var Rh=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ut({type:e}),e.\u0275inj=dt({imports:[[Xu,Me]]}),e})();function N$(e,t){if(e&1){let i=En();V(0,"div")(1,"ckeditor",1),Ny("ngModelChange",function(r){an(i);let o=Ft();return My(o.editorData,r)||(o.editorData=r),cn(r)}),Ct("ready",function(r){an(i);let o=Ft();return cn(o.onReady(r))}),j()()}if(e&2){let i=Ft();tt(),St("editor",i.Editor),Oy("ngModel",i.editorData)}}function F$(e,t){e&1&&(V(0,"div"),Q(1,"Loading editor..."),j())}var MS=(()=>{let t=class t{constructor(){this.editorData="<p>Hello from CKEditor 5!</p>",this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){typeof window<"u"&&import("./chunk-CNFSKRWH.js").then(n=>{this.Editor=n.default})}writeValue(n){this.editorData=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onReady(n){n.model.document.on("change:data",()=>{let r=n.getData();this.onChange(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["app-ckeditor"]],standalone:!0,features:[re([{provide:Ur,useExisting:Je(()=>t),multi:!0}]),ct],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngModelChange","ready","editor","ngModel"]],template:function(r,o){r&1&&xt(0,N$,2,2,"div",0)(1,F$,2,0,"div",0),r&2&&(St("ngIf",o.Editor),tt(),St("ngIf",!o.Editor))},dependencies:[Rh,OS,Xu,Ku,Lb,Me,oo],styles:["[_nghost-%COMP%]{display:block;width:100%}ckeditor[_ngcontent-%COMP%]{display:block;width:100%}"]});let e=t;return e})();var NS=(()=>{let t=class t{constructor(n,r,o){this.fb=n,this.newsService=r,this.customizationService=o,this.maxLength=150,this.newsForm=this.fb.group({title:[""],content:[""],image:[null]})}ngOnInit(){}onFileSelected(n){this.newsForm.patchValue({image:n.target.files[0]})}get remainingChars(){return this.maxLength-(this.newsForm.get("title")?.value.length||0)}onSubmit(){return b(this,null,function*(){if(this.newsForm.valid){let n=this.newsForm.value,r=n.content,o="";console.log("CKEditor Content before submission:",r),n.image&&(o=yield this.newsService.uploadImage(n.image));try{yield this.newsService.addNews(this.customizationService.getSubdomainFromUrl(),{title:n.title,content:r,imageUrl:o,date:new Date}),this.newsForm.reset()}catch(s){console.error("Error adding news:",s)}}else console.warn("Form is invalid")})}};t.\u0275fac=function(r){return new(r||t)(S(TC),S(rs),S(qn))},t.\u0275cmp=rt({type:t,selectors:[["app-add-news"]],standalone:!0,features:[ct],decls:27,vars:3,consts:[[1,"add-news-content"],[1,"add-news-container"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","id","title","formControlName","title","type","text","required","","maxlength","150"],["align","end"],[1,"ckeditor-container"],["for","content"],["formControlName","content"],[1,"file-input-container"],["for","image"],["id","image","type","file",3,"change"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1)(2,"form",2),Ct("ngSubmit",function(){return o.onSubmit()}),V(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),Q(6,"Add News or Event article"),j()(),ht(7,"mat-divider"),V(8,"mat-card-content")(9,"mat-form-field",3)(10,"mat-label"),Q(11,"Title"),j(),ht(12,"textarea",4),V(13,"mat-hint",5),Q(14),j()(),V(15,"div",6)(16,"label",7),Q(17,"Content"),j(),ht(18,"app-ckeditor",8),j(),V(19,"div",9)(20,"label",10),Q(21,"Image : "),j(),V(22,"input",11),Ct("change",function(c){return o.onFileSelected(c)}),j()()(),ht(23,"mat-divider"),V(24,"mat-card-actions")(25,"button",12),Q(26,"Add News"),j()()()()()()),r&2&&(tt(2),St("formGroup",o.newsForm),tt(12),Py("",o.remainingChars," / ",o.maxLength,""))},dependencies:[CC,wC,Gu,Ku,hC,jb,Ub,Sc,Vb,Rc,FC,Ju,th,BC,UC,vc,ts,oh,eh,$C,ih,rh,nh,Di,MS],styles:[".add-news-content[_ngcontent-%COMP%]{width:100%}.add-news-container[_ngcontent-%COMP%]{max-width:1050px;padding:20px;margin:auto}mat-card[_ngcontent-%COMP%]{margin-top:20px}.mat-mdc-form-field[_ngcontent-%COMP%]{max-width:auto!important;width:100%}.ckeditor-container[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]{margin-top:16px}.mat-divider[_ngcontent-%COMP%]{margin:24px 0}"]});let e=t;return e})();function L$(e,t){e&1&&ht(0,"img",8)}function V$(e,t){if(e&1&&ht(0,"img",9),e&2){let i=Ft().$implicit;St("src",i.imageUrl,Cy)}}function j$(e,t){if(e&1){let i=En();V(0,"mat-card",3),Ct("click",function(){let r=an(i).$implicit,o=Ft();return cn(o.viewArticle(r.title,r.id))}),V(1,"mat-card-header")(2,"mat-card-title"),Q(3),j(),V(4,"mat-card-subtitle"),Q(5),ll(6,"date"),j()(),xt(7,L$,1,0,"img",4)(8,V$,1,1,"img",5),ht(9,"mat-divider"),V(10,"mat-card-content"),ht(11,"div",6),V(12,"p",7),Q(13,"Read article ->"),j()()()}if(e&2){let i=t.$implicit,n=Ft();tt(3),In(i.title),tt(2),In(Fy(6,5,i.date.toDate())),tt(2),St("ngIf",!i.imageUrl),tt(),St("ngIf",i.imageUrl),tt(3),St("innerHTML",n.sanitizeContent(n.getTruncatedContent(i.content)),Jr)}}var FS=(()=>{let t=class t{constructor(n,r,o,s){this.newsService=n,this.customizationService=r,this.router=o,this.sanitizer=s,this.newsList=[],this.lastVisibleDoc=null,this.instituteId=typeof window<"u"?this.customizationService.getSubdomainFromUrl():"Test 32"}ngOnInit(){return b(this,null,function*(){typeof window<"u"&&this.loadNews()})}loadNews(){this.newsService.getNews(this.instituteId).subscribe(n=>{n.length>0&&(this.lastVisibleDoc=n[n.length-1]),this.newsList=n,console.log("News list updated:",this.newsList)})}loadMoreNews(){this.lastVisibleDoc&&this.newsService.getMoreNews(this.instituteId,this.lastVisibleDoc).then(n=>{console.log("Fetched more news:",n),n.length>0&&(this.lastVisibleDoc=n[n.length-1],this.newsList=[...this.newsList,...n])})}onScroll(){this.loadMoreNews()}getTruncatedContent(n){return n.length>105?n.substring(0,105)+"...":n}encodeTitle(n){return n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}viewArticle(n,r){let o=this.encodeTitle(n)+"-"+r;this.router.navigate(["/view-news",o])}sanitizeContent(n){let r=n.replace(/<style[\s\S]*?<\/style>/gi,"");return this.sanitizer.bypassSecurityTrustHtml(r)}};t.\u0275fac=function(r){return new(r||t)(S(rs),S(qn),S(Ee),S(Nf))},t.\u0275cmp=rt({type:t,selectors:[["app-news-events"]],standalone:!0,features:[ct],decls:5,vars:1,consts:[[1,"news-container"],[1,"newslist"],["matRipple","",3,"click",4,"ngFor","ngForOf"],["matRipple","",3,"click"],["mat-card-image","","src","../../assets/newsbg.jpg","class","news-image",4,"ngIf"],["mat-card-image","","class","news-image",3,"src",4,"ngIf"],[1,"news-content",3,"innerHTML"],[1,"readmore"],["mat-card-image","","src","../../assets/newsbg.jpg",1,"news-image"],["mat-card-image","",1,"news-image",3,"src"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"h1"),Q(2,"Our News & Events articles"),j(),V(3,"div",1),xt(4,j$,14,7,"mat-card",2),j()()),r&2&&(tt(4),St("ngForOf",o.newsList))},dependencies:[Me,Yy,oo,fl,oh,eh,ih,rh,qC,zC,nh,wo,Di,Xl,Nm,cw],styles:[".news-container[_ngcontent-%COMP%]{padding:80px 12px;background-color:#f5f5f5}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1% 2% .5%}.news-container[_ngcontent-%COMP%]   .newslist[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (max-width: 425px){.news-container[_ngcontent-%COMP%]{padding:72px 0}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}}.mdc-card[_ngcontent-%COMP%]{max-width:480px;margin:1% 2%;cursor:pointer;transition:all .3s cubic-bezier(0,0,.5,1);font-family:Verdana,Geneva,Tahoma,sans-serif}@media screen and (max-width: 425px){.mdc-card[_ngcontent-%COMP%]{max-width:96%}}.mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px -8px #00000029,0 0 24px -16px #00000029;transform:scale3d(1.01,1.01,1.03) translate3d(.1rem,-.25rem,20rem)}.mdc-card[_ngcontent-%COMP%]:hover   .readmore[_ngcontent-%COMP%]{opacity:1}.news-content[_ngcontent-%COMP%]{margin:12px 0 24px}.readmore[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000080;position:absolute;padding:24px 0 8px;bottom:0;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;opacity:0;transition:all .6s ease-in-out}.news-image[_ngcontent-%COMP%]{max-height:200px;width:auto;object-fit:cover}"]});let e=t;return e})();var LS=(()=>{let t=class t{constructor(n,r,o){this.document=n,this.renderer=r,this.customizationService=o,this.subdomain="",this.about=""}onWindowScroll(){let n=document.getElementById("header"),r=document.getElementById("sticky-nav"),o=document.getElementById("spacer"),s=window.pageYOffset;if(n&&o){let c=n.offsetHeight-60,l=Math.max(32,50-18*(s/c)),d=Math.min(s);n.querySelector("h1").style.fontSize=`${l}px`,o.style.height=`${d}px`,n.style.opacity=s>=c?"0":"1"}r&&(r.style.opacity=s>=(n?.offsetHeight||0)-60?"1":"0")}ngOnInit(){return b(this,null,function*(){if(typeof window<"u"){this.subdomain=this.customizationService.getSubdomainFromUrl();try{let n=yield this.customizationService.getCustomization(this.subdomain);n&&(this.subdomain=n.websiteTitle),n.themeColor?this.setThemeColor(n.themeColor):this.setThemeColor("#027359"),n.about?this.about=n.about:this.about="Welcome to "+this.subdomain}catch(n){console.error("Error fetching customization data:",n)}}})}setThemeColor(n){this.renderer.setStyle(this.document.documentElement,"--primary-color",n),this.document.documentElement.style.setProperty("--primary-color",n),setTimeout(()=>{let r=getComputedStyle(this.document.documentElement)},1e3)}};t.\u0275fac=function(r){return new(r||t)(S(X),S(eo),S(qn))},t.\u0275cmp=rt({type:t,selectors:[["app-home"]],hostBindings:function(r,o){r&1&&Ct("scroll",function(){return o.onWindowScroll()},!1,Ay)},standalone:!0,features:[ct],decls:21,vars:3,consts:[[1,"container"],["id","header",1,"float-header"],["id","spacer"],["id","institute-name"],["id","sticky-nav",1,"sticky-nav"],["id","main-content",1,"main"],[1,"about"],[1,"about_content"],[1,"news-content",3,"innerHTML"],["mat-flat-button","","color","primary"],["mat-stroked-button",""]],template:function(r,o){r&1&&(V(0,"div",0)(1,"header",1),ht(2,"div",2),V(3,"h1",3),Q(4),j()(),V(5,"nav",4)(6,"h1"),Q(7),j()(),V(8,"main",5),ht(9,"mat-divider"),V(10,"div",6)(11,"div",7)(12,"h1"),Q(13,"About us"),j(),ht(14,"div",8),V(15,"div")(16,"button",9),Q(17,"Enroll now"),j(),V(18,"button",10),Q(19,"Sign In"),j()()()(),ht(20,"app-news-events"),j()()),r&2&&(tt(4),Zn(" ",o.subdomain," "),tt(3),Zn(" ",o.subdomain," "),tt(7),St("innerHTML",o.about,Jr))},dependencies:[FS,wo,Di,vc,ts],styles:["[_ngcontent-%COMP%]:root{--primary-color: #333}.container[_ngcontent-%COMP%]{padding-bottom:50vh}.float-header[_ngcontent-%COMP%]{height:70vh;background-color:var(--primary-color);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;transition:opacity .02s,font-size .1s}.float-header[_ngcontent-%COMP%]   #spacer[_ngcontent-%COMP%]{height:0;transition:height .1s}.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:capitalize;font-family:Inter,sans-serif;font-size:50px;color:#fff;transition:font-size .1s;margin:0}@media screen and (max-width: 425px){.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}.sticky-nav[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:var(--primary-color);display:flex;justify-content:center;align-items:center;height:60px;z-index:1000;opacity:0;transition:opacity .02s;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #0000004d}.sticky-nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;color:#fff;margin:0}.about[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:200px 16px 150px}.about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin:12px 0 36px}.about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:32px 12px 0 0;font-size:18px}.about[_ngcontent-%COMP%]   .about_content[_ngcontent-%COMP%]{max-width:1020px;font-family:Inter,sans-serif;font-size:20px;font-weight:500;line-height:30px}"]});let e=t;return e})();var VS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[ct],decls:2,vars:0,template:function(r,o){r&1&&(V(0,"p"),Q(1,"dashboard works!"),j())}});let e=t;return e})();var jS=(()=>{let t=class t{constructor(n,r){this.router=n,this._location=r}backClicked(){this._location.back()}};t.\u0275fac=function(r){return new(r||t)(S(Ee),S(Ke))},t.\u0275cmp=rt({type:t,selectors:[["app-error-404"]],standalone:!0,features:[ct],decls:19,vars:1,consts:[[1,"content"],["href","/home"],[3,"click"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"h1")(2,"b")(3,"u"),Q(4,"Error 404"),j(),Q(5," : "),j(),Q(6," You tried looking for "),V(7,"span"),Q(8),j(),Q(9," page"),j(),V(10,"h1"),Q(11,"Sorry, we couldn't find the requested resource :("),j(),V(12,"a",1)(13,"p"),Q(14,"Click here to go to home page"),j()(),V(15,"p"),Q(16,"OR"),j(),V(17,"button",2),Ct("click",function(){return o.backClicked()}),Q(18,"Go back"),j()()),r&2&&(tt(8),In(o.router.url))},styles:[".content[_ngcontent-%COMP%]{min-height:60vh;text-align:justify;padding:100px 20px;flex-direction:column;justify-content:center;align-items:center;display:flex}span[_ngcontent-%COMP%]{color:#044;background-color:#faebd7;padding:4px}p[_ngcontent-%COMP%]{margin-top:20px}"]});let e=t;return e})();var US=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:LS},{path:"dashboard",component:VS},{path:"add-news",component:NS},{path:"view-news/:title",component:qT},{path:"**",component:jS}];var U$="@",B$=(()=>{let t=class t{constructor(n,r,o,s,c){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=F(Sy,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-GCGUH46T.js")).catch(r=>{throw new At(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new ev(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(n,r);s.use(l)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){to()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),ev=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(U$)}};function BS(e="animations"){return al("NgAsyncAnimations"),He([{provide:sl,useFactory:(t,i,n)=>new B$(t,i,n,e),deps:[X,wl,q]},{provide:je,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var zS={production:!0,firebaseConfig:{apiKey:"AIzaSyATgCP-L090V221ytPLZS3IWmrP5mBQpcs",authDomain:"growth-tutorials-saas.firebaseapp.com",projectId:"growth-tutorials-saas",storageBucket:"growth-tutorials-saas.appspot.com",messagingSenderId:"112132007998",appId:"1:112132007998:web:a21348190de17b6e0f896f",measurementId:"G-7170ZK3RHF"}};var $S={providers:[g0(),BS(),ax(()=>cx(zS.firebaseConfig)),Xx(()=>Zx()),eT(()=>sT()),iw(US)]};var z$=["*",[["mat-toolbar-row"]]],$$=["*","mat-toolbar-row"],q$=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=J({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),qS=(()=>{let t=class t{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(yt),S(X))},t.\u0275cmp=rt({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&ln(s,q$,5),r&2){let c;Vt(c=jt())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(cl(o.color?"mat-"+o.color:""),kt("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ct],ngContentSelectors:$$,decls:2,vars:0,template:function(r,o){r&1&&(tn(z$),Lt(0),Lt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var HS=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ut({type:t}),t.\u0275inj=dt({imports:[oe,oe]});let e=t;return e})();var GS=(()=>{let t=class t{constructor(n,r){this.auth=n,this.firestore=r,this.user$=zp(this.auth)}googleSignIn(){return Jx(this.auth,new Np)}signOut(){return tE(this.auth)}getUserRole(){return zp(this.auth).pipe(De(n=>{if(n){let r=mc(this.firestore,`users/${n.email}`);return ie(oT(r)).pipe(ft(o=>o.exists()?o.data().role:"user"))}else return G("user")}))}};t.\u0275fac=function(r){return new(r||t)(R(Ir),R(bn))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var WS=(()=>{let t=class t{constructor(n){this.authService=n}onGoogleSignIn(){this.authService.googleSignIn().then(()=>{console.log("Successfully logged in")}).catch(n=>{console.error("Error during Google sign-in:",n)})}};t.\u0275fac=function(r){return new(r||t)(S(GS))},t.\u0275cmp=rt({type:t,selectors:[["app-auth"]],standalone:!0,features:[ct],decls:19,vars:0,consts:[[1,"auth-container"],[1,"auth-card"],[1,"largeOr"],[1,"or"],[1,"google-signin-button",3,"click"],["src","https://developers.google.com/identity/images/g-logo.png","alt","Google logo"]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1)(2,"span"),Q(3,"cancel"),j(),V(4,"h1"),Q(5,"Welcome"),j(),V(6,"div")(7,"h2"),Q(8,"Login with email"),j(),V(9,"div"),Q(10,"Upcoming login with Email and password"),j()(),V(11,"div",2),ht(12,"hr"),V(13,"div",3),Q(14," or "),j(),ht(15,"hr"),j(),V(16,"button",4),Ct("click",function(){return o.onGoogleSignIn()}),ht(17,"img",5),Q(18," Sign in with Google "),j()()())},styles:[".google-signin-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#757575;border:1px solid #dadce0;border-radius:4px;font-size:16px;padding:10px 20px;cursor:pointer;transition:background-color .3s,box-shadow .3s;width:100%}.google-signin-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px}.google-signin-button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;box-shadow:0 1px 3px #0000001a}.auth-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:.3em;padding:16px 44px;text-align:center;min-width:420px}.largeOr[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0009}.largeOr[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]{padding:12px}hr[_ngcontent-%COMP%]{margin:24px 0;width:100%}"]});let e=t;return e})();function W$(e,t){}var zr=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var rv=(()=>{let t=class t extends $i{constructor(n,r,o,s,c,l,d,f){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=c,this._ngZone=l,this._overlayRef=d,this._focusMonitor=f,this._platform=F(yt),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=F(We),this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),g},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Ta(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Ta();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ta()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(Wl),S(X,8),S(zr),S(Aa),S(q),S(fi),S(yo))},t.\u0275cmp=rt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Oe(qi,7),r&2){let s;Vt(s=jt())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Jt("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Gt,ct],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&xt(0,W$,0,0,"ng-template",0)},dependencies:[qi],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),Oc=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new et,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!$l(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},K$=new $("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=F($n);return()=>e.scrollStrategies.block()}}),Y$=new $("DialogData"),Q$=new $("DefaultDialogConfig");var X$=0,KS=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,o,s,c,l){this._overlay=n,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et,this._afterOpenedAtThisLevel=new et,this._ariaHiddenElements=new Map,this.afterAllClosed=er(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xn(void 0))),this._scrollStrategy=l}open(n,r){let o=this._defaultOptions||new zr;r=M(M({},o),r),r.id=r.id||`cdk-dialog-${X$++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),c=this._overlay.create(s),l=new Oc(c,r),d=this._attachContainer(c,l,r);return l.containerInstance=d,this._attachDialogContent(n,l,d,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){nv(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){nv(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),nv(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new jr({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let s=o.injector||o.viewContainerRef?.injector,c=[{provide:zr,useValue:o},{provide:Oc,useValue:r},{provide:fi,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,c.push(...o.container.providers(o))):l=rv;let d=new hi(l,o.viewContainerRef,Pt.create({parent:s||this._injector,providers:c}),o.componentFactoryResolver);return n.attach(d).instance}_attachDialogContent(n,r,o,s){if(n instanceof rr){let c=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=M(M({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new zi(n,null,l,c))}else{let c=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new hi(n,s.viewContainerRef,c,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,s){let c=n.injector||n.viewContainerRef?.injector,l=[{provide:Y$,useValue:n.data},{provide:Oc,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!c||!c.get(fr,null,{optional:!0}))&&l.push({provide:fr,useValue:{value:n.direction,change:G()}}),Pt.create({parent:c||s,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(R($n),R(Pt),R(Q$,8),R(t,12),R(ns),R(K$))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function nv(e,t){let i=e.length;for(;i--;)t(e[i])}function Z$(e,t){}var Mc=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},ov="mdc-dialog--open",YS="mdc-dialog--opening",QS="mdc-dialog--closing",J$=150,tq=75,eq=(()=>{let t=class t extends rv{constructor(n,r,o,s,c,l,d,f,p){super(n,r,o,s,c,l,d,p),this._animationMode=f,this._animationStateChanged=new Dt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?ZS(this._config.enterAnimationDuration)??J$:0,this._exitAnimationDuration=this._animationsEnabled?ZS(this._config.exitAnimationDuration)??tq:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(XS,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(YS,ov)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(ov),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(ov),this._animationsEnabled?(this._hostElement.style.setProperty(XS,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(QS)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(YS,QS)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(S(mt),S(Wl),S(X,8),S(Mc),S(Aa),S(q),S(fi),S(je,8),S(yo))},t.\u0275cmp=rt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(or("id",o._config.id),Jt("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),kt("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Gt,ct],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(V(0,"div",0)(1,"div",1),xt(2,Z$,0,0,"ng-template",2),j()())},dependencies:[qi],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),XS="--mat-dialog-transition-duration";function ZS(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?go(e.substring(0,e.length-2)):e.endsWith("s")?go(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var Dh=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(Dh||{}),sv=class{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new et,this._beforeClosed=new et,this._state=Dh.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe($t(r=>r.state==="opened"),xe(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe($t(r=>r.state==="closed"),xe(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Kr(this.backdropClick(),this.keydownEvents().pipe($t(r=>r.keyCode===27&&!this.disableClose&&!$l(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),nq(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe($t(i=>i.state==="closing"),xe(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=Dh.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Dh.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function nq(e,t,i){return e._closeInteractionType=t,e.close(i)}var iq=new $("MatMdcDialogData"),rq=new $("mat-mdc-dialog-default-options"),oq=new $("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=F($n);return()=>e.scrollStrategies.block()}});var sq=0,JS=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,r,o,s,c,l,d,f){this._overlay=n,this._defaultOptions=s,this._scrollStrategy=c,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et,this._afterOpenedAtThisLevel=new et,this.dialogConfigClass=Mc,this.afterAllClosed=er(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(xn(void 0))),this._dialog=r.get(KS),this._dialogRefConstructor=sv,this._dialogContainerType=eq,this._dialogDataToken=iq}open(n,r){let o;r=M(M({},this._defaultOptions||new Mc),r),r.id=r.id||`mat-mdc-dialog-${sq++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(n,Et(M({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:zr,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(c,l,d)=>(o=new this._dialogRefConstructor(c,r,d),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}};t.\u0275fac=function(r){return new(r||t)(R($n),R(Pt),R(Ke,8),R(rq,8),R(oq),R(t,12),R(ns),R(je,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function cq(e,t){if(e&1){let i=En();V(0,"mat-toolbar",3)(1,"a",4),Q(2),j(),V(3,"span",5),Ct("click",function(){an(i);let r=Ft(2);return cn(r.openSignIn())}),Q(4," Sign In "),j()()}if(e&2){let i=Ft(2);tt(2),Zn(" ",i.title,"")}}function lq(e,t){if(e&1&&(V(0,"div"),xt(1,cq,5,1,"mat-toolbar",1),V(2,"content"),ht(3,"router-outlet"),j(),V(4,"div",2),Q(5,"GT Gurukul \xA9 2024"),j()()),e&2){let i=Ft();tt(),St("ngIf",i.checkhome())}}var tR=(()=>{let t=class t{constructor(n,r,o,s,c,l,d){this.customizationService=n,this.titleService=r,this.location=o,this.router=s,this.viewportScroller=c,this._snackBar=l,this.dialog=d,this.title="",this.themeColor="#3f51b5",this.header="defaultHeader",this.location_path="",this.subdomainChecked=!1,console.log("AppComponent constructor")}openSignIn(){this.dialog.open(WS)}openSnackBar(n,r){this._snackBar.open(n,r)}ngOnInit(){return b(this,null,function*(){this.router.events.pipe($t(r=>r instanceof dn)).subscribe(()=>{this.viewportScroller.scrollToPosition([0,0])});let n="";typeof window<"u"&&(n=this.customizationService.getSubdomainFromUrl());try{let r=yield this.customizationService.getCustomization(n);r&&(this.title=r.websiteTitle,this.themeColor=r.themeColor,this.header=r.header,this.applyThemeColor(),this.setTitle(r.websiteTitle),console.log(r.status),r.status==="disabled"||r.status==="pending"?this.redirectToRegistration(n):this.subdomainChecked=!0)}catch(r){r.message==="Subdomain not registered"?this.redirectToRegistration(n):console.error(r)}})}checkhome(){return!(this.location.path()=="/home"||this.location.path()=="/")}applyThemeColor(){let n=document.querySelector("meta[name=theme-color]");if(document.documentElement.style.setProperty("--theme-color",this.themeColor),n)n.setAttribute("content",this.themeColor);else{let r=document.createElement("meta");r.name="theme-color",r.content=this.themeColor,document.getElementsByTagName("head")[0].appendChild(r)}}setTitle(n){this.titleService.setTitle(n)}redirectToRegistration(n){window.location.href=`https://register.growthtutorials.in/register?request=${n}`}redirectToInstitutes(n){window.location.href=`https://register.growthtutorials.in/institutes?request=${n}`}};t.\u0275fac=function(r){return new(r||t)(S(qn),S(El),S(Ke),S(Ee),S(pl),S(Fu),S(JS))},t.\u0275cmp=rt({type:t,selectors:[["app-root"]],standalone:!0,features:[ct],decls:1,vars:1,consts:[[4,"ngIf"],["class","navbar",4,"ngIf"],[1,"footer"],[1,"navbar"],["href","home"],[3,"click"]],template:function(r,o){r&1&&xt(0,lq,6,1,"div",0),r&2&&St("ngIf",o.subdomainChecked)},dependencies:[pm,HS,qS,Me,oo,Rh],styles:["[_ngcontent-%COMP%]:root{--theme-color: #3f51b5}.navbar[_ngcontent-%COMP%]{border-top:8px solid var(--theme-color);color:var(--theme-color);padding:0 24px;font-size:24px;position:sticky;top:0;z-index:1000;transition:opacity .02s;box-shadow:0 1px 2px #0000001a,0 1px 3px 1px #0000001a;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;cursor:pointer;color:#00f;font-weight:100}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:50%;float:left;padding:0 8px 0 0;margin-top:-2px}content[_ngcontent-%COMP%]{min-height:89vh;display:block}.footer[_ngcontent-%COMP%]{text-align:center;background-color:#00000003;padding:8px 0;box-shadow:0 0 1px #0003;border-bottom:16px solid #1b1b1b}@media screen and (max-width: 425px){.footer[_ngcontent-%COMP%]{margin:100px 0 0}}"]});let e=t;return e})();p0(tR,$S).catch(e=>console.error(e));
