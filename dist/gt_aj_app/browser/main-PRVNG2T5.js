import{$ as kf,$a as so,$b as Jy,A as Zr,Aa as ta,Ab as Ff,Ac as oa,B as qt,Ba as pl,Bb as K,Bc as sa,C as Tf,Ca as eo,Cb as Sn,D as Jr,Da as no,Db as gn,E as or,Ea as Py,Eb as Hy,F as Cf,Fa as Oy,Fb as yl,G as Af,Ga as My,Gb as wl,H as Ie,Ha as Ny,Hb as xl,I as Ty,Ia as Fy,Ib as re,J as hl,Ja as Ly,Jb as ot,K as Zs,Ka as Vy,Kb as El,L as Cn,La as sr,Lb as Gy,M as Sf,Ma as io,Mb as Wy,N as Cy,Na as jy,Nb as Ky,O as Rf,Oa as Uy,Ob as ao,P as Df,Pa as ea,Pb as Yy,Q as fl,Qa as W,Qb as Il,R as An,Ra as A,Rb as Tl,S as ke,Sa as ro,Sb as Lf,T as me,Ta as ar,Tb as na,U as Jt,Ua as By,Ub as lr,V as Dt,Va as gl,Vb as Qy,W as sn,Wa as _l,Wb as Cl,X as U,Xa as oo,Xb as Qe,Y as ut,Ya as bl,Yb as Xy,Z as Ay,Za as q,Zb as Zy,_ as $,_a as Of,_b as cn,a as Jn,aa as R,ab as Gt,ac as co,b as _f,ba as V,bb as ni,bc as t0,c as Ue,ca as Pe,cb as zy,cc as e0,d as bf,da as Sy,db as Mf,dc as Z,e as vf,ea as Js,eb as Nf,ec as n0,f as et,fa as vt,fb as gt,fc as Vf,g as Be,ga as rt,gb as te,gc as i0,h as wy,ha as ht,hb as xt,hc as r0,i as xy,ia as tt,ib as Rt,ic as Xe,j as Tn,ja as We,jb as vl,jc as jf,k as dl,ka as Ry,kb as pe,kc as Al,l as yf,la as to,lb as F,lc as Si,m as wf,ma as ti,mb as N,mc as o0,n as ie,na as Oe,nb as dt,nc as Sl,o as G,oa as Me,ob as Ye,oc as ge,p as Xs,pa as Ne,pb as cr,pc as s0,q as xf,qa as ei,qb as $y,qc as Rl,r as Ey,ra as Ot,rb as yt,rc as ia,s as ft,sa as Pf,sb as qy,sc as Dl,t as Xr,ta as mt,tb as At,tc as a0,u as Ge,ua as Pt,ub as an,v as Ef,va as Dy,vb as Vt,w as ul,wa as ml,wb as pn,wc as kl,x as rr,xa as ky,xb as Fe,xc as ra,y as Iy,ya as Ke,yb as jt,z as If,za as ze,zb as Ut,zc as dr}from"./chunk-AEZD2D7C.js";import{a as M,b as Tt,c as ll,e as Ai,f as b}from"./chunk-OO2USZMJ.js";var Ol=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(i=>{let n=i.indexOf(":");if(n>0){let r=i.slice(0,n),o=r.toLowerCase(),s=i.slice(n+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((i,n)=>{this.setHeaderEntries(n,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([i,n])=>{this.setHeaderEntries(i,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let i=this.headers.get(t.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,i){return this.clone({name:t,value:i,op:"a"})}set(t,i){return this.clone({name:t,value:i,op:"s"})}delete(t,i){return this.clone({name:t,value:i,op:"d"})}maybeSetNormalizedName(t,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(i=>{this.headers.set(i,t.headers.get(i)),this.normalizedNames.set(i,t.normalizedNames.get(i))})}clone(t){let i=new e;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([t]),i}applyUpdate(t){let i=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,i);let r=(t.op==="a"?this.headers.get(i):void 0)||[];r.push(...n),this.headers.set(i,r);break;case"d":let o=t.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(t,i){let n=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>t(this.normalizedNames.get(i),this.headers.get(i)))}};var p0=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(p0||{}),Uf=class{constructor(t,i=g0.Ok,n="OK"){this.headers=t.headers||new Ol,this.status=t.status!==void 0?t.status:i,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Ml=class e extends Uf{constructor(t={}){super(t),this.type=p0.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};var g0=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(g0||{});var GR=new $("");var c0="b",l0="h",d0="s",u0="st",h0="u",f0="rt",Pl=new $(""),WR=["GET","HEAD"];function KR(e,t){let p=V(Pl),{isCacheActive:i}=p,n=ll(p,["isCacheActive"]),{transferCache:r,method:o}=e;if(!i||o==="POST"&&!n.includePostRequests&&!r||o!=="POST"&&!WR.includes(o)||r===!1||n.filter?.(e)===!1)return t(e);let s=V(pl),c=QR(e),l=s.get(c,null),d=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(d=r.includeHeaders),l){let{[c0]:g,[f0]:E,[l0]:k,[d0]:O,[u0]:D,[h0]:z}=l,Y=g;switch(E){case"arraybuffer":Y=new TextEncoder().encode(g).buffer;break;case"blob":Y=new Blob([g]);break}let J=new Ol(k);return G(new Ml({body:Y,headers:J,status:O,statusText:D,url:z}))}let f=ia(V(Ke));return t(e).pipe(Jt(g=>{g instanceof Ml&&f&&s.set(c,{[c0]:g.body,[l0]:YR(g.headers,d),[d0]:g.status,[u0]:g.statusText,[h0]:g.url||"",[f0]:e.responseType})}))}function YR(e,t){if(!t)return{};let i={};for(let n of t){let r=e.getAll(n);r!==null&&(i[n]=r)}return i}function m0(e){return[...e.keys()].sort().map(t=>`${t}=${e.getAll(t)}`).join("&")}function QR(e){let{params:t,method:i,responseType:n,url:r}=e,o=m0(t),s=e.serializeBody();s instanceof URLSearchParams?s=m0(s):typeof s!="string"&&(s="");let c=[i,n,r,s,o].join("|"),l=XR(c);return l}function XR(e){let t=0;for(let i of e)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function _0(e){return[{provide:Pl,useFactory:()=>(bl("NgHttpTransferCache"),M({isCacheActive:!0},e))},{provide:GR,useValue:KR,multi:!0,deps:[pl,Pl]},{provide:na,multi:!0,useFactory:()=>{let t=V(lr),i=V(Pl);return()=>{Qy(t).then(()=>{i.isCacheActive=!1})}}}]}var $f=class extends e0{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qf=class e extends $f{static makeCurrent(){t0(new e)}onAndCancel(t,i,n){return t.addEventListener(i,n),()=>{t.removeEventListener(i,n)}}dispatchEvent(t,i){t.dispatchEvent(i)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,i){return i=i||this.getDefaultDocument(),i.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,i){return i==="window"?window:i==="document"?t:i==="body"?t.body:null}getBaseHref(t){let i=JR();return i==null?null:tD(i)}resetBaseElement(){aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jf(document.cookie,t)}},aa=null;function JR(){return aa=aa||document.querySelector("base"),aa?aa.getAttribute("href"):null}function tD(e){return new URL(e,document.baseURI).pathname}var eD=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Hf=new $(""),y0=(()=>{let t=class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Dt(5101,!1);return this._eventNameToPlugin.set(n,r),r}};t.\u0275fac=function(r){return new(r||t)(R(Hf),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),Nl=class{constructor(t){this._doc=t}},Bf="ng-app-id",w0=(()=>{let t=class t{constructor(n,r,o,s={}){this.doc=n,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ia(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(o=>o.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Bf}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(n,r){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=r,s.usage}return o.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===n)return o.delete(r),s.removeAttribute(Bf),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Bf,this.appId),n.appendChild(c),c}}addStyleToHost(n,r){let o=this.getStyleElement(n,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(r){return new(r||t)(R(Z),R(ml),R(ta,8),R(Ke))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Kf=/%COMP%/g,x0="%COMP%",nD=`_nghost-${x0}`,iD=`_ngcontent-${x0}`,rD=!0,oD=new $("",{providedIn:"root",factory:()=>rD});function sD(e){return iD.replace(Kf,e)}function aD(e){return nD.replace(Kf,e)}function E0(e,t){return t.map(i=>i.replace(Kf,e))}var Fl=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=ia(l),this.defaultRenderer=new ca(n,c,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Js.ShadowDom&&(r=Tt(M({},r),{encapsulation:Js.Emulated}));let o=this.getOrCreateRenderer(n,r);return o instanceof Ll?o.applyToHost(n):o instanceof la&&o.applyStyles(),o}getOrCreateRenderer(n,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Js.Emulated:s=new Ll(d,f,r,this.appId,p,c,l,g);break;case Js.ShadowDom:return new Gf(d,f,n,r,c,l,this.nonce,g);default:s=new la(d,f,r,p,c,l,g);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(r){return new(r||t)(R(y0),R(w0),R(ml),R(oD),R(Z),R(Ke),R(q),R(ta))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),ca=class{constructor(t,i,n,r){this.eventManager=t,this.doc=i,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,i){return i?this.doc.createElementNS(zf[i]||i,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,i){(b0(t)?t.content:t).appendChild(i)}insertBefore(t,i,n){t&&(b0(t)?t.content:t).insertBefore(i,n)}removeChild(t,i){t&&t.removeChild(i)}selectRootElement(t,i){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new Dt(-5104,!1);return i||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,i,n,r){if(r){i=r+":"+i;let o=zf[r];o?t.setAttributeNS(o,i,n):t.setAttribute(i,n)}else t.setAttribute(i,n)}removeAttribute(t,i,n){if(n){let r=zf[n];r?t.removeAttributeNS(r,i):t.removeAttribute(`${n}:${i}`)}else t.removeAttribute(i)}addClass(t,i){t.classList.add(i)}removeClass(t,i){t.classList.remove(i)}setStyle(t,i,n,r){r&(ea.DashCase|ea.Important)?t.style.setProperty(i,n,r&ea.Important?"important":""):t.style[i]=n}removeStyle(t,i,n){n&ea.DashCase?t.style.removeProperty(i):t.style[i]=""}setProperty(t,i,n){t!=null&&(t[i]=n)}setValue(t,i){t.nodeValue=i}listen(t,i,n){if(typeof t=="string"&&(t=co().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${i}`);return this.eventManager.addEventListener(t,i,this.decoratePreventDefault(n))}decoratePreventDefault(t){return i=>{if(i==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(i)):t(i))===!1&&i.preventDefault()}}};function b0(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Gf=class extends ca{constructor(t,i,n,r,o,s,c,l){super(t,o,s,l),this.sharedStylesHost=i,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=E0(r.id,r.styles);for(let f of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,i){return super.appendChild(this.nodeOrShadowRoot(t),i)}insertBefore(t,i,n){return super.insertBefore(this.nodeOrShadowRoot(t),i,n)}removeChild(t,i){return super.removeChild(this.nodeOrShadowRoot(t),i)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},la=class extends ca{constructor(t,i,n,r,o,s,c,l){super(t,o,s,c),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?E0(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ll=class extends la{constructor(t,i,n,r,o,s,c,l){let d=r+"-"+n.id;super(t,i,n,o,s,c,l,d),this.contentAttr=sD(d),this.hostAttr=aD(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,i){let n=super.createElement(t,i);return super.setAttribute(n,this.contentAttr,""),n}},cD=(()=>{let t=class t extends Nl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}};t.\u0275fac=function(r){return new(r||t)(R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),v0=["alt","control","meta","shift"],lD={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dD={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},uD=(()=>{let t=class t extends Nl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,o){let s=t.parseEventName(r),c=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>co().onAndCancel(n,s.domEventName,c))}static parseEventName(n){let r=n.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),v0.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(n,r){let o=lD[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),v0.forEach(c=>{if(c!==o){let l=dD[c];l(n)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(n,r,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(r){return new(r||t)(R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function I0(e,t){return Xy(M({rootComponent:e},hD(t)))}function hD(e){return{appProviders:[..._D,...e?.providers??[]],platformProviders:gD}}function fD(){qf.makeCurrent()}function mD(){return new Pf}function pD(){return Dy(document),document}var gD=[{provide:Ke,useValue:s0},{provide:ky,useValue:fD,multi:!0},{provide:Z,useFactory:pD,deps:[]}];var _D=[{provide:Ry,useValue:"root"},{provide:Pf,useFactory:mD,deps:[]},{provide:Hf,useClass:cD,multi:!0,deps:[Z,q,Ke]},{provide:Hf,useClass:uD,multi:!0,deps:[Z]},Fl,w0,y0,{provide:_l,useExisting:Fl},{provide:a0,useClass:eD,deps:[]},[]];var Vl=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(r){return new(r||t)(R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yf=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:function(r){let o=null;return r?o=new(r||t):o=R(bD),o},providedIn:"root"});let e=t;return e})(),bD=(()=>{let t=class t extends Yf{constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case sr.NONE:return r;case sr.HTML:return no(r,"HTML")?eo(r):Vy(this._doc,String(r)).toString();case sr.STYLE:return no(r,"Style")?eo(r):r;case sr.SCRIPT:if(no(r,"Script"))return eo(r);throw new Dt(5200,!1);case sr.URL:return no(r,"URL")?eo(r):Ly(String(r));case sr.RESOURCE_URL:if(no(r,"ResourceURL"))return eo(r);throw new Dt(5201,!1);default:throw new Dt(5202,!1)}}bypassSecurityTrustHtml(n){return Py(n)}bypassSecurityTrustStyle(n){return Oy(n)}bypassSecurityTrustScript(n){return My(n)}bypassSecurityTrustUrl(n){return Ny(n)}bypassSecurityTrustResourceUrl(n){return Fy(n)}};t.\u0275fac=function(r){return new(r||t)(R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Wf=function(e){return e[e.NoHttpTransferCache=0]="NoHttpTransferCache",e[e.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",e}(Wf||{});function T0(...e){let t=[],i=new Set,n=i.has(Wf.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:o}of e)i.add(o),r.length&&t.push(r);return We([[],Zy(),i.has(Wf.NoHttpTransferCache)||n?[]:_0({}),t])}var lt="primary",Ta=Symbol("RouteTitle"),em=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i[0]:i}return null}getAll(t){if(this.has(t)){let i=this.params[t];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function mo(e){return new em(e)}function yD(e,t,i){let n=i.path.split("/");if(n.length>e.length||i.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let r={};for(let o=0;o<n.length;o++){let s=n[o],c=e[o];if(s.startsWith(":"))r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,n.length),posParams:r}}function wD(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Rn(e[i],t[i]))return!1;return!0}function Rn(e,t){let i=e?nm(e):void 0,n=t?nm(t):void 0;if(!i||!n||i.length!=n.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!M0(e[r],t[r]))return!1;return!0}function nm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function M0(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let i=[...e].sort(),n=[...t].sort();return i.every((r,o)=>n[o]===r)}else return e===t}function N0(e){return e.length>0?e[e.length-1]:null}function Pi(e){return xf(e)?e:Tl(e)?ie(Promise.resolve(e)):G(e)}var xD={exact:L0,subset:V0},F0={exact:ED,subset:ID,ignored:()=>!0};function C0(e,t,i){return xD[i.paths](e.root,t.root,i.matrixParams)&&F0[i.queryParams](e.queryParams,t.queryParams)&&!(i.fragment==="exact"&&e.fragment!==t.fragment)}function ED(e,t){return Rn(e,t)}function L0(e,t,i){if(!hr(e.segments,t.segments)||!Bl(e.segments,t.segments,i)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!L0(e.children[n],t.children[n],i))return!1;return!0}function ID(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>M0(e[i],t[i]))}function V0(e,t,i){return j0(e,t,t.segments,i)}function j0(e,t,i,n){if(e.segments.length>i.length){let r=e.segments.slice(0,i.length);return!(!hr(r,i)||t.hasChildren()||!Bl(r,i,n))}else if(e.segments.length===i.length){if(!hr(e.segments,i)||!Bl(e.segments,i,n))return!1;for(let r in t.children)if(!e.children[r]||!V0(e.children[r],t.children[r],n))return!1;return!0}else{let r=i.slice(0,e.segments.length),o=i.slice(e.segments.length);return!hr(e.segments,r)||!Bl(e.segments,r,n)||!e.children[lt]?!1:j0(e.children[lt],t,o,n)}}function Bl(e,t,i){return t.every((n,r)=>F0[i](e[r].parameters,n.parameters))}var Ri=class{constructor(t=new St([],{}),i={},n=null){this.root=t,this.queryParams=i,this.fragment=n}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){return AD.serialize(this)}},St=class{constructor(t,i){this.segments=t,this.children=i,this.parent=null,Object.values(i).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zl(this)}},ur=class{constructor(t,i){this.path=t,this.parameters=i}get parameterMap(){return this._parameterMap??=mo(this.parameters),this._parameterMap}toString(){return B0(this)}};function TD(e,t){return hr(e,t)&&e.every((i,n)=>Rn(i.parameters,t[n].parameters))}function hr(e,t){return e.length!==t.length?!1:e.every((i,n)=>i.path===t[n].path)}function CD(e,t){let i=[];return Object.entries(e.children).forEach(([n,r])=>{n===lt&&(i=i.concat(t(r,n)))}),Object.entries(e.children).forEach(([n,r])=>{n!==lt&&(i=i.concat(t(r,n)))}),i}var Ca=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>new ga,providedIn:"root"});let e=t;return e})(),ga=class{parse(t){let i=new rm(t);return new Ri(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(t){let i=`/${da(t.root,!0)}`,n=DD(t.queryParams),r=typeof t.fragment=="string"?`#${SD(t.fragment)}`:"";return`${i}${n}${r}`}},AD=new ga;function zl(e){return e.segments.map(t=>B0(t)).join("/")}function da(e,t){if(!e.hasChildren())return zl(e);if(t){let i=e.children[lt]?da(e.children[lt],!1):"",n=[];return Object.entries(e.children).forEach(([r,o])=>{r!==lt&&n.push(`${r}:${da(o,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}else{let i=CD(e,(n,r)=>r===lt?[da(e.children[lt],!1)]:[`${r}:${da(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[lt]!=null?`${zl(e)}/${i[0]}`:`${zl(e)}/(${i.join("//")})`}}function U0(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(e){return U0(e).replace(/%3B/gi,";")}function SD(e){return encodeURI(e)}function im(e){return U0(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $l(e){return decodeURIComponent(e)}function A0(e){return $l(e.replace(/\+/g,"%20"))}function B0(e){return`${im(e.path)}${RD(e.parameters)}`}function RD(e){return Object.entries(e).map(([t,i])=>`;${im(t)}=${im(i)}`).join("")}function DD(e){let t=Object.entries(e).map(([i,n])=>Array.isArray(n)?n.map(r=>`${jl(i)}=${jl(r)}`).join("&"):`${jl(i)}=${jl(n)}`).filter(i=>i);return t.length?`?${t.join("&")}`:""}var kD=/^[^\/()?;#]+/;function Xf(e){let t=e.match(kD);return t?t[0]:""}var PD=/^[^\/()?;=#]+/;function OD(e){let t=e.match(PD);return t?t[0]:""}var MD=/^[^=?&#]+/;function ND(e){let t=e.match(MD);return t?t[0]:""}var FD=/^[^&#]+/;function LD(e){let t=e.match(FD);return t?t[0]:""}var rm=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(i).length>0)&&(n[lt]=new St(t,i)),n}parseSegment(){let t=Xf(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Dt(4009,!1);return this.capture(t),new ur($l(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let i=OD(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let r=Xf(this.remaining);r&&(n=r,this.capture(n))}t[$l(i)]=$l(n)}parseQueryParam(t){let i=ND(this.remaining);if(!i)return;this.capture(i);let n="";if(this.consumeOptional("=")){let s=LD(this.remaining);s&&(n=s,this.capture(n))}let r=A0(i),o=A0(n);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Xf(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new Dt(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=lt);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[lt]:new St([],s),this.consumeOptional("//")}return i}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Dt(4011,!1)}};function z0(e){return e.segments.length>0?new St([],{[lt]:e}):e}function $0(e){let t={};for(let[n,r]of Object.entries(e.children)){let o=$0(r);if(n===lt&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))t[s]=c;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let i=new St(e.segments,t);return VD(i)}function VD(e){if(e.numberOfChildren===1&&e.children[lt]){let t=e.children[lt];return new St(e.segments.concat(t.segments),t.children)}return e}function po(e){return e instanceof Ri}function jD(e,t,i=null,n=null){let r=q0(e);return H0(r,t,i,n)}function q0(e){let t;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let c=new St(o.url,s);return o===e&&(t=c),c}let n=i(e.root),r=z0(n);return t??r}function H0(e,t,i,n){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return Zf(r,r,r,i,n);let o=UD(t);if(o.toRoot())return Zf(r,r,new St([],{}),i,n);let s=BD(o,r,e),c=s.processChildren?fa(s.segmentGroup,s.index,o.commands):W0(s.segmentGroup,s.index,o.commands);return Zf(r,s.segmentGroup,c,i,n)}function ql(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function _a(e){return typeof e=="object"&&e!=null&&e.outlets}function Zf(e,t,i,n,r){let o={};n&&Object.entries(n).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;e===t?s=i:s=G0(e,t,i);let c=z0($0(s));return new Ri(c,o,r)}function G0(e,t,i){let n={};return Object.entries(e.children).forEach(([r,o])=>{o===t?n[r]=i:n[r]=G0(o,t,i)}),new St(e.segments,n)}var Hl=class{constructor(t,i,n){if(this.isAbsolute=t,this.numberOfDoubleDots=i,this.commands=n,t&&n.length>0&&ql(n[0]))throw new Dt(4003,!1);let r=n.find(_a);if(r&&r!==N0(n))throw new Dt(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UD(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Hl(!0,0,e);let t=0,i=!1,n=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?i=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Hl(i,t,n)}var ho=class{constructor(t,i,n){this.segmentGroup=t,this.processChildren=i,this.index=n}};function BD(e,t,i){if(e.isAbsolute)return new ho(t,!0,0);if(!i)return new ho(t,!1,NaN);if(i.parent===null)return new ho(i,!0,0);let n=ql(e.commands[0])?0:1,r=i.segments.length-1+n;return zD(i,r,e.numberOfDoubleDots)}function zD(e,t,i){let n=e,r=t,o=i;for(;o>r;){if(o-=r,n=n.parent,!n)throw new Dt(4005,!1);r=n.segments.length}return new ho(n,!1,r-o)}function $D(e){return _a(e[0])?e[0].outlets:{[lt]:e}}function W0(e,t,i){if(e??=new St([],{}),e.segments.length===0&&e.hasChildren())return fa(e,t,i);let n=qD(e,t,i),r=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new St(e.segments.slice(0,n.pathIndex),{});return o.children[lt]=new St(e.segments.slice(n.pathIndex),e.children),fa(o,0,r)}else return n.match&&r.length===0?new St(e.segments,{}):n.match&&!e.hasChildren()?om(e,t,i):n.match?fa(e,0,r):om(e,t,i)}function fa(e,t,i){if(i.length===0)return new St(e.segments,{});{let n=$D(i),r={};if(Object.keys(n).some(o=>o!==lt)&&e.children[lt]&&e.numberOfChildren===1&&e.children[lt].segments.length===0){let o=fa(e.children[lt],t,i);return new St(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=W0(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(r[o]=s)}),new St(e.segments,r)}}function qD(e,t,i){let n=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(n>=i.length)return o;let s=e.segments[r],c=i[n];if(_a(c))break;let l=`${c}`,d=n<i.length-1?i[n+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!R0(l,d,s))return o;n+=2}else{if(!R0(l,{},s))return o;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function om(e,t,i){let n=e.segments.slice(0,t),r=0;for(;r<i.length;){let o=i[r];if(_a(o)){let l=HD(o.outlets);return new St(n,l)}if(r===0&&ql(i[0])){let l=e.segments[t];n.push(new ur(l.path,S0(i[0]))),r++;continue}let s=_a(o)?o.outlets[lt]:`${o}`,c=r<i.length-1?i[r+1]:null;s&&c&&ql(c)?(n.push(new ur(s,S0(c))),r+=2):(n.push(new ur(s,{})),r++)}return new St(n,{})}function HD(e){let t={};return Object.entries(e).forEach(([i,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[i]=om(new St([],{}),0,n))}),t}function S0(e){let t={};return Object.entries(e).forEach(([i,n])=>t[i]=`${n}`),t}function R0(e,t,i){return e==i.path&&Rn(t,i.parameters)}var ma="imperative",ue=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(ue||{}),ln=class{constructor(t,i){this.id=t,this.url=i}},go=class extends ln{constructor(t,i,n="imperative",r=null){super(t,i),this.type=ue.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_n=class extends ln{constructor(t,i,n){super(t,i),this.urlAfterRedirects=n,this.type=ue.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Je=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Je||{}),Gl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Gl||{}),Di=class extends ln{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=ue.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ki=class extends ln{constructor(t,i,n,r){super(t,i),this.reason=n,this.code=r,this.type=ue.NavigationSkipped}},ba=class extends ln{constructor(t,i,n,r){super(t,i),this.error=n,this.target=r,this.type=ue.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Wl=class extends ln{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ue.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sm=class extends ln{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ue.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class extends ln{constructor(t,i,n,r,o){super(t,i),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=o,this.type=ue.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cm=class extends ln{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ue.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends ln{constructor(t,i,n,r){super(t,i),this.urlAfterRedirects=n,this.state=r,this.type=ue.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dm=class{constructor(t){this.route=t,this.type=ue.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},um=class{constructor(t){this.route=t,this.type=ue.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hm=class{constructor(t){this.snapshot=t,this.type=ue.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fm=class{constructor(t){this.snapshot=t,this.type=ue.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mm=class{constructor(t){this.snapshot=t,this.type=ue.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pm=class{constructor(t){this.snapshot=t,this.type=ue.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kl=class{constructor(t,i,n){this.routerEvent=t,this.position=i,this.anchor=n,this.type=ue.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},va=class{},ya=class{constructor(t){this.url=t}};var gm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Aa,this.attachRef=null}},Aa=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){let o=this.getOrCreateContext(n);o.outlet=r,this.contexts.set(n,o)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new gm,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Yl=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let i=this.pathFromRoot(t);return i.length>1?i[i.length-2]:null}children(t){let i=_m(t,this._root);return i?i.children.map(n=>n.value):[]}firstChild(t){let i=_m(t,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(t){let i=bm(t,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return bm(t,this._root).map(i=>i.value)}};function _m(e,t){if(e===t.value)return t;for(let i of t.children){let n=_m(e,i);if(n)return n}return null}function bm(e,t){if(e===t.value)return[t];for(let i of t.children){let n=bm(e,i);if(n.length)return n.unshift(t),n}return[]}var Ze=class{constructor(t,i){this.value=t,this.children=i}toString(){return`TreeNode(${this.value})`}};function uo(e){let t={};return e&&e.children.forEach(i=>t[i.value.outlet]=i),t}var Ql=class extends Yl{constructor(t,i){super(t),this.snapshot=i,Sm(this,t)}toString(){return this.snapshot.toString()}};function K0(e){let t=GD(e),i=new Be([new ur("",{})]),n=new Be({}),r=new Be({}),o=new Be({}),s=new Be(""),c=new tn(i,n,o,s,r,lt,e,t.root);return c.snapshot=t.root,new Ql(new Ze(c,[]),t)}function GD(e){let t={},i={},n={},r="",o=new wa([],t,n,r,i,lt,e,null,{});return new Xl("",new Ze(o,[]))}var tn=class{constructor(t,i,n,r,o,s,c,l){this.urlSubject=t,this.paramsSubject=i,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(ft(d=>d[Ta]))??G(void 0),this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ft(t=>mo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ft(t=>mo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Am(e,t,i="emptyOnly"){let n,{routeConfig:r}=e;return t!==null&&(i==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:M(M({},t.params),e.params),data:M(M({},t.data),e.data),resolve:M(M(M(M({},e.data),t.data),r?.data),e._resolvedData)}:n={params:M({},e.params),data:M({},e.data),resolve:M(M({},e.data),e._resolvedData??{})},r&&Q0(r)&&(n.resolve[Ta]=r.title),n}var wa=class{get title(){return this.data?.[Ta]}constructor(t,i,n,r,o,s,c,l,d){this.url=t,this.params=i,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=mo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=mo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${i}')`}},Xl=class extends Yl{constructor(t,i){super(i),this.url=t,Sm(this,i)}toString(){return Y0(this._root)}};function Sm(e,t){t.value._routerState=e,t.children.forEach(i=>Sm(e,i))}function Y0(e){let t=e.children.length>0?` { ${e.children.map(Y0).join(", ")} } `:"";return`${e.value}${t}`}function Jf(e){if(e.snapshot){let t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Rn(t.queryParams,i.queryParams)||e.queryParamsSubject.next(i.queryParams),t.fragment!==i.fragment&&e.fragmentSubject.next(i.fragment),Rn(t.params,i.params)||e.paramsSubject.next(i.params),wD(t.url,i.url)||e.urlSubject.next(i.url),Rn(t.data,i.data)||e.dataSubject.next(i.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function vm(e,t){let i=Rn(e.params,t.params)&&TD(e.url,t.url),n=!e.parent!=!t.parent;return i&&!n&&(!e.parent||vm(e.parent,t.parent))}function Q0(e){return typeof e.title=="string"||e.title===null}var Rm=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new Pt,this.deactivateEvents=new Pt,this.attachEvents=new Pt,this.detachEvents=new Pt,this.parentContexts=V(Aa),this.location=V(so),this.changeDetector=V(Qe),this.environmentInjector=V(to),this.inputBinder=V(ed,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:o}=n.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Dt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Dt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Dt(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Dt(4013,!1);this._activatedRoute=n;let o=this.location,c=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new ym(n,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Oe]});let e=t;return e})(),ym=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,i,n){this.route=t,this.childContexts=i,this.parent=n}get(t,i){return t===tn?this.route:t===Aa?this.childContexts:this.parent.get(t,i)}},ed=new $(""),D0=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,o=Xr([r.queryParams,r.params,r.data]).pipe(ke(([s,c,l],d)=>(l=M(M(M({},s),c),l),d===0?G(l):Promise.resolve(l)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let c=Jy(r.component);if(!c){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of c.inputs)n.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(n,o)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function WD(e,t,i){let n=xa(e,t._root,i?i._root:void 0);return new Ql(n,t)}function xa(e,t,i){if(i&&e.shouldReuseRoute(t.value,i.value.snapshot)){let n=i.value;n._futureSnapshot=t.value;let r=KD(e,t,i);return new Ze(n,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>xa(e,c)),s}}let n=YD(t.value),r=t.children.map(o=>xa(e,o));return new Ze(n,r)}}function KD(e,t,i){return t.children.map(n=>{for(let r of i.children)if(e.shouldReuseRoute(n.value,r.value.snapshot))return xa(e,n,r);return xa(e,n)})}function YD(e){return new tn(new Be(e.url),new Be(e.params),new Be(e.queryParams),new Be(e.fragment),new Be(e.data),e.outlet,e.component,e)}var X0="ngNavigationCancelingError";function Z0(e,t){let{redirectTo:i,navigationBehaviorOptions:n}=po(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=J0(!1,Je.Redirect);return r.url=i,r.navigationBehaviorOptions=n,r}function J0(e,t){let i=new Error(`NavigationCancelingError: ${e||""}`);return i[X0]=!0,i.cancellationCode=t,i}function QD(e){return tw(e)&&po(e.url)}function tw(e){return!!e&&e[X0]}var XD=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["ng-component"]],standalone:!0,features:[ot],decls:1,vars:0,template:function(r,o){r&1&&dt(0,"router-outlet")},dependencies:[Rm],encapsulation:2});let e=t;return e})();function ZD(e,t){return e.providers&&!e._injector&&(e._injector=Mf(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Dm(e){let t=e.children&&e.children.map(Dm),i=t?Tt(M({},e),{children:t}):M({},e);return!i.component&&!i.loadComponent&&(t||i.loadChildren)&&i.outlet&&i.outlet!==lt&&(i.component=XD),i}function Dn(e){return e.outlet||lt}function JD(e,t){let i=e.filter(n=>Dn(n)===t);return i.push(...e.filter(n=>Dn(n)!==t)),i}function Sa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let i=t.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var tk=(e,t,i,n)=>ft(r=>(new wm(t,r.targetRouterState,r.currentRouterState,i,n).activate(e),r)),wm=class{constructor(t,i,n,r,o){this.routeReuseStrategy=t,this.futureState=i,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let i=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,n,t),Jf(this.futureState.root),this.activateChildRoutes(i,n,t)}deactivateChildRoutes(t,i,n){let r=uo(i);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],n),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(r===o)if(r.component){let s=n.getContext(r.outlet);s&&this.deactivateChildRoutes(t,i,s.children)}else this.deactivateChildRoutes(t,i,n);else o&&this.deactivateRouteAndItsChildren(i,n)}deactivateRouteAndItsChildren(t,i){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,i):this.deactivateRouteAndOutlet(t,i)}detachAndStoreRouteSubtree(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=uo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(n&&n.outlet){let s=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,i){let n=i.getContext(t.value.outlet),r=n&&t.value.component?n.children:i,o=uo(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,i,n){let r=uo(i);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],n),this.forwardEvent(new pm(o.value.snapshot))}),t.children.length&&this.forwardEvent(new fm(t.value.snapshot))}activateRoutes(t,i,n){let r=t.value,o=i?i.value:null;if(Jf(r),r===o)if(r.component){let s=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,i,s.children)}else this.activateChildRoutes(t,i,n);else if(r.component){let s=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Jf(c.route.value),this.activateChildRoutes(t,null,s.children)}else{let c=Sa(r.snapshot);s.attachRef=null,s.route=r,s.injector=c,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,n)}},Zl=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},fo=class{constructor(t,i){this.component=t,this.route=i}};function ek(e,t,i){let n=e._root,r=t?t._root:null;return ua(n,r,i,[n.value])}function nk(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function bo(e,t){let i=Symbol(),n=t.get(e,i);return n===i?typeof e=="function"&&!Ay(e)?e:t.get(e):n}function ua(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=uo(t);return e.children.forEach(s=>{ik(s,o[s.value.outlet],i,n.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>pa(c,i.getContext(s),r)),r}function ik(e,t,i,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,c=i?i.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=rk(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Zl(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ua(e,t,c?c.children:null,n,r):ua(e,t,i,n,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new fo(c.outlet.component,s))}else s&&pa(t,c,r),r.canActivateChecks.push(new Zl(n)),o.component?ua(e,null,c?c.children:null,n,r):ua(e,null,i,n,r);return r}function rk(e,t,i){if(typeof i=="function")return i(e,t);switch(i){case"pathParamsChange":return!hr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!hr(e.url,t.url)||!Rn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vm(e,t)||!Rn(e.queryParams,t.queryParams);case"paramsChange":default:return!vm(e,t)}}function pa(e,t,i){let n=uo(e),r=e.value;Object.entries(n).forEach(([o,s])=>{r.component?t?pa(s,t.children.getContext(o),i):pa(s,null,i):pa(s,t,i)}),r.component?t&&t.outlet&&t.outlet.isActivated?i.canDeactivateChecks.push(new fo(t.outlet.component,r)):i.canDeactivateChecks.push(new fo(null,r)):i.canDeactivateChecks.push(new fo(null,r))}function Ra(e){return typeof e=="function"}function ok(e){return typeof e=="boolean"}function sk(e){return e&&Ra(e.canLoad)}function ak(e){return e&&Ra(e.canActivate)}function ck(e){return e&&Ra(e.canActivateChild)}function lk(e){return e&&Ra(e.canDeactivate)}function dk(e){return e&&Ra(e.canMatch)}function ew(e){return e instanceof Ey||e?.name==="EmptyError"}var Ul=Symbol("INITIAL_VALUE");function _o(){return ke(e=>Xr(e.map(t=>t.pipe(Ie(1),An(Ul)))).pipe(ft(t=>{for(let i of t)if(i!==!0){if(i===Ul)return Ul;if(i===!1||i instanceof Ri)return i}return!0}),qt(t=>t!==Ul),Ie(1)))}function uk(e,t){return Ge(i=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?G(Tt(M({},i),{guardsResult:!0})):hk(s,n,r,e).pipe(Ge(c=>c&&ok(c)?fk(n,o,e,t):G(c)),ft(c=>Tt(M({},i),{guardsResult:c})))})}function hk(e,t,i,n){return ie(e).pipe(Ge(r=>bk(r.component,r.route,i,t,n)),Cn(r=>r!==!0,!0))}function fk(e,t,i,n){return ie(t).pipe(or(r=>ul(pk(r.route.parent,n),mk(r.route,n),_k(e,r.path,i),gk(e,r.route,i))),Cn(r=>r!==!0,!0))}function mk(e,t){return e!==null&&t&&t(new mm(e)),G(!0)}function pk(e,t){return e!==null&&t&&t(new hm(e)),G(!0)}function gk(e,t,i){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return G(!0);let r=n.map(o=>rr(()=>{let s=Sa(t)??i,c=bo(o,s),l=ak(c)?c.canActivate(t,e):ti(s,()=>c(t,e));return Pi(l).pipe(Cn())}));return G(r).pipe(_o())}function _k(e,t,i){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>nk(s)).filter(s=>s!==null).map(s=>rr(()=>{let c=s.guards.map(l=>{let d=Sa(s.node)??i,f=bo(l,d),p=ck(f)?f.canActivateChild(n,e):ti(d,()=>f(n,e));return Pi(p).pipe(Cn())});return G(c).pipe(_o())}));return G(o).pipe(_o())}function bk(e,t,i,n,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(c=>{let l=Sa(t)??r,d=bo(c,l),f=lk(d)?d.canDeactivate(e,t,i,n):ti(l,()=>d(e,t,i,n));return Pi(f).pipe(Cn())});return G(s).pipe(_o())}function vk(e,t,i,n){let r=t.canLoad;if(r===void 0||r.length===0)return G(!0);let o=r.map(s=>{let c=bo(s,e),l=sk(c)?c.canLoad(t,i):ti(e,()=>c(t,i));return Pi(l)});return G(o).pipe(_o(),nw(n))}function nw(e){return _f(Jt(t=>{if(po(t))throw Z0(e,t)}),ft(t=>t===!0))}function yk(e,t,i,n){let r=t.canMatch;if(!r||r.length===0)return G(!0);let o=r.map(s=>{let c=bo(s,e),l=dk(c)?c.canMatch(t,i):ti(e,()=>c(t,i));return Pi(l)});return G(o).pipe(_o(),nw(n))}var Ea=class{constructor(t){this.segmentGroup=t||null}},Jl=class extends Error{constructor(t){super(),this.urlTree=t}};function lo(e){return Xs(new Ea(e))}function wk(e){return Xs(new Dt(4e3,!1))}function xk(e){return Xs(J0(!1,Je.GuardRejected))}var xm=class{constructor(t,i){this.urlSerializer=t,this.urlTree=i}lineralizeSegments(t,i){let n=[],r=i.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return G(n);if(r.numberOfChildren>1||!r.children[lt])return wk(t.redirectTo);r=r.children[lt]}}applyRedirectCommands(t,i,n){let r=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),t,n);if(i.startsWith("/"))throw new Jl(r);return r}applyRedirectCreateUrlTree(t,i,n,r){let o=this.createSegmentGroup(t,i.root,n,r);return new Ri(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(t,i){let n={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);n[r]=i[c]}else n[r]=o}),n}createSegmentGroup(t,i,n,r){let o=this.createSegments(t,i.segments,n,r),s={};return Object.entries(i.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(t,l,n,r)}),new St(o,s)}createSegments(t,i,n,r){return i.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,n))}findPosParam(t,i,n){let r=n[i.path.substring(1)];if(!r)throw new Dt(4001,!1);return r}findOrReturn(t,i){let n=0;for(let r of i){if(r.path===t.path)return i.splice(n),r;n++}return t}},Em={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ek(e,t,i,n,r){let o=km(e,t,i);return o.matched?(n=ZD(t,n),yk(n,t,i,r).pipe(ft(s=>s===!0?o:M({},Em)))):G(o)}function km(e,t,i){if(t.path==="**")return Ik(i);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||i.length>0)?M({},Em):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(t.matcher||yD)(i,e,t);if(!r)return M({},Em);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?M(M({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function Ik(e){return{matched:!0,parameters:e.length>0?N0(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function k0(e,t,i,n){return i.length>0&&Ak(e,i,n)?{segmentGroup:new St(t,Ck(n,new St(i,e.children))),slicedSegments:[]}:i.length===0&&Sk(e,i,n)?{segmentGroup:new St(e.segments,Tk(e,i,n,e.children)),slicedSegments:i}:{segmentGroup:new St(e.segments,e.children),slicedSegments:i}}function Tk(e,t,i,n){let r={};for(let o of i)if(nd(e,t,o)&&!n[Dn(o)]){let s=new St([],{});r[Dn(o)]=s}return M(M({},n),r)}function Ck(e,t){let i={};i[lt]=t;for(let n of e)if(n.path===""&&Dn(n)!==lt){let r=new St([],{});i[Dn(n)]=r}return i}function Ak(e,t,i){return i.some(n=>nd(e,t,n)&&Dn(n)!==lt)}function Sk(e,t,i){return i.some(n=>nd(e,t,n))}function nd(e,t,i){return(e.hasChildren()||t.length>0)&&i.pathMatch==="full"?!1:i.path===""}function Rk(e,t,i,n){return Dn(e)!==n&&(n===lt||!nd(t,i,e))?!1:km(t,e,i).matched}function Dk(e,t,i){return t.length===0&&!e.children[i]}var Im=class{};function kk(e,t,i,n,r,o,s="emptyOnly"){return new Tm(e,t,i,n,r,s,o).recognize()}var Pk=31,Tm=class{constructor(t,i,n,r,o,s,c){this.injector=t,this.configLoader=i,this.rootComponentType=n,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new xm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new Dt(4002,`'${t.segmentGroup}'`)}recognize(){let t=k0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(ft(i=>{let n=new wa([],Object.freeze({}),Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),r=new Ze(n,i),o=new Xl("",r),s=jD(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,lt).pipe(Jr(n=>{if(n instanceof Jl)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Ea?this.noMatchError(n):n}))}inheritParamsAndData(t,i){let n=t.value,r=Am(n,i,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(t,i,n,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,i,n):this.processSegment(t,i,n,n.segments,r,!0).pipe(ft(o=>o instanceof Ze?[o]:[]))}processChildren(t,i,n){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return ie(r).pipe(or(o=>{let s=n.children[o],c=JD(i,o);return this.processSegmentGroup(t,c,s,o)}),Rf((o,s)=>(o.push(...s),o)),Af(null),Cy(),Ge(o=>{if(o===null)return lo(n);let s=iw(o);return Ok(s),G(s)}))}processSegment(t,i,n,r,o,s){return ie(i).pipe(or(c=>this.processSegmentAgainstRoute(c._injector??t,i,c,n,r,o,s).pipe(Jr(l=>{if(l instanceof Ea)return G(null);throw l}))),Cn(c=>!!c),Jr(c=>{if(ew(c))return Dk(n,r,o)?G(new Im):lo(n);throw c}))}processSegmentAgainstRoute(t,i,n,r,o,s,c){return Rk(n,r,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,i,n,o,s):lo(r):lo(r)}expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s){let{matched:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=km(i,r,o);if(!c)return lo(i);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Pk&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(Ge(g=>this.processSegment(t,n,i,g.concat(f),s,!1)))}matchSegmentAgainstRoute(t,i,n,r,o){let s=Ek(i,n,r,t,this.urlSerializer);return n.path==="**"&&(i.children={}),s.pipe(ke(c=>c.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(ke(({routes:l})=>{let d=n._loadedInjector??t,{consumedSegments:f,remainingSegments:p,parameters:g}=c,E=new wa(f,g,Object.freeze(M({},this.urlTree.queryParams)),this.urlTree.fragment,Nk(n),Dn(n),n.component??n._loadedComponent??null,n,Fk(n)),{segmentGroup:k,slicedSegments:O}=k0(i,f,p,l);if(O.length===0&&k.hasChildren())return this.processChildren(d,l,k).pipe(ft(z=>z===null?null:new Ze(E,z)));if(l.length===0&&O.length===0)return G(new Ze(E,[]));let D=Dn(n)===o;return this.processSegment(d,l,k,O,D?lt:o,!0).pipe(ft(z=>new Ze(E,z instanceof Ze?[z]:[])))}))):lo(i)))}getChildConfig(t,i,n){return i.children?G({routes:i.children,injector:t}):i.loadChildren?i._loadedRoutes!==void 0?G({routes:i._loadedRoutes,injector:i._loadedInjector}):vk(t,i,n,this.urlSerializer).pipe(Ge(r=>r?this.configLoader.loadChildren(t,i).pipe(Jt(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):xk(i))):G({routes:[],injector:t})}};function Ok(e){e.sort((t,i)=>t.value.outlet===lt?-1:i.value.outlet===lt?1:t.value.outlet.localeCompare(i.value.outlet))}function Mk(e){let t=e.value.routeConfig;return t&&t.path===""}function iw(e){let t=[],i=new Set;for(let n of e){if(!Mk(n)){t.push(n);continue}let r=t.find(o=>n.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...n.children),i.add(r)):t.push(n)}for(let n of i){let r=iw(n.children);t.push(new Ze(n.value,r))}return t.filter(n=>!i.has(n))}function Nk(e){return e.data||{}}function Fk(e){return e.resolve||{}}function Lk(e,t,i,n,r,o){return Ge(s=>kk(e,t,i,n,s.extractedUrl,r,o).pipe(ft(({state:c,tree:l})=>Tt(M({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function Vk(e,t){return Ge(i=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=i;if(!r.length)return G(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of rw(l))s.add(d);let c=0;return ie(s).pipe(or(l=>o.has(l)?jk(l,n,e,t):(l.data=Am(l,l.parent,e).resolve,G(void 0))),Jt(()=>c++),Sf(1),Ge(l=>c===s.size?G(i):Tn))})}function rw(e){let t=e.children.map(i=>rw(i)).flat();return[e,...t]}function jk(e,t,i,n){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!Q0(r)&&(o[Ta]=r.title),Uk(o,e,t,n).pipe(ft(s=>(e._resolvedData=s,e.data=Am(e,e.parent,i).resolve,null)))}function Uk(e,t,i,n){let r=nm(e);if(r.length===0)return G({});let o={};return ie(r).pipe(Ge(s=>Bk(e[s],t,i,n).pipe(Cn(),Jt(c=>{o[s]=c}))),Sf(1),Ty(o),Jr(s=>ew(s)?Tn:Xs(s)))}function Bk(e,t,i,n){let r=Sa(t)??n,o=bo(e,r),s=o.resolve?o.resolve(t,i):ti(r,()=>o(t,i));return Pi(s)}function tm(e){return ke(t=>{let i=e(t);return i?ie(i).pipe(ft(()=>t)):G(t)})}var ow=(()=>{let t=class t{buildTitle(n){let r,o=n.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===lt);return r}getResolvedTitleForRoute(n){return n.data[Ta]}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>V(zk),providedIn:"root"});let e=t;return e})(),zk=(()=>{let t=class t extends ow{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}};t.\u0275fac=function(r){return new(r||t)(R(Vl))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Da=new $("",{providedIn:"root",factory:()=>({})}),Ia=new $(""),Pm=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Cl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return G(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Pi(n.loadComponent()).pipe(ft(sw),Jt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Zs(()=>{this.componentLoaders.delete(n)})),o=new vf(r,()=>new et).pipe(bf());return this.componentLoaders.set(n,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=$k(r,this.compiler,n,this.onLoadEndListener).pipe(Zs(()=>{this.childrenLoaders.delete(r)})),c=new vf(s,()=>new et).pipe(bf());return this.childrenLoaders.set(r,c),c}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function $k(e,t,i,n){return Pi(e.loadChildren()).pipe(ft(sw),Ge(r=>r instanceof zy||Array.isArray(r)?G(r):ie(t.compileModuleAsync(r))),ft(r=>{n&&n(e);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(i).injector,s=o.get(Ia,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dm),injector:o}}))}function qk(e){return e&&typeof e=="object"&&"default"in e}function sw(e){return qk(e)?e.default:e}var Om=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>V(Hk),providedIn:"root"});let e=t;return e})(),Hk=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),aw=new $(""),cw=new $("");function Gk(e,t,i){let n=e.get(cw),r=e.get(Z);return e.get(q).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),c=r.startViewTransition(()=>(o(),Wk(e))),{onViewTransitionCreated:l}=n;return l&&ti(e,()=>l({transition:c,from:t,to:i})),s})}function Wk(e){return new Promise(t=>{Of(t,{injector:e})})}var Mm=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new et,this.transitionAbortSubject=new et,this.configLoader=V(Pm),this.environmentInjector=V(to),this.urlSerializer=V(Ca),this.rootContexts=V(Aa),this.location=V(Xe),this.inputBindingEnabled=V(ed,{optional:!0})!==null,this.titleStrategy=V(ow),this.options=V(Da,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(Om),this.createViewTransition=V(aw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>G(void 0),this.rootComponentType=null;let n=o=>this.events.next(new dm(o)),r=o=>this.events.next(new um(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Tt(M(M({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,o){return this.transitions=new Be({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ma,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(s=>s.id!==0),ft(s=>Tt(M({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ke(s=>{let c=!1,l=!1;return G(s).pipe(ke(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Je.SupersededByNewNavigation),Tn;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Tt(M({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&p!=="reload"){let g="";return this.events.next(new ki(d.id,this.urlSerializer.serialize(d.rawUrl),g,Gl.IgnoredSameUrlNavigation)),d.resolve(null),Tn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return G(d).pipe(ke(g=>{let E=this.transitions?.getValue();return this.events.next(new go(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),E!==this.transitions?.getValue()?Tn:Promise.resolve(g)}),Lk(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Jt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Tt(M({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let E=new Wl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(E)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:g,extractedUrl:E,source:k,restoredState:O,extras:D}=d,z=new go(g,this.urlSerializer.serialize(E),k,O);this.events.next(z);let Y=K0(this.rootComponentType).snapshot;return this.currentTransition=s=Tt(M({},d),{targetSnapshot:Y,urlAfterRedirects:E,extras:Tt(M({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,G(s)}else{let g="";return this.events.next(new ki(d.id,this.urlSerializer.serialize(d.extractedUrl),g,Gl.IgnoredByUrlHandlingStrategy)),d.resolve(null),Tn}}),Jt(d=>{let f=new sm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),ft(d=>(this.currentTransition=s=Tt(M({},d),{guards:ek(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),uk(this.environmentInjector,d=>this.events.next(d)),Jt(d=>{if(s.guardsResult=d.guardsResult,po(d.guardsResult))throw Z0(this.urlSerializer,d.guardsResult);let f=new am(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),qt(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",Je.GuardRejected),!1)),tm(d=>{if(d.guards.canActivateChecks.length)return G(d).pipe(Jt(f=>{let p=new cm(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),ke(f=>{let p=!1;return G(f).pipe(Vk(this.paramsInheritanceStrategy,this.environmentInjector),Jt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Je.NoDataFromResolver)}}))}),Jt(f=>{let p=new lm(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),tm(d=>{let f=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Jt(E=>{p.component=E}),ft(()=>{})));for(let E of p.children)g.push(...f(E));return g};return Xr(f(d.targetSnapshot.root)).pipe(Af(null),Ie(1))}),tm(()=>this.afterPreactivation()),ke(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return p?ie(p).pipe(ft(()=>s)):G(s)}),ft(d=>{let f=WD(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Tt(M({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Jt(()=>{this.events.next(new va)}),tk(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Ie(1),Jt({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _n(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),me(this.transitionAbortSubject.pipe(Jt(d=>{throw d}))),Zs(()=>{!c&&!l&&this.cancelNavigationTransition(s,"",Je.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Jr(d=>{if(l=!0,tw(d))this.events.next(new Di(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),QD(d)?this.events.next(new ya(d.url)):s.resolve(!1);else{this.events.next(new ba(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(d))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Tn}))}))}cancelNavigationTransition(n,r,o){let s=new Di(n.id,this.urlSerializer.serialize(n.extractedUrl),r,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Kk(e){return e!==ma}var Yk=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>V(Qk),providedIn:"root"});let e=t;return e})(),Cm=class{shouldDetach(t){return!1}store(t,i){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,i){return t.routeConfig===i.routeConfig}},Qk=(()=>{let t=class t extends Cm{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),lw=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:()=>V(Xk),providedIn:"root"});let e=t;return e})(),Xk=(()=>{let t=class t extends lw{constructor(){super(...arguments),this.location=V(Xe),this.urlSerializer=V(Ca),this.options=V(Da,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(Om),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ri,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=K0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof go)this.stateMemento=this.createStateMemento();else if(n instanceof ki)this.rawUrlTree=r.initialUrl;else if(n instanceof Wl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else n instanceof va?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Di&&(n.code===Je.GuardRejected||n.code===Je.NoDataFromResolver)?this.restoreHistory(r):n instanceof ba?this.restoreHistory(r,!0):n instanceof _n&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=M(M({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=M(M({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(t)))(o||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ha=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(ha||{});function dw(e,t){e.events.pipe(qt(i=>i instanceof _n||i instanceof Di||i instanceof ba||i instanceof ki),ft(i=>i instanceof _n||i instanceof ki?ha.COMPLETE:(i instanceof Di?i.code===Je.Redirect||i.code===Je.SupersededByNewNavigation:!1)?ha.REDIRECTING:ha.FAILED),qt(i=>i!==ha.REDIRECTING),Ie(1)).subscribe(()=>{t()})}function Zk(e){throw e}var Jk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},de=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=V(Il),this.stateManager=V(lw),this.options=V(Da,{optional:!0})||{},this.pendingTasks=V(Nf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(Mm),this.urlSerializer=V(Ca),this.location=V(Xe),this.urlHandlingStrategy=V(Om),this._events=new et,this.errorHandler=this.options.errorHandler||Zk,this.navigated=!1,this.routeReuseStrategy=V(Yk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(Ia,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(ed,{optional:!0}),this.eventsSubscription=new Jn,this.isNgZoneEnabled=V(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Di&&r.code!==Je.Redirect&&r.code!==Je.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _n)this.navigated=!0;else if(r instanceof ya){let c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Kk(o.source)};this.scheduleNavigation(c,ma,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}nP(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=M({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(n);this.scheduleNavigation(l,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Dm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:l,preserveFragment:d}=r,f=d?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=M(M({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let E=o?o.snapshot:this.routerState.snapshot.root;g=q0(E)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),g=this.currentUrlTree.root}return H0(g,n,p,f??null)}navigateByUrl(n,r={skipLocationChange:!1}){let o=po(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ma,null,r)}navigate(n,r={skipLocationChange:!1}){return eP(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let o;if(r===!0?o=M({},Jk):r===!1?o=M({},tP):o=r,po(n))return C0(this.currentUrlTree,n,o);let s=this.parseUrl(n);return C0(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(n,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let l,d,f;c?(l=c.resolve,d=c.reject,f=c.promise):f=new Promise((g,E)=>{l=g,d=E});let p=this.pendingTasks.add();return dw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(g=>Promise.reject(g))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function eP(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new Dt(4008,!1)}function nP(e){return!(e instanceof va)&&!(e instanceof ya)}var td=class{};var iP=(()=>{let t=class t{constructor(n,r,o,s,c){this.router=n,this.injector=o,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(qt(n=>n instanceof _n),or(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Mf(s.providers,n,`Route: ${s.path}`));let c=s._injector??n,l=s._loadedInjector??c;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(c,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return ie(o).pipe(Ef())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(n,r):o=G(null);let s=o.pipe(Ge(c=>c===null?G(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));if(r.loadComponent&&!r._loadedComponent){let c=this.loader.loadComponent(r);return ie([s,c]).pipe(Ef())}else return s})}};t.\u0275fac=function(r){return new(r||t)(R(de),R(Cl),R(to),R(td),R(Pm))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),uw=new $(""),rP=(()=>{let t=class t{constructor(n,r,o,s,c={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=V(to),c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof go?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _n?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ki&&n.code===Gl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Kl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),Of(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Kl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(r){ro()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})();function hw(e,...t){return We([{provide:Ia,multi:!0,useValue:e},[],{provide:tn,useFactory:fw,deps:[de]},{provide:na,multi:!0,useFactory:mw},t.map(i=>i.\u0275providers)])}function fw(e){return e.routerState.root}function ka(e,t){return{\u0275kind:e,\u0275providers:t}}function mw(){let e=V(Ot);return t=>{let i=e.get(lr);if(t!==i.components[0])return;let n=e.get(de),r=e.get(pw);e.get(Nm)===1&&n.initialNavigation(),e.get(gw,null,kf.Optional)?.setUpPreloading(),e.get(uw,null,kf.Optional)?.init(),n.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var pw=new $("",{factory:()=>new et}),Nm=new $("",{providedIn:"root",factory:()=>1});function oP(){return ka(2,[{provide:Nm,useValue:0},{provide:Lf,multi:!0,deps:[Ot],useFactory:t=>{let i=t.get(n0,Promise.resolve());return()=>i.then(()=>new Promise(n=>{let r=t.get(de),o=t.get(pw);dw(r,()=>{n(!0)}),t.get(Mm).afterPreactivation=()=>(n(!0),o.closed?G(void 0):o),r.initialNavigation()}))}}])}function sP(){return ka(3,[{provide:Lf,multi:!0,useFactory:()=>{let t=V(de);return()=>{t.setUpLocationChangeListener()}}},{provide:Nm,useValue:2}])}var gw=new $("");function aP(e){return ka(0,[{provide:gw,useExisting:iP},{provide:td,useExisting:e}])}function cP(){return ka(8,[D0,{provide:ed,useExisting:D0}])}function lP(e){let t=[{provide:aw,useValue:Gk},{provide:cw,useValue:M({skipNextTransition:!!e?.skipInitialTransition},e)}];return ka(9,t)}var P0=new $("ROUTER_FORROOT_GUARD"),dP=[Xe,{provide:Ca,useClass:ga},de,Aa,{provide:tn,useFactory:fw,deps:[de]},Pm,[]],_w=(()=>{let t=class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[dP,[],{provide:Ia,multi:!0,useValue:n},{provide:P0,useFactory:mP,deps:[[de,new Pe,new Sy]]},{provide:Da,useValue:r||{}},r?.useHash?hP():fP(),uP(),r?.preloadingStrategy?aP(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?pP(r):[],r?.bindToComponentInputs?cP().\u0275providers:[],r?.enableViewTransitions?lP().\u0275providers:[],gP()]}}static forChild(n){return{ngModule:t,providers:[{provide:Ia,multi:!0,useValue:n}]}}};t.\u0275fac=function(r){return new(r||t)(R(P0,8))},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({});let e=t;return e})();function uP(){return{provide:uw,useFactory:()=>{let e=V(Dl),t=V(q),i=V(Da),n=V(Mm),r=V(Ca);return i.scrollOffset&&e.setOffset(i.scrollOffset),new rP(r,n,e,t,i)}}}function hP(){return{provide:Vf,useClass:r0}}function fP(){return{provide:Vf,useClass:i0}}function mP(e){return"guarded"}function pP(e){return[e.initialNavigation==="disabled"?sP().\u0275providers:[],e.initialNavigation==="enabledBlocking"?oP().\u0275providers:[]]}var O0=new $("");function gP(){return[{provide:O0,useFactory:mw},{provide:na,multi:!0,useExisting:O0}]}function kn(e){return e!=null&&`${e}`!="false"}function vo(e,t=0){return _P(e)?Number(e):t}function _P(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function yo(e){return Array.isArray(e)?e:[e]}function ee(e){return e==null?"":typeof e=="string"?e:`${e}px`}function dn(e){return e instanceof mt?e.nativeElement:e}var Lm;try{Lm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Lm=!1}var Et=(()=>{let t=class t{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Rl(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Lm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};t.\u0275fac=function(r){return new(r||t)(R(Ke))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wo,bw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Vm(){if(wo)return wo;if(typeof document!="object"||!document)return wo=new Set(bw),wo;let e=document.createElement("input");return wo=new Set(bw.filter(t=>(e.setAttribute("type",t),e.type===t))),wo}var Oa;function bP(){if(Oa==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Oa=!0}))}finally{Oa=Oa||!1}return Oa}function Oi(e){return bP()?e:!!e.capture}var fr;function vw(){if(fr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return fr=!1,fr;if("scrollBehavior"in document.documentElement.style)fr=!0;else{let e=Element.prototype.scrollTo;e?fr=!/\{\s*\[native code\]\s*\}/.test(e.toString()):fr=!1}}return fr}var Fm;function vP(){if(Fm==null){let e=typeof document<"u"?document.head:null;Fm=!!(e&&(e.createShadowRoot||e.attachShadow))}return Fm}function yw(e){if(vP()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ma(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function bn(e){return e.composedPath?e.composedPath()[0]:e.target}function Na(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function id(e,...t){return t.length?t.some(i=>e[i]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}var yP=(()=>{let t=class t{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ww=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({providers:[yP]});let e=t;return e})();var xw=new Set,mr,wP=(()=>{let t=class t{constructor(n,r){this._platform=n,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):EP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&xP(n,this._nonce),this._matchMedia(n)}};t.\u0275fac=function(r){return new(r||t)(R(Et),R(ta,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function xP(e,t){if(!xw.has(e))try{mr||(mr=document.createElement("style"),t&&mr.setAttribute("nonce",t),mr.setAttribute("type","text/css"),document.head.appendChild(mr)),mr.sheet&&(mr.sheet.insertRule(`@media ${e} {body{ }}`,0),xw.add(e))}catch(i){console.error(i)}}function EP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var rd=(()=>{let t=class t{constructor(n,r){this._mediaMatcher=n,this._zone=r,this._queries=new Map,this._destroySubject=new et}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Ew(yo(n)).some(o=>this._registerQuery(o).mql.matches)}observe(n){let o=Ew(yo(n)).map(c=>this._registerQuery(c).observable),s=Xr(o);return s=ul(s.pipe(Ie(1)),s.pipe(fl(1),Cf(0))),s.pipe(ft(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:f})=>{l.matches=l.matches||d,l.breakpoints[f]=d}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),s={observable:new Ue(c=>{let l=d=>this._zone.run(()=>c.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(An(r),ft(({matches:c})=>({query:n,matches:c})),me(this._destroySubject)),mql:r};return this._queries.set(n,s),s}};t.\u0275fac=function(r){return new(r||t)(R(wP),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Ew(e){return e.map(t=>t.split(",")).reduce((t,i)=>t.concat(i)).map(t=>t.trim())}var Iw={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var Fa=(()=>{let t=class t{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return CP(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=TP(MP(n));if(r&&(Tw(r)===-1||!this.isVisible(r)))return!1;let o=n.nodeName.toLowerCase(),s=Tw(n);return n.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!PP(n)?!1:o==="audio"?n.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return OP(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}};t.\u0275fac=function(r){return new(r||t)(R(Et))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function TP(e){try{return e.frameElement}catch{return null}}function CP(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function AP(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function SP(e){return DP(e)&&e.type=="hidden"}function RP(e){return kP(e)&&e.hasAttribute("href")}function DP(e){return e.nodeName.toLowerCase()=="input"}function kP(e){return e.nodeName.toLowerCase()=="a"}function Sw(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Tw(e){if(!Sw(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function PP(e){let t=e.nodeName.toLowerCase(),i=t==="input"&&e.type;return i==="text"||i==="password"||t==="select"||t==="textarea"}function OP(e){return SP(e)?!1:AP(e)||RP(e)||e.hasAttribute("contenteditable")||Sw(e)}function MP(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Um=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,i,n,r,o=!1){this._element=t,this._checker=i,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let t=this._startAnchor,i=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),i&&(i.removeEventListener("focus",this.endAnchorListener),i.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let i=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?i.length?i[0]:this._getFirstTabbableElement(this._element):i.length?i[i.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(!this._checker.isFocusable(i)){let n=this._getFirstTabbableElement(i);return n?.focus(t),!!n}return i.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let i=this._getRegionBoundary("start");return i&&i.focus(t),!!i}focusLastTabbableElement(t){let i=this._getRegionBoundary("end");return i&&i.focus(t),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=0;n<i.length;n++){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(i[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let i=t.children;for(let n=i.length-1;n>=0;n--){let r=i[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(i[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,i){t?i.setAttribute("tabindex","0"):i.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ie(1)).subscribe(t)}},ad=(()=>{let t=class t{constructor(n,r,o){this._checker=n,this._ngZone=r,this._document=o}create(n,r=!1){return new Um(n,this._checker,this._ngZone,this._document,r)}};t.\u0275fac=function(r){return new(r||t)(R(Fa),R(q),R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Bm(e){return e.buttons===0||e.detail===0}function zm(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var NP=new $("cdk-input-modality-detector-options"),FP={ignoreKeys:[18,17,224,91,16]},Rw=650,xo=Oi({passive:!0,capture:!0}),LP=(()=>{let t=class t{get mostRecentModality(){return this._modality.value}constructor(n,r,o,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Be(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bn(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Rw||(this._modality.next(Bm(c)?"keyboard":"mouse"),this._mostRecentTarget=bn(c))},this._onTouchstart=c=>{if(zm(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bn(c)},this._options=M(M({},FP),s),this.modalityDetected=this._modality.pipe(fl(1)),this.modalityChanged=this.modalityDetected.pipe(hl()),n.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,xo),o.addEventListener("mousedown",this._onMousedown,xo),o.addEventListener("touchstart",this._onTouchstart,xo)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xo),document.removeEventListener("mousedown",this._onMousedown,xo),document.removeEventListener("touchstart",this._onTouchstart,xo))}};t.\u0275fac=function(r){return new(r||t)(R(Et),R(q),R(Z),R(NP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),VP=new $("liveAnnouncerElement",{providedIn:"root",factory:jP});function jP(){return null}var UP=new $("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),BP=0,Dw=(()=>{let t=class t{constructor(n,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=n||this._createLiveElement()}announce(n,...r){let o=this._defaultOptions,s,c;return r.length===1&&typeof r[0]=="number"?c=r[0]:[s,c]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),c==null&&o&&(c=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=n,typeof c=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let n="cdk-live-announcer-element",r=this._document.getElementsByClassName(n),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(n),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${BP++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(n){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}};t.\u0275fac=function(r){return new(r||t)(R(VP,8),R(q),R(Z),R(UP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var sd=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(sd||{}),zP=new $("cdk-focus-monitor-default-options"),od=Oi({passive:!0,capture:!0}),Eo=(()=>{let t=class t{constructor(n,r,o,s,c){this._ngZone=n,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new et,this._rootNodeFocusAndBlurListener=l=>{let d=bn(l);for(let f=d;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=c?.detectionMode||sd.IMMEDIATE}monitor(n,r=!1){let o=dn(n);if(!this._platform.isBrowser||o.nodeType!==1)return G();let s=yw(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new et,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let r=dn(n),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(n,r,o){let s=dn(n),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===sd.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===sd.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?Rw:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(n,r){let o=this._elementInfo.get(r),s=bn(n);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(n,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,od),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,od)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(me(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,od),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,od),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,o){this._setClasses(n,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((o,s)=>{(s===n||o.checkChildren&&s.contains(n))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};t.\u0275fac=function(r){return new(r||t)(R(q),R(Et),R(LP),R(Z,8),R(zP,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var pr=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(pr||{}),Cw="cdk-high-contrast-black-on-white",Aw="cdk-high-contrast-white-on-black",jm="cdk-high-contrast-active",kw=(()=>{let t=class t{constructor(n,r){this._platform=n,this._document=r,this._breakpointSubscription=V(rd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return pr.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(n):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return pr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return pr.BLACK_ON_WHITE}return pr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(jm,Cw,Aw),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===pr.BLACK_ON_WHITE?n.add(jm,Cw):r===pr.WHITE_ON_BLACK&&n.add(jm,Aw)}}};t.\u0275fac=function(r){return new(r||t)(R(Et),R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $P=new $("cdk-dir-doc",{providedIn:"root",factory:qP});function qP(){return V(Z)}var HP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function GP(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?HP.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var gr=(()=>{let t=class t{constructor(n){if(this.value="ltr",this.change=new Pt,n){let r=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=GP(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};t.\u0275fac=function(r){return new(r||t)(R($P,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $m=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({});let e=t;return e})();function WP(){return!0}var KP=new $("mat-sanity-checks",{providedIn:"root",factory:WP}),oe=(()=>{let t=class t{constructor(n,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Na()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}};t.\u0275fac=function(r){return new(r||t)(R(kw),R(KP,8),R(Z))},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[$m,$m]});let e=t;return e})();var dd=class{constructor(t,i,n,r,o){this._defaultMatcher=t,this.ngControl=i,this._parentFormGroup=n,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let t=this.errorState,i=this._parentFormGroup||this._parentForm,n=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=n?.isErrorState(r,i)??!1;o!==t&&(this.errorState=o,this._stateChanges.next())}};var Bw=(()=>{let t=class t{isErrorState(n,r){return!!(n&&n.invalid&&(n.touched||r&&r.submitted))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var un=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(un||{}),Gm=class{constructor(t,i,n,r=!1){this._renderer=t,this.element=i,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=un.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Ow=Oi({passive:!0,capture:!0}),Wm=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let i=bn(t);i&&this._events.get(t.type)?.forEach((n,r)=>{(r===i||r.contains(i))&&n.forEach(o=>o.handleEvent(t))})}}addHandler(t,i,n,r){let o=this._events.get(i);if(o){let s=o.get(n);s?s.add(r):o.set(n,new Set([r]))}else this._events.set(i,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,Ow)})}removeHandler(t,i,n){let r=this._events.get(t);if(!r)return;let o=r.get(i);o&&(o.delete(n),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Ow)))}},Mw={enterDuration:225,exitDuration:150},YP=800,Nw=Oi({passive:!0,capture:!0}),Fw=["mousedown","touchstart"],Lw=["mouseup","mouseleave","touchend","touchcancel"],La=class La{constructor(t,i,n,r){this._target=t,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=dn(n))}fadeInRipple(t,i,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=M(M({},Mw),n.animation);n.centered&&(t=r.left+r.width/2,i=r.top+r.height/2);let s=n.radius||QP(t,i,r),c=t-r.left,l=i-r.top,d=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${l-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,n.color!=null&&(f.style.backgroundColor=n.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),g=p.transitionProperty,E=p.transitionDuration,k=g==="none"||E==="0s"||E==="0s, 0s"||r.width===0&&r.height===0,O=new Gm(this,f,n,k);f.style.transform="scale3d(1, 1, 1)",O.state=un.FADING_IN,n.persistent||(this._mostRecentTransientRipple=O);let D=null;return!k&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>this._finishRippleTransition(O),Y=()=>this._destroyRipple(O);f.addEventListener("transitionend",z),f.addEventListener("transitioncancel",Y),D={onTransitionEnd:z,onTransitionCancel:Y}}),this._activeRipples.set(O,D),(k||!d)&&this._finishRippleTransition(O),O}fadeOutRipple(t){if(t.state===un.FADING_OUT||t.state===un.HIDDEN)return;let i=t.element,n=M(M({},Mw),t.config.animation);i.style.transitionDuration=`${n.exitDuration}ms`,i.style.opacity="0",t.state=un.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let i=dn(t);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,Fw.forEach(n=>{La._eventManager.addHandler(this._ngZone,n,i,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Lw.forEach(i=>{this._triggerElement.addEventListener(i,this,Nw)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===un.FADING_IN?this._startFadeOutTransition(t):t.state===un.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let i=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=un.VISIBLE,!n&&(!i||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let i=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=un.HIDDEN,i!==null&&(t.element.removeEventListener("transitionend",i.onTransitionEnd),t.element.removeEventListener("transitioncancel",i.onTransitionCancel)),t.element.remove()}_onMousedown(t){let i=Bm(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+YP;!this._target.rippleDisabled&&!i&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!zm(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=t.changedTouches;if(i)for(let n=0;n<i.length;n++)this.fadeInRipple(i[n].clientX,i[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let i=t.state===un.VISIBLE||t.config.terminateOnPointerUp&&t.state===un.FADING_IN;!t.config.persistent&&i&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Fw.forEach(i=>La._eventManager.removeHandler(i,t,this)),this._pointerUpEventsRegistered&&(Lw.forEach(i=>t.removeEventListener(i,this,Nw)),this._pointerUpEventsRegistered=!1))}};La._eventManager=new Wm;var Km=La;function QP(e,t,i){let n=Math.max(Math.abs(e-i.left),Math.abs(e-i.right)),r=Math.max(Math.abs(t-i.top),Math.abs(t-i.bottom));return Math.sqrt(n*n+r*r)}var zw=new $("mat-ripple-global-options"),Ym=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,r,o,s,c){this._elementRef=n,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Km(this,r,n,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:M(M(M({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,r=0,o){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,r,M(M({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,M(M({},this.rippleConfig),n))}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(q),A(Et),A(zw,8),A(ze,8))},t.\u0275dir=tt({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Rt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[vt.None,"matRippleColor","color"],unbounded:[vt.None,"matRippleUnbounded","unbounded"],centered:[vt.None,"matRippleCentered","centered"],radius:[vt.None,"matRippleRadius","radius"],animation:[vt.None,"matRippleAnimation","animation"],disabled:[vt.None,"matRippleDisabled","disabled"],trigger:[vt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let e=t;return e})(),ud=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,oe]});let e=t;return e})();var Vw={capture:!0},jw=["focus","click","mouseenter","touchstart"],qm="mat-ripple-loader-uninitialized",Hm="mat-ripple-loader-class-name",Uw="mat-ripple-loader-centered",ld="mat-ripple-loader-disabled",$w=(()=>{let t=class t{constructor(){this._document=V(Z,{optional:!0}),this._animationMode=V(ze,{optional:!0}),this._globalRippleOptions=V(zw,{optional:!0}),this._platform=V(Et),this._ngZone=V(q),this._hosts=new Map,this._onInteraction=n=>{if(!(n.target instanceof HTMLElement))return;let o=n.target.closest(`[${qm}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let n of jw)this._document?.addEventListener(n,this._onInteraction,Vw)})}ngOnDestroy(){let n=this._hosts.keys();for(let r of n)this.destroyRipple(r);for(let r of jw)this._document?.removeEventListener(r,this._onInteraction,Vw)}configureRipple(n,r){n.setAttribute(qm,""),(r.className||!n.hasAttribute(Hm))&&n.setAttribute(Hm,r.className||""),r.centered&&n.setAttribute(Uw,""),r.disabled&&n.setAttribute(ld,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,r){let o=this._hosts.get(n);if(o){o.disabled=r;return}r?n.setAttribute(ld,""):n.removeAttribute(ld)}_createRipple(n){if(!this._document)return;let r=this._hosts.get(n);if(r)return r;n.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",n.getAttribute(Hm)),n.append(o);let s=new Ym(new mt(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(Uw),s.disabled=n.hasAttribute(ld),this.attachRipple(n,s),s}attachRipple(n,r){n.removeAttribute(qm),this._hosts.set(n,r)}destroyRipple(n){let r=this._hosts.get(n);r&&(r.ngOnDestroy(),this._hosts.delete(n))}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Mi=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=kn(n)}get inset(){return this._inset}set inset(n){this._inset=kn(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(r,o){r&2&&(te("aria-orientation",o.vertical?"vertical":"horizontal"),Rt("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[ot],decls:0,vars:0,template:function(r,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color);border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Io=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,oe]});let e=t;return e})();var Gw=function(e){let t=[],i=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t[i++]=r:r<2048?(t[i++]=r>>6|192,t[i++]=r&63|128):(r&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++n)&1023),t[i++]=r>>18|240,t[i++]=r>>12&63|128,t[i++]=r>>6&63|128,t[i++]=r&63|128):(t[i++]=r>>12|224,t[i++]=r>>6&63|128,t[i++]=r&63|128)}return t},XP=function(e){let t=[],i=0,n=0;for(;i<e.length;){let r=e[i++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[i++];t[n++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[i++],s=e[i++],c=e[i++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let o=e[i++],s=e[i++];t[n++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},Ww={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,c=s?e[r+1]:0,l=r+2<e.length,d=l?e[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,g=(c&15)<<2|d>>6,E=d&63;l||(E=64,s||(g=64)),n.push(i[f],i[p],i[g],i[E])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):XP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<e.length;){let o=i[e.charAt(r++)],c=r<e.length?i[e.charAt(r)]:0;++r;let d=r<e.length?i[e.charAt(r)]:64;++r;let p=r<e.length?i[e.charAt(r)]:64;if(++r,o==null||c==null||d==null||p==null)throw new Zm;let g=o<<2|c>>4;if(n.push(g),d!==64){let E=c<<4&240|d>>2;if(n.push(E),p!==64){let k=d<<6&192|p;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Zm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},ZP=function(e){let t=Gw(e);return Ww.encodeByteArray(t,!0)},Va=function(e){return ZP(e).replace(/\./g,"")},tp=function(e){try{return Ww.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function JP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var tO=()=>JP().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},nO=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&tp(e[1]);return t&&JSON.parse(t)},fd=()=>{try{return tO()||eO()||nO()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},ep=e=>{var t,i;return(i=(t=fd())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[e]},md=e=>{let t=ep(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),n]:[t.substring(0,i),n]},np=()=>{var e;return(e=fd())===null||e===void 0?void 0:e.config},ip=e=>{var t;return(t=fd())===null||t===void 0?void 0:t[`_${e}`]};var hd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,n)=>{i?this.reject(i):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,n))}}};function pd(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i={alg:"none",type:"JWT"},n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Va(JSON.stringify(i)),Va(JSON.stringify(s)),""].join(".")}function le(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(le())}function iO(){var e;let t=(e=fd())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yw(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){let e=le();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zw(){return!iO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rp(){try{return typeof indexedDB=="object"}catch{return!1}}function Jw(){return new Promise((e,t)=>{try{let i=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),i||self.indexedDB.deleteDatabase(n),e(!0)},r.onupgradeneeded=()=>{i=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(i){t(i)}})}var rO="FirebaseError",Le=class e extends Error{constructor(t,i,n){super(i),this.code=t,this.customData=n,this.name=rO,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ii.prototype.create)}},ii=class{constructor(t,i,n){this.service=t,this.serviceName=i,this.errors=n}create(t,...i){let n=i[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?oO(o,n):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new Le(r,c,n)}};function oO(e,t){return e.replace(sO,(i,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var sO=/\{\$([^}]+)}/g;function tx(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function _r(e,t){if(e===t)return!0;let i=Object.keys(e),n=Object.keys(t);for(let r of i){if(!n.includes(r))return!1;let o=e[r],s=t[r];if(Hw(o)&&Hw(s)){if(!_r(o,s))return!1}else if(o!==s)return!1}for(let r of n)if(!i.includes(r))return!1;return!0}function Hw(e){return e!==null&&typeof e=="object"}function To(e){let t=[];for(let[i,n]of Object.entries(e))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ex(e,t){let i=new Jm(e,t);return i.subscribe.bind(i)}var Jm=class{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,n){let r;if(t===void 0&&i===void 0&&n===void 0)throw new Error("Missing Observer.");aO(t,["next","error","complete"])?r=t:r={next:t,error:i,complete:n},r.next===void 0&&(r.next=Xm),r.error===void 0&&(r.error=Xm),r.complete===void 0&&(r.complete=Xm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function aO(e,t){if(typeof e!="object"||e===null)return!1;for(let i of t)if(i in e&&typeof e[i]=="function")return!0;return!1}function Xm(){}var DH=4*60*60*1e3;function Mt(e){return e&&e._delegate?e._delegate:e}var $e=class{constructor(t,i,n){this.name=t,this.instanceFactory=i,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var br="[DEFAULT]";var op=class{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){let n=new hd;if(this.instancesDeferred.set(i,n),this.isInitialized(i)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:i});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(i=t?.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(lO(t))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(let[i,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(i);try{let o=this.getOrInitializeService({instanceIdentifier:r});n.resolve(o)}catch{}}}}clearInstance(t=br){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return b(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=br){return this.instances.has(t)}getOptions(t=br){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:i={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:i});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);n===c&&s.resolve(r)}return r}onInit(t,i){var n;let r=this.normalizeInstanceIdentifier(i),o=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;o.add(t),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&t(s,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){let n=this.onInitCallbacks.get(i);if(n)for(let r of n)try{r(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cO(t),options:i}),this.instances.set(t,n),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=br){return this.component?this.component.multipleInstances?t:br:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function cO(e){return e===br?void 0:e}function lO(e){return e.instantiationMode==="EAGER"}var gd=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let i=new op(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}};var dO=[],_t=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(_t||{}),uO={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},hO=_t.INFO,fO={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},mO=(e,t,...i)=>{if(t<e.logLevel)return;let n=new Date().toISOString(),r=fO[t];if(r)console[r](`[${n}]  ${e.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ni=class{constructor(t){this.name=t,this._logLevel=hO,this._logHandler=mO,this._userLogHandler=null,dO.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...t),this._logHandler(this,_t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...t),this._logHandler(this,_t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...t),this._logHandler(this,_t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...t),this._logHandler(this,_t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...t),this._logHandler(this,_t.ERROR,...t)}};var pO=(e,t)=>t.some(i=>e instanceof i),nx,ix;function gO(){return nx||(nx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _O(){return ix||(ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var rx=new WeakMap,ap=new WeakMap,ox=new WeakMap,sp=new WeakMap,lp=new WeakMap;function bO(e){let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{i(Pn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(i=>{i instanceof IDBCursor&&rx.set(i,e)}).catch(()=>{}),lp.set(t,e),t}function vO(e){if(ap.has(e))return;let t=new Promise((i,n)=>{let r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{i(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});ap.set(e,t)}var cp={get(e,t,i){if(e instanceof IDBTransaction){if(t==="done")return ap.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ox.get(e);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Pn(e[t])},set(e,t,i){return e[t]=i,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sx(e){cp=e(cp)}function yO(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){let n=e.call(_d(this),t,...i);return ox.set(n,t.sort?t.sort():[t]),Pn(n)}:_O().includes(e)?function(...t){return e.apply(_d(this),t),Pn(rx.get(this))}:function(...t){return Pn(e.apply(_d(this),t))}}function wO(e){return typeof e=="function"?yO(e):(e instanceof IDBTransaction&&vO(e),pO(e,gO())?new Proxy(e,cp):e)}function Pn(e){if(e instanceof IDBRequest)return bO(e);if(sp.has(e))return sp.get(e);let t=wO(e);return t!==e&&(sp.set(e,t),lp.set(t,e)),t}var _d=e=>lp.get(e);function cx(e,t,{blocked:i,upgrade:n,blocking:r,terminated:o}={}){let s=indexedDB.open(e,t),c=Pn(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Pn(s.result),l.oldVersion,l.newVersion,Pn(s.transaction),l)}),i&&s.addEventListener("blocked",l=>i(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var xO=["get","getKey","getAll","getAllKeys","count"],EO=["put","add","delete","clear"],dp=new Map;function ax(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(dp.get(t))return dp.get(t);let i=t.replace(/FromIndex$/,""),n=t!==i,r=EO.includes(i);if(!(i in(n?IDBIndex:IDBObjectStore).prototype)||!(r||xO.includes(i)))return;let o=function(s,...c){return b(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),d=l.store;return n&&(d=d.index(c.shift())),(yield Promise.all([d[i](...c),r&&l.done]))[0]})};return dp.set(t,o),o}sx(e=>Tt(M({},e),{get:(t,i,n)=>ax(t,i)||e.get(t,i,n),has:(t,i)=>!!ax(t,i)||e.has(t,i)}));var hp=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IO(i)){let n=i.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(i=>i).join(" ")}};function IO(e){let t=e.getComponent();return t?.type==="VERSION"}var fp="@firebase/app",lx="0.10.5";var vr=new Ni("@firebase/app"),TO="@firebase/app-compat",CO="@firebase/analytics-compat",AO="@firebase/analytics",SO="@firebase/app-check-compat",RO="@firebase/app-check",DO="@firebase/auth",kO="@firebase/auth-compat",PO="@firebase/database",OO="@firebase/database-compat",MO="@firebase/functions",NO="@firebase/functions-compat",FO="@firebase/installations",LO="@firebase/installations-compat",VO="@firebase/messaging",jO="@firebase/messaging-compat",UO="@firebase/performance",BO="@firebase/performance-compat",zO="@firebase/remote-config",$O="@firebase/remote-config-compat",qO="@firebase/storage",HO="@firebase/storage-compat",GO="@firebase/firestore",WO="@firebase/vertexai-preview",KO="@firebase/firestore-compat",YO="firebase",QO="10.12.2";var mp="[DEFAULT]",XO={[fp]:"fire-core",[TO]:"fire-core-compat",[AO]:"fire-analytics",[CO]:"fire-analytics-compat",[RO]:"fire-app-check",[SO]:"fire-app-check-compat",[DO]:"fire-auth",[kO]:"fire-auth-compat",[PO]:"fire-rtdb",[OO]:"fire-rtdb-compat",[MO]:"fire-fn",[NO]:"fire-fn-compat",[FO]:"fire-iid",[LO]:"fire-iid-compat",[VO]:"fire-fcm",[jO]:"fire-fcm-compat",[UO]:"fire-perf",[BO]:"fire-perf-compat",[zO]:"fire-rc",[$O]:"fire-rc-compat",[qO]:"fire-gcs",[HO]:"fire-gcs-compat",[GO]:"fire-fst",[KO]:"fire-fst-compat",[WO]:"fire-vertex","fire-js":"fire-js",[YO]:"fire-js-all"};var ja=new Map,ZO=new Map,pp=new Map;function dx(e,t){try{e.container.addComponent(t)}catch(i){vr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}function On(e){let t=e.name;if(pp.has(t))return vr.debug(`There were multiple attempts to register component ${t}.`),!1;pp.set(t,e);for(let i of ja.values())dx(i,e);for(let i of ZO.values())dx(i,e);return!0}function yr(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}function Mn(e){return e.settings!==void 0}var JO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fi=new ii("app","Firebase",JO);var gp=class{constructor(t,i,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $e("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fi.create("app-deleted",{appName:this._name})}};var Nn=QO;function vp(e,t={}){let i=e;typeof t!="object"&&(t={name:t});let n=Object.assign({name:mp,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw Fi.create("bad-app-name",{appName:String(r)});if(i||(i=np()),!i)throw Fi.create("no-options");let o=ja.get(r);if(o){if(_r(i,o.options)&&_r(n,o.config))return o;throw Fi.create("duplicate-app",{appName:r})}let s=new gd(r);for(let l of pp.values())s.addComponent(l);let c=new gp(i,n,s);return ja.set(r,c),c}function Li(e=mp){let t=ja.get(e);if(!t&&e===mp&&np())return vp();if(!t)throw Fi.create("no-app",{appName:e});return t}function bd(){return Array.from(ja.values())}function Wt(e,t,i){var n;let r=(n=XO[e])!==null&&n!==void 0?n:e;i&&(r+=`-${i}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${t}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vr.warn(c.join(" "));return}On(new $e(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var t1="firebase-heartbeat-database",e1=1,Ua="firebase-heartbeat-store",up=null;function mx(){return up||(up=cx(t1,e1,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ua)}catch(i){console.warn(i)}}}}).catch(e=>{throw Fi.create("idb-open",{originalErrorMessage:e.message})})),up}function n1(e){return b(this,null,function*(){try{let i=(yield mx()).transaction(Ua),n=yield i.objectStore(Ua).get(px(e));return yield i.done,n}catch(t){if(t instanceof Le)vr.warn(t.message);else{let i=Fi.create("idb-get",{originalErrorMessage:t?.message});vr.warn(i.message)}}})}function ux(e,t){return b(this,null,function*(){try{let n=(yield mx()).transaction(Ua,"readwrite");yield n.objectStore(Ua).put(t,px(e)),yield n.done}catch(i){if(i instanceof Le)vr.warn(i.message);else{let n=Fi.create("idb-set",{originalErrorMessage:i?.message});vr.warn(n.message)}}})}function px(e){return`${e.name}!${e.options.appId}`}var i1=1024,r1=30*24*60*60*1e3,_p=class{constructor(t){this.container=t,this._heartbeatsCache=null;let i=this.container.getProvider("app").getImmediate();this._storage=new bp(i),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return b(this,null,function*(){var t,i;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hx();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=r1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let i=hx(),{heartbeatsToSend:n,unsentEntries:r}=o1(this._heartbeatsCache.heartbeats),o=Va(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=i,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function hx(){return new Date().toISOString().substring(0,10)}function o1(e,t=i1){let i=[],n=e.slice();for(let r of e){let o=i.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),fx(i)>t){o.dates.pop();break}}else if(i.push({agent:r.agent,dates:[r.date]}),fx(i)>t){i.pop();break}n=n.slice(1)}return{heartbeatsToSend:i,unsentEntries:n}}var bp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return rp()?Jw().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let i=yield n1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ux(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return b(this,null,function*(){var i;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return ux(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function fx(e){return Va(JSON.stringify({version:2,heartbeats:e})).length}function s1(e){On(new $e("platform-logger",t=>new hp(t),"PRIVATE")),On(new $e("heartbeat",t=>new _p(t),"PRIVATE")),Wt(fp,lx,e),Wt(fp,lx,"esm2017"),Wt("fire-js","")}s1("");var a1="firebase",c1="10.12.2";Wt(a1,c1,"app");var xr=new ao("ANGULARFIRE2_VERSION");function yd(e,t,i){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===i);if(o.length===1)return o[0]}return i.container.getProvider(e).getImmediate({optional:!0})}var Ba=(e,t)=>{let i=t?[t]:bd(),n=[];return i.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{n.includes(s)||n.push(s)})}),n},Ao=class{constructor(){return Ba(l1)}},l1="app-check";function Co(){}var vd=class{zone;delegate;constructor(t,i=xy){this.zone=t,this.delegate=i}now(){return this.delegate.now()}schedule(t,i,n){let r=this.zone,o=function(s){r.runGuarded(()=>{t.apply(this,[s])})};return this.delegate.schedule(o,i,n)}},yp=class{zone;task=null;constructor(t){this.zone=t}call(t,i){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co)),i.pipe(Jt({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},So=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new vd(Zone.current)),this.insideAngular=i.run(()=>new vd(Zone.current,wy)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||e)(R(q))};static \u0275prov=U({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wd(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function d1(e){return wd().ngZone.runOutsideAngular(()=>e())}function wr(e){return wd().ngZone.run(()=>e())}function u1(e){return h1(wd())(e)}function h1(e){return function(i){return i=i.lift(new yp(e.ngZone)),i.pipe(wf(e.outsideAngular),yf(e.insideAngular))}}var f1=(e,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),wr(()=>e.apply(void 0,n))},Kt=(e,t)=>function(){let i,n=arguments;for(let o=0;o<arguments.length;o++)typeof n[o]=="function"&&(t&&(i||=wr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Co,{},Co,Co))),n[o]=f1(n[o],i));let r=d1(()=>e.apply(this,n));if(!t)if(r instanceof Ue){let o=wd();return r.pipe(wf(o.outsideAngular),yf(o.insideAngular))}else return wr(()=>r);return r instanceof Ue?r.pipe(u1):r instanceof Promise?wr(()=>new Promise((o,s)=>r.then(c=>wr(()=>o(c)),c=>wr(()=>s(c))))):typeof r=="function"&&i?function(){return setTimeout(()=>{i&&i.state==="scheduled"&&i.invoke()},10),r.apply(this,arguments)}:wr(()=>r)};var ri=class{constructor(t){return t}},Er=class{constructor(){return bd()}};function m1(e){return e&&e.length===1?e[0]:new ri(Li())}var wp=new $("angularfire2._apps"),p1={provide:ri,useFactory:m1,deps:[[new Pe,wp]]},g1={provide:Er,deps:[[new Pe,wp]]};function _1(e){return(t,i)=>{let n=i.get(Ke);Wt("angularfire",xr.full,"core"),Wt("angularfire",xr.full,"app"),Wt("angular",Yy.full,n.toString());let r=t.runOutsideAngular(()=>e(i));return new ri(r)}}function gx(e,...t){return We([p1,g1,{provide:wp,useFactory:_1(e),multi:!0,deps:[q,Ot,So,...t]}])}var _x=Kt(vp,!0);function Px(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ox=Px,Mx=new ii("auth","Firebase",Px());var Ad=new Ni("@firebase/auth");function b1(e,...t){Ad.logLevel<=_t.WARN&&Ad.warn(`Auth (${Nn}): ${e}`,...t)}function Ed(e,...t){Ad.logLevel<=_t.ERROR&&Ad.error(`Auth (${Nn}): ${e}`,...t)}function Ln(e,...t){throw jp(e,...t)}function yn(e,...t){return jp(e,...t)}function Vp(e,t,i){let n=Object.assign(Object.assign({},Ox()),{[t]:i});return new ii("auth","Firebase",n).create(t,{appName:e.name})}function Ir(e){return Vp(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v1(e,t,i){let n=i;if(!(t instanceof n))throw n.name!==t.constructor.name&&Ln(e,"argument-error"),Vp(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function jp(e,...t){if(typeof e!="string"){let i=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(i,...n)}return Mx.create(e,...t)}function it(e,t,...i){if(!e)throw jp(t,...i)}function oi(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Ed(t),new Error(t)}function ai(e,t){e||oi(t)}function Ip(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function y1(){return bx()==="http:"||bx()==="https:"}function bx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function w1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y1()||Yw()||"connection"in navigator)?navigator.onLine:!0}function x1(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Tr=class{constructor(t,i){this.shortDelay=t,this.longDelay=i,ai(i>t,"Short delay should be less than long delay!"),this.isMobile=Kw()||Qw()}get(){return w1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Up(e,t){ai(e.emulator,"Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}var Sd=class{static initialize(t,i,n){this.fetchImpl=t,i&&(this.headersImpl=i),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var E1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var I1=new Tr(3e4,6e4);function Bp(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ko(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){return Nx(e,r,()=>b(this,null,function*(){let d={},f={};n&&(t==="GET"?f=n:d={body:JSON.stringify(n)});let p=To(Object.assign({key:e.config.apiKey},f)).slice(1),g=yield e._getAdditionalHeaders();return g["Content-Type"]="application/json",e.languageCode&&(g["X-Firebase-Locale"]=e.languageCode),Sd.fetch()(Fx(e,e.config.apiHost,i,p),Object.assign({method:t,headers:g,referrerPolicy:"no-referrer"},d))}))})}function Nx(e,t,i){return b(this,null,function*(){e._canInitEmulator=!1;let n=Object.assign(Object.assign({},E1),t);try{let r=new Tp(e),o=yield Promise.race([i(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw xd(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw xd(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw xd(e,"user-disabled",s);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Vp(e,f,d);Ln(e,f)}}catch(r){if(r instanceof Le)throw r;Ln(e,"network-request-failed",{message:String(r)})}})}function T1(o,s,c,l){return b(this,arguments,function*(e,t,i,n,r={}){let d=yield ko(e,t,i,n,r);return"mfaPendingCredential"in d&&Ln(e,"multi-factor-auth-required",{_serverResponse:d}),d})}function Fx(e,t,i,n){let r=`${t}${i}?${n}`;return e.config.emulator?Up(e.config,r):`${e.config.apiScheme}://${r}`}var Tp=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,n)=>{this.timer=setTimeout(()=>n(yn(this.auth,"network-request-failed")),I1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xd(e,t,i){let n={appName:e.name};i.email&&(n.email=i.email),i.phoneNumber&&(n.phoneNumber=i.phoneNumber);let r=yn(e,t,n);return r.customData._tokenResponse=i,r}function C1(e,t){return b(this,null,function*(){return ko(e,"POST","/v1/accounts:delete",t)})}function Lx(e,t){return b(this,null,function*(){return ko(e,"POST","/v1/accounts:lookup",t)})}function za(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function zp(e,t=!1){return b(this,null,function*(){let i=Mt(e),n=yield i.getIdToken(t),r=$p(n);it(r&&r.exp&&r.auth_time&&r.iat,i.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:n,authTime:za(xp(r.auth_time)),issuedAtTime:za(xp(r.iat)),expirationTime:za(xp(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function xp(e){return Number(e)*1e3}function $p(e){let[t,i,n]=e.split(".");if(t===void 0||i===void 0||n===void 0)return Ed("JWT malformed, contained fewer than 3 sections"),null;try{let r=tp(i);return r?JSON.parse(r):(Ed("Failed to decode base64 JWT payload"),null)}catch(r){return Ed("Caught error parsing JWT payload as JSON",r?.toString()),null}}function vx(e){let t=$p(e);return it(t,"internal-error"),it(typeof t.exp<"u","internal-error"),it(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function qa(e,t,i=!1){return b(this,null,function*(){if(i)return t;try{return yield t}catch(n){throw n instanceof Le&&A1(n)&&e.auth.currentUser===e&&(yield e.auth.signOut()),n}})}function A1({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var Cp=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let i=this.getInterval(t);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),i)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ha=class{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=za(this.lastLoginAt),this.creationTime=za(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rd(e){return b(this,null,function*(){var t;let i=e.auth,n=yield e.getIdToken(),r=yield qa(e,Lx(i,{idToken:n}));it(r?.users.length,i,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Vx(o.providerUserInfo):[],c=S1(e.providerData,s),l=e.isAnonymous,d=!(e.email&&o.passwordHash)&&!c?.length,f=l?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ha(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(e,p)})}function qp(e){return b(this,null,function*(){let t=Mt(e);yield Rd(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function S1(e,t){return[...e.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function Vx(e){return e.map(t=>{var{providerId:i}=t,n=dl(t,["providerId"]);return{providerId:i,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function R1(e,t){return b(this,null,function*(){let i=yield Nx(e,{},()=>b(this,null,function*(){let n=To({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=Fx(e,r,"/v1/token",`key=${o}`),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Sd.fetch()(s,{method:"POST",headers:c,body:n})}));return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}})}function D1(e,t){return b(this,null,function*(){return ko(e,"POST","/v2/accounts:revokeToken",Bp(e,t))})}var $a=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){it(t.idToken,"internal-error"),it(typeof t.idToken<"u","internal-error"),it(typeof t.refreshToken<"u","internal-error");let i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):vx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){it(t.length!==0,"internal-error");let i=vx(t);this.updateTokensAndExpiration(t,null,i)}getToken(t,i=!1){return b(this,null,function*(){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(it(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,i){return b(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:o}=yield R1(t,i);this.updateTokensAndExpiration(n,r,Number(o))})}updateTokensAndExpiration(t,i,n){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,i){let{refreshToken:n,accessToken:r,expirationTime:o}=i,s=new e;return n&&(it(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),r&&(it(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(it(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return oi("not implemented")}};function Vi(e,t){it(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Do=class e{constructor(t){var{uid:i,auth:n,stsTokenManager:r}=t,o=dl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ha(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return b(this,null,function*(){let i=yield qa(this,this.stsTokenManager.getToken(this.auth,t));return it(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i})}getIdTokenResult(t){return zp(this,t)}reload(){return qp(this)}_assign(t){this!==t&&(it(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let i=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){it(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,i=!1){return b(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),i&&(yield Rd(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(Mn(this.auth.app))return Promise.reject(Ir(this.auth));let t=yield this.getIdToken();return yield qa(this,C1(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var n,r,o,s,c,l,d,f;let p=(n=i.displayName)!==null&&n!==void 0?n:void 0,g=(r=i.email)!==null&&r!==void 0?r:void 0,E=(o=i.phoneNumber)!==null&&o!==void 0?o:void 0,k=(s=i.photoURL)!==null&&s!==void 0?s:void 0,O=(c=i.tenantId)!==null&&c!==void 0?c:void 0,D=(l=i._redirectEventId)!==null&&l!==void 0?l:void 0,z=(d=i.createdAt)!==null&&d!==void 0?d:void 0,Y=(f=i.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:J,emailVerified:at,isAnonymous:zt,providerData:X,stsTokenManager:w}=i;it(J&&w,t,"internal-error");let _=$a.fromJSON(this.name,w);it(typeof J=="string",t,"internal-error"),Vi(p,t.name),Vi(g,t.name),it(typeof at=="boolean",t,"internal-error"),it(typeof zt=="boolean",t,"internal-error"),Vi(E,t.name),Vi(k,t.name),Vi(O,t.name),Vi(D,t.name),Vi(z,t.name),Vi(Y,t.name);let v=new e({uid:J,auth:t,email:g,emailVerified:at,displayName:p,isAnonymous:zt,photoURL:k,phoneNumber:E,tenantId:O,stsTokenManager:_,createdAt:z,lastLoginAt:Y});return X&&Array.isArray(X)&&(v.providerData=X.map(x=>Object.assign({},x))),D&&(v._redirectEventId=D),v}static _fromIdTokenResponse(t,i,n=!1){return b(this,null,function*(){let r=new $a;r.updateFromServerResponse(i);let o=new e({uid:i.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield Rd(o),o})}static _fromGetAccountInfoResponse(t,i,n){return b(this,null,function*(){let r=i.users[0];it(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Vx(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new $a;c.updateFromIdToken(n);let l=new e({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Ha(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var yx=new Map;function si(e){ai(e instanceof Function,"Expected a class definition");let t=yx.get(e);return t?(ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yx.set(e,t),t)}var k1=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(i,n){return b(this,null,function*(){this.storage[i]=n})}_get(i){return b(this,null,function*(){let n=this.storage[i];return n===void 0?null:n})}_remove(i){return b(this,null,function*(){delete this.storage[i]})}_addListener(i,n){}_removeListener(i,n){}}return e.type="NONE",e})(),Ap=k1;function Id(e,t,i){return`firebase:${e}:${t}:${i}`}var Dd=class e{constructor(t,i,n){this.persistence=t,this.auth=i,this.userKey=n;let{config:r,name:o}=this.auth;this.fullUserKey=Id(this.userKey,r.apiKey,o),this.fullPersistenceKey=Id("persistence",r.apiKey,o),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return b(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?Do._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return b(this,null,function*(){if(this.persistence===t)return;let i=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,i,n="authUser"){return b(this,null,function*(){if(!i.length)return new e(si(Ap),t,n);let r=(yield Promise.all(i.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||si(Ap),s=Id(n,t.config.apiKey,t.name),c=null;for(let d of i)try{let f=yield d._get(s);if(f){let p=Do._fromJSON(t,f);d!==o&&(c=p),o=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new e(o,t,n):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(i.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new e(o,t,n))})}};function wx(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Bx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($x(t))return"Blackberry";if(qx(t))return"Webos";if(Hp(t))return"Safari";if((t.includes("chrome/")||Ux(t))&&!t.includes("edge/"))return"Chrome";if(zx(t))return"Android";{let i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(i);if(n?.length===2)return n[1]}return"Other"}function jx(e=le()){return/firefox\//i.test(e)}function Hp(e=le()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ux(e=le()){return/crios\//i.test(e)}function Bx(e=le()){return/iemobile/i.test(e)}function zx(e=le()){return/android/i.test(e)}function $x(e=le()){return/blackberry/i.test(e)}function qx(e=le()){return/webos/i.test(e)}function jd(e=le()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function P1(e=le()){var t;return jd(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function O1(){return Xw()&&document.documentMode===10}function Hx(e=le()){return jd(e)||zx(e)||qx(e)||$x(e)||/windows phone/i.test(e)||Bx(e)}function M1(){try{return!!(window&&window!==window.top)}catch{return!1}}function Gx(e,t=[]){let i;switch(e){case"Browser":i=wx(le());break;case"Worker":i=`${wx(le())}-${e}`;break;default:i=e}let n=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Nn}/${n}`}var Sp=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){let n=o=>new Promise((s,c)=>{try{let l=t(o);s(l)}catch(l){c(l)}});n.onAbort=i,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return b(this,null,function*(){if(this.auth.currentUser===t)return;let i=[];try{for(let n of this.queue)yield n(t),n.onAbort&&i.push(n.onAbort)}catch(n){i.reverse();for(let r of i)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function N1(i){return b(this,arguments,function*(e,t={}){return ko(e,"GET","/v2/passwordPolicy",Bp(e,t))})}var F1=6,Rp=class{constructor(t){var i,n,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=s.minPasswordLength)!==null&&i!==void 0?i:F1,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,n,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(i=l.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,i){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(i.meetsMinPasswordLength=t.length>=n),r&&(i.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(i,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,i,n,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Dp=class{constructor(t,i,n,r){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kd(this),this.idTokenSubscription=new kd(this),this.beforeStateQueue=new Sp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=si(i)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Dd.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(i),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return b(this,null,function*(){try{let i=yield Lx(this,{idToken:t}),n=yield Do._fromGetAccountInfoResponse(this,i,t);yield this.directlySetCurrentUser(n)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return b(this,null,function*(){var i;if(Mn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return it(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return b(this,null,function*(){let i=null;try{i=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return i})}reloadAndSetCurrentUserOrClear(t){return b(this,null,function*(){try{yield Rd(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=x1()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return b(this,null,function*(){if(Mn(this.app))return Promise.reject(Ir(this));let i=t?Mt(t):null;return i&&it(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))})}_updateCurrentUser(t,i=!1){return b(this,null,function*(){if(!this._deleted)return t&&it(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return Mn(this.app)?Promise.reject(Ir(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Mn(this.app)?Promise.reject(Ir(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(si(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let t=yield N1(this),i=new Rp(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ii("auth","Firebase",t())}onAuthStateChanged(t,i,n){return this.registerStateListener(this.authStateSubscription,t,i,n)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,n){return this.registerStateListener(this.idTokenSubscription,t,i,n)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},i)}})}revokeAccessToken(t){return b(this,null,function*(){if(this.currentUser){let i=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(n.tenantId=this.tenantId),yield D1(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,i){return b(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(i);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return b(this,null,function*(){if(!this.redirectPersistenceManager){let i=t&&si(t)||this._popupRedirectResolver;it(i,this,"argument-error"),this.redirectPersistenceManager=yield Dd.create(this,[si(i._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return b(this,null,function*(){var i,n;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return b(this,null,function*(){if(t===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,n,r){if(this._deleted)return()=>{};let o=typeof i=="function"?i:i.next.bind(i),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(it(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof i=="function"){let l=t.addObserver(i,n,r);return()=>{s=!0,l()}}else{let l=t.addObserver(i);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return b(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return it(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Gx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var t;let i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(i["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(i["X-Firebase-AppCheck"]=r),i})}_getAppCheckToken(){return b(this,null,function*(){var t;let i=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return i?.error&&b1(`Error while retrieving App Check token: ${i.error}`),i?.token})}};function Ud(e){return Mt(e)}var kd=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=ex(i=>this.observer=i)}get next(){return it(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Gp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function L1(e){Gp=e}function V1(e){return Gp.loadJS(e)}function j1(){return Gp.gapiScript}function Wx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function Wp(e,t){let i=yr(e,"auth");if(i.isInitialized()){let r=i.getImmediate(),o=i.getOptions();if(_r(o,t??{}))return r;Ln(r,"already-initialized")}return i.initialize({options:t})}function U1(e,t){let i=t?.persistence||[],n=(Array.isArray(i)?i:[i]).map(si);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t?.popupRedirectResolver)}function Kp(e,t,i){let n=Ud(e);it(n._canInitEmulator,n,"emulator-config-failed"),it(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");let r=!!i?.disableWarnings,o=Kx(t),{host:s,port:c}=B1(t),l=c===null?"":`:${c}`;n.config.emulator={url:`${o}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||z1()}function Kx(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function B1(e){let t=Kx(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let n=i[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(n);if(r){let o=r[1];return{host:o,port:xx(n.substr(o.length+1))}}else{let[o,s]=n.split(":");return{host:o,port:xx(s)}}}function xx(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function z1(){function e(){let t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var Ga=class{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,i){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}};function Ro(e,t){return b(this,null,function*(){return T1(e,"POST","/v1/accounts:signInWithIdp",Bp(e,t))})}var $1="http://localhost",Pd=class e extends Ga{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let i=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let i=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:r}=i,o=dl(i,["providerId","signInMethod"]);if(!n||!r)return null;let s=new e(n,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let i=this.buildRequest();return Ro(t,i)}_linkToIdToken(t,i){let n=this.buildRequest();return n.idToken=i,Ro(t,n)}_getReauthenticationResolver(t){let i=this.buildRequest();return i.autoCreate=!1,Ro(t,i)}buildRequest(){let t={requestUri:$1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=To(i)}return t}};var Wa=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Od=class extends Wa{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Yp=(()=>{class e extends Od{constructor(){super("google.com"),this.addScope("profile")}static credential(i,n){return Pd._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:n})}static credentialFromResult(i){return e.credentialFromTaggedObject(i)}static credentialFromError(i){return e.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;let{oauthIdToken:n,oauthAccessToken:r}=i;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}}e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com";return e})();var Ka=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,i,n,r=!1){return b(this,null,function*(){let o=yield Do._fromIdTokenResponse(t,n,r),s=Ex(n);return new e({user:o,providerId:s,_tokenResponse:n,operationType:i})})}static _forOperation(t,i,n){return b(this,null,function*(){yield t._updateTokensIfNecessary(n,!0);let r=Ex(n);return new e({user:t,providerId:r,_tokenResponse:n,operationType:i})})}};function Ex(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var kp=class e extends Le{constructor(t,i,n,r){var o;super(i.code,i.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:i.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,i,n,r){return new e(t,i,n,r)}};function Yx(e,t,i,n){return(t==="reauthenticate"?i._getReauthenticationResolver(e):i._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kp._fromErrorAndOperation(e,o,t,n):o})}function q1(e,t,i=!1){return b(this,null,function*(){let n=yield qa(e,t._linkToIdToken(e.auth,yield e.getIdToken()),i);return Ka._forOperation(e,"link",n)})}function H1(e,t,i=!1){return b(this,null,function*(){let{auth:n}=e;if(Mn(n.app))return Promise.reject(Ir(n));let r="reauthenticate";try{let o=yield qa(e,Yx(n,r,t,e),i);it(o.idToken,n,"internal-error");let s=$p(o.idToken);it(s,n,"internal-error");let{sub:c}=s;return it(e.uid===c,n,"user-mismatch"),Ka._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ln(n,"user-mismatch"),o}})}function G1(e,t,i=!1){return b(this,null,function*(){if(Mn(e.app))return Promise.reject(Ir(e));let n="signIn",r=yield Yx(e,n,t),o=yield Ka._fromIdTokenResponse(e,n,r);return i||(yield e._updateCurrentUser(o.user)),o})}function Bd(e,t,i,n){return Mt(e).onIdTokenChanged(t,i,n)}function Qp(e,t,i){return Mt(e).beforeAuthStateChanged(t,i)}function zd(e,t,i,n){return Mt(e).onAuthStateChanged(t,i,n)}function Xp(e){return Mt(e).signOut()}var Md="__sak";var Nd=class{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){let i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};function W1(){let e=le();return Hp(e)||jd(e)}var K1=1e3,Y1=10,Q1=(()=>{class e extends Nd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,n)=>this.onStorageEvent(i,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=W1()&&M1(),this.fallbackToPolling=Hx(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(let n of Object.keys(this.listeners)){let r=this.storage.getItem(n),o=this.localCache[n];r!==o&&i(n,o,r)}}onStorageEvent(i,n=!1){if(!i.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let r=i.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(i.newValue!==c)i.newValue!==null?this.storage.setItem(r,i.newValue):this.storage.removeItem(r);else if(this.localCache[r]===i.newValue&&!n)return}let o=()=>{let c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);O1()&&s!==i.newValue&&i.newValue!==i.oldValue?setTimeout(o,Y1):o()}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:n,newValue:r}),!0)})},K1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(i,n){return b(this,null,function*(){yield Ai(e.prototype,this,"_set").call(this,i,n),this.localCache[i]=JSON.stringify(n)})}_get(i){return b(this,null,function*(){let n=yield Ai(e.prototype,this,"_get").call(this,i);return this.localCache[i]=JSON.stringify(n),n})}_remove(i){return b(this,null,function*(){yield Ai(e.prototype,this,"_remove").call(this,i),delete this.localCache[i]})}}return e.type="LOCAL",e})(),Qx=Q1;var X1=(()=>{class e extends Nd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,n){}_removeListener(i,n){}}return e.type="SESSION",e})(),Zp=X1;function Z1(e){return Promise.all(e.map(t=>b(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}})))}var J1=(()=>{class e{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){let n=this.receivers.find(o=>o.isListeningto(i));if(n)return n;let r=new e(i);return this.receivers.push(r),r}isListeningto(i){return this.eventTarget===i}handleEvent(i){return b(this,null,function*(){let n=i,{eventId:r,eventType:o,data:s}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(f=>b(this,null,function*(){return f(n.origin,s)})),d=yield Z1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(i,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(n)}_unsubscribe(i,n){this.handlersMap[i]&&n&&this.handlersMap[i].delete(n),(!n||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function Jp(e="",t=10){let i="";for(let n=0;n<t;n++)i+=Math.floor(Math.random()*10);return e+i}var Pp=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,i,n=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let d=Jp("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(p){let g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:d,data:i},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Fn(){return window}function tM(e){Fn().location.href=e}function Xx(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}function eM(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nM(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function iM(){return Xx()?self:null}var Zx="firebaseLocalStorageDb",rM=1,Fd="firebaseLocalStorage",Jx="fbase_key",Cr=class{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}};function $d(e,t){return e.transaction([Fd],t?"readwrite":"readonly").objectStore(Fd)}function oM(){let e=indexedDB.deleteDatabase(Zx);return new Cr(e).toPromise()}function Op(){let e=indexedDB.open(Zx,rM);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let n=e.result;try{n.createObjectStore(Fd,{keyPath:Jx})}catch(r){i(r)}}),e.addEventListener("success",()=>b(this,null,function*(){let n=e.result;n.objectStoreNames.contains(Fd)?t(n):(n.close(),yield oM(),t(yield Op()))}))})}function Ix(e,t,i){return b(this,null,function*(){let n=$d(e,!0).put({[Jx]:t,value:i});return new Cr(n).toPromise()})}function sM(e,t){return b(this,null,function*(){let i=$d(e,!1).get(t),n=yield new Cr(i).toPromise();return n===void 0?null:n.value})}function Tx(e,t){let i=$d(e,!0).delete(t);return new Cr(i).toPromise()}var aM=800,cM=3,lM=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Op(),this.db)})}_withRetries(i){return b(this,null,function*(){let n=0;for(;;)try{let r=yield this._openDb();return yield i(r)}catch(r){if(n++>cM)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return Xx()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=J1._getInstance(iM()),this.receiver._subscribe("keyChanged",(i,n)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(i,n)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var i,n;if(this.activeServiceWorker=yield eM(),!this.activeServiceWorker)return;this.sender=new Pp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((i=r[0])===null||i===void 0)&&i.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(i){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nM()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let i=yield Op();return yield Ix(i,Md,"1"),yield Tx(i,Md),!0}catch{}return!1})}_withPendingWrite(i){return b(this,null,function*(){this.pendingWrites++;try{yield i()}finally{this.pendingWrites--}})}_set(i,n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>Ix(r,i,n)),this.localCache[i]=n,this.notifyServiceWorker(i)}))})}_get(i){return b(this,null,function*(){let n=yield this._withRetries(r=>sM(r,i));return this.localCache[i]=n,n})}_remove(i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(n=>Tx(n,i)),delete this.localCache[i],this.notifyServiceWorker(i)}))})}_poll(){return b(this,null,function*(){let i=yield this._withRetries(o=>{let s=$d(o,!1).getAll();return new Cr(s).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];let n=[],r=new Set;if(i.length!==0)for(let{fbase_key:o,value:s}of i)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(i,n){this.localCache[i]=n;let r=this.listeners[i];if(r)for(let o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(n)}_removeListener(i,n){this.listeners[i]&&(this.listeners[i].delete(n),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),tE=lM;var IG=Wx("rcb"),TG=new Tr(3e4,6e4);function eE(e,t){return t?si(t):(it(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Ya=class extends Ga{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ro(t,this._buildIdpRequest())}_buildIdpRequest(t){let i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}};function dM(e){return G1(e.auth,new Ya(e),e.bypassAuthState)}function uM(e){let{auth:t,user:i}=e;return it(i,t,"internal-error"),H1(i,new Ya(e),e.bypassAuthState)}function hM(e){return b(this,null,function*(){let{auth:t,user:i}=e;return it(i,t,"internal-error"),q1(i,new Ya(e),e.bypassAuthState)})}var Ld=class{constructor(t,i,n,r,o=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise((t,i)=>b(this,null,function*(){this.pendingPromise={resolve:t,reject:i};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(t){return b(this,null,function*(){let{urlResponse:i,sessionId:n,postBody:r,tenantId:o,error:s,type:c}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:i,sessionId:n,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(d){this.reject(d)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dM;case"linkViaPopup":case"linkViaRedirect":return hM;case"reauthViaPopup":case"reauthViaRedirect":return uM;default:Ln(this.auth,"internal-error")}}resolve(t){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var fM=new Tr(2e3,1e4);function tg(e,t,i){return b(this,null,function*(){if(Mn(e.app))return Promise.reject(yn(e,"operation-not-supported-in-this-environment"));let n=Ud(e);v1(e,t,Wa);let r=eE(n,i);return new mM(n,"signInViaPopup",t,r).executeNotNull()})}var mM=(()=>{class e extends Ld{constructor(i,n,r,o,s){super(i,n,o,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){return b(this,null,function*(){let i=yield this.execute();return it(i,this.auth,"internal-error"),i})}onExecution(){return b(this,null,function*(){ai(this.filter.length===1,"Popup operations only handle one event");let i=Jp();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let i=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,fM.get())};i()}}e.currentPopupAction=null;return e})(),pM="pendingRedirect",Td=new Map,Mp=class e extends Ld{constructor(t,i,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,n),this.eventId=null}execute(){return b(this,null,function*(){let t=Td.get(this.auth._key());if(!t){try{let n=(yield gM(this.resolver,this.auth))?yield Ai(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(n)}catch(i){t=()=>Promise.reject(i)}Td.set(this.auth._key(),t)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return b(this,null,function*(){if(t.type==="signInViaRedirect")return Ai(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let i=yield this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,Ai(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function gM(e,t){return b(this,null,function*(){let i=vM(t),n=bM(e);if(!(yield n._isAvailable()))return!1;let r=(yield n._get(i))==="true";return yield n._remove(i),r})}function _M(e,t){Td.set(e._key(),t)}function bM(e){return si(e._redirectPersistence)}function vM(e){return Id(pM,e.config.apiKey,e.name)}function yM(e,t,i=!1){return b(this,null,function*(){if(Mn(e.app))return Promise.reject(Ir(e));let n=Ud(e),r=eE(n,t),s=yield new Mp(n,r,i).execute();return s&&!i&&(delete s.user._redirectEventId,yield n._persistUserIfCurrent(s.user),yield n._setRedirectUser(null,t)),s})}var wM=10*60*1e3,Np=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(i=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xM(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var n;if(t.error&&!nE(t)){let r=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";i.onError(yn(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){let n=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cx(t))}saveEventToCache(t){this.cachedEventUids.add(Cx(t)),this.lastProcessedEventTime=Date.now()}};function Cx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function nE({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function xM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nE(e);default:return!1}}function EM(i){return b(this,arguments,function*(e,t={}){return ko(e,"GET","/v1/projects",t)})}var IM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TM=/^https?/;function CM(e){return b(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield EM(e);for(let i of t)try{if(AM(i))return}catch{}Ln(e,"unauthorized-domain")})}function AM(e){let t=Ip(),{protocol:i,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&n===""?i==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&s.hostname===n}if(!TM.test(i))return!1;if(IM.test(e))return n===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(n)}var SM=new Tr(3e4,6e4);function Ax(){let e=Fn().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let i=0;i<e.CP.length;i++)e.CP[i]=null}}function RM(e){return new Promise((t,i)=>{var n,r,o;function s(){Ax(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ax(),i(yn(e,"network-request-failed"))},timeout:SM.get()})}if(!((r=(n=Fn().gapi)===null||n===void 0?void 0:n.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=Fn().gapi)===null||o===void 0)&&o.load)s();else{let c=Wx("iframefcb");return Fn()[c]=()=>{gapi.load?s():i(yn(e,"network-request-failed"))},V1(`${j1()}?onload=${c}`).catch(l=>i(l))}}).catch(t=>{throw Cd=null,t})}var Cd=null;function DM(e){return Cd=Cd||RM(e),Cd}var kM=new Tr(5e3,15e3),PM="__/auth/iframe",OM="emulator/auth/iframe",MM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function FM(e){let t=e.config;it(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?Up(t,OM):`https://${e.config.authDomain}/${PM}`,n={apiKey:t.apiKey,appName:e.name,v:Nn},r=NM.get(e.config.apiHost);r&&(n.eid=r);let o=e._getFrameworks();return o.length&&(n.fw=o.join(",")),`${i}?${To(n).slice(1)}`}function LM(e){return b(this,null,function*(){let t=yield DM(e),i=Fn().gapi;return it(i,e,"internal-error"),t.open({where:document.body,url:FM(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MM,dontclear:!0},n=>new Promise((r,o)=>b(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let s=yn(e,"network-request-failed"),c=Fn().setTimeout(()=>{o(s)},kM.get());function l(){Fn().clearTimeout(c),r(n)}n.ping(l).then(l,()=>{o(s)})})))})}var VM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jM=500,UM=600,BM="_blank",zM="http://localhost",Vd=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $M(e,t,i,n=jM,r=UM){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},VM),{width:n.toString(),height:r.toString(),top:o,left:s}),d=le().toLowerCase();i&&(c=Ux(d)?BM:i),jx(d)&&(t=t||zM,l.scrollbars="yes");let f=Object.entries(l).reduce((g,[E,k])=>`${g}${E}=${k},`,"");if(P1(d)&&c!=="_self")return qM(t||"",c),new Vd(null);let p=window.open(t||"",c,f);it(p,e,"popup-blocked");try{p.focus()}catch{}return new Vd(p)}function qM(e,t){let i=document.createElement("a");i.href=e,i.target=t;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(n)}var HM="__/auth/handler",GM="emulator/auth/handler",WM=encodeURIComponent("fac");function Sx(e,t,i,n,r,o){return b(this,null,function*(){it(e.config.authDomain,e,"auth-domain-config-required"),it(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:n,v:Nn,eventId:r};if(t instanceof Wa){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",tx(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(t instanceof Od){let f=t.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}e.tenantId&&(s.tid=e.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield e._getAppCheckToken(),d=l?`#${WM}=${encodeURIComponent(l)}`:"";return`${KM(e)}?${To(c).slice(1)}${d}`})}function KM({config:e}){return e.emulator?Up(e,GM):`https://${e.authDomain}/${HM}`}var Ep="webStorageSupport",Fp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zp,this._completeRedirectFn=yM,this._overrideRedirectResult=_M}_openPopup(t,i,n,r){return b(this,null,function*(){var o;ai((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Sx(t,i,n,Ip(),r);return $M(t,s,Jp())})}_openRedirect(t,i,n,r){return b(this,null,function*(){yield this._originValidation(t);let o=yield Sx(t,i,n,Ip(),r);return tM(o),new Promise(()=>{})})}_initialize(t){let i=t._key();if(this.eventManagers[i]){let{manager:r,promise:o}=this.eventManagers[i];return r?Promise.resolve(r):(ai(o,"If manager is not set, promise should be"),o)}let n=this.initAndGetManager(t);return this.eventManagers[i]={promise:n},n.catch(()=>{delete this.eventManagers[i]}),n}initAndGetManager(t){return b(this,null,function*(){let i=yield LM(t),n=new Np(t);return i.register("authEvent",r=>(it(r?.authEvent,t,"invalid-auth-event"),{status:n.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=i,n})}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Ep,{type:Ep},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Ep];s!==void 0&&i(!!s),Ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=CM(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Hx()||Hp()||jd()}},iE=Fp;var Rx="@firebase/auth",Dx="1.7.4";var Lp=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let i=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){it(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function YM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QM(e){On(new $e("auth",(t,{options:i})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=n.options;it(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:s,authDomain:c,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gx(e)},d=new Dp(n,r,o,l);return U1(d,i),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,n)=>{t.getProvider("auth-internal").initialize()})),On(new $e("auth-internal",t=>{let i=Ud(t.getProvider("auth").getImmediate());return(n=>new Lp(n))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wt(Rx,Dx,YM(e)),Wt(Rx,Dx,"esm2017")}var XM=5*60,ZM=ip("authIdTokenMaxAge")||XM,kx=null,JM=e=>t=>b(void 0,null,function*(){let i=t&&(yield t.getIdTokenResult()),n=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(n&&n>ZM)return;let r=i?.token;kx!==r&&(kx=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function eg(e=Li()){let t=yr(e,"auth");if(t.isInitialized())return t.getImmediate();let i=Wp(e,{popupRedirectResolver:iE,persistence:[tE,Qx,Zp]}),n=ip("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(n,location.origin);if(location.origin===o.origin){let s=JM(o.toString());Qp(i,s,()=>s(i.currentUser)),Bd(i,c=>s(c))}}let r=ep("auth");return r&&Kp(i,`http://${r}`),i}function tN(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}L1({loadJS(e){return new Promise((t,i)=>{let n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=r=>{let o=yn("internal-error");o.customData=r,i(o)},n.type="text/javascript",n.charset="UTF-8",tN().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QM("Browser");function ng(e){return new Ue(function(t){var i=zd(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:i}})}var oE="auth",Ar=class{constructor(t){return t}},Qa=class{constructor(){return Ba(oE)}};var ig=new $("angularfire2.auth-instances");function qN(e,t){let i=yd(oE,e,t);return i&&new Ar(i)}function HN(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new Ar(n)}}var GN={provide:Qa,deps:[[new Pe,ig]]},WN={provide:Ar,useFactory:qN,deps:[[new Pe,ig],ri]};function sE(e,...t){return Wt("angularfire",xr.full,"auth"),We([WN,GN,{provide:ig,useFactory:HN(e),multi:!0,deps:[q,Ot,So,Er,[new Pe,Ao],...t]}])}var aE=Kt(eg,!0);var cE=Kt(tg,!0);var lE=Kt(Xp,!0);var dE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uE={};var ji,rg;(function(){var e;function t(w,_){function v(){}v.prototype=_.prototype,w.D=_.prototype,w.prototype=new v,w.prototype.constructor=w,w.C=function(x,I,C){for(var y=Array(arguments.length-2),Qn=2;Qn<arguments.length;Qn++)y[Qn-2]=arguments[Qn];return _.prototype[I].apply(x,y)}}function i(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,i),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,_,v){v||(v=0);var x=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)x[I]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(I=0;16>I;++I)x[I]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=w.g[0],v=w.g[1],I=w.g[2];var C=w.g[3],y=_+(C^v&(I^C))+x[0]+3614090360&4294967295;_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[1]+3905402710&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[2]+606105819&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[3]+3250441966&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(C^v&(I^C))+x[4]+4118548399&4294967295,_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[5]+1200080426&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[6]+2821735955&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[7]+4249261313&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(C^v&(I^C))+x[8]+1770035416&4294967295,_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[9]+2336552879&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[10]+4294925233&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[11]+2304563134&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(C^v&(I^C))+x[12]+1804603682&4294967295,_=v+(y<<7&4294967295|y>>>25),y=C+(I^_&(v^I))+x[13]+4254626195&4294967295,C=_+(y<<12&4294967295|y>>>20),y=I+(v^C&(_^v))+x[14]+2792965006&4294967295,I=C+(y<<17&4294967295|y>>>15),y=v+(_^I&(C^_))+x[15]+1236535329&4294967295,v=I+(y<<22&4294967295|y>>>10),y=_+(I^C&(v^I))+x[1]+4129170786&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[6]+3225465664&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[11]+643717713&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[0]+3921069994&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(I^C&(v^I))+x[5]+3593408605&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[10]+38016083&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[15]+3634488961&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[4]+3889429448&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(I^C&(v^I))+x[9]+568446438&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[14]+3275163606&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[3]+4107603335&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[8]+1163531501&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(I^C&(v^I))+x[13]+2850285829&4294967295,_=v+(y<<5&4294967295|y>>>27),y=C+(v^I&(_^v))+x[2]+4243563512&4294967295,C=_+(y<<9&4294967295|y>>>23),y=I+(_^v&(C^_))+x[7]+1735328473&4294967295,I=C+(y<<14&4294967295|y>>>18),y=v+(C^_&(I^C))+x[12]+2368359562&4294967295,v=I+(y<<20&4294967295|y>>>12),y=_+(v^I^C)+x[5]+4294588738&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[8]+2272392833&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[11]+1839030562&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[14]+4259657740&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(v^I^C)+x[1]+2763975236&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[4]+1272893353&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[7]+4139469664&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[10]+3200236656&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(v^I^C)+x[13]+681279174&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[0]+3936430074&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[3]+3572445317&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[6]+76029189&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(v^I^C)+x[9]+3654602809&4294967295,_=v+(y<<4&4294967295|y>>>28),y=C+(_^v^I)+x[12]+3873151461&4294967295,C=_+(y<<11&4294967295|y>>>21),y=I+(C^_^v)+x[15]+530742520&4294967295,I=C+(y<<16&4294967295|y>>>16),y=v+(I^C^_)+x[2]+3299628645&4294967295,v=I+(y<<23&4294967295|y>>>9),y=_+(I^(v|~C))+x[0]+4096336452&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[7]+1126891415&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[14]+2878612391&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[5]+4237533241&4294967295,v=I+(y<<21&4294967295|y>>>11),y=_+(I^(v|~C))+x[12]+1700485571&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[3]+2399980690&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[10]+4293915773&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[1]+2240044497&4294967295,v=I+(y<<21&4294967295|y>>>11),y=_+(I^(v|~C))+x[8]+1873313359&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[15]+4264355552&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[6]+2734768916&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[13]+1309151649&4294967295,v=I+(y<<21&4294967295|y>>>11),y=_+(I^(v|~C))+x[4]+4149444226&4294967295,_=v+(y<<6&4294967295|y>>>26),y=C+(v^(_|~I))+x[11]+3174756917&4294967295,C=_+(y<<10&4294967295|y>>>22),y=I+(_^(C|~v))+x[2]+718787259&4294967295,I=C+(y<<15&4294967295|y>>>17),y=v+(C^(I|~_))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+_&4294967295,w.g[1]=w.g[1]+(I+(y<<21&4294967295|y>>>11))&4294967295,w.g[2]=w.g[2]+I&4294967295,w.g[3]=w.g[3]+C&4294967295}n.prototype.u=function(w,_){_===void 0&&(_=w.length);for(var v=_-this.blockSize,x=this.B,I=this.h,C=0;C<_;){if(I==0)for(;C<=v;)r(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<_;)if(x[I++]=w.charCodeAt(C++),I==this.blockSize){r(this,x),I=0;break}}else for(;C<_;)if(x[I++]=w[C++],I==this.blockSize){r(this,x),I=0;break}}this.h=I,this.o+=_},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var _=1;_<w.length-8;++_)w[_]=0;var v=8*this.o;for(_=w.length-8;_<w.length;++_)w[_]=v&255,v/=256;for(this.u(w),w=Array(16),_=v=0;4>_;++_)for(var x=0;32>x;x+=8)w[v++]=this.g[_]>>>x&255;return w};function o(w,_){var v=c;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=_(w)}function s(w,_){this.h=_;for(var v=[],x=!0,I=w.length-1;0<=I;I--){var C=w[I]|0;x&&C==_||(v[I]=C,x=!1)}this.g=v}var c={};function l(w){return-128<=w&&128>w?o(w,function(_){return new s([_|0],0>_?-1:0)}):new s([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return D(d(-w));for(var _=[],v=1,x=0;w>=v;x++)_[x]=w/v|0,v*=4294967296;return new s(_,0)}function f(w,_){if(w.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(w.charAt(0)=="-")return D(f(w.substring(1),_));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(_,8)),x=p,I=0;I<w.length;I+=8){var C=Math.min(8,w.length-I),y=parseInt(w.substring(I,I+C),_);8>C?(C=d(Math.pow(_,C)),x=x.j(C).add(d(y))):(x=x.j(v),x=x.add(d(y)))}return x}var p=l(0),g=l(1),E=l(16777216);e=s.prototype,e.m=function(){if(O(this))return-D(this).m();for(var w=0,_=1,v=0;v<this.g.length;v++){var x=this.i(v);w+=(0<=x?x:4294967296+x)*_,_*=4294967296}return w},e.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k(this))return"0";if(O(this))return"-"+D(this).toString(w);for(var _=d(Math.pow(w,6)),v=this,x="";;){var I=at(v,_).g;v=z(v,I.j(_));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(w);if(v=I,k(v))return C+x;for(;6>C.length;)C="0"+C;x=C+x}},e.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function k(w){if(w.h!=0)return!1;for(var _=0;_<w.g.length;_++)if(w.g[_]!=0)return!1;return!0}function O(w){return w.h==-1}e.l=function(w){return w=z(this,w),O(w)?-1:k(w)?0:1};function D(w){for(var _=w.g.length,v=[],x=0;x<_;x++)v[x]=~w.g[x];return new s(v,~w.h).add(g)}e.abs=function(){return O(this)?D(this):this},e.add=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0,I=0;I<=_;I++){var C=x+(this.i(I)&65535)+(w.i(I)&65535),y=(C>>>16)+(this.i(I)>>>16)+(w.i(I)>>>16);x=y>>>16,C&=65535,y&=65535,v[I]=y<<16|C}return new s(v,v[v.length-1]&-2147483648?-1:0)};function z(w,_){return w.add(D(_))}e.j=function(w){if(k(this)||k(w))return p;if(O(this))return O(w)?D(this).j(D(w)):D(D(this).j(w));if(O(w))return D(this.j(D(w)));if(0>this.l(E)&&0>w.l(E))return d(this.m()*w.m());for(var _=this.g.length+w.g.length,v=[],x=0;x<2*_;x++)v[x]=0;for(x=0;x<this.g.length;x++)for(var I=0;I<w.g.length;I++){var C=this.i(x)>>>16,y=this.i(x)&65535,Qn=w.i(I)>>>16,Ps=w.i(I)&65535;v[2*x+2*I]+=y*Ps,Y(v,2*x+2*I),v[2*x+2*I+1]+=C*Ps,Y(v,2*x+2*I+1),v[2*x+2*I+1]+=y*Qn,Y(v,2*x+2*I+1),v[2*x+2*I+2]+=C*Qn,Y(v,2*x+2*I+2)}for(x=0;x<_;x++)v[x]=v[2*x+1]<<16|v[2*x];for(x=_;x<2*_;x++)v[x]=0;return new s(v,0)};function Y(w,_){for(;(w[_]&65535)!=w[_];)w[_+1]+=w[_]>>>16,w[_]&=65535,_++}function J(w,_){this.g=w,this.h=_}function at(w,_){if(k(_))throw Error("division by zero");if(k(w))return new J(p,p);if(O(w))return _=at(D(w),_),new J(D(_.g),D(_.h));if(O(_))return _=at(w,D(_)),new J(D(_.g),_.h);if(30<w.g.length){if(O(w)||O(_))throw Error("slowDivide_ only works with positive integers.");for(var v=g,x=_;0>=x.l(w);)v=zt(v),x=zt(x);var I=X(v,1),C=X(x,1);for(x=X(x,2),v=X(v,2);!k(x);){var y=C.add(x);0>=y.l(w)&&(I=I.add(v),C=y),x=X(x,1),v=X(v,1)}return _=z(w,I.j(_)),new J(I,_)}for(I=p;0<=w.l(_);){for(v=Math.max(1,Math.floor(w.m()/_.m())),x=Math.ceil(Math.log(v)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),C=d(v),y=C.j(_);O(y)||0<y.l(w);)v-=x,C=d(v),y=C.j(_);k(C)&&(C=g),I=I.add(C),w=z(w,y)}return new J(I,w)}e.A=function(w){return at(this,w).h},e.and=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0;x<_;x++)v[x]=this.i(x)&w.i(x);return new s(v,this.h&w.h)},e.or=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0;x<_;x++)v[x]=this.i(x)|w.i(x);return new s(v,this.h|w.h)},e.xor=function(w){for(var _=Math.max(this.g.length,w.g.length),v=[],x=0;x<_;x++)v[x]=this.i(x)^w.i(x);return new s(v,this.h^w.h)};function zt(w){for(var _=w.g.length+1,v=[],x=0;x<_;x++)v[x]=w.i(x)<<1|w.i(x-1)>>>31;return new s(v,w.h)}function X(w,_){var v=_>>5;_%=32;for(var x=w.g.length-v,I=[],C=0;C<x;C++)I[C]=0<_?w.i(C+v)>>>_|w.i(C+v+1)<<32-_:w.i(C+v);return new s(I,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,rg=uE.Md5=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,ji=uE.Integer=s}).apply(typeof dE<"u"?dE:typeof self<"u"?self:typeof window<"u"?window:{});var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ci={};var og,sg,Po,ag,Xa,Hd,cg,lg,dg;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function i(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof qd=="object"&&qd];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var n=i(this);function r(a,u){if(u)t:{var h=n;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in h))break t;h=h[T]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&t(h,a,{configurable:!0,writable:!0,value:u})}}function o(a,u){a instanceof String&&(a+="");var h=0,m=!1,T={next:function(){if(!m&&h<a.length){var S=h++;return{value:u(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return o(this,function(u,h){return h})}});var s=s||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function g(a,u,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function E(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function k(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,T,S){for(var j=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)j[kt-2]=arguments[kt];return u.prototype[T].apply(m,j)}}function O(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function D(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let T=a.length||0,S=m.length||0;a.length=T+S;for(let j=0;j<S;j++)a[T+j]=m[j]}else a.push(m)}}class z{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Y(a){return/^[\s\xa0]*$/.test(a)}function J(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function at(a){return at[" "](a),a}at[" "]=function(){};var zt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function X(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function w(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function _(a){let u={};for(let h in a)u[h]=a[h];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(a,u){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)a[h]=m[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function I(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function y(){var a=Hh;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class Qn{constructor(){this.h=this.g=null}add(u,h){let m=Ps.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Ps=new z(()=>new dR,a=>a.reset());class dR{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Os,Ms=!1,Hh=new Qn,yv=()=>{let a=c.Promise.resolve(void 0);Os=()=>{a.then(uR)}};var uR=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){C(h)}var u=Ps;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Ms=!1};function Ei(){this.s=this.s,this.C=this.C}Ei.prototype.s=!1,Ei.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ei.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var hR=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function Ns(a,u){if(ye.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(zt){t:{try{at(u.nodeName);var T=!0;break t}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:fR[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ns.aa.h.call(this)}}k(Ns,ye);var fR={2:"touch",3:"pen",4:"mouse"};Ns.prototype.h=function(){Ns.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Fs="closure_listenable_"+(1e6*Math.random()|0),mR=0;function pR(a,u,h,m,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=T,this.key=++mR,this.da=this.fa=!1}function Gc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Wc(a){this.src=a,this.g={},this.h=0}Wc.prototype.add=function(a,u,h,m,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var j=Wh(a,u,m,T);return-1<j?(u=a[j],h||(u.fa=!1)):(u=new pR(u,this.src,S,!!m,T),u.fa=h,a.push(u)),u};function Gh(a,u){var h=u.type;if(h in a.g){var m=a.g[h],T=Array.prototype.indexOf.call(m,u,void 0),S;(S=0<=T)&&Array.prototype.splice.call(m,T,1),S&&(Gc(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Wh(a,u,h,m){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==u&&S.capture==!!h&&S.ha==m)return T}return-1}var Kh="closure_lm_"+(1e6*Math.random()|0),Yh={};function wv(a,u,h,m,T){if(m&&m.once)return Ev(a,u,h,m,T);if(Array.isArray(u)){for(var S=0;S<u.length;S++)wv(a,u[S],h,m,T);return null}return h=Jh(h),a&&a[Fs]?a.K(u,h,d(m)?!!m.capture:!!m,T):xv(a,u,h,!1,m,T)}function xv(a,u,h,m,T,S){if(!u)throw Error("Invalid event type");var j=d(T)?!!T.capture:!!T,kt=Xh(a);if(kt||(a[Kh]=kt=new Wc(a)),h=kt.add(u,h,m,j,S),h.proxy)return h;if(m=gR(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)hR||(T=j),T===void 0&&(T=!1),a.addEventListener(u.toString(),m,T);else if(a.attachEvent)a.attachEvent(Tv(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function gR(){function a(h){return u.call(a.src,a.listener,h)}let u=_R;return a}function Ev(a,u,h,m,T){if(Array.isArray(u)){for(var S=0;S<u.length;S++)Ev(a,u[S],h,m,T);return null}return h=Jh(h),a&&a[Fs]?a.L(u,h,d(m)?!!m.capture:!!m,T):xv(a,u,h,!0,m,T)}function Iv(a,u,h,m,T){if(Array.isArray(u))for(var S=0;S<u.length;S++)Iv(a,u[S],h,m,T);else m=d(m)?!!m.capture:!!m,h=Jh(h),a&&a[Fs]?(a=a.i,u=String(u).toString(),u in a.g&&(S=a.g[u],h=Wh(S,h,m,T),-1<h&&(Gc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[u],a.h--)))):a&&(a=Xh(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Wh(u,h,m,T)),(h=-1<a?u[a]:null)&&Qh(h))}function Qh(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Fs])Gh(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent(Tv(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=Xh(u))?(Gh(h,a),h.h==0&&(h.src=null,u[Kh]=null)):Gc(a)}}}function Tv(a){return a in Yh?Yh[a]:Yh[a]="on"+a}function _R(a,u){if(a.da)a=!0;else{u=new Ns(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&Qh(a),a=h.call(m,u)}return a}function Xh(a){return a=a[Kh],a instanceof Wc?a:null}var Zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jh(a){return typeof a=="function"?a:(a[Zh]||(a[Zh]=function(u){return a.handleEvent(u)}),a[Zh])}function we(){Ei.call(this),this.i=new Wc(this),this.M=this,this.F=null}k(we,Ei),we.prototype[Fs]=!0,we.prototype.removeEventListener=function(a,u,h,m){Iv(this,a,u,h,m)};function Re(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new ye(u,a);else if(u instanceof ye)u.target=u.target||a;else{var T=u;u=new ye(m,a),x(u,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var j=u.g=h[S];T=Kc(j,m,!0,u)&&T}if(j=u.g=a,T=Kc(j,m,!0,u)&&T,T=Kc(j,m,!1,u)&&T,h)for(S=0;S<h.length;S++)j=u.g=h[S],T=Kc(j,m,!1,u)&&T}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)Gc(h[m]);delete a.g[u],a.h--}}this.F=null},we.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},we.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function Kc(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,S=0;S<u.length;++S){var j=u[S];if(j&&!j.da&&j.capture==h){var kt=j.listener,fe=j.ha||j.src;j.fa&&Gh(a.i,j),T=kt.call(fe,m)!==!1&&T}}return T&&!m.defaultPrevented}function Cv(a,u,h){if(typeof a=="function")h&&(a=g(a,h));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Av(a){a.g=Cv(()=>{a.g=null,a.i&&(a.i=!1,Av(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class bR extends Ei{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Av(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(a){Ei.call(this),this.h=a,this.g={}}k(Ls,Ei);var Sv=[];function Rv(a){X(a.g,function(u,h){this.g.hasOwnProperty(h)&&Qh(u)},a),a.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Rv(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tf=c.JSON.stringify,vR=c.JSON.parse,yR=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ef(){}ef.prototype.h=null;function Dv(a){return a.h||(a.h=a.i())}function kv(){}var Vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nf(){ye.call(this,"d")}k(nf,ye);function rf(){ye.call(this,"c")}k(rf,ye);var tr={},Pv=null;function Yc(){return Pv=Pv||new we}tr.La="serverreachability";function Ov(a){ye.call(this,tr.La,a)}k(Ov,ye);function js(a){let u=Yc();Re(u,new Ov(u))}tr.STAT_EVENT="statevent";function Mv(a,u){ye.call(this,tr.STAT_EVENT,a),this.stat=u}k(Mv,ye);function De(a){let u=Yc();Re(u,new Mv(u,a))}tr.Ma="timingevent";function Nv(a,u){ye.call(this,tr.Ma,a),this.size=u}k(Nv,ye);function Us(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function wR(a,u,h,m,T,S){a.info(function(){if(a.g)if(S)for(var j="",kt=S.split("&"),fe=0;fe<kt.length;fe++){var It=kt[fe].split("=");if(1<It.length){var xe=It[0];It=It[1];var Ee=xe.split("_");j=2<=Ee.length&&Ee[1]=="type"?j+(xe+"="+It+"&"):j+(xe+"=redacted&")}}else j=null;else j=S;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+u+`
`+h+`
`+j})}function xR(a,u,h,m,T,S,j){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+u+`
`+h+`
`+S+" "+j})}function Wr(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+IR(a,h)+(m?" "+m:"")})}function ER(a,u){a.info(function(){return"TIMEOUT: "+u})}Bs.prototype.info=function(){};function IR(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var j=1;j<T.length;j++)T[j]=""}}}}return tf(h)}catch{return u}}var Qc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},of;function Xc(){}k(Xc,ef),Xc.prototype.g=function(){return new XMLHttpRequest},Xc.prototype.i=function(){return{}},of=new Xc;function Ii(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lv}function Lv(){this.i=null,this.g="",this.h=!1}var Vv={},sf={};function af(a,u,h){a.L=1,a.v=el(Xn(u)),a.m=h,a.P=!0,jv(a,null)}function jv(a,u){a.F=Date.now(),Zc(a),a.A=Xn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),Jv(h.i,"t",m),a.C=0,h=a.j.J,a.h=new Lv,a.g=_y(a.j,h?u:null,!a.m),0<a.O&&(a.M=new bR(g(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Sv[0]=T.toString()),T=Sv);for(var S=0;S<T.length;S++){var j=wv(h,T[S],m||u.handleEvent,!1,u.h||u);if(!j)break;u.g[j.key]=j}u=a.H?_(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),js(),wR(a.i,a.u,a.A,a.l,a.R,a.m)}Ii.prototype.ca=function(a){a=a.target;let u=this.M;u&&Zn(a)==3?u.j():this.Y(a)},Ii.prototype.Y=function(a){try{if(a==this.g)t:{let Ee=Zn(this.g);var u=this.g.Ba();let Qr=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||sy(this.g)))){this.J||Ee!=4||u==7||(u==8||0>=Qr?js(3):js(2)),cf(this);var h=this.g.Z();this.X=h;e:if(Uv(this)){var m=sy(this.g);a="";var T=m.length,S=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){er(this),zs(this);var j="";break e}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(S&&u==T-1)});m.length=0,this.h.g+=a,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=h==200,xR(this.i,this.u,this.A,this.l,this.R,Ee,h),this.o){if(this.T&&!this.K){e:{if(this.g){var kt,fe=this.g;if((kt=fe.g?fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(kt)){var It=kt;break e}}It=null}if(h=It)Wr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,h);else{this.o=!1,this.s=3,De(12),er(this),zs(this);break t}}if(this.P){h=!0;let mn;for(;!this.J&&this.C<j.length;)if(mn=TR(this,j),mn==sf){Ee==4&&(this.s=4,De(14),h=!1),Wr(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Vv){this.s=4,De(15),Wr(this.i,this.l,j,"[Invalid Chunk]"),h=!1;break}else Wr(this.i,this.l,mn,null),lf(this,mn);if(Uv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||j.length!=0||this.h.h||(this.s=1,De(16),h=!1),this.o=this.o&&h,!h)Wr(this.i,this.l,j,"[Invalid Chunked Response]"),er(this),zs(this);else if(0<j.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),pf(xe),xe.M=!0,De(11))}}else Wr(this.i,this.l,j,null),lf(this,j);Ee==4&&er(this),this.o&&!this.J&&(Ee==4?fy(this.j,this):(this.o=!1,Zc(this)))}else zR(this.g),h==400&&0<j.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),er(this),zs(this)}}}catch{}finally{}};function Uv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function TR(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?sf:(h=Number(u.substring(h,m)),isNaN(h)?Vv:(m+=1,m+h>u.length?sf:(u=u.slice(m,m+h),a.C=m+h,u)))}Ii.prototype.cancel=function(){this.J=!0,er(this)};function Zc(a){a.S=Date.now()+a.I,Bv(a,a.I)}function Bv(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Us(g(a.ba,a),u)}function cf(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Ii.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(ER(this.i,this.A),this.L!=2&&(js(),De(17)),er(this),this.s=2,zs(this)):Bv(this,this.S-a)};function zs(a){a.j.G==0||a.J||fy(a.j,a)}function er(a){cf(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Rv(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function lf(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||df(h.h,a))){if(!a.K&&df(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){t:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)sl(h),rl(h);else break t;mf(h),De(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Us(g(h.Za,h),6e3));if(1>=qv(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else ir(h,11)}else if((a.K||h.g==a)&&sl(h),!Y(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let It=T[u];if(h.T=It[0],It=It[1],h.G==2)if(It[0]=="c"){h.K=It[1],h.ia=It[2];let xe=It[3];xe!=null&&(h.la=xe,h.j.info("VER="+h.la));let Ee=It[4];Ee!=null&&(h.Aa=Ee,h.j.info("SVER="+h.Aa));let Qr=It[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(m=1.5*Qr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let mn=a.g;if(mn){let cl=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cl){var S=m.h;S.g||cl.indexOf("spdy")==-1&&cl.indexOf("quic")==-1&&cl.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(uf(S,S.h),S.h=null))}if(m.D){let gf=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;gf&&(m.ya=gf,Lt(m.I,m.D,gf))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var j=a;if(m.qa=gy(m,m.J?m.ia:null,m.W),j.K){Hv(m.h,j);var kt=j,fe=m.L;fe&&(kt.I=fe),kt.B&&(cf(kt),Zc(kt)),m.g=j}else uy(m);0<h.i.length&&ol(h)}else It[0]!="stop"&&It[0]!="close"||ir(h,7);else h.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?ir(h,7):ff(h):It[0]!="noop"&&h.l&&h.l.ta(It),h.v=0)}}js(4)}catch{}}var CR=class{constructor(a,u){this.g=a,this.map=u}};function zv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $v(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function qv(a){return a.h?1:a.g?a.g.size:0}function df(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function uf(a,u){a.g?a.g.add(u):a.h=u}function Hv(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}zv.prototype.cancel=function(){if(this.i=Gv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function Gv(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return O(a.i)}function AR(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function SR(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function Wv(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=SR(a),m=AR(a),T=m.length,S=0;S<T;S++)u.call(void 0,m[S],h&&h[S],a)}var Kv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RR(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),T=null;if(0<=m){var S=a[h].substring(0,m);T=a[h].substring(m+1)}else S=a[h];u(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function nr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof nr){this.h=a.h,Jc(this,a.j),this.o=a.o,this.g=a.g,tl(this,a.s),this.l=a.l;var u=a.i,h=new Hs;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),Yv(this,h),this.m=a.m}else a&&(u=String(a).match(Kv))?(this.h=!1,Jc(this,u[1]||"",!0),this.o=$s(u[2]||""),this.g=$s(u[3]||"",!0),tl(this,u[4]),this.l=$s(u[5]||"",!0),Yv(this,u[6]||"",!0),this.m=$s(u[7]||"")):(this.h=!1,this.i=new Hs(null,this.h))}nr.prototype.toString=function(){var a=[],u=this.j;u&&a.push(qs(u,Qv,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(qs(u,Qv,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(qs(h,h.charAt(0)=="/"?PR:kR,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",qs(h,MR)),a.join("")};function Xn(a){return new nr(a)}function Jc(a,u,h){a.j=h?$s(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function tl(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Yv(a,u,h){u instanceof Hs?(a.i=u,NR(a.i,a.h)):(h||(u=qs(u,OR)),a.i=new Hs(u,a.h))}function Lt(a,u,h){a.i.set(u,h)}function el(a){return Lt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function $s(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function qs(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,DR),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function DR(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Qv=/[#\/\?@]/g,kR=/[#\?:]/g,PR=/[#\?]/g,OR=/[#\?@]/g,MR=/#/g;function Hs(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Ti(a){a.g||(a.g=new Map,a.h=0,a.i&&RR(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}e=Hs.prototype,e.add=function(a,u){Ti(this),this.i=null,a=Kr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function Xv(a,u){Ti(a),u=Kr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Zv(a,u){return Ti(a),u=Kr(a,u),a.g.has(u)}e.forEach=function(a,u){Ti(this),this.g.forEach(function(h,m){h.forEach(function(T){a.call(u,T,m,this)},this)},this)},e.na=function(){Ti(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let T=a[m];for(let S=0;S<T.length;S++)h.push(u[m])}return h},e.V=function(a){Ti(this);let u=[];if(typeof a=="string")Zv(this,a)&&(u=u.concat(this.g.get(Kr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},e.set=function(a,u){return Ti(this),this.i=null,a=Kr(this,a),Zv(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},e.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Jv(a,u,h){Xv(a,u),0<h.length&&(a.i=null,a.g.set(Kr(a,u),O(h)),a.h+=h.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let S=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var T=S;j[m]!==""&&(T+="="+encodeURIComponent(String(j[m]))),a.push(T)}}return this.i=a.join("&")};function Kr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function NR(a,u){u&&!a.j&&(Ti(a),a.i=null,a.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(Xv(this,m),Jv(this,T,h))},a)),a.j=u}function FR(a,u){let h=new Bs;if(c.Image){let m=new Image;m.onload=E(Ci,h,"TestLoadImage: loaded",!0,u,m),m.onerror=E(Ci,h,"TestLoadImage: error",!1,u,m),m.onabort=E(Ci,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=E(Ci,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function LR(a,u){let h=new Bs,m=new AbortController,T=setTimeout(()=>{m.abort(),Ci(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(T),S.ok?Ci(h,"TestPingServer: ok",!0,u):Ci(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),Ci(h,"TestPingServer: error",!1,u)})}function Ci(a,u,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function VR(){this.g=new yR}function jR(a,u,h){let m=h||"";try{Wv(a,function(T,S){let j=T;d(T)&&(j=tf(T)),u.push(m+S+"="+encodeURIComponent(j))})}catch(T){throw u.push(m+"type="+encodeURIComponent("_badmap")),T}}function Gs(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Gs,ef),Gs.prototype.g=function(){return new nl(this.l,this.j)},Gs.prototype.i=function(a){return function(){return a}}({});function nl(a,u){we.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(nl,we),e=nl.prototype,e.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Ks(this)},e.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ws(this)),this.readyState=0},e.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ks(this)),this.g&&(this.readyState=3,Ks(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ty(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function ty(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}e.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Ws(this):Ks(this),this.readyState==3&&ty(this)}},e.Ra=function(a){this.g&&(this.response=this.responseText=a,Ws(this))},e.Qa=function(a){this.g&&(this.response=a,Ws(this))},e.ga=function(){this.g&&Ws(this)};function Ws(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ks(a)}e.setRequestHeader=function(a,u){this.u.append(a,u)},e.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function Ks(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function ey(a){let u="";return X(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function hf(a,u,h){t:{for(m in h){var m=!1;break t}m=!0}m||(h=ey(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Lt(a,u,h))}function Ht(a){we.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ht,we);var UR=/^https?$/i,BR=["POST","PUT"];e=Ht.prototype,e.Ha=function(a){this.J=a},e.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():of.g(),this.v=this.o?Dv(this.o):Dv(of),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(S){ny(this,S);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(BR,u,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,j]of h)this.g.setRequestHeader(S,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oy(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){ny(this,S)}};function ny(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,iy(a),il(a)}function iy(a){a.A||(a.A=!0,Re(a,"complete"),Re(a,"error"))}e.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Re(this,"complete"),Re(this,"abort"),il(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),il(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?ry(this):this.bb())},e.bb=function(){ry(this)};function ry(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Zn(a)!=4||a.Z()!=2)){if(a.u&&Zn(a)==4)Cv(a.Ea,0,a);else if(Re(a,"readystatechange"),Zn(a)==4){a.h=!1;try{let j=a.Z();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var h;if(!(h=u)){var m;if(m=j===0){var T=String(a.D).match(Kv)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!UR.test(T?T.toLowerCase():"")}h=m}if(h)Re(a,"complete"),Re(a,"success");else{a.m=6;try{var S=2<Zn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",iy(a)}}finally{il(a)}}}}function il(a,u){if(a.g){oy(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||Re(a,"ready");try{h.onreadystatechange=m}catch{}}}function oy(a){a.I&&(c.clearTimeout(a.I),a.I=null)}e.isActive=function(){return!!this.g};function Zn(a){return a.g?a.g.readyState:0}e.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),vR(u)}};function sy(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function zR(a){let u={};a=(a.g&&2<=Zn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(Y(a[m]))continue;var h=I(a[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=u[T]||[];u[T]=S,S.push(h)}w(u,function(m){return m.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ys(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function ay(a){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ys("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ys("baseRetryDelayMs",5e3,a),this.cb=Ys("retryDelaySeedMs",1e4,a),this.Wa=Ys("forwardChannelMaxRetries",2,a),this.wa=Ys("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new zv(a&&a.concurrentRequestLimit),this.Da=new VR,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ay.prototype,e.la=8,e.G=1,e.connect=function(a,u,h,m){De(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=gy(this,null,this.W),ol(this)};function ff(a){if(cy(a),a.G==3){var u=a.U++,h=Xn(a.I);if(Lt(h,"SID",a.K),Lt(h,"RID",u),Lt(h,"TYPE","terminate"),Qs(a,h),u=new Ii(a,a.j,u),u.L=2,u.v=el(Xn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=_y(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Zc(u)}py(a)}function rl(a){a.g&&(pf(a),a.g.cancel(),a.g=null)}function cy(a){rl(a),a.u&&(c.clearTimeout(a.u),a.u=null),sl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ol(a){if(!$v(a.h)&&!a.s){a.s=!0;var u=a.Ga;Os||yv(),Ms||(Os(),Ms=!0),Hh.add(u,a),a.B=0}}function $R(a,u){return qv(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Us(g(a.Ga,a,u),my(a,a.B)),a.B++,!0)}e.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Ii(this,this.j,a),S=this.o;if(this.S&&(S?(S=_(S),x(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)t:{for(var u=0,h=0;h<this.i.length;h++){e:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break e}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break t}if(u===4096||h===this.i.length-1){u=h+1;break t}}u=1e3}else u=1e3;u=dy(this,T,u),h=Xn(this.I),Lt(h,"RID",a),Lt(h,"CVER",22),this.D&&Lt(h,"X-HTTP-Session-Id",this.D),Qs(this,h),S&&(this.O?u="headers="+encodeURIComponent(String(ey(S)))+"&"+u:this.m&&hf(h,this.m,S)),uf(this.h,T),this.Ua&&Lt(h,"TYPE","init"),this.P?(Lt(h,"$req",u),Lt(h,"SID","null"),T.T=!0,af(T,h,null)):af(T,h,u),this.G=2}}else this.G==3&&(a?ly(this,a):this.i.length==0||$v(this.h)||ly(this))};function ly(a,u){var h;u?h=u.l:h=a.U++;let m=Xn(a.I);Lt(m,"SID",a.K),Lt(m,"RID",h),Lt(m,"AID",a.T),Qs(a,m),a.m&&a.o&&hf(m,a.m,a.o),h=new Ii(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=dy(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),uf(a.h,h),af(h,m,u)}function Qs(a,u){a.H&&X(a.H,function(h,m){Lt(u,m,h)}),a.l&&Wv({},function(h,m){Lt(u,m,h)})}function dy(a,u,h){h=Math.min(a.i.length,h);var m=a.l?g(a.l.Na,a.l,a):null;t:{var T=a.i;let S=-1;for(;;){let j=["count="+h];S==-1?0<h?(S=T[0].g,j.push("ofs="+S)):S=0:j.push("ofs="+S);let kt=!0;for(let fe=0;fe<h;fe++){let It=T[fe].g,xe=T[fe].map;if(It-=S,0>It)S=Math.max(0,T[fe].g-100),kt=!1;else try{jR(xe,j,"req"+It+"_")}catch{m&&m(xe)}}if(kt){m=j.join("&");break t}}}return a=a.i.splice(0,h),u.D=a,m}function uy(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;Os||yv(),Ms||(Os(),Ms=!0),Hh.add(u,a),a.v=0}}function mf(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Us(g(a.Fa,a),my(a,a.v)),a.v++,!0)}e.Fa=function(){if(this.u=null,hy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Us(g(this.ab,this),a)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),rl(this),hy(this))};function pf(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function hy(a){a.g=new Ii(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=Xn(a.qa);Lt(u,"RID","rpc"),Lt(u,"SID",a.K),Lt(u,"AID",a.T),Lt(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Lt(u,"TO",a.ja),Lt(u,"TYPE","xmlhttp"),Qs(a,u),a.m&&a.o&&hf(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=el(Xn(u)),h.m=null,h.P=!0,jv(h,a)}e.Za=function(){this.C!=null&&(this.C=null,rl(this),mf(this),De(19))};function sl(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function fy(a,u){var h=null;if(a.g==u){sl(a),pf(a),a.g=null;var m=2}else if(df(a.h,u))h=u.D,Hv(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;m=Yc(),Re(m,new Nv(m,h)),ol(a)}else uy(a);else if(T=u.s,T==3||T==0&&0<u.X||!(m==1&&$R(a,u)||m==2&&mf(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:ir(a,5);break;case 4:ir(a,10);break;case 3:ir(a,6);break;default:ir(a,2)}}}function my(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function ir(a,u){if(a.j.info("Error code "+u),u==2){var h=g(a.fb,a),m=a.Xa;let T=!m;m=new nr(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Jc(m,"https"),el(m),T?FR(m.toString(),h):LR(m.toString(),h)}else De(2);a.G=0,a.l&&a.l.sa(u),py(a),cy(a)}e.fb=function(a){a?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function py(a){if(a.G=0,a.ka=[],a.l){let u=Gv(a.h);(u.length!=0||a.i.length!=0)&&(D(a.ka,u),D(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function gy(a,u,h){var m=h instanceof nr?Xn(h):new nr(h);if(m.g!="")u&&(m.g=u+"."+m.g),tl(m,m.s);else{var T=c.location;m=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var S=new nr(null);m&&Jc(S,m),u&&(S.g=u),T&&tl(S,T),h&&(S.l=h),m=S}return h=a.D,u=a.ya,h&&u&&Lt(m,h,u),Lt(m,"VER",a.la),Qs(a,m),m}function _y(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Ht(new Gs({eb:h})):new Ht(a.pa),u.Ha(a.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function by(){}e=by.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function al(){}al.prototype.g=function(a,u){return new He(a,u)};function He(a,u){we.call(this),this.g=new ay(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!Y(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Y(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Yr(this)}k(He,we),He.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},He.prototype.close=function(){ff(this.g)},He.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=tf(a),a=h);u.i.push(new CR(u.Ya++,a)),u.G==3&&ol(u)},He.prototype.N=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,He.aa.N.call(this)};function vy(a){nf.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){t:{for(let h in u){a=h;break t}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}k(vy,nf);function yy(){rf.call(this),this.status=1}k(yy,rf);function Yr(a){this.g=a}k(Yr,by),Yr.prototype.ua=function(){Re(this.g,"a")},Yr.prototype.ta=function(a){Re(this.g,new vy(a))},Yr.prototype.sa=function(a){Re(this.g,new yy)},Yr.prototype.ra=function(){Re(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,He.prototype.send=He.prototype.o,He.prototype.open=He.prototype.m,He.prototype.close=He.prototype.close,dg=ci.createWebChannelTransport=function(){return new al},lg=ci.getStatEventTarget=function(){return Yc()},cg=ci.Event=tr,Hd=ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qc.NO_ERROR=0,Qc.TIMEOUT=8,Qc.HTTP_ERROR=6,Xa=ci.ErrorCode=Qc,Fv.COMPLETE="complete",ag=ci.EventType=Fv,kv.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",we.prototype.listen=we.prototype.K,Po=ci.WebChannel=kv,sg=ci.FetchXmlHttpFactory=Gs,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,og=ci.XhrIo=Ht}).apply(typeof qd<"u"?qd:typeof self<"u"?self:typeof window<"u"?window:{});var hE="@firebase/firestore";var he=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};he.UNAUTHENTICATED=new he(null),he.GOOGLE_CREDENTIALS=new he("google-credentials-uid"),he.FIRST_PARTY=new he("first-party-uid"),he.MOCK_USER=new he("mock-user");var Zo="10.12.1";var kr=new Ni("@firebase/firestore");function Za(){return kr.logLevel}function H(e,...t){if(kr.logLevel<=_t.DEBUG){let i=t.map(K_);kr.debug(`Firestore (${Zo}): ${e}`,...i)}}function di(e,...t){if(kr.logLevel<=_t.ERROR){let i=t.map(K_);kr.error(`Firestore (${Zo}): ${e}`,...i)}}function Uo(e,...t){if(kr.logLevel<=_t.WARN){let i=t.map(K_);kr.warn(`Firestore (${Zo}): ${e}`,...i)}}function K_(e){if(typeof e=="string")return e;try{return function(i){return JSON.stringify(i)}(e)}catch{return e}}function nt(e="Unexpected state"){let t=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+e;throw di(t),new Error(t)}function Nt(e,t){e||nt()}function st(e,t){return e}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Le{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var wn=class{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}};var Qd=class{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},pg=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(he.UNAUTHENTICATED))}shutdown(){}},gg=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},_g=class{constructor(t){this.t=t,this.currentUser=he.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){let n=this.i,r=l=>this.i!==n?(n=this.i,i(l)):Promise.resolve(),o=new wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wn,t.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;t.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wn)}},0),s()}getToken(){let t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(n=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Nt(typeof n.accessToken=="string"),new Qd(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let t=this.auth&&this.auth.getUid();return Nt(t===null||typeof t=="string"),new he(t)}},bg=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n,this.type="FirstParty",this.user=he.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},vg=class{constructor(t,i,n){this.l=t,this.h=i,this.P=n}getToken(){return Promise.resolve(new bg(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(he.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yg=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},wg=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){let n=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>n(o))};let r=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Nt(typeof i.token=="string"),this.R=i.token,new yg(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function YN(e){let t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let n=0;n<e;n++)i[n]=Math.floor(256*Math.random());return i}var Xd=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/t.length)*t.length,n="";for(;n.length<20;){let r=YN(40);for(let o=0;o<r.length;++o)n.length<20&&r[o]<i&&(n+=t.charAt(r[o]%t.length))}return n}};function Ct(e,t){return e<t?-1:e>t?1:0}function Bo(e,t,i){return e.length===t.length&&e.every((n,r)=>i(n,t[r]))}var _e=class e{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let i=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*i));return new e(i,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ct(this.nanoseconds,t.nanoseconds):Ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ct=class e{constructor(t){this.timestamp=t}static fromTimestamp(t){return new e(t)}static min(){return new e(new _e(0,0))}static max(){return new e(new _e(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zd=class e{constructor(t,i,n){i===void 0?i=0:i>t.length&&nt(),n===void 0?n=t.length-i:n>t.length-i&&nt(),this.segments=t,this.offset=i,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let i=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(n=>{i.push(n)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,n=this.limit();i<n;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){let n=Math.min(t.length,i.length);for(let r=0;r<n;r++){let o=t.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return t.length<i.length?-1:t.length>i.length?1:0}},$t=class e extends Zd{construct(t,i,n){return new e(t,i,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let i=[];for(let n of t){if(n.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);i.push(...n.split("/").filter(r=>r.length>0))}return new e(i)}static emptyPath(){return new e([])}},QN=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nn=class e extends Zd{construct(t,i,n){return new e(t,i,n)}static isValidIdentifier(t){return QN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new e(["__name__"])}static fromServerFormat(t){let i=[],n="",r=0,o=()=>{if(n.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(n),n=""},s=!1;for(;r<t.length;){let c=t[r];if(c==="\\"){if(r+1===t.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(n+=c,r++):(o(),r++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(i)}static emptyPath(){return new e([])}};var Q=class e{constructor(t){this.path=t}static fromPath(t){return new e($t.fromString(t))}static fromName(t){return new e($t.fromString(t).popFirst(5))}static empty(){return new e($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return $t.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new e(new $t(t.slice()))}};var xg=class{constructor(t,i,n,r){this.indexId=t,this.collectionGroup=i,this.fields=n,this.indexState=r}};xg.UNKNOWN_ID=-1;function XN(e,t){let i=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,r=ct.fromTimestamp(n===1e9?new _e(i+1,0):new _e(i,n));return new Pr(r,Q.empty(),t)}function ZN(e){return new Pr(e.readTime,e.key,-1)}var Pr=class e{constructor(t,i,n){this.readTime=t,this.documentKey=i,this.largestBatchId=n}static min(){return new e(ct.min(),Q.empty(),-1)}static max(){return new e(ct.max(),Q.empty(),-1)}};function JN(e,t){let i=e.readTime.compareTo(t.readTime);return i!==0?i:(i=Q.comparator(e.documentKey,t.documentKey),i!==0?i:Ct(e.largestBatchId,t.largestBatchId))}var tF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eg=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function vc(e){return b(this,null,function*(){if(e.code!==P.FAILED_PRECONDITION||e.message!==tF)throw e;H("LocalStore","Unexpectedly lost primary lease")})}var L=class e{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new e((n,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(n,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(n,r)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{let i=t();return i instanceof e?i:e.resolve(i)}catch(i){return e.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):e.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):e.reject(i)}static resolve(t){return new e((i,n)=>{i(t)})}static reject(t){return new e((i,n)=>{n(t)})}static waitFor(t){return new e((i,n)=>{let r=0,o=0,s=!1;t.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&i()},l=>n(l))}),s=!0,o===r&&i()})}static or(t){let i=e.resolve(!1);for(let n of t)i=i.next(r=>r?e.resolve(r):n());return i}static forEach(t,i){let n=[];return t.forEach((r,o)=>{n.push(i.call(this,r,o))}),this.waitFor(n)}static mapArray(t,i){return new e((n,r)=>{let o=t.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let d=l;i(t[d]).next(f=>{s[d]=f,++c,c===o&&n(s)},f=>r(f))}})}static doWhile(t,i){return new e((n,r)=>{let o=()=>{t()===!0?i().next(()=>{o()},r):n()};o()})}};function eF(e){let t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yc(e){return e.name==="IndexedDbTransactionError"}var $E=(()=>{class e{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return e.oe=-1,e})();function Ru(e){return e==null}function ic(e){return e===0&&1/e==-1/0}function nF(e){return typeof e=="number"&&Number.isInteger(e)&&!ic(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var iF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IW=[...iF,"documentOverlays"],rF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],oF=rF,TW=[...oF,"indexConfiguration","indexState","indexEntries"];function fE(e){let t=0;for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t++;return t}function Vr(e,t){for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])}function qE(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qt=class e{constructor(t,i){this.comparator=t,this.root=i||jn.EMPTY}insert(t,i){return new e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,jn.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,jn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){let n=this.comparator(t,i.key);if(n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}indexOf(t){let i=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return i+n.left.size;r<0?n=n.left:(i+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,n)=>(t(i,n),!1))}toString(){let t=[];return this.inorderTraversal((i,n)=>(t.push(`${i}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fo(this.root,t,this.comparator,!0)}},Fo=class{constructor(t,i,n,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=i?n(t.key,i):1,i&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},jn=class e{constructor(t,i,n,r,o){this.key=t,this.value=i,this.color=n??e.RED,this.left=r??e.EMPTY,this.right=o??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,n,r,o){return new e(t??this.key,i??this.value,n??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,n){let r=this,o=n(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,i,n),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(t,i,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let n,r=this;if(i(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(t,r.key)===0){if(r.right.isEmpty())return e.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();let t=this.left.check();if(t!==this.right.check())throw nt();return t+(this.isRed()?0:1)}};jn.EMPTY=null,jn.RED=!0,jn.BLACK=!1;jn.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(t,i,n,r,o){return this}insert(t,i,n){return new jn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ce=class e{constructor(t){this.comparator=t,this.data=new Qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,n)=>(t(i),!1))}forEachInRange(t,i){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;i(r.key)}}forEachWhile(t,i){let n;for(n=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jd(this.data.getIterator())}getIteratorFrom(t){return new Jd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(n=>{i=i.add(n)}),i}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.data.getIterator(),n=t.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(i=>{t.push(i)}),t}toString(){let t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){let i=new e(this.comparator);return i.data=t,i}},Jd=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hn=class e{constructor(t){this.fields=t,t.sort(nn.comparator)}static empty(){return new e([])}unionWith(t){let i=new Ce(nn.comparator);for(let n of this.fields)i=i.add(n);for(let n of t)i=i.add(n);return new e(i.toArray())}covers(t){for(let i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Bo(this.fields,t.fields,(i,n)=>i.isEqual(n))}};var tu=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var je=class e{constructor(t){this.binaryString=t}static fromBase64String(t){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new tu("Invalid base64 string: "+o):o}}(t);return new e(i)}static fromUint8Array(t){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(t);return new e(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};je.EMPTY_BYTE_STRING=new je("");var sF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ui(e){if(Nt(!!e),typeof e=="string"){let t=0,i=sF.exec(e);if(Nt(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Yt(e.seconds),nanos:Yt(e.nanos)}}function Yt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Bi(e){return typeof e=="string"?je.fromBase64String(e):je.fromUint8Array(e)}function Du(e){var t,i;return((i=(((t=e?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Y_(e){let t=e.mapValue.fields.__previous_value__;return Du(t)?Y_(t):t}function rc(e){let t=ui(e.mapValue.fields.__local_write_time__.timestampValue);return new _e(t.seconds,t.nanos)}var Ig=class{constructor(t,i,n,r,o,s,c,l,d){this.databaseId=t,this.appId=i,this.persistenceKey=n,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},eu=class e{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new e("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}};var Gd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Or(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Du(e)?4:HE(e)?9007199254740991:10:nt()}function zn(e,t){if(e===t)return!0;let i=Or(e);if(i!==Or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return rc(e).isEqual(rc(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=ui(r.timestampValue),c=ui(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,o){return Bi(r.bytesValue).isEqual(Bi(o.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,o){return Yt(r.geoPointValue.latitude)===Yt(o.geoPointValue.latitude)&&Yt(r.geoPointValue.longitude)===Yt(o.geoPointValue.longitude)}(e,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Yt(r.integerValue)===Yt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Yt(r.doubleValue),c=Yt(o.doubleValue);return s===c?ic(s)===ic(c):isNaN(s)&&isNaN(c)}return!1}(e,t);case 9:return Bo(e.arrayValue.values||[],t.arrayValue.values||[],zn);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(fE(s)!==fE(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!zn(s[l],c[l])))return!1;return!0}(e,t);default:return nt()}}function oc(e,t){return(e.values||[]).find(i=>zn(i,t))!==void 0}function zo(e,t){if(e===t)return 0;let i=Or(e),n=Or(t);if(i!==n)return Ct(i,n);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(e.booleanValue,t.booleanValue);case 2:return function(o,s){let c=Yt(o.integerValue||o.doubleValue),l=Yt(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(e,t);case 3:return mE(e.timestampValue,t.timestampValue);case 4:return mE(rc(e),rc(t));case 5:return Ct(e.stringValue,t.stringValue);case 6:return function(o,s){let c=Bi(o),l=Bi(s);return c.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=Ct(c[d],l[d]);if(f!==0)return f}return Ct(c.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(o,s){let c=Ct(Yt(o.latitude),Yt(s.latitude));return c!==0?c:Ct(Yt(o.longitude),Yt(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(o,s){let c=o.values||[],l=s.values||[];for(let d=0;d<c.length&&d<l.length;++d){let f=zo(c[d],l[d]);if(f)return f}return Ct(c.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(o,s){if(o===Gd.mapValue&&s===Gd.mapValue)return 0;if(o===Gd.mapValue)return 1;if(s===Gd.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let g=Ct(l[p],f[p]);if(g!==0)return g;let E=zo(c[l[p]],d[f[p]]);if(E!==0)return E}return Ct(l.length,f.length)}(e.mapValue,t.mapValue);default:throw nt()}}function mE(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ct(e,t);let i=ui(e),n=ui(t),r=Ct(i.seconds,n.seconds);return r!==0?r:Ct(i.nanos,n.nanos)}function $o(e){return Tg(e)}function Tg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(i){let n=ui(i);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(i){return Bi(i).toBase64()}(e.bytesValue):"referenceValue"in e?function(i){return Q.fromName(i).toString()}(e.referenceValue):"geoPointValue"in e?function(i){return`geo(${i.latitude},${i.longitude})`}(e.geoPointValue):"arrayValue"in e?function(i){let n="[",r=!0;for(let o of i.values||[])r?r=!1:n+=",",n+=Tg(o);return n+"]"}(e.arrayValue):"mapValue"in e?function(i){let n=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of n)o?o=!1:r+=",",r+=`${s}:${Tg(i.fields[s])}`;return r+"}"}(e.mapValue):nt()}function nu(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Cg(e){return!!e&&"integerValue"in e}function Q_(e){return!!e&&"arrayValue"in e}function pE(e){return!!e&&"nullValue"in e}function gE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kd(e){return!!e&&"mapValue"in e}function tc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){let t={mapValue:{fields:{}}};return Vr(e.mapValue.fields,(i,n)=>t.mapValue.fields[i]=tc(n)),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let i=0;i<(e.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=tc(e.arrayValue.values[i]);return t}return Object.assign({},e)}function HE(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var en=class e{constructor(t){this.value=t}static empty(){return new e({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let n=0;n<t.length-1;++n)if(i=(i.mapValue.fields||{})[t.get(n)],!Kd(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=tc(i)}setAll(t){let i=nn.emptyPath(),n={},r=[];t.forEach((s,c)=>{if(!i.isImmediateParentOf(c)){let l=this.getFieldsMap(i);this.applyChanges(l,n,r),n={},r=[],i=c.popLast()}s?n[c.lastSegment()]=tc(s):r.push(c.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,n,r)}delete(t){let i=this.field(t.popLast());Kd(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zn(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=i.mapValue.fields[t.get(n)];Kd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[t.get(n)]=r),i=r}return i.mapValue.fields}applyChanges(t,i,n){Vr(i,(r,o)=>t[r]=o);for(let r of n)delete t[r]}clone(){return new e(tc(this.value))}};function GE(e){let t=[];return Vr(e.fields,(i,n)=>{let r=new nn([i]);if(Kd(n)){let o=GE(n.mapValue).fields;if(o.length===0)t.push(r);else for(let s of o)t.push(r.child(s))}else t.push(r)}),new hn(t)}var xn=class e{constructor(t,i,n,r,o,s,c){this.key=t,this.documentType=i,this.version=n,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(t){return new e(t,0,ct.min(),ct.min(),ct.min(),en.empty(),0)}static newFoundDocument(t,i,n,r){return new e(t,1,i,ct.min(),n,r,0)}static newNoDocument(t,i){return new e(t,2,i,ct.min(),ct.min(),en.empty(),0)}static newUnknownDocument(t,i){return new e(t,3,i,ct.min(),ct.min(),en.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zi=class{constructor(t,i){this.position=t,this.inclusive=i}};function _E(e,t,i){let n=0;for(let r=0;r<e.position.length;r++){let o=t[r],s=e.position[r];if(o.field.isKeyField()?n=Q.comparator(Q.fromName(s.referenceValue),i.key):n=zo(s,i.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function bE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let i=0;i<e.position.length;i++)if(!zn(e.position[i],t.position[i]))return!1;return!0}var Mr=class{constructor(t,i="asc"){this.field=t,this.dir=i}};function aF(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var iu=class{},ce=class e extends iu{constructor(t,i,n){super(),this.field=t,this.op=i,this.value=n}static create(t,i,n){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,n):new Sg(t,i,n):i==="array-contains"?new kg(t,n):i==="in"?new Pg(t,n):i==="not-in"?new Og(t,n):i==="array-contains-any"?new Mg(t,n):new e(t,i,n)}static createKeyFieldInFilter(t,i,n){return i==="in"?new Rg(t,n):new Dg(t,n)}matches(t){let i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(zo(i,this.value)):i!==null&&Or(this.value)===Or(i)&&this.matchesComparison(zo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},En=class e extends iu{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new e(t,i)}matches(t){return WE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function WE(e){return e.op==="and"}function KE(e){return cF(e)&&WE(e)}function cF(e){for(let t of e.filters)if(t instanceof En)return!1;return!0}function Ag(e){if(e instanceof ce)return e.field.canonicalString()+e.op.toString()+$o(e.value);if(KE(e))return e.filters.map(t=>Ag(t)).join(",");{let t=e.filters.map(i=>Ag(i)).join(",");return`${e.op}(${t})`}}function YE(e,t){return e instanceof ce?function(n,r){return r instanceof ce&&n.op===r.op&&n.field.isEqual(r.field)&&zn(n.value,r.value)}(e,t):e instanceof En?function(n,r){return r instanceof En&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((o,s,c)=>o&&YE(s,r.filters[c]),!0):!1}(e,t):void nt()}function QE(e){return e instanceof ce?function(i){return`${i.field.canonicalString()} ${i.op} ${$o(i.value)}`}(e):e instanceof En?function(i){return i.op.toString()+" {"+i.getFilters().map(QE).join(" ,")+"}"}(e):"Filter"}var Sg=class extends ce{constructor(t,i,n){super(t,i,n),this.key=Q.fromName(n.referenceValue)}matches(t){let i=Q.comparator(t.key,this.key);return this.matchesComparison(i)}},Rg=class extends ce{constructor(t,i){super(t,"in",i),this.keys=XE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}},Dg=class extends ce{constructor(t,i){super(t,"not-in",i),this.keys=XE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}};function XE(e,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(n=>Q.fromName(n.referenceValue))}var kg=class extends ce{constructor(t,i){super(t,"array-contains",i)}matches(t){let i=t.data.field(this.field);return Q_(i)&&oc(i.arrayValue,this.value)}},Pg=class extends ce{constructor(t,i){super(t,"in",i)}matches(t){let i=t.data.field(this.field);return i!==null&&oc(this.value.arrayValue,i)}},Og=class extends ce{constructor(t,i){super(t,"not-in",i)}matches(t){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=t.data.field(this.field);return i!==null&&!oc(this.value.arrayValue,i)}},Mg=class extends ce{constructor(t,i){super(t,"array-contains-any",i)}matches(t){let i=t.data.field(this.field);return!(!Q_(i)||!i.arrayValue.values)&&i.arrayValue.values.some(n=>oc(this.value.arrayValue,n))}};var Ng=class{constructor(t,i=null,n=[],r=[],o=null,s=null,c=null){this.path=t,this.collectionGroup=i,this.orderBy=n,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function vE(e,t=null,i=[],n=[],r=null,o=null,s=null){return new Ng(e,t,i,n,r,o,s)}function X_(e){let t=st(e);if(t.ue===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(n=>Ag(n)).join(","),i+="|ob:",i+=t.orderBy.map(n=>function(o){return o.field.canonicalString()+o.dir}(n)).join(","),Ru(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(n=>$o(n)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(n=>$o(n)).join(",")),t.ue=i}return t.ue}function Z_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!aF(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(!YE(e.filters[i],t.filters[i]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!bE(e.startAt,t.startAt)&&bE(e.endAt,t.endAt)}function Fg(e){return Q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var hi=class{constructor(t,i=null,n=[],r=[],o=null,s="F",c=null,l=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=n,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function lF(e,t,i,n,r,o,s,c){return new hi(e,t,i,n,r,o,s,c)}function ku(e){return new hi(e)}function yE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function J_(e){return e.collectionGroup!==null}function Lo(e){let t=st(e);if(t.ce===null){t.ce=[];let i=new Set;for(let o of t.explicitOrderBy)t.ce.push(o),i.add(o.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new Ce(nn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(t).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||t.ce.push(new Mr(o,n))}),i.has(nn.keyField().canonicalString())||t.ce.push(new Mr(nn.keyField(),n))}return t.ce}function Un(e){let t=st(e);return t.le||(t.le=dF(t,Lo(e))),t.le}function dF(e,t){if(e.limitType==="F")return vE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Mr(r.field,o)});let i=e.endAt?new zi(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new zi(e.startAt.position,e.startAt.inclusive):null;return vE(e.path,e.collectionGroup,t,e.filters,e.limit,i,n)}}function Lg(e,t){let i=e.filters.concat([t]);return new hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),i,e.limit,e.limitType,e.startAt,e.endAt)}function ru(e,t,i){return new hi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,i,e.startAt,e.endAt)}function Pu(e,t){return Z_(Un(e),Un(t))&&e.limitType===t.limitType}function ZE(e){return`${X_(Un(e))}|lt:${e.limitType}`}function Oo(e){return`Query(target=${function(i){let n=i.path.canonicalString();return i.collectionGroup!==null&&(n+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(n+=`, filters: [${i.filters.map(r=>QE(r)).join(", ")}]`),Ru(i.limit)||(n+=", limit: "+i.limit),i.orderBy.length>0&&(n+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(n+=", startAt: ",n+=i.startAt.inclusive?"b:":"a:",n+=i.startAt.position.map(r=>$o(r)).join(",")),i.endAt&&(n+=", endAt: ",n+=i.endAt.inclusive?"a:":"b:",n+=i.endAt.position.map(r=>$o(r)).join(",")),`Target(${n})`}(Un(e))}; limitType=${e.limitType})`}function Ou(e,t){return t.isFoundDocument()&&function(n,r){let o=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):Q.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)}(e,t)&&function(n,r){for(let o of Lo(n))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(e,t)&&function(n,r){for(let o of n.filters)if(!o.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(s,c,l){let d=_E(s,c,l);return s.inclusive?d<=0:d<0}(n.startAt,Lo(n),r)||n.endAt&&!function(s,c,l){let d=_E(s,c,l);return s.inclusive?d>=0:d>0}(n.endAt,Lo(n),r))}(e,t)}function uF(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function JE(e){return(t,i)=>{let n=!1;for(let r of Lo(e)){let o=hF(r,t,i);if(o!==0)return o;n=n||r.field.isKeyField()}return 0}}function hF(e,t,i){let n=e.field.isKeyField()?Q.comparator(t.key,i.key):function(o,s,c){let l=s.data.field(o),d=c.data.field(o);return l!==null&&d!==null?zo(l,d):nt()}(e.field,t,i);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return nt()}}var $i=class{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n!==void 0){for(let[r,o]of n)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,i){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,i]);r.push([t,i]),this.innerSize++}delete(t){let i=this.mapKeyFn(t),n=this.inner[i];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[i]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Vr(this.inner,(i,n)=>{for(let[r,o]of n)t(r,o)})}isEmpty(){return qE(this.inner)}size(){return this.innerSize}};var fF=new Qt(Q.comparator);function fi(){return fF}var tI=new Qt(Q.comparator);function Ja(...e){let t=tI;for(let i of e)t=t.insert(i.key,i);return t}function eI(e){let t=tI;return e.forEach((i,n)=>t=t.insert(i,n.overlayedDocument)),t}function Sr(){return ec()}function nI(){return ec()}function ec(){return new $i(e=>e.toString(),(e,t)=>e.isEqual(t))}var mF=new Qt(Q.comparator),pF=new Ce(Q.comparator);function bt(...e){let t=pF;for(let i of e)t=t.add(i);return t}var gF=new Ce(Ct);function _F(){return gF}function iI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(t)?"-0":t}}function rI(e){return{integerValue:""+e}}function bF(e,t){return nF(t)?rI(t):iI(e,t)}var qo=class{constructor(){this._=void 0}};function vF(e,t,i){return e instanceof Ho?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Du(o)&&(o=Y_(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,t):e instanceof Nr?sI(e,t):e instanceof Fr?aI(e,t):function(r,o){let s=oI(r,o),c=wE(s)+wE(r.Pe);return Cg(s)&&Cg(r.Pe)?rI(c):iI(r.serializer,c)}(e,t)}function yF(e,t,i){return e instanceof Nr?sI(e,t):e instanceof Fr?aI(e,t):i}function oI(e,t){return e instanceof Go?function(n){return Cg(n)||function(o){return!!o&&"doubleValue"in o}(n)}(t)?t:{integerValue:0}:null}var Ho=class extends qo{},Nr=class extends qo{constructor(t){super(),this.elements=t}};function sI(e,t){let i=cI(t);for(let n of e.elements)i.some(r=>zn(r,n))||i.push(n);return{arrayValue:{values:i}}}var Fr=class extends qo{constructor(t){super(),this.elements=t}};function aI(e,t){let i=cI(t);for(let n of e.elements)i=i.filter(r=>!zn(r,n));return{arrayValue:{values:i}}}var Go=class extends qo{constructor(t,i){super(),this.serializer=t,this.Pe=i}};function wE(e){return Yt(e.integerValue||e.doubleValue)}function cI(e){return Q_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function wF(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof Nr&&r instanceof Nr||n instanceof Fr&&r instanceof Fr?Bo(n.elements,r.elements,zn):n instanceof Go&&r instanceof Go?zn(n.Pe,r.Pe):n instanceof Ho&&r instanceof Ho}(e.transform,t.transform)}var Vg=class{constructor(t,i){this.version=t,this.transformResults=i}},li=class e{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function Yd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}var Wo=class{};function lI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sc(e.key,li.none()):new Lr(e.key,e.data,li.none());{let i=e.data,n=en.empty(),r=new Ce(nn.comparator);for(let o of t.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?n.delete(o):n.set(o,s),r=r.add(o)}return new $n(e.key,n,new hn(r.toArray()),li.none())}}function xF(e,t,i){e instanceof Lr?function(r,o,s){let c=r.value.clone(),l=EE(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(e,t,i):e instanceof $n?function(r,o,s){if(!Yd(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=EE(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(dI(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,i)}function nc(e,t,i,n){return e instanceof Lr?function(o,s,c,l){if(!Yd(o.precondition,s))return c;let d=o.value.clone(),f=IE(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(e,t,i,n):e instanceof $n?function(o,s,c,l){if(!Yd(o.precondition,s))return c;let d=IE(o.fieldTransforms,l,s),f=s.data;return f.setAll(dI(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(e,t,i,n):function(o,s,c){return Yd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(e,t,i)}function EF(e,t){let i=null;for(let n of e.fieldTransforms){let r=t.data.field(n.field),o=oI(n.transform,r||null);o!=null&&(i===null&&(i=en.empty()),i.set(n.field,o))}return i||null}function xE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Bo(n,r,(o,s)=>wF(o,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Lr=class extends Wo{constructor(t,i,n,r=[]){super(),this.key=t,this.value=i,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},$n=class extends Wo{constructor(t,i,n,r,o=[]){super(),this.key=t,this.data=i,this.fieldMask=n,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function dI(e){let t=new Map;return e.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let n=e.data.field(i);t.set(i,n)}}),t}function EE(e,t,i){let n=new Map;Nt(e.length===i.length);for(let r=0;r<i.length;r++){let o=e[r],s=o.transform,c=t.data.field(o.field);n.set(o.field,yF(s,c,i[r]))}return n}function IE(e,t,i){let n=new Map;for(let r of e){let o=r.transform,s=i.data.field(r.field);n.set(r.field,vF(o,s,t))}return n}var sc=class extends Wo{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},jg=class extends Wo{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ug=class{constructor(t,i,n,r){this.batchId=t,this.localWriteTime=i,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,i){let n=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(t.key)&&xF(o,t,n[r])}}applyToLocalView(t,i){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(i=nc(n,t,i,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(i=nc(n,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){let n=nI();return this.mutations.forEach(r=>{let o=t.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=i.has(r.key)?null:c;let l=lI(s,c);l!==null&&n.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ct.min())}),n}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),bt())}isEqual(t){return this.batchId===t.batchId&&Bo(this.mutations,t.mutations,(i,n)=>xE(i,n))&&Bo(this.baseMutations,t.baseMutations,(i,n)=>xE(i,n))}},Bg=class e{constructor(t,i,n,r){this.batch=t,this.commitVersion=i,this.mutationResults=n,this.docVersions=r}static from(t,i,n){Nt(t.mutations.length===n.length);let r=function(){return mF}(),o=t.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,n[s].version);return new e(t,i,n,r)}};var zg=class{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $g=class{constructor(t,i){this.count=t,this.unchangedNames=i}};var se,wt;function IF(e){switch(e){default:return nt();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function uI(e){if(e===void 0)return di("GRPC error has no .code"),P.UNKNOWN;switch(e){case se.OK:return P.OK;case se.CANCELLED:return P.CANCELLED;case se.UNKNOWN:return P.UNKNOWN;case se.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case se.INTERNAL:return P.INTERNAL;case se.UNAVAILABLE:return P.UNAVAILABLE;case se.UNAUTHENTICATED:return P.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case se.NOT_FOUND:return P.NOT_FOUND;case se.ALREADY_EXISTS:return P.ALREADY_EXISTS;case se.PERMISSION_DENIED:return P.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case se.ABORTED:return P.ABORTED;case se.OUT_OF_RANGE:return P.OUT_OF_RANGE;case se.UNIMPLEMENTED:return P.UNIMPLEMENTED;case se.DATA_LOSS:return P.DATA_LOSS;default:return nt()}}(wt=se||(se={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";var TE=null;function TF(){return new TextEncoder}var CF=new ji([4294967295,4294967295],0);function CE(e){let t=TF().encode(e),i=new rg;return i.update(t),new Uint8Array(i.digest())}function AE(e){let t=new DataView(e.buffer),i=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ji([i,n],0),new ji([r,o],0)]}var qg=class e{constructor(t,i,n){if(this.bitmap=t,this.padding=i,this.hashCount=n,i<0||i>=8)throw new Rr(`Invalid padding: ${i}`);if(n<0)throw new Rr(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Rr(`Invalid hash count: ${n}`);if(t.length===0&&i!==0)throw new Rr(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=ji.fromNumber(this.Ie)}Ee(t,i,n){let r=t.add(i.multiply(ji.fromNumber(n)));return r.compare(CF)===1&&(r=new ji([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let i=CE(t),[n,r]=AE(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);if(!this.de(s))return!1}return!0}static create(t,i,n){let r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),s=new e(o,r,i);return n.forEach(c=>s.insert(c)),s}insert(t){if(this.Ie===0)return;let i=CE(t),[n,r]=AE(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(n,r,o);this.Ae(s)}}Ae(t){let i=Math.floor(t/8),n=t%8;this.bitmap[i]|=1<<n}},Rr=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ou=class e{constructor(t,i,n,r,o){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,i,n){let r=new Map;return r.set(t,ac.createSynthesizedTargetChangeForCurrentChange(t,i,n)),new e(ct.min(),r,new Qt(Ct),fi(),bt())}},ac=class e{constructor(t,i,n,r,o){this.resumeToken=t,this.current=i,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,i,n){return new e(n,i,bt(),bt(),bt())}};var Vo=class{constructor(t,i,n,r){this.Re=t,this.removedTargetIds=i,this.key=n,this.Ve=r}},su=class{constructor(t,i){this.targetId=t,this.me=i}},au=class{constructor(t,i,n=je.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=i,this.resumeToken=n,this.cause=r}},cu=class{constructor(){this.fe=0,this.ge=RE(),this.pe=je.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=bt(),i=bt(),n=bt();return this.ge.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:i=i.add(r);break;case 1:n=n.add(r);break;default:nt()}}),new ac(this.pe,this.ye,t,i,n)}ve(){this.we=!1,this.ge=RE()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Hg=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=fi(),this.qe=SE(),this.Qe=new Qt(Ct)}Ke(t){for(let i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(let i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{let n=this.Ge(i);switch(t.state){case 0:this.ze(i)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),n.De(t.resumeToken));break;default:nt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((n,r)=>{this.ze(r)&&i(r)})}He(t){let i=t.targetId,n=t.me.count,r=this.Je(i);if(r){let o=r.target;if(Fg(o))if(n===0){let s=new Q(o.path);this.Ue(i,s,xn.newNoDocument(s,ct.min()))}else Nt(n===1);else{let s=this.Ye(i);if(s!==n){let c=this.Ze(t),l=c?this.Xe(c,t,s):1;if(l!==0){this.je(i);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,d)}TE?.et(function(f,p,g,E,k){var O,D,z,Y,J,at;let zt={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},X=p.unchangedNames;return X&&(zt.bloomFilter={applied:k===0,hashCount:(O=X?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Y=(z=(D=X?.bits)===null||D===void 0?void 0:D.bitmap)===null||z===void 0?void 0:z.length)!==null&&Y!==void 0?Y:0,padding:(at=(J=X?.bits)===null||J===void 0?void 0:J.padding)!==null&&at!==void 0?at:0,mightContain:w=>{var _;return(_=E?.mightContain(w))!==null&&_!==void 0&&_}}),zt}(s,t.me,this.Le.tt(),c,l))}}}}Ze(t){let i=t.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:o=0}=i,s,c;try{s=Bi(n).toUint8Array()}catch(l){if(l instanceof tu)return Uo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new qg(s,r,o)}catch(l){return Uo(l instanceof Rr?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,i,n){return i.me.count===n-this.nt(t,i.targetId)?0:2}nt(t,i){let n=this.Le.getRemoteKeysForTarget(i),r=0;return n.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;t.mightContain(c)||(this.Ue(i,o,null),r++)}),r}rt(t){let i=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&Fg(c.target)){let l=new Q(c.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,xn.newNoDocument(l,t))}o.be&&(i.set(s,o.Ce()),o.ve())}});let n=bt();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(t));let r=new ou(t,i,this.Qe,this.ke,n);return this.ke=fi(),this.qe=SE(),this.Qe=new Qt(Ct),r}$e(t,i){if(!this.ze(t))return;let n=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,n),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,n){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),n&&(this.ke=this.ke.insert(i,n))}removeTarget(t){this.Be.delete(t)}Ye(t){let i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new cu,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Ce(Ct),this.qe=this.qe.insert(t,i)),i}ze(t){let i=this.Je(t)!==null;return i||H("WatchChangeAggregator","Detected inactive target",t),i}Je(t){let i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new cu),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}};function SE(){return new Qt(Q.comparator)}function RE(){return new Qt(Q.comparator)}var AF={asc:"ASCENDING",desc:"DESCENDING"},SF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RF={and:"AND",or:"OR"},Gg=class{constructor(t,i){this.databaseId=t,this.useProto3Json=i}};function Wg(e,t){return e.useProto3Json||Ru(t)?t:{value:t}}function lu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function hI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function DF(e,t){return lu(e,t.toTimestamp())}function Bn(e){return Nt(!!e),ct.fromTimestamp(function(i){let n=ui(i);return new _e(n.seconds,n.nanos)}(e))}function tb(e,t){return Kg(e,t).canonicalString()}function Kg(e,t){let i=function(r){return new $t(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?i:i.child(t)}function fI(e){let t=$t.fromString(e);return Nt(bI(t)),t}function Yg(e,t){return tb(e.databaseId,t.path)}function ug(e,t){let i=fI(t);if(i.get(1)!==e.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+e.databaseId.projectId);if(i.get(3)!==e.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+e.databaseId.database);return new Q(pI(i))}function mI(e,t){return tb(e.databaseId,t)}function kF(e){let t=fI(e);return t.length===4?$t.emptyPath():pI(t)}function Qg(e){return new $t(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pI(e){return Nt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function DE(e,t,i){return{name:Yg(e,t),fields:i.value.mapValue.fields}}function PF(e,t){let i;if("targetChange"in t){t.targetChange;let n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:nt()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(Nt(f===void 0||typeof f=="string"),je.fromBase64String(f||"")):(Nt(f===void 0||f instanceof Buffer||f instanceof Uint8Array),je.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,c=s&&function(d){let f=d.code===void 0?P.UNKNOWN:uI(d.code);return new B(f,d.message||"")}(s);i=new au(n,r,o,c||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=ug(e,n.document.name),o=Bn(n.document.updateTime),s=n.document.createTime?Bn(n.document.createTime):ct.min(),c=new en({mapValue:{fields:n.document.fields}}),l=xn.newFoundDocument(r,o,s,c),d=n.targetIds||[],f=n.removedTargetIds||[];i=new Vo(d,f,l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=ug(e,n.document),o=n.readTime?Bn(n.readTime):ct.min(),s=xn.newNoDocument(r,o),c=n.removedTargetIds||[];i=new Vo([],c,s.key,s)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=ug(e,n.document),o=n.removedTargetIds||[];i=new Vo([],o,r,null)}else{if(!("filter"in t))return nt();{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:o}=n,s=new $g(r,o),c=n.targetId;i=new su(c,s)}}return i}function OF(e,t){let i;if(t instanceof Lr)i={update:DE(e,t.key,t.value)};else if(t instanceof sc)i={delete:Yg(e,t.key)};else if(t instanceof $n)i={update:DE(e,t.key,t.data),updateMask:zF(t.fieldMask)};else{if(!(t instanceof jg))return nt();i={verify:Yg(e,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(n=>function(o,s){let c=s.transform;if(c instanceof Ho)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Nr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Fr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Go)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw nt()}(0,n))),t.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:DF(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nt()}(e,t.precondition)),i}function MF(e,t){return e&&e.length>0?(Nt(t!==void 0),e.map(i=>function(r,o){let s=r.updateTime?Bn(r.updateTime):Bn(o);return s.isEqual(ct.min())&&(s=Bn(o)),new Vg(s,r.transformResults||[])}(i,t))):[]}function NF(e,t){return{documents:[mI(e,t.path)]}}function FF(e,t){let i={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),i.structuredQuery.from=[{collectionId:n.lastSegment()}]),i.parent=mI(e,r);let o=function(d){if(d.length!==0)return _I(En.create(d,"and"))}(t.filters);o&&(i.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(g){return{field:Mo(g.field),direction:jF(g.dir)}}(f))}(t.orderBy);s&&(i.structuredQuery.orderBy=s);let c=Wg(e,t.limit);return c!==null&&(i.structuredQuery.limit=c),t.startAt&&(i.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{_t:i,parent:r}}function LF(e){let t=kF(e.parent),i=e.structuredQuery,n=i.from?i.from.length:0,r=null;if(n>0){Nt(n===1);let f=i.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let o=[];i.where&&(o=function(p){let g=gI(p);return g instanceof En&&KE(g)?g.getFilters():[g]}(i.where));let s=[];i.orderBy&&(s=function(p){return p.map(g=>function(k){return new Mr(No(k.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(i.orderBy));let c=null;i.limit&&(c=function(p){let g;return g=typeof p=="object"?p.value:p,Ru(g)?null:g}(i.limit));let l=null;i.startAt&&(l=function(p){let g=!!p.before,E=p.values||[];return new zi(E,g)}(i.startAt));let d=null;return i.endAt&&(d=function(p){let g=!p.before,E=p.values||[];return new zi(E,g)}(i.endAt)),lF(t,r,s,o,c,"F",l,d)}function VF(e,t){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function gI(e){return e.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let n=No(i.unaryFilter.field);return ce.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=No(i.unaryFilter.field);return ce.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=No(i.unaryFilter.field);return ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=No(i.unaryFilter.field);return ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(e):e.fieldFilter!==void 0?function(i){return ce.create(No(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(i.fieldFilter.op),i.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(i){return En.create(i.compositeFilter.filters.map(n=>gI(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return nt()}}(i.compositeFilter.op))}(e):nt()}function jF(e){return AF[e]}function UF(e){return SF[e]}function BF(e){return RF[e]}function Mo(e){return{fieldPath:e.canonicalString()}}function No(e){return nn.fromServerFormat(e.fieldPath)}function _I(e){return e instanceof ce?function(i){if(i.op==="=="){if(gE(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NAN"}};if(pE(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(gE(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NAN"}};if(pE(i.value))return{unaryFilter:{field:Mo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(i.field),op:UF(i.op),value:i.value}}}(e):e instanceof En?function(i){let n=i.getFilters().map(r=>_I(r));return n.length===1?n[0]:{compositeFilter:{op:BF(i.op),filters:n}}}(e):nt()}function zF(e){let t=[];return e.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function bI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}var cc=class e{constructor(t,i,n,r,o=ct.min(),s=ct.min(),c=je.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=i,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var Xg=class{constructor(t){this.ct=t}};function $F(e){let t=LF({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?ru(t,t.limit,"L"):t}var du=class{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(Yt(t.integerValue));else if("doubleValue"in t){let n=Yt(t.doubleValue);isNaN(n)?this.Et(i,13):(this.Et(i,15),ic(n)?i.dt(0):i.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(i,20),typeof n=="string"&&(n=ui(n)),i.At(`${n.seconds||""}`),i.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(Bi(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){let n=t.geoPointValue;this.Et(i,45),i.dt(n.latitude||0),i.dt(n.longitude||0)}else"mapValue"in t?HE(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):nt()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){let n=t.fields||{};this.Et(i,55);for(let r of Object.keys(n))this.Rt(r,i),this.It(n[r],i)}wt(t,i){let n=t.values||[];this.Et(i,50);for(let r of n)this.It(r,i)}gt(t,i){this.Et(i,37),Q.fromName(t).path.forEach(n=>{this.Et(i,60),this.St(n,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}};du.bt=new du;var Zg=class{constructor(){this._n=new Jg}addToCollectionParentIndex(t,i){return this._n.add(i),L.resolve()}getCollectionParents(t,i){return L.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return L.resolve()}deleteFieldIndex(t,i){return L.resolve()}deleteAllFieldIndexes(t){return L.resolve()}createTargetIndexes(t,i){return L.resolve()}getDocumentsMatchingTarget(t,i){return L.resolve(null)}getIndexType(t,i){return L.resolve(0)}getFieldIndexes(t,i){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,i){return L.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,i){return L.resolve(Pr.min())}updateCollectionGroup(t,i,n){return L.resolve()}updateIndexEntries(t,i){return L.resolve()}},Jg=class{constructor(){this.index={}}add(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i]||new Ce($t.comparator),o=!r.has(n);return this.index[i]=r.add(n),o}has(t){let i=t.lastSegment(),n=t.popLast(),r=this.index[i];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ce($t.comparator)).toArray()}};var AW=new Uint8Array(0);var Vn=class e{constructor(t,i,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Vn.DEFAULT_COLLECTION_PERCENTILE=10,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vn.DEFAULT=new Vn(41943040,Vn.DEFAULT_COLLECTION_PERCENTILE,Vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vn.DISABLED=new Vn(-1,0,0);var lc=class e{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new e(0)}static Ln(){return new e(-1)}};var t_=class{constructor(){this.changes=new $i(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,xn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();let n=this.changes.get(i);return n!==void 0?L.resolve(n):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var e_=class{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}};var n_=class{constructor(t,i,n,r){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,i){let n=null;return this.documentOverlayCache.getOverlay(t,i).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,i))).next(r=>(n!==null&&nc(n.mutation,r,hn.empty(),_e.now()),r))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.getLocalViewOfDocuments(t,n,bt()).next(()=>n))}getLocalViewOfDocuments(t,i,n=bt()){let r=Sr();return this.populateOverlays(t,r,i).next(()=>this.computeViews(t,i,r,n).next(o=>{let s=Ja();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,i){let n=Sr();return this.populateOverlays(t,n,i).next(()=>this.computeViews(t,i,n,bt()))}populateOverlays(t,i,n){let r=[];return n.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((s,c)=>{i.set(s,c)})})}computeViews(t,i,n,r){let o=fi(),s=ec(),c=function(){return ec()}();return i.forEach((l,d)=>{let f=n.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof $n)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),nc(f.mutation,d,f.mutation.getFieldMask(),_e.now())):s.set(d.key,hn.empty())}),this.recalculateAndSaveOverlays(t,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),i.forEach((d,f)=>{var p;return c.set(d,new e_(f,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(t,i){let n=ec(),r=new Qt((s,c)=>s-c),o=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(s=>{for(let c of s)c.keys().forEach(l=>{let d=i.get(l);if(d===null)return;let f=n.get(l)||hn.empty();f=c.applyToLocalView(d,f),n.set(l,f);let p=(r.get(c.batchId)||bt()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=nI();f.forEach(g=>{if(!o.has(g)){let E=lI(i.get(g),n.get(g));E!==null&&p.set(g,E),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(t,d,p))}return L.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,i,n,r){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):J_(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,n,r):this.getDocumentsMatchingCollectionQuery(t,i,n,r)}getNextDocuments(t,i,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,n,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,n.largestBatchId,r-o.size):L.resolve(Sr()),c=-1,l=o;return s.next(d=>L.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?L.resolve():this.remoteDocumentCache.getEntry(t,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(t,d,o)).next(()=>this.computeViews(t,l,d,bt())).next(f=>({batchId:c,changes:eI(f)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Q(i)).next(n=>{let r=Ja();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,i,n,r){let o=i.collectionGroup,s=Ja();return this.indexManager.getCollectionParents(t,o).next(c=>L.forEach(c,l=>{let d=function(p,g){return new hi(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,n,r).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,i,n,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,n.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,n,o,r))).next(s=>{o.forEach((l,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,xn.newInvalidDocument(f)))});let c=Ja();return s.forEach((l,d)=>{let f=o.get(l);f!==void 0&&nc(f.mutation,d,hn.empty(),_e.now()),Ou(i,d)&&(c=c.insert(l,d))}),c})}};var i_=class{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return L.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:Bn(r.createTime)}}(i)),L.resolve()}getNamedQuery(t,i){return L.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,function(r){return{name:r.name,query:$F(r.bundledQuery),readTime:Bn(r.readTime)}}(i)),L.resolve()}};var r_=class{constructor(){this.overlays=new Qt(Q.comparator),this.hr=new Map}getOverlay(t,i){return L.resolve(this.overlays.get(i))}getOverlays(t,i){let n=Sr();return L.forEach(i,r=>this.getOverlay(t,r).next(o=>{o!==null&&n.set(r,o)})).next(()=>n)}saveOverlays(t,i,n){return n.forEach((r,o)=>{this.ht(t,i,o)}),L.resolve()}removeOverlaysForBatchId(t,i,n){let r=this.hr.get(n);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(n)),L.resolve()}getOverlaysForCollection(t,i,n){let r=Sr(),o=i.length+1,s=new Q(i.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!i.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>n&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(t,i,n,r){let o=new Qt((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===i&&d.largestBatchId>n){let f=o.get(d.largestBatchId);f===null&&(f=Sr(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Sr(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return L.resolve(c)}ht(t,i,n){let r=this.overlays.get(n.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new zg(i,n));let o=this.hr.get(i);o===void 0&&(o=bt(),this.hr.set(i,o)),this.hr.set(i,o.add(n.key))}};var dc=class{constructor(){this.Pr=new Ce(ae.Ir),this.Tr=new Ce(ae.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){let n=new ae(t,i);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,i){t.forEach(n=>this.addReference(n,i))}removeReference(t,i){this.Ar(new ae(t,i))}Rr(t,i){t.forEach(n=>this.removeReference(n,i))}Vr(t){let i=new Q(new $t([])),n=new ae(i,t),r=new ae(i,t+1),o=[];return this.Tr.forEachInRange([n,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){let i=new Q(new $t([])),n=new ae(i,t),r=new ae(i,t+1),o=bt();return this.Tr.forEachInRange([n,r],s=>{o=o.add(s.key)}),o}containsKey(t){let i=new ae(t,0),n=this.Pr.firstAfterOrEqual(i);return n!==null&&t.isEqual(n.key)}},ae=class{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return Q.comparator(t.key,i.key)||Ct(t.pr,i.pr)}static Er(t,i){return Ct(t.pr,i.pr)||Q.comparator(t.key,i.key)}};var o_=class{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Ce(ae.Ir)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,n,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ug(o,i,n,r);this.mutationQueue.push(s);for(let c of r)this.wr=this.wr.add(new ae(c.key,o)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return L.resolve(s)}lookupMutationBatch(t,i){return L.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){let n=i+1,r=this.br(n),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){let n=new ae(i,0),r=new ae(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([n,r],s=>{let c=this.Sr(s.pr);o.push(c)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,i){let n=new Ce(Ct);return i.forEach(r=>{let o=new ae(r,0),s=new ae(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],c=>{n=n.add(c.pr)})}),L.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,i){let n=i.path,r=n.length+1,o=n;Q.isDocumentKey(o)||(o=o.child(""));let s=new ae(new Q(o),0),c=new Ce(Ct);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!n.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.pr)),!0)},s),L.resolve(this.Dr(c))}Dr(t){let i=[];return t.forEach(n=>{let r=this.Sr(n);r!==null&&i.push(r)}),i}removeMutationBatch(t,i){Nt(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let n=this.wr;return L.forEach(i.mutations,r=>{let o=new ae(r.key,i.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=n})}Mn(t){}containsKey(t,i){let n=new ae(i,0),r=this.wr.firstAfterOrEqual(n);return L.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}Cr(t,i){return this.br(t)}br(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Sr(t){let i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var s_=class{constructor(t){this.vr=t,this.docs=function(){return new Qt(Q.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){let n=i.key,r=this.docs.get(n),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(n,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){let n=this.docs.get(i);return L.resolve(n?n.document.mutableCopy():xn.newInvalidDocument(i))}getEntries(t,i){let n=fi();return i.forEach(r=>{let o=this.docs.get(r);n=n.insert(r,o?o.document.mutableCopy():xn.newInvalidDocument(r))}),L.resolve(n)}getDocumentsMatchingQuery(t,i,n,r){let o=fi(),s=i.path,c=new Q(s.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||JN(ZN(f),n)<=0||(r.has(f.key)||Ou(i,f))&&(o=o.insert(f.key,f.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(t,i,n,r){nt()}Fr(t,i){return L.forEach(this.docs,n=>i(n))}newChangeBuffer(t){return new a_(this)}getSize(t){return L.resolve(this.size)}},a_=class extends t_{constructor(t){super(),this.ar=t}applyChanges(t){let i=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)}),L.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}};var c_=class{constructor(t){this.persistence=t,this.Mr=new $i(i=>X_(i),Z_),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Or=0,this.Nr=new dc,this.targetCount=0,this.Lr=lc.Nn()}forEachTarget(t,i){return this.Mr.forEach((n,r)=>i(r)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,i,n){return n&&(this.lastRemoteSnapshotVersion=n),i>this.Or&&(this.Or=i),L.resolve()}qn(t){this.Mr.set(t.target,t);let i=t.targetId;i>this.highestTargetId&&(this.Lr=new lc(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,L.resolve()}updateTargetData(t,i){return this.qn(i),L.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,i,n){let r=0,o=[];return this.Mr.forEach((s,c)=>{c.sequenceNumber<=i&&n.get(c.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,i){let n=this.Mr.get(i)||null;return L.resolve(n)}addMatchingKeys(t,i,n){return this.Nr.dr(i,n),L.resolve()}removeMatchingKeys(t,i,n){this.Nr.Rr(i,n);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(t,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),L.resolve()}getMatchingKeysForTargetId(t,i){let n=this.Nr.gr(i);return L.resolve(n)}containsKey(t,i){return L.resolve(this.Nr.containsKey(i))}};var l_=class{constructor(t,i){this.Br={},this.overlays={},this.kr=new $E(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new c_(this),this.indexManager=new Zg,this.remoteDocumentCache=function(r){return new s_(r)}(n=>this.referenceDelegate.Kr(n)),this.serializer=new Xg(i),this.$r=new i_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new r_,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let n=this.Br[t.toKey()];return n||(n=new o_(i,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,n){H("MemoryPersistence","Starting transaction:",t);let r=new d_(this.kr.next());return this.referenceDelegate.Ur(),n(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(t,i){return L.or(Object.values(this.Br).map(n=>()=>n.containsKey(t,i)))}},d_=class extends Eg{constructor(t){super(),this.currentSequenceNumber=t}},u_=class e{constructor(t){this.persistence=t,this.zr=new dc,this.jr=null}static Hr(t){return new e(t)}get Jr(){if(this.jr)return this.jr;throw nt()}addReference(t,i,n){return this.zr.addReference(n,i),this.Jr.delete(n.toString()),L.resolve()}removeReference(t,i,n){return this.zr.removeReference(n,i),this.Jr.add(n.toString()),L.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),L.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>n.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,n=>{let r=Q.fromPath(n);return this.Yr(t,r).next(o=>{o||i.removeEntry(r,ct.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(n=>{n?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return L.or([()=>L.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}};var h_=class e{constructor(t,i,n,r){this.targetId=t,this.fromCache=i,this.qi=n,this.Qi=r}static Ki(t,i){let n=bt(),r=bt();for(let o of i.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e(t,i.fromCache,n,r)}};var f_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var m_=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Zw()?8:eF(le())>0?6:4}()}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,n,r){let o={result:null};return this.ji(t,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(t,i,r,n).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new f_;return this.Ji(t,i,s).next(c=>{if(o.result=c,this.Ui)return this.Yi(t,i,s,c.size)})}).next(()=>o.result)}Yi(t,i,n,r){return n.documentReadCount<this.Wi?(Za()<=_t.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Oo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(Za()<=_t.DEBUG&&H("QueryEngine","Query:",Oo(i),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Za()<=_t.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Oo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Un(i))):L.resolve())}ji(t,i){if(yE(i))return L.resolve(null);let n=Un(i);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=ru(i,null,"F"),n=Un(i)),this.indexManager.getDocumentsMatchingTarget(t,n).next(o=>{let s=bt(...o);return this.zi.getDocuments(t,s).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{let d=this.Zi(i,c);return this.Xi(i,d,s,l.readTime)?this.ji(t,ru(i,null,"F")):this.es(t,d,i,l)}))})))}Hi(t,i,n,r){return yE(i)||r.isEqual(ct.min())?L.resolve(null):this.zi.getDocuments(t,n).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,n,r)?L.resolve(null):(Za()<=_t.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Oo(i)),this.es(t,s,i,XN(r,-1)).next(c=>c))})}Zi(t,i){let n=new Ce(JE(t));return i.forEach((r,o)=>{Ou(t,o)&&(n=n.add(o))}),n}Xi(t,i,n,r){if(t.limit===null)return!1;if(n.size!==i.size)return!0;let o=t.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(t,i,n){return Za()<=_t.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Oo(i)),this.zi.getDocumentsMatchingQuery(t,i,Pr.min(),n)}es(t,i,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var p_=class{constructor(t,i,n,r){this.persistence=t,this.ts=i,this.serializer=r,this.ns=new Qt(Ct),this.rs=new $i(o=>X_(o),Z_),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new n_(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}};function qF(e,t,i,n){return new p_(e,t,i,n)}function vI(e,t){return b(this,null,function*(){let i=st(e);return yield i.persistence.runTransaction("Handle user change","readonly",n=>{let r;return i.mutationQueue.getAllMutationBatches(n).next(o=>(r=o,i._s(t),i.mutationQueue.getAllMutationBatches(n))).next(o=>{let s=[],c=[],l=bt();for(let d of r){s.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return i.localDocuments.getDocuments(n,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:c}))})})})}function HF(e,t){let i=st(e);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let p=d.batch,g=p.keys(),E=L.resolve();return g.forEach(k=>{E=E.next(()=>f.getEntry(l,k)).next(O=>{let D=d.docVersions.get(k);Nt(D!==null),O.version.compareTo(D)<0&&(p.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),f.addEntry(O)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(i,n,t,o).next(()=>o.apply(n)).next(()=>i.mutationQueue.performConsistencyCheck(n)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=bt();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(t))).next(()=>i.localDocuments.getDocuments(n,r))})}function yI(e){let t=st(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function GF(e,t){let i=st(e),n=t.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let c=[];t.targetChanges.forEach((f,p)=>{let g=r.get(p);if(!g)return;c.push(i.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>i.Qr.addMatchingKeys(o,f.addedDocuments,p)));let E=g.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(p)!==null?E=E.withResumeToken(je.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,n)),r=r.insert(p,E),function(O,D,z){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(g,E,f)&&c.push(i.Qr.updateTargetData(o,E))});let l=fi(),d=bt();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&c.push(i.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(WF(o,s,t.documentUpdates).next(f=>{l=f.cs,d=f.ls})),!n.isEqual(ct.min())){let f=i.Qr.getLastRemoteSnapshotVersion(o).next(p=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,n));c.push(f)}return L.waitFor(c).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(i.ns=r,o))}function WF(e,t,i){let n=bt(),r=bt();return i.forEach(o=>n=n.add(o)),t.getEntries(e,n).next(o=>{let s=fi();return i.forEach((c,l)=>{let d=o.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ct.min())?(t.removeEntry(c,l.readTime),s=s.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(l),s=s.insert(c,l)):H("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function KF(e,t){let i=st(e);return i.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function YF(e,t){let i=st(e);return i.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return i.Qr.getTargetData(n,t).next(o=>o?(r=o,L.resolve(r)):i.Qr.allocateTargetId(n).next(s=>(r=new cc(t,s,"TargetPurposeListen",n.currentSequenceNumber),i.Qr.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=i.ns.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(n.targetId,n),i.rs.set(t,n.targetId)),n})}function g_(e,t,i){return b(this,null,function*(){let n=st(e),r=n.ns.get(t),o=i?"readwrite":"readwrite-primary";try{i||(yield n.persistence.runTransaction("Release target",o,s=>n.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!yc(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.ns=n.ns.remove(t),n.rs.delete(r.target)})}function kE(e,t,i){let n=st(e),r=ct.min(),o=bt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){let p=st(l),g=p.rs.get(f);return g!==void 0?L.resolve(p.ns.get(g)):p.Qr.getTargetData(d,f)}(n,s,Un(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Qr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>n.ts.getDocumentsMatchingQuery(s,t,i?r:ct.min(),i?o:bt())).next(c=>(QF(n,uF(t),c),{documents:c,hs:o})))}function QF(e,t,i){let n=e.ss.get(t)||ct.min();i.forEach((r,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)}),e.ss.set(t,n)}var uu=class{constructor(){this.activeTargetIds=_F()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var __=class{constructor(){this.no=new uu,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,n){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new uu,Promise.resolve()}handleUserChange(t,i,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var b_=class{io(t){}shutdown(){}};var hu=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.uo)t(0)}ao(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.uo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Wd=null;function hg(){return Wd===null?Wd=function(){return 268435456+Math.round(2147483648*Math.random())}():Wd++,"0x"+Wd.toString(16)}var XF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var v_=class{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}};var Te="WebChannelConnection",y_=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let n=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=n+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,n,r,o,s){let c=hg(),l=this.vo(i,n.toUriEncodedString());H("RestConnection",`Sending RPC '${i}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(i,l,d,r).then(f=>(H("RestConnection",`Received RPC '${i}' ${c}: `,f),f),f=>{throw Uo("RestConnection",`RPC '${i}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(i,n,r,o,s,c){return this.Co(i,n,r,o,s)}Fo(i,n,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,n){let r=XF[i];return`${this.wo}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,n,r){let o=hg();return new Promise((s,c)=>{let l=new og;l.setWithCredentials(!0),l.listenOnce(ag.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xa.NO_ERROR:let f=l.getResponseJson();H(Te,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(f)),s(f);break;case Xa.TIMEOUT:H(Te,`RPC '${t}' ${o} timed out`),c(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case Xa.HTTP_ERROR:let p=l.getStatus();if(H(Te,`RPC '${t}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let E=g?.error;if(E&&E.status&&E.message){let k=function(D){let z=D.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(z)>=0?z:P.UNKNOWN}(E.status);c(new B(k,E.message))}else c(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new B(P.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{H(Te,`RPC '${t}' ${o} completed.`)}});let d=JSON.stringify(r);H(Te,`RPC '${t}' ${o} sending request:`,r),l.send(i,"POST",d,n,15)})}Oo(t,i,n){let r=hg(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=dg(),c=lg(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new sg({})),this.Fo(l.initMessageHeaders,i,n),l.encodeInitMessageHeaders=!0;let f=o.join("");H(Te,`Creating RPC '${t}' stream ${r}: ${f}`,l);let p=s.createWebChannel(f,l),g=!1,E=!1,k=new v_({lo:D=>{E?H(Te,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(g||(H(Te,`Opening RPC '${t}' stream ${r} transport.`),p.open(),g=!0),H(Te,`RPC '${t}' stream ${r} sending:`,D),p.send(D))},ho:()=>p.close()}),O=(D,z,Y)=>{D.listen(z,J=>{try{Y(J)}catch(at){setTimeout(()=>{throw at},0)}})};return O(p,Po.EventType.OPEN,()=>{E||(H(Te,`RPC '${t}' stream ${r} transport opened.`),k.mo())}),O(p,Po.EventType.CLOSE,()=>{E||(E=!0,H(Te,`RPC '${t}' stream ${r} transport closed`),k.po())}),O(p,Po.EventType.ERROR,D=>{E||(E=!0,Uo(Te,`RPC '${t}' stream ${r} transport errored:`,D),k.po(new B(P.UNAVAILABLE,"The operation could not be completed")))}),O(p,Po.EventType.MESSAGE,D=>{var z;if(!E){let Y=D.data[0];Nt(!!Y);let J=Y,at=J.error||((z=J[0])===null||z===void 0?void 0:z.error);if(at){H(Te,`RPC '${t}' stream ${r} received error:`,at);let zt=at.status,X=function(v){let x=se[v];if(x!==void 0)return uI(x)}(zt),w=at.message;X===void 0&&(X=P.INTERNAL,w="Unknown error status: "+zt+" with message "+at.message),E=!0,k.po(new B(X,w)),p.close()}else H(Te,`RPC '${t}' stream ${r} received:`,Y),k.yo(Y)}}),O(c,cg.STAT_EVENT,D=>{D.stat===Hd.PROXY?H(Te,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===Hd.NOPROXY&&H(Te,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{k.fo()},0),k}};function fg(){return typeof document<"u"?document:null}function Mu(e){return new Gg(e,!0)}var fu=class{constructor(t,i,n=1e3,r=1.5,o=6e4){this.oi=t,this.timerId=i,this.No=n,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();let i=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-n);r>0&&H("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var mu=class{constructor(t,i,n,r,o,s,c,l){this.oi=t,this.Go=n,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new fu(t,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return b(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){return b(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){return b(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,t!==4?this.Yo.reset():i&&i.code===P.RESOURCE_EXHAUSTED?(di(i.toString()),di("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.jo===i&&this.u_(n,r)},n=>{t(()=>{let r=new B(P.UNKNOWN,"Fetching auth token failed: "+n.message);return this.c_(r)})})}u_(t,i){let n=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{n(()=>this.listener.Po())}),this.stream.To(()=>{n(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{n(()=>this.c_(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>b(this,null,function*(){this.state=0,this.start()}))}c_(t){return H("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},w_=class extends mu{constructor(t,i,n,r,o,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();let i=PF(this.serializer,t),n=function(o){if(!("targetChange"in o))return ct.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ct.min():s.readTime?Bn(s.readTime):ct.min()}(t);return this.listener.h_(i,n)}P_(t){let i={};i.database=Qg(this.serializer),i.addTarget=function(o,s){let c,l=s.target;if(c=Fg(l)?{documents:NF(o,l)}:{query:FF(o,l)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=hI(o,s.resumeToken);let d=Wg(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(ct.min())>0){c.readTime=lu(o,s.snapshotVersion.toTimestamp());let d=Wg(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,t);let n=VF(this.serializer,t);n&&(i.labels=n),this.i_(i)}I_(t){let i={};i.database=Qg(this.serializer),i.removeTarget=t,this.i_(i)}},x_=class extends mu{constructor(t,i,n,r,o,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,n,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(Nt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();let i=MF(t.writeResults,t.commitTime),n=Bn(t.commitTime);return this.listener.A_(n,i)}return Nt(!t.writeResults||t.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let t={};t.database=Qg(this.serializer),this.i_(t)}d_(t){let i={streamToken:this.lastStreamToken,writes:t.map(n=>OF(this.serializer,n))};this.i_(i)}};var E_=class extends class{}{constructor(t,i,n,r){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(t,Kg(i,n),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}xo(t,i,n,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.xo(t,Kg(i,n),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},I_=class{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,t==="Online"&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){let i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(di(i),this.y_=!1):H("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var T_=class{constructor(t,i,n,r,o){this.localStore=t,this.datastore=i,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{n.enqueueAndForget(()=>b(this,null,function*(){jr(this)&&(H("RemoteStore","Restarting streams for network reachability change."),yield function(l){return b(this,null,function*(){let d=st(l);d.M_.add(4),yield wc(d),d.N_.set("Unknown"),d.M_.delete(4),yield Nu(d)})}(this))}))}),this.N_=new I_(n,r)}};function Nu(e){return b(this,null,function*(){if(jr(e))for(let t of e.x_)yield t(!0)})}function wc(e){return b(this,null,function*(){for(let t of e.x_)yield t(!1)})}function wI(e,t){let i=st(e);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),rb(i)?ib(i):Jo(i).Xo()&&nb(i,t))}function eb(e,t){let i=st(e),n=Jo(i);i.F_.delete(t),n.Xo()&&xI(i,t),i.F_.size===0&&(n.Xo()?n.n_():jr(i)&&i.N_.set("Unknown"))}function nb(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){let i=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Jo(e).P_(t)}function xI(e,t){e.L_.xe(t),Jo(e).I_(t)}function ib(e){e.L_=new Hg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Jo(e).start(),e.N_.w_()}function rb(e){return jr(e)&&!Jo(e).Zo()&&e.F_.size>0}function jr(e){return st(e).M_.size===0}function EI(e){e.L_=void 0}function ZF(e){return b(this,null,function*(){e.N_.set("Online")})}function JF(e){return b(this,null,function*(){e.F_.forEach((t,i)=>{nb(e,t)})})}function tL(e,t){return b(this,null,function*(){EI(e),rb(e)?(e.N_.D_(t),ib(e)):e.N_.set("Unknown")})}function eL(e,t,i){return b(this,null,function*(){if(e.N_.set("Online"),t instanceof au&&t.state===2&&t.cause)try{yield function(r,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.F_.delete(c),r.L_.removeTarget(c))})}(e,t)}catch(n){H("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield pu(e,n)}else if(t instanceof Vo?e.L_.Ke(t):t instanceof su?e.L_.He(t):e.L_.We(t),!i.isEqual(ct.min()))try{let n=yield yI(e.localStore);i.compareTo(n)>=0&&(yield function(o,s){let c=o.L_.rt(s);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.F_.get(d);f&&o.F_.set(d,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,d)=>{let f=o.F_.get(l);if(!f)return;o.F_.set(l,f.withResumeToken(je.EMPTY_BYTE_STRING,f.snapshotVersion)),xI(o,l);let p=new cc(f.target,l,d,f.sequenceNumber);nb(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(e,i))}catch(n){H("RemoteStore","Failed to raise snapshot:",n),yield pu(e,n)}})}function pu(e,t,i){return b(this,null,function*(){if(!yc(t))throw t;e.M_.add(1),yield wc(e),e.N_.set("Offline"),i||(i=()=>yI(e.localStore)),e.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){H("RemoteStore","Retrying IndexedDB access"),yield i(),e.M_.delete(1),yield Nu(e)}))})}function II(e,t){return t().catch(i=>pu(e,i,t))}function Fu(e){return b(this,null,function*(){let t=st(e),i=qi(t),n=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;nL(t);)try{let r=yield KF(t.localStore,n);if(r===null){t.v_.length===0&&i.n_();break}n=r.batchId,iL(t,r)}catch(r){yield pu(t,r)}TI(t)&&CI(t)})}function nL(e){return jr(e)&&e.v_.length<10}function iL(e,t){e.v_.push(t);let i=qi(e);i.Xo()&&i.E_&&i.d_(t.mutations)}function TI(e){return jr(e)&&!qi(e).Zo()&&e.v_.length>0}function CI(e){qi(e).start()}function rL(e){return b(this,null,function*(){qi(e).V_()})}function oL(e){return b(this,null,function*(){let t=qi(e);for(let i of e.v_)t.d_(i.mutations)})}function sL(e,t,i){return b(this,null,function*(){let n=e.v_.shift(),r=Bg.from(n,t,i);yield II(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),yield Fu(e)})}function aL(e,t){return b(this,null,function*(){t&&qi(e).E_&&(yield function(n,r){return b(this,null,function*(){if(function(s){return IF(s)&&s!==P.ABORTED}(r.code)){let o=n.v_.shift();qi(n).t_(),yield II(n,()=>n.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield Fu(n)}})}(e,t)),TI(e)&&CI(e)})}function PE(e,t){return b(this,null,function*(){let i=st(e);i.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");let n=jr(i);i.M_.add(3),yield wc(i),n&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield Nu(i)})}function cL(e,t){return b(this,null,function*(){let i=st(e);t?(i.M_.delete(2),yield Nu(i)):t||(i.M_.add(2),yield wc(i),i.N_.set("Unknown"))})}function Jo(e){return e.B_||(e.B_=function(i,n,r){let o=st(i);return o.f_(),new w_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:ZF.bind(null,e),To:JF.bind(null,e),Ao:tL.bind(null,e),h_:eL.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.B_.t_(),rb(e)?ib(e):e.N_.set("Unknown")):(yield e.B_.stop(),EI(e))}))),e.B_}function qi(e){return e.k_||(e.k_=function(i,n,r){let o=st(i);return o.f_(),new x_(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:rL.bind(null,e),Ao:aL.bind(null,e),R_:oL.bind(null,e),A_:sL.bind(null,e)}),e.x_.push(t=>b(this,null,function*(){t?(e.k_.t_(),yield Fu(e)):(yield e.k_.stop(),e.v_.length>0&&(H("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}var C_=class e{constructor(t,i,n,r,o){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=n,this.op=r,this.removalCallback=o,this.deferred=new wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,n,r,o){let s=Date.now()+n,c=new e(t,i,s,r,o);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ob(e,t){if(di("AsyncQueue",`${t}: ${e}`),yc(e))return new B(P.UNAVAILABLE,`${t}: ${e}`);throw e}var gu=class e{constructor(t){this.comparator=t?(i,n)=>t(i,n)||Q.comparator(i.key,n.key):(i,n)=>Q.comparator(i.key,n.key),this.keyedMap=Ja(),this.sortedSet=new Qt(this.comparator)}static emptySet(t){return new e(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,n)=>(t(i),!1))}add(t){let i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){let i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let i=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=n.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){let n=new e;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=i,n}};var _u=class{constructor(){this.q_=new Qt(Q.comparator)}track(t){let i=t.doc.key,n=this.q_.get(i);n?t.type!==0&&n.type===3?this.q_=this.q_.insert(i,t):t.type===3&&n.type!==1?this.q_=this.q_.insert(i,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.q_=this.q_.remove(i):t.type===1&&n.type===2?this.q_=this.q_.insert(i,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):nt():this.q_=this.q_.insert(i,t)}Q_(){let t=[];return this.q_.inorderTraversal((i,n)=>{t.push(n)}),t}},Ko=class e{constructor(t,i,n,r,o,s,c,l,d){this.query=t,this.docs=i,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(t,i,n,r,o){let s=[];return i.forEach(c=>{s.push({type:0,doc:c})}),new e(t,i,gu.emptySet(i),s,n,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let i=this.docChanges,n=t.docChanges;if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==n[r].type||!i[r].doc.isEqual(n[r].doc))return!1;return!0}};var A_=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}},S_=class{constructor(){this.queries=new $i(t=>ZE(t),Pu),this.onlineState="Unknown",this.z_=new Set}};function sb(e,t){return b(this,null,function*(){let i=st(e),n=3,r=t.query,o=i.queries.get(r);o?!o.W_()&&t.G_()&&(n=2):(o=new A_,n=t.G_()?0:1);try{switch(n){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let c=ob(s,`Initialization of query '${Oo(t.query)}' failed`);return void t.onError(c)}i.queries.set(r,o),o.U_.push(t),t.j_(i.onlineState),o.K_&&t.H_(o.K_)&&cb(i)})}function ab(e,t){return b(this,null,function*(){let i=st(e),n=t.query,r=3,o=i.queries.get(n);if(o){let s=o.U_.indexOf(t);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=t.G_()?0:1:!o.W_()&&t.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(n),i.onUnlisten(n,!0);case 1:return i.queries.delete(n),i.onUnlisten(n,!1);case 2:return i.onLastRemoteStoreUnlisten(n);default:return}})}function lL(e,t){let i=st(e),n=!1;for(let r of t){let o=r.query,s=i.queries.get(o);if(s){for(let c of s.U_)c.H_(r)&&(n=!0);s.K_=r}}n&&cb(i)}function dL(e,t,i){let n=st(e),r=n.queries.get(t);if(r)for(let o of r.U_)o.onError(i);n.queries.delete(t)}function cb(e){e.z_.forEach(t=>{t.next()})}var R_,OE;(OE=R_||(R_={})).J_="default",OE.Cache="cache";var uc=class{constructor(t,i,n){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new Ko(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){if(!t.fromCache||!this.G_())return!0;let n=i!=="Offline";return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}ea(t){if(t.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(t){t=Ko.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==R_.Cache}};var bu=class{constructor(t){this.key=t}},vu=class{constructor(t){this.key=t}},D_=class{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=bt(),this.mutatedKeys=bt(),this.Ia=JE(t),this.Ta=new gu(this.Ia)}get Ea(){return this.la}da(t,i){let n=i?i.Aa:new _u,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{let g=r.get(f),E=Ou(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),D=!1;g&&E?g.data.isEqual(E.data)?k!==O&&(n.track({type:3,doc:E}),D=!0):this.Ra(g,E)||(n.track({type:2,doc:E}),D=!0,(l&&this.Ia(E,l)>0||d&&this.Ia(E,d)<0)&&(c=!0)):!g&&E?(n.track({type:0,doc:E}),D=!0):g&&!E&&(n.track({type:1,doc:g}),D=!0,(l||d)&&(c=!0)),D&&(E?(s=s.add(E),o=O?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),n.track({type:1,doc:f})}return{Ta:s,Aa:n,Xi:c,mutatedKeys:o}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,n,r){let o=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;let s=t.Aa.Q_();s.sort((f,p)=>function(E,k){let O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return O(E)-O(k)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(n),r=r!=null&&r;let c=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new Ko(this.query,t.Ta,o,s,t.mutatedKeys,l===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _u,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];let t=this.Pa;this.Pa=bt(),this.Ta.forEach(n=>{this.ga(n.key)&&(this.Pa=this.Pa.add(n.key))});let i=[];return t.forEach(n=>{this.Pa.has(n)||i.push(new vu(n))}),this.Pa.forEach(n=>{t.has(n)||i.push(new bu(n))}),i}pa(t){this.la=t.hs,this.Pa=bt();let i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return Ko.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},k_=class{constructor(t,i,n){this.query=t,this.targetId=i,this.view=n}},P_=class{constructor(t){this.key=t,this.wa=!1}},O_=class{constructor(t,i,n,r,o,s){this.localStore=t,this.remoteStore=i,this.eventManager=n,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new $i(c=>ZE(c),Pu),this.Da=new Map,this.Ca=new Set,this.va=new Qt(Q.comparator),this.Fa=new Map,this.Ma=new dc,this.xa={},this.Oa=new Map,this.Na=lc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function uL(e,t,i=!0){return b(this,null,function*(){let n=PI(e),r,o=n.ba.get(t);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield AI(n,t,i,!0),r})}function hL(e,t){return b(this,null,function*(){let i=PI(e);yield AI(i,t,!0,!1)})}function AI(e,t,i,n){return b(this,null,function*(){let r=yield YF(e.localStore,Un(t)),o=r.targetId,s=i?e.sharedClientState.addLocalQueryTarget(o):"not-current",c;return n&&(c=yield fL(e,t,o,s==="current",r.resumeToken)),e.isPrimaryClient&&i&&wI(e.remoteStore,r),c})}function fL(e,t,i,n,r){return b(this,null,function*(){e.Ba=(p,g,E)=>function(O,D,z,Y){return b(this,null,function*(){let J=D.view.da(z);J.Xi&&(J=yield kE(O.localStore,D.query,!1).then(({documents:w})=>D.view.da(w,J)));let at=Y&&Y.targetChanges.get(D.targetId),zt=Y&&Y.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(J,O.isPrimaryClient,at,zt);return NE(O,D.targetId,X.fa),X.snapshot})}(e,p,g,E);let o=yield kE(e.localStore,t,!0),s=new D_(t,o.hs),c=s.da(o.documents),l=ac.createSynthesizedTargetChangeForCurrentChange(i,n&&e.onlineState!=="Offline",r),d=s.applyChanges(c,e.isPrimaryClient,l);NE(e,i,d.fa);let f=new k_(t,i,s);return e.ba.set(t,f),e.Da.has(i)?e.Da.get(i).push(t):e.Da.set(i,[t]),d.snapshot})}function mL(e,t,i){return b(this,null,function*(){let n=st(e),r=n.ba.get(t),o=n.Da.get(r.targetId);if(o.length>1)return n.Da.set(r.targetId,o.filter(s=>!Pu(s,t))),void n.ba.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield g_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),i&&eb(n.remoteStore,r.targetId),M_(n,r.targetId)}).catch(vc))):(M_(n,r.targetId),yield g_(n.localStore,r.targetId,!0))})}function pL(e,t){return b(this,null,function*(){let i=st(e),n=i.ba.get(t),r=i.Da.get(n.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(n.targetId),eb(i.remoteStore,n.targetId))})}function gL(e,t,i){return b(this,null,function*(){let n=EL(e);try{let r=yield function(s,c){let l=st(s),d=_e.now(),f=c.reduce((E,k)=>E.add(k.key),bt()),p,g;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let k=fi(),O=bt();return l.os.getEntries(E,f).next(D=>{k=D,k.forEach((z,Y)=>{Y.isValidDocument()||(O=O.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,k)).next(D=>{p=D;let z=[];for(let Y of c){let J=EF(Y,p.get(Y.key).overlayedDocument);J!=null&&z.push(new $n(Y.key,J,GE(J.value.mapValue),li.exists(!0)))}return l.mutationQueue.addMutationBatch(E,d,z,c)}).next(D=>{g=D;let z=D.applyToLocalDocumentSet(p,O);return l.documentOverlayCache.saveOverlays(E,D.batchId,z)})}).then(()=>({batchId:g.batchId,changes:eI(p)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(s,c,l){let d=s.xa[s.currentUser.toKey()];d||(d=new Qt(Ct)),d=d.insert(c,l),s.xa[s.currentUser.toKey()]=d}(n,r.batchId,i),yield xc(n,r.changes),yield Fu(n.remoteStore)}catch(r){let o=ob(r,"Failed to persist write");i.reject(o)}})}function SI(e,t){return b(this,null,function*(){let i=st(e);try{let n=yield GF(i.localStore,t);t.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(Nt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?Nt(s.wa):r.removedDocuments.size>0&&(Nt(s.wa),s.wa=!1))}),yield xc(i,n,t)}catch(n){yield vc(n)}})}function ME(e,t,i){let n=st(e);if(n.isPrimaryClient&&i===0||!n.isPrimaryClient&&i===1){let r=[];n.ba.forEach((o,s)=>{let c=s.view.j_(t);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=st(s);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let g of p.U_)g.j_(c)&&(d=!0)}),d&&cb(l)}(n.eventManager,t),r.length&&n.Sa.h_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function _L(e,t,i){return b(this,null,function*(){let n=st(e);n.sharedClientState.updateQueryState(t,"rejected",i);let r=n.Fa.get(t),o=r&&r.key;if(o){let s=new Qt(Q.comparator);s=s.insert(o,xn.newNoDocument(o,ct.min()));let c=bt().add(o),l=new ou(ct.min(),new Map,new Qt(Ct),s,c);yield SI(n,l),n.va=n.va.remove(o),n.Fa.delete(t),lb(n)}else yield g_(n.localStore,t,!1).then(()=>M_(n,t,i)).catch(vc)})}function bL(e,t){return b(this,null,function*(){let i=st(e),n=t.batch.batchId;try{let r=yield HF(i.localStore,t);DI(i,n,null),RI(i,n),i.sharedClientState.updateMutationState(n,"acknowledged"),yield xc(i,r)}catch(r){yield vc(r)}})}function vL(e,t,i){return b(this,null,function*(){let n=st(e);try{let r=yield function(s,c){let l=st(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(Nt(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(n.localStore,t);DI(n,t,i),RI(n,t),n.sharedClientState.updateMutationState(t,"rejected",i),yield xc(n,r)}catch(r){yield vc(r)}})}function RI(e,t){(e.Oa.get(t)||[]).forEach(i=>{i.resolve()}),e.Oa.delete(t)}function DI(e,t,i){let n=st(e),r=n.xa[n.currentUser.toKey()];if(r){let o=r.get(t);o&&(i?o.reject(i):o.resolve(),r=r.remove(t)),n.xa[n.currentUser.toKey()]=r}}function M_(e,t,i=null){e.sharedClientState.removeLocalQueryTarget(t);for(let n of e.Da.get(t))e.ba.delete(n),i&&e.Sa.ka(n,i);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach(n=>{e.Ma.containsKey(n)||kI(e,n)})}function kI(e,t){e.Ca.delete(t.path.canonicalString());let i=e.va.get(t);i!==null&&(eb(e.remoteStore,i),e.va=e.va.remove(t),e.Fa.delete(i),lb(e))}function NE(e,t,i){for(let n of i)n instanceof bu?(e.Ma.addReference(n.key,t),yL(e,n)):n instanceof vu?(H("SyncEngine","Document no longer in limbo: "+n.key),e.Ma.removeReference(n.key,t),e.Ma.containsKey(n.key)||kI(e,n.key)):nt()}function yL(e,t){let i=t.key,n=i.path.canonicalString();e.va.get(i)||e.Ca.has(n)||(H("SyncEngine","New document in limbo: "+i),e.Ca.add(n),lb(e))}function lb(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){let t=e.Ca.values().next().value;e.Ca.delete(t);let i=new Q($t.fromString(t)),n=e.Na.next();e.Fa.set(n,new P_(i)),e.va=e.va.insert(i,n),wI(e.remoteStore,new cc(Un(ku(i.path)),n,"TargetPurposeLimboResolution",$E.oe))}}function xc(e,t,i){return b(this,null,function*(){let n=st(e),r=[],o=[],s=[];n.ba.isEmpty()||(n.ba.forEach((c,l)=>{s.push(n.Ba(l,t,i).then(d=>{if((d||i)&&n.isPrimaryClient){let f=d&&!d.fromCache;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){r.push(d);let f=h_.Ki(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),n.Sa.h_(r),yield function(l,d){return b(this,null,function*(){let f=st(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(d,g=>L.forEach(g.qi,E=>f.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>L.forEach(g.Qi,E=>f.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!yc(p))throw p;H("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let g=p.targetId;if(!p.fromCache){let E=f.ns.get(g),k=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(k);f.ns=f.ns.insert(g,O)}}})}(n.localStore,o))})}function wL(e,t){return b(this,null,function*(){let i=st(e);if(!i.currentUser.isEqual(t)){H("SyncEngine","User change. New user:",t.toKey());let n=yield vI(i.localStore,t);i.currentUser=t,function(o,s){o.Oa.forEach(c=>{c.forEach(l=>{l.reject(new B(P.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield xc(i,n.us)}})}function xL(e,t){let i=st(e),n=i.Fa.get(t);if(n&&n.wa)return bt().add(n.key);{let r=bt(),o=i.Da.get(t);if(!o)return r;for(let s of o){let c=i.ba.get(s);r=r.unionWith(c.view.Ea)}return r}}function PI(e){let t=st(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=SI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_L.bind(null,t),t.Sa.h_=lL.bind(null,t.eventManager),t.Sa.ka=dL.bind(null,t.eventManager),t}function EL(e){let t=st(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vL.bind(null,t),t}var yu=class{constructor(){this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Mu(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),yield this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)})}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return qF(this.persistence,new m_,t.initialUser,this.serializer)}createPersistence(t){return new l_(u_.Hr,this.serializer)}createSharedClientState(t){return new __}terminate(){return b(this,null,function*(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var N_=class{initialize(t,i){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ME(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=wL.bind(null,this.syncEngine),yield cL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new S_}()}createDatastore(t){let i=Mu(t.databaseInfo.databaseId),n=function(o){return new y_(o)}(t.databaseInfo);return function(o,s,c,l){return new E_(o,s,c,l)}(t.authCredentials,t.appCheckCredentials,n,i)}createRemoteStore(t){return function(n,r,o,s,c){return new T_(n,r,o,s,c)}(this.localStore,this.datastore,t.asyncQueue,i=>ME(this.syncEngine,i,0),function(){return hu.D()?new hu:new b_}())}createSyncEngine(t,i){return function(r,o,s,c,l,d,f){let p=new O_(r,o,s,c,l,d);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){return b(this,null,function*(){var t;yield function(n){return b(this,null,function*(){let r=st(n);H("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield wc(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate()})}};var hc=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):di("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}};var F_=class{constructor(t,i,n,r){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=n,this.databaseInfo=r,this.user=he.UNAUTHENTICATED,this.clientId=Xd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,o=>b(this,null,function*(){H("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(H("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let t=new wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){let n=ob(i,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function mg(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");let i=e.configuration;yield t.initialize(i);let n=i.initialUser;e.setCredentialChangeListener(r=>b(this,null,function*(){n.isEqual(r)||(yield vI(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t})}function FE(e,t){return b(this,null,function*(){e.asyncQueue.verifyOperationInProgress();let i=yield TL(e);H("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,e.configuration),e.setCredentialChangeListener(n=>PE(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,r)=>PE(t.remoteStore,r)),e._onlineComponents=t})}function IL(e){return e.name==="FirebaseError"?e.code===P.FAILED_PRECONDITION||e.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}function TL(e){return b(this,null,function*(){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{yield mg(e,e._uninitializedComponentsProvider._offline)}catch(t){let i=t;if(!IL(i))throw i;Uo("Error using user provided cache. Falling back to memory cache: "+i),yield mg(e,new yu)}}else H("FirestoreClient","Using default OfflineComponentProvider"),yield mg(e,new yu);return e._offlineComponents})}function OI(e){return b(this,null,function*(){return e._onlineComponents||(e._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),yield FE(e,e._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),yield FE(e,new N_))),e._onlineComponents})}function CL(e){return OI(e).then(t=>t.syncEngine)}function wu(e){return b(this,null,function*(){let t=yield OI(e),i=t.eventManager;return i.onListen=uL.bind(null,t.syncEngine),i.onUnlisten=mL.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=hL.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=pL.bind(null,t.syncEngine),i})}function AL(e,t,i={}){let n=new wn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,d){let f=new hc({next:g=>{s.enqueueAndForget(()=>ab(o,p));let E=g.docs.has(c);!E&&g.fromCache?d.reject(new B(P.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&l&&l.source==="server"?d.reject(new B(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new uc(ku(c.path),f,{includeMetadataChanges:!0,ra:!0});return sb(o,p)}(yield wu(e),e.asyncQueue,t,i,n)})),n.promise}function SL(e,t,i={}){let n=new wn;return e.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return function(o,s,c,l,d){let f=new hc({next:g=>{s.enqueueAndForget(()=>ab(o,p)),g.fromCache&&l.source==="server"?d.reject(new B(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new uc(c,f,{includeMetadataChanges:!0,ra:!0});return sb(o,p)}(yield wu(e),e.asyncQueue,t,i,n)})),n.promise}function MI(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var LE=new Map;function NI(e,t,i){if(!i)throw new B(P.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function RL(e,t,i,n){if(t===!0&&n===!0)throw new B(P.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)}function VE(e){if(!Q.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jE(e){if(Q.isDocumentKey(e))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Lu(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{let t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":nt()}function fn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=Lu(e);throw new B(P.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}function DL(e,t){if(t<=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}var xu=class{constructor(t){var i,n;if(t.host===void 0){if(t.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(i=t.ssl)===null||i===void 0||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}RL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MI((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Yo=class{constructor(t,i,n,r){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xu(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pg;switch(n.type){case"firstParty":return new vg(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let n=LE.get(i);n&&(H("ComponentProvider","Removing Datastore"),LE.delete(i),n.terminate())}(this),Promise.resolve()}};function FI(e,t,i,n={}){var r;let o=(e=fn(e,Yo))._getSettings(),s=`${t}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=he.MOCK_USER;else{c=pd(n.mockUserToken,(r=e._app)===null||r===void 0?void 0:r.options.projectId);let d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new he(d)}e._authCredentials=new gg(new Qd(c,l))}}var qn=class e{constructor(t,i,n){this.converter=i,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new e(this.firestore,t,this._query)}},Ve=class e{constructor(t,i,n){this.converter=i,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}},Ui=class e extends qn{constructor(t,i,n){super(t,i,ku(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Ve(this.firestore,null,new Q(t))}withConverter(t){return new e(this.firestore,t,this._path)}};function LI(e,t,...i){if(e=Mt(e),NI("collection","path",t),e instanceof Yo){let n=$t.fromString(t,...i);return jE(n),new Ui(e,null,n)}{if(!(e instanceof Ve||e instanceof Ui))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child($t.fromString(t,...i));return jE(n),new Ui(e.firestore,null,n)}}function db(e,t,...i){if(e=Mt(e),arguments.length===1&&(t=Xd.newId()),NI("doc","path",t),e instanceof Yo){let n=$t.fromString(t,...i);return VE(n),new Ve(e,null,new Q(n))}{if(!(e instanceof Ve||e instanceof Ui))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=e._path.child($t.fromString(t,...i));return VE(n),new Ve(e.firestore,e instanceof Ui?e.converter:null,new Q(n))}}var L_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new fu(this,"async_queue_retry"),this.hu=()=>{let i=fg();i&&H("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let t=fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;let i=fg();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new wn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(t){if(!yc(t))throw t;H("AsyncQueue","Operation failed with retryable error: "+t)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(t){let i=this.iu.then(()=>(this.uu=!0,t().catch(n=>{this.au=n,this.uu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(n);throw di("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.uu=!1,n))));return this.iu=i,i}enqueueAfterDelay(t,i,n){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);let r=C_.createAndSchedule(this,t,i,n,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&nt()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let t;do t=this.iu,yield t;while(t!==this.iu)})}Au(t){for(let i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,n)=>i.targetTimeMs-n.targetTimeMs);for(let i of this._u)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){let i=this._u.indexOf(t);this._u.splice(i,1)}};function UE(e){return function(i,n){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of n)if(o in r&&typeof r[o]=="function")return!0;return!1}(e,["next","error","complete"])}var Hn=class extends Yo{constructor(t,i,n,r){super(t,i,n,r),this.type="firestore",this._queue=function(){return new L_}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jI(this),this._firestoreClient.terminate()}};function VI(e,t){let i=typeof e=="object"?e:Li(),n=typeof e=="string"?e:t||"(default)",r=yr(i,"firestore").getImmediate({identifier:n});if(!r._initialized){let o=md("firestore");o&&FI(r,...o)}return r}function Vu(e){return e._firestoreClient||jI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function jI(e){var t,i,n;let r=e._freezeSettings(),o=function(c,l,d,f){return new Ig(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,MI(f.experimentalLongPollingOptions),f.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new F_(e._authCredentials,e._appCheckCredentials,e._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var fc=class e{constructor(t){this._byteString=t}static fromBase64String(t){try{return new e(je.fromBase64String(t))}catch(i){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new e(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var Qo=class{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var mc=class{constructor(t){this._methodName=t}};var pc=class{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ct(this._lat,t._lat)||Ct(this._long,t._long)}};var kL=/^__.*__$/,V_=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return this.fieldMask!==null?new $n(t,this.data,this.fieldMask,i,this.fieldTransforms):new Lr(t,this.data,i,this.fieldTransforms)}},Eu=class{constructor(t,i,n){this.data=t,this.fieldMask=i,this.fieldTransforms=n}toMutation(t,i){return new $n(t,this.data,this.fieldMask,i,this.fieldTransforms)}};function UI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}var j_=class e{constructor(t,i,n,r,o,s){this.settings=t,this.databaseId=i,this.serializer=n,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var i;let n=(i=this.path)===null||i===void 0?void 0:i.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Tu(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(t.length===0)throw this.Du("Document fields must not be empty");if(UI(this.fu)&&kL.test(t))throw this.Du('Document fields cannot begin and end with "__"')}},U_=class{constructor(t,i,n){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=n||Mu(t)}Fu(t,i,n,r=!1){return new j_({fu:t,methodName:i,vu:n,path:nn.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ju(e){let t=e._freezeSettings(),i=Mu(e._databaseId);return new U_(e._databaseId,!!t.ignoreUndefinedProperties,i)}function PL(e,t,i,n,r,o={}){let s=e.Fu(o.merge||o.mergeFields?2:0,t,i,r);ub("Data must be an object, but it was:",s,n);let c=zI(n,s),l,d;if(o.merge)l=new hn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let g=B_(t,p,i);if(!s.contains(g))throw new B(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);qI(f,g)||f.push(g)}l=new hn(f),d=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=s.fieldTransforms;return new V_(new en(c),l,d)}var Iu=class e extends mc{_toFieldTransform(t){if(t.fu!==2)throw t.fu===1?t.Du(`${this._methodName}() can only appear at the top level of your update data`):t.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof e}};function OL(e,t,i,n){let r=e.Fu(1,t,i);ub("Data must be an object, but it was:",r,n);let o=[],s=en.empty();Vr(n,(l,d)=>{let f=hb(t,l,i);d=Mt(d);let p=r.Su(f);if(d instanceof Iu)o.push(f);else{let g=Ec(d,p);g!=null&&(o.push(f),s.set(f,g))}});let c=new hn(o);return new Eu(s,c,r.fieldTransforms)}function ML(e,t,i,n,r,o){let s=e.Fu(1,t,i),c=[B_(t,n,i)],l=[r];if(o.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)c.push(B_(t,o[g])),l.push(o[g+1]);let d=[],f=en.empty();for(let g=c.length-1;g>=0;--g)if(!qI(d,c[g])){let E=c[g],k=l[g];k=Mt(k);let O=s.Su(E);if(k instanceof Iu)d.push(E);else{let D=Ec(k,O);D!=null&&(d.push(E),f.set(E,D))}}let p=new hn(d);return new Eu(f,p,s.fieldTransforms)}function BI(e,t,i,n=!1){return Ec(i,e.Fu(n?4:3,t))}function Ec(e,t){if($I(e=Mt(e)))return ub("Unsupported field value:",t,e),zI(e,t);if(e instanceof mc)return function(n,r){if(!UI(r.fu))throw r.Du(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${n._methodName}() is not currently supported inside arrays`);let o=n._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&t.fu!==4)throw t.Du("Nested arrays are not supported");return function(n,r){let o=[],s=0;for(let c of n){let l=Ec(c,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(e,t)}return function(n,r){if((n=Mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return bF(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let o=_e.fromDate(n);return{timestampValue:lu(r.serializer,o)}}if(n instanceof _e){let o=new _e(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lu(r.serializer,o)}}if(n instanceof pc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof fc)return{bytesValue:hI(r.serializer,n._byteString)};if(n instanceof Ve){let o=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tb(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.Du(`Unsupported field value: ${Lu(n)}`)}(e,t)}function zI(e,t){let i={};return qE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vr(e,(n,r)=>{let o=Ec(r,t.pu(n));o!=null&&(i[n]=o)}),{mapValue:{fields:i}}}function $I(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof _e||e instanceof pc||e instanceof fc||e instanceof Ve||e instanceof mc)}function ub(e,t,i){if(!$I(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let n=Lu(i);throw n==="an object"?t.Du(e+" a custom object"):t.Du(e+" "+n)}}function B_(e,t,i){if((t=Mt(t))instanceof Qo)return t._internalPath;if(typeof t=="string")return hb(e,t);throw Tu("Field path arguments must be of type string or ",e,!1,void 0,i)}var NL=new RegExp("[~\\*/\\[\\]]");function hb(e,t,i){if(t.search(NL)>=0)throw Tu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,i);try{return new Qo(...t.split("."))._internalPath}catch{throw Tu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,i)}}function Tu(e,t,i,n,r){let o=n&&!n.isEmpty(),s=r!==void 0,c=`Function ${t}() called with invalid data`;i&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${n}`),s&&(l+=` in document ${r}`),l+=")"),new B(P.INVALID_ARGUMENT,c+e+l)}function qI(e,t){return e.some(i=>i.isEqual(t))}var gc=class{constructor(t,i,n,r,o){this._firestore=t,this._userDataWriter=i,this._key=n,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new z_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let i=this._document.data.field(Uu("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}},z_=class extends gc{data(){return super.data()}};function Uu(e,t){return typeof t=="string"?hb(e,t):t instanceof Qo?t._internalPath:t._delegate._internalPath}function HI(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var _c=class{},Xo=class extends _c{};function GI(e,t,...i){let n=[];t instanceof _c&&n.push(t),n=n.concat(i),function(o){let s=o.filter(l=>l instanceof $_).length,c=o.filter(l=>l instanceof Cu).length;if(s>1||s>0&&c>0)throw new B(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let r of n)e=r._apply(e);return e}var Cu=class e extends Xo{constructor(t,i,n){super(),this._field=t,this._op=i,this._value=n,this.type="where"}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=this._parse(t);return XI(t._query,i),new qn(t.firestore,t.converter,Lg(t._query,i))}_parse(t){let i=ju(t.firestore);return function(o,s,c,l,d,f,p){let g;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new B(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){zE(p,f);let E=[];for(let k of p)E.push(BE(l,o,k));g={arrayValue:{values:E}}}else g=BE(l,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||zE(p,f),g=BI(c,s,p,f==="in"||f==="not-in");return ce.create(d,f,g)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}};function WI(e,t,i){let n=t,r=Uu("where",e);return Cu._create(r,n,i)}var $_=class e extends _c{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new e(t,i)}_parse(t){let i=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return i.length===1?i[0]:En.create(i,this._getOperator())}_apply(t){let i=this._parse(t);return i.getFilters().length===0?t:(function(r,o){let s=r,c=o.getFlattenedFilters();for(let l of c)XI(s,l),s=Lg(s,l)}(t._query,i),new qn(t.firestore,t.converter,Lg(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var q_=class e extends Xo{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new e(t,i)}_apply(t){let i=function(r,o,s){if(r.startAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new B(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mr(o,s)}(t._query,this._field,this._direction);return new qn(t.firestore,t.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new hi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}};function KI(e,t="asc"){let i=t,n=Uu("orderBy",e);return q_._create(n,i)}var H_=class e extends Xo{constructor(t,i,n){super(),this.type=t,this._limit=i,this._limitType=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){return new qn(t.firestore,t.converter,ru(t._query,this._limit,this._limitType))}};function YI(e){return DL("limit",e),H_._create("limit",e,"F")}var G_=class e extends Xo{constructor(t,i,n){super(),this.type=t,this._docOrFields=i,this._inclusive=n}static _create(t,i,n){return new e(t,i,n)}_apply(t){let i=FL(t,this.type,this._docOrFields,this._inclusive);return new qn(t.firestore,t.converter,function(r,o){return new hi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(t._query,i))}};function QI(...e){return G_._create("startAfter",e,!1)}function FL(e,t,i,n){if(i[0]=Mt(i[0]),i[0]instanceof gc)return function(o,s,c,l,d){if(!l)throw new B(P.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);let f=[];for(let p of Lo(o))if(p.field.isKeyField())f.push(nu(s,l.key));else{let g=l.data.field(p.field);if(Du(g))throw new B(P.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+p.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let E=p.field.canonicalString();throw new B(P.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}f.push(g)}return new zi(f,d)}(e._query,e.firestore._databaseId,t,i[0]._document,n);{let r=ju(e.firestore);return function(s,c,l,d,f,p){let g=s.explicitOrderBy;if(f.length>g.length)throw new B(P.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let E=[];for(let k=0;k<f.length;k++){let O=f[k];if(g[k].field.isKeyField()){if(typeof O!="string")throw new B(P.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof O}`);if(!J_(s)&&O.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${O}' contains a slash.`);let D=s.path.child($t.fromString(O));if(!Q.isDocumentKey(D))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);let z=new Q(D);E.push(nu(c,z))}else{let D=BI(l,d,O);E.push(D)}}return new zi(E,p)}(e._query,e.firestore._databaseId,r,t,i,n)}}function BE(e,t,i){if(typeof(i=Mt(i))=="string"){if(i==="")throw new B(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(t)&&i.indexOf("/")!==-1)throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let n=t.path.child($t.fromString(i));if(!Q.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return nu(e,new Q(n))}if(i instanceof Ve)return nu(e,i._key);throw new B(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(i)}.`)}function zE(e,t){if(!Array.isArray(e)||e.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function XI(e,t){let i=function(r,o){for(let s of r)for(let c of s.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new B(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}var W_=class{convertValue(t,i="none"){switch(Or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Bi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw nt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){let n={};return Vr(t,(r,o)=>{n[r]=this.convertValue(o,i)}),n}convertGeoPoint(t){return new pc(Yt(t.latitude),Yt(t.longitude))}convertArray(t,i){return(t.values||[]).map(n=>this.convertValue(n,i))}convertServerTimestamp(t,i){switch(i){case"previous":let n=Y_(t);return n==null?null:this.convertValue(n,i);case"estimate":return this.convertTimestamp(rc(t));default:return null}}convertTimestamp(t){let i=ui(t);return new _e(i.seconds,i.nanos)}convertDocumentKey(t,i){let n=$t.fromString(t);Nt(bI(n));let r=new eu(n.get(1),n.get(3)),o=new Q(n.popFirst(5));return r.isEqual(i)||di(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function LL(e,t,i){let n;return n=e?i&&(i.merge||i.mergeFields)?e.toFirestore(t,i):e.toFirestore(t):t,n}var Dr=class{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Au=class extends gc{constructor(t,i,n,r,o,s){super(t,i,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let i=new jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){let n=this._document.data.field(Uu("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,i.serverTimestamps)}}},jo=class extends Au{data(t={}){return super.data(t)}},Su=class{constructor(t,i,n,r){this._firestore=t,this._userDataWriter=i,this._snapshot=r,this.metadata=new Dr(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(n=>{t.call(i,new jo(this._firestore,this._userDataWriter,n.key,n,new Dr(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new jo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Dr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new jo(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Dr(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:VL(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function VL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function ZI(e){e=fn(e,Ve);let t=fn(e.firestore,Hn);return AL(Vu(t),e._key).then(i=>iT(t,e,i))}var bc=class extends W_{constructor(t){super(),this.firestore=t}convertBytes(t){return new fc(t)}convertReference(t){let i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ve(this.firestore,null,i)}};function JI(e){e=fn(e,qn);let t=fn(e.firestore,Hn),i=Vu(t),n=new bc(t);return HI(e._query),SL(i,e._query).then(r=>new Su(t,n,e,r))}function tT(e,t,i,...n){e=fn(e,Ve);let r=fn(e.firestore,Hn),o=ju(r),s;return s=typeof(t=Mt(t))=="string"||t instanceof Qo?ML(o,"updateDoc",e._key,t,i,n):OL(o,"updateDoc",e._key,t),mb(r,[s.toMutation(e._key,li.exists(!0))])}function eT(e){return mb(fn(e.firestore,Hn),[new sc(e._key,li.none())])}function nT(e,t){let i=fn(e.firestore,Hn),n=db(e),r=LL(e.converter,t);return mb(i,[PL(ju(e.firestore),"addDoc",n._key,r,e.converter!==null,{}).toMutation(n._key,li.exists(!1))]).then(()=>n)}function fb(e,...t){var i,n,r;e=Mt(e);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||UE(t[s])||(o=t[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(UE(t[s])){let p=t[s];t[s]=(i=p.next)===null||i===void 0?void 0:i.bind(p),t[s+1]=(n=p.error)===null||n===void 0?void 0:n.bind(p),t[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,d,f;if(e instanceof Ve)d=fn(e.firestore,Hn),f=ku(e._key.path),l={next:p=>{t[s]&&t[s](iT(d,e,p))},error:t[s+1],complete:t[s+2]};else{let p=fn(e,qn);d=fn(p.firestore,Hn),f=p._query;let g=new bc(d);l={next:E=>{t[s]&&t[s](new Su(d,g,p,E))},error:t[s+1],complete:t[s+2]},HI(e._query)}return function(g,E,k,O){let D=new hc(O),z=new uc(E,D,k);return g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return sb(yield wu(g),z)})),()=>{D.$a(),g.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return ab(yield wu(g),z)}))}}(Vu(d),f,c,l)}function mb(e,t){return function(n,r){let o=new wn;return n.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return gL(yield CL(n),r,o)})),o.promise}(Vu(e),t)}function iT(e,t,i){let n=i.docs.get(t._key),r=new bc(e);return new Au(e,r,t._key,n,new Dr(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(r){Zo=r})(Nn),On(new $e("firestore",(n,{instanceIdentifier:r,options:o})=>{let s=n.getProvider("app").getImmediate(),c=new Hn(new _g(n.getProvider("auth-internal")),new wg(n.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Wt(hE,"4.6.3",t),Wt(hE,"4.6.3","esm2017")})();var Bu=function(){return Bu=Object.assign||function(t){for(var i,n=1,r=arguments.length;n<r;n++){i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},Bu.apply(this,arguments)};var zL={includeMetadataChanges:!1};function pb(e,t){return t===void 0&&(t=zL),new Ue(function(i){var n=fb(e,t,{next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return{unsubscribe:n}})}function rT(e){return pb(e,{includeMetadataChanges:!0})}function oT(e,t){return t===void 0&&(t={}),rT(e).pipe(ft(function(i){return gb(i,t)}))}function gb(e,t){var i;t===void 0&&(t={});var n=e.data(t);return!e.exists()||typeof n!="object"||n===null||!t.idField?n:Bu(Bu({},n),(i={},i[t.idField]=e.id,i))}function sT(e){return pb(e,{includeMetadataChanges:!0}).pipe(ft(function(t){return t.docs}))}function aT(e,t){return t===void 0&&(t={}),sT(e).pipe(ft(function(i){return i.map(function(n){return gb(n,t)})}))}var rn=class{constructor(t){return t}},cT="firestore",_b=class{constructor(){return Ba(cT)}};var bb=new $("angularfire2.firestore-instances");function $L(e,t){let i=yd(cT,e,t);return i&&new rn(i)}function qL(e){return(t,i)=>{let n=t.runOutsideAngular(()=>e(i));return new rn(n)}}var HL={provide:_b,deps:[[new Pe,bb]]},GL={provide:rn,useFactory:$L,deps:[[new Pe,bb],ri]};function lT(e,...t){return Wt("angularfire",xr.full,"fst"),We([GL,HL,{provide:bb,useFactory:qL(e),multi:!0,deps:[q,Ot,So,Er,[new Pe,Qa],[new Pe,Ao],...t]}])}var vb=Kt(aT,!0);var dT=Kt(oT,!0);var zu=Kt(nT,!0);var Gn=Kt(LI,!0);var uT=Kt(eT,!0);var Ur=Kt(db,!0);var hT=Kt(ZI,!0);var ts=Kt(JI,!0);var fT=Kt(VI,!0);var $u=Kt(YI,!0);var qu=Kt(KI,!0);var mi=Kt(GI,!0);var yb=Kt(QI,!0);var mT=Kt(tT,!0);var es=Kt(WI,!0);var wT="firebasestorage.googleapis.com",xT="storageBucket",WL=2*60*1e3,KL=10*60*1e3;var Xt=class e extends Le{constructor(t,i,n=0){super(wb(t),`Firebase Storage: ${i} (${wb(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,e.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return wb(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},ne=function(e){return e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment",e}(ne||{});function wb(e){return"storage/"+e}function Ab(){let e="An unknown error occurred, please check the error payload for server response.";return new Xt(ne.UNKNOWN,e)}function YL(e){return new Xt(ne.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function QL(e){return new Xt(ne.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function XL(){let e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Xt(ne.UNAUTHENTICATED,e)}function ZL(){return new Xt(ne.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JL(e){return new Xt(ne.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function tV(){return new Xt(ne.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function eV(){return new Xt(ne.CANCELED,"User canceled the upload/download.")}function nV(e){return new Xt(ne.INVALID_URL,"Invalid URL '"+e+"'.")}function iV(e){return new Xt(ne.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function rV(){return new Xt(ne.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xT+"' property when initializing the app?")}function oV(){return new Xt(ne.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sV(){return new Xt(ne.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function aV(e){return new Xt(ne.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function xb(e){return new Xt(ne.INVALID_ARGUMENT,e)}function ET(){return new Xt(ne.APP_DELETED,"The Firebase app was deleted.")}function cV(e){return new Xt(ne.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tc(e,t){return new Xt(ne.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ic(e){throw new Xt(ne.INTERNAL_ERROR,"Internal error: "+e)}var In=class e{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let n;try{n=e.makeFromUrl(t,i)}catch{return new e(t,"")}if(n.path==="")return n;throw iV(t)}static makeFromUrl(t,i){let n=null,r="([A-Za-z0-9.\\-_]+)";function o(at){at.path.charAt(at.path.length-1)==="/"&&(at.path_=at.path_.slice(0,-1))}let s="(/(.*))?$",c=new RegExp("^gs://"+r+s,"i"),l={bucket:1,path:3};function d(at){at.path_=decodeURIComponent(at.path)}let f="v[A-Za-z0-9_]+",p=i.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",E=new RegExp(`^https?://${p}/${f}/b/${r}/o${g}`,"i"),k={bucket:1,path:3},O=i===wT?"(?:storage.googleapis.com|storage.cloud.google.com)":i,D="([^?#]*)",z=new RegExp(`^https?://${O}/${r}/${D}`,"i"),J=[{regex:c,indices:l,postModify:o},{regex:E,indices:k,postModify:d},{regex:z,indices:{bucket:1,path:2},postModify:d}];for(let at=0;at<J.length;at++){let zt=J[at],X=zt.regex.exec(t);if(X){let w=X[zt.indices.bucket],_=X[zt.indices.path];_||(_=""),n=new e(w,_),zt.postModify(n);break}}if(n==null)throw nV(t);return n}},Eb=class{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}};function lV(e,t,i){let n=1,r=null,o=null,s=!1,c=0;function l(){return c===2}let d=!1;function f(...D){d||(d=!0,t.apply(null,D))}function p(D){r=setTimeout(()=>{r=null,e(E,l())},D)}function g(){o&&clearTimeout(o)}function E(D,...z){if(d){g();return}if(D){g(),f.call(null,D,...z);return}if(l()||s){g(),f.call(null,D,...z);return}n<64&&(n*=2);let J;c===1?(c=2,J=0):J=(n+Math.random())*1e3,p(J)}let k=!1;function O(D){k||(k=!0,g(),!d&&(r!==null?(D||(c=2),clearTimeout(r),p(0)):D||(c=1)))}return p(0),o=setTimeout(()=>{s=!0,O(!0)},i),O}function dV(e){e(!1)}function uV(e){return e!==void 0}function hV(e){return typeof e=="object"&&!Array.isArray(e)}function Sb(e){return typeof e=="string"||e instanceof String}function pT(e){return Rb()&&e instanceof Blob}function Rb(){return typeof Blob<"u"}function gT(e,t,i,n){if(n<t)throw xb(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>i)throw xb(`Invalid value for '${e}'. Expected ${i} or less.`)}function Db(e,t,i){let n=t;return i==null&&(n=`https://${t}`),`${i}://${n}/v0${e}`}function IT(e){let t=encodeURIComponent,i="?";for(let n in e)if(e.hasOwnProperty(n)){let r=t(n)+"="+t(e[n]);i=i+r+"&"}return i=i.slice(0,-1),i}var is=function(e){return e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT",e}(is||{});function fV(e,t){let i=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,o=t.indexOf(e)!==-1;return i||r||o}var Ib=class{constructor(t,i,n,r,o,s,c,l,d,f,p,g=!0){this.url_=t,this.method_=i,this.headers_=n,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=c,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=p,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,k)=>{this.resolve_=E,this.reject_=k,this.start_()})}start_(){let t=(n,r)=>{if(r){n(!1,new ns(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=c=>{let l=c.loaded,d=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let c=o.getErrorCode()===is.NO_ERROR,l=o.getStatus();if(!c||fV(l,this.additionalRetryCodes_)&&this.retry){let f=o.getErrorCode()===is.ABORT;n(!1,new ns(!1,null,f));return}let d=this.successCodes_.indexOf(l)!==-1;n(!0,new ns(d,o))})},i=(n,r)=>{let o=this.resolve_,s=this.reject_,c=r.connection;if(r.wasSuccessCode)try{let l=this.callback_(c,c.getResponse());uV(l)?o(l):o()}catch(l){s(l)}else if(c!==null){let l=Ab();l.serverResponse=c.getErrorText(),this.errorCallback_?s(this.errorCallback_(c,l)):s(l)}else if(r.canceled){let l=this.appDelete_?ET():eV();s(l)}else{let l=tV();s(l)}};this.canceled_?i(!1,new ns(!1,null,!0)):this.backoffId_=lV(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&dV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ns=class{constructor(t,i,n){this.wasSuccessCode=t,this.connection=i,this.canceled=!!n}};function mV(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function pV(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function gV(e,t){t&&(e["X-Firebase-GMPID"]=t)}function _V(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function bV(e,t,i,n,r,o,s=!0){let c=IT(e.urlParams),l=e.url+c,d=Object.assign({},e.headers);return gV(d,t),mV(d,i),pV(d,o),_V(d,n),new Ib(l,e.method,d,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,s)}function vV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function yV(...e){let t=vV();if(t!==void 0){let i=new t;for(let n=0;n<e.length;n++)i.append(e[n]);return i.getBlob()}else{if(Rb())return new Blob(e);throw new Xt(ne.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wV(e,t,i){return e.webkitSlice?e.webkitSlice(t,i):e.mozSlice?e.mozSlice(t,i):e.slice?e.slice(t,i):null}function xV(e){if(typeof atob>"u")throw aV("base-64");return atob(e)}var Wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Cc=class{constructor(t,i){this.data=t,this.contentType=i||null}};function EV(e,t){switch(e){case Wn.RAW:return new Cc(TT(t));case Wn.BASE64:case Wn.BASE64URL:return new Cc(CT(e,t));case Wn.DATA_URL:return new Cc(TV(t),CV(t))}throw Ab()}function TT(e){let t=[];for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);if(n<=127)t.push(n);else if(n<=2047)t.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(i<e.length-1&&(e.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{let o=n,s=e.charCodeAt(++i);n=65536|(o&1023)<<10|s&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?t.push(239,191,189):t.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(t)}function IV(e){let t;try{t=decodeURIComponent(e)}catch{throw Tc(Wn.DATA_URL,"Malformed data URL.")}return TT(t)}function CT(e,t){switch(e){case Wn.BASE64:{let r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Tc(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Wn.BASE64URL:{let r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Tc(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=xV(t)}catch(r){throw r.message.includes("polyfill")?r:Tc(e,"Invalid character found")}let n=new Uint8Array(i.length);for(let r=0;r<i.length;r++)n[r]=i.charCodeAt(r);return n}var Wu=class{constructor(t){this.base64=!1,this.contentType=null;let i=t.match(/^data:([^,]+)?,/);if(i===null)throw Tc(Wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let n=i[1]||null;n!=null&&(this.base64=AV(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=t.substring(t.indexOf(",")+1)}};function TV(e){let t=new Wu(e);return t.base64?CT(Wn.BASE64,t.rest):IV(t.rest)}function CV(e){return new Wu(e).contentType}function AV(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}var Ku=class e{constructor(t,i){let n=0,r="";pT(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,i){if(pT(this.data_)){let n=this.data_,r=wV(n,t,i);return r===null?null:new e(r)}else{let n=new Uint8Array(this.data_.buffer,t,i-t);return new e(n,!0)}}static getBlob(...t){if(Rb()){let i=t.map(n=>n instanceof e?n.data_:n);return new e(yV.apply(null,i))}else{let i=t.map(s=>Sb(s)?EV(Wn.RAW,s).data:s.data_),n=0;i.forEach(s=>{n+=s.byteLength});let r=new Uint8Array(n),o=0;return i.forEach(s=>{for(let c=0;c<s.length;c++)r[o++]=s[c]}),new e(r,!0)}}uploadData(){return this.data_}};function AT(e){let t;try{t=JSON.parse(e)}catch{return null}return hV(t)?t:null}function SV(e){if(e.length===0)return null;let t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function RV(e,t){let i=t.split("/").filter(n=>n.length>0).join("/");return e.length===0?i:e+"/"+i}function ST(e){let t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}function DV(e,t){return t}var be=class{constructor(t,i,n,r){this.server=t,this.local=i||t,this.writable=!!n,this.xform=r||DV}},Gu=null;function kV(e){return!Sb(e)||e.length<2?e:ST(e)}function RT(){if(Gu)return Gu;let e=[];e.push(new be("bucket")),e.push(new be("generation")),e.push(new be("metageneration")),e.push(new be("name","fullPath",!0));function t(o,s){return kV(s)}let i=new be("name");i.xform=t,e.push(i);function n(o,s){return s!==void 0?Number(s):s}let r=new be("size");return r.xform=n,e.push(r),e.push(new be("timeCreated")),e.push(new be("updated")),e.push(new be("md5Hash",null,!0)),e.push(new be("cacheControl",null,!0)),e.push(new be("contentDisposition",null,!0)),e.push(new be("contentEncoding",null,!0)),e.push(new be("contentLanguage",null,!0)),e.push(new be("contentType",null,!0)),e.push(new be("metadata","customMetadata",!0)),Gu=e,Gu}function PV(e,t){function i(){let n=e.bucket,r=e.fullPath,o=new In(n,r);return t._makeStorageReference(o)}Object.defineProperty(e,"ref",{get:i})}function OV(e,t,i){let n={};n.type="file";let r=i.length;for(let o=0;o<r;o++){let s=i[o];n[s.local]=s.xform(n,t[s.server])}return PV(n,e),n}function DT(e,t,i){let n=AT(t);return n===null?null:OV(e,n,i)}function MV(e,t,i,n){let r=AT(t);if(r===null||!Sb(r.downloadTokens))return null;let o=r.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(d=>{let f=e.bucket,p=e.fullPath,g="/b/"+s(f)+"/o/"+s(p),E=Db(g,i,n),k=IT({alt:"media",token:d});return E+k})[0]}function NV(e,t){let i={},n=t.length;for(let r=0;r<n;r++){let o=t[r];o.writable&&(i[o.server]=e[o.local])}return JSON.stringify(i)}var Yu=class{constructor(t,i,n,r){this.url=t,this.method=i,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function kT(e){if(!e)throw Ab()}function FV(e,t){function i(n,r){let o=DT(e,r,t);return kT(o!==null),o}return i}function LV(e,t){function i(n,r){let o=DT(e,r,t);return kT(o!==null),MV(o,r,e.host,e._protocol)}return i}function PT(e){function t(i,n){let r;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?r=ZL():r=XL():i.getStatus()===402?r=QL(e.bucket):i.getStatus()===403?r=JL(e.path):r=n,r.status=i.getStatus(),r.serverResponse=n.serverResponse,r}return t}function VV(e){let t=PT(e);function i(n,r){let o=t(n,r);return n.getStatus()===404&&(o=YL(e.path)),o.serverResponse=r.serverResponse,o}return i}function jV(e,t,i){let n=t.fullServerUrl(),r=Db(n,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,c=new Yu(r,o,LV(e,i),s);return c.errorHandler=VV(t),c}function UV(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function BV(e,t,i){let n=Object.assign({},i);return n.fullPath=e.path,n.size=t.size(),n.contentType||(n.contentType=UV(null,t)),n}function zV(e,t,i,n,r){let o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function c(){let J="";for(let at=0;at<2;at++)J=J+Math.random().toString().slice(2);return J}let l=c();s["Content-Type"]="multipart/related; boundary="+l;let d=BV(t,n,r),f=NV(d,i),p="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+l+`\r
Content-Type: `+d.contentType+`\r
\r
`,g=`\r
--`+l+"--",E=Ku.getBlob(p,n,g);if(E===null)throw oV();let k={name:d.fullPath},O=Db(o,e.host,e._protocol),D="POST",z=e.maxUploadRetryTime,Y=new Yu(O,D,FV(e,i),z);return Y.urlParams=k,Y.headers=s,Y.body=E.uploadData(),Y.errorHandler=PT(t),Y}var Z6=256*1024;var _T=null,Tb=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=is.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=is.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=is.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,n,r){if(this.sent_)throw Ic("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(i,t,!0),r!==void 0)for(let o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ic("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ic("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ic("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ic("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}},Cb=class extends Tb{initXhr(){this.xhr_.responseType="text"}};function OT(){return _T?_T():new Cb}var rs=class e{constructor(t,i){this._service=t,i instanceof In?this._location=i:this._location=In.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new e(t,i)}get root(){let t=new In(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ST(this._location.path)}get storage(){return this._service}get parent(){let t=SV(this._location.path);if(t===null)return null;let i=new In(this._location.bucket,t);return new e(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw cV(t)}};function $V(e,t,i){e._throwIfRoot("uploadBytes");let n=zV(e.storage,e._location,RT(),new Ku(t,!0),i);return e.storage.makeRequestWithTokens(n,OT).then(r=>({metadata:r,ref:e}))}function qV(e){e._throwIfRoot("getDownloadURL");let t=jV(e.storage,e._location,RT());return e.storage.makeRequestWithTokens(t,OT).then(i=>{if(i===null)throw sV();return i})}function HV(e,t){let i=RV(e._location.path,t),n=new In(e._location.bucket,i);return new rs(e.storage,n)}function GV(e){return/^[A-Za-z]+:\/\//.test(e)}function WV(e,t){return new rs(e,t)}function MT(e,t){if(e instanceof Ac){let i=e;if(i._bucket==null)throw rV();let n=new rs(i,i._bucket);return t!=null?MT(n,t):n}else return t!==void 0?HV(e,t):e}function KV(e,t){if(t&&GV(t)){if(e instanceof Ac)return WV(e,t);throw xb("To use ref(service, url), the first argument must be a Storage instance.")}else return MT(e,t)}function bT(e,t){let i=t?.[xT];return i==null?null:In.makeFromBucketSpec(i,e)}function YV(e,t,i,n={}){e.host=`${t}:${i}`,e._protocol="http";let{mockUserToken:r}=n;r&&(e._overrideAuthToken=typeof r=="string"?r:pd(r,e.app.options.projectId))}var Ac=class{constructor(t,i,n,r,o){this.app=t,this._authProvider=i,this._appCheckProvider=n,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=wT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=WL,this._maxUploadRetryTime=KL,this._requests=new Set,r!=null?this._bucket=In.makeFromBucketSpec(r,this._host):this._bucket=bT(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=In.makeFromBucketSpec(this._url,t):this._bucket=bT(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){gT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){gT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){return b(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let t=this._authProvider.getImmediate({optional:!0});if(t){let i=yield t.getToken();if(i!==null)return i.accessToken}return null})}_getAppCheckToken(){return b(this,null,function*(){let t=this._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new rs(this,t)}_makeRequest(t,i,n,r,o=!0){if(this._deleted)return new Eb(ET());{let s=bV(t,this._appId,n,r,i,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,i){return b(this,null,function*(){let[n,r]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,n,r).getPromise()})}},vT="@firebase/storage",yT="0.12.5";var NT="storage";function FT(e,t,i){return e=Mt(e),$V(e,t,i)}function LT(e){return e=Mt(e),qV(e)}function VT(e,t){return e=Mt(e),KV(e,t)}function jT(e=Li(),t){e=Mt(e);let n=yr(e,NT).getImmediate({identifier:t}),r=md("storage");return r&&QV(n,...r),n}function QV(e,t,i,n={}){YV(e,t,i,n)}function XV(e,{instanceIdentifier:t}){let i=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new Ac(i,n,r,t,Nn)}function ZV(){On(new $e(NT,XV,"PUBLIC").setMultipleInstances(!0)),Wt(vT,yT,""),Wt(vT,yT,"esm2017")}ZV();var JV=["mat-button",""],t2=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],e2=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var n2=new $("MAT_BUTTON_CONFIG");var i2=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],r2=(()=>{let t=class t{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(n){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,n)}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=n,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._updateRippleDisabled()}constructor(n,r,o,s){this._elementRef=n,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=V(Eo),this._rippleLoader=V($w),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=V(n2,{optional:!0}),l=n.nativeElement,d=l.classList;this.disabledInteractive=c?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:f,mdcClasses:p}of i2)l.hasAttribute(f)&&d.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(n="program",r){n?this._focusMonitor.focusVia(this._elementRef.nativeElement,n,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};t.\u0275fac=function(r){ro()},t.\u0275dir=tt({type:t,inputs:{color:"color",disableRipple:[vt.HasDecoratorInputTransform,"disableRipple","disableRipple",cn],disabled:[vt.HasDecoratorInputTransform,"disabled","disabled",cn],ariaDisabled:[vt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",cn],disabledInteractive:[vt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",cn]},features:[ni]});let e=t;return e})();var os=(()=>{let t=class t extends r2{constructor(n,r,o,s){super(n,r,o,s)}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(Et),A(q),A(ze,8))},t.\u0275cmp=rt({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(te("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),vl(o.color?"mat-"+o.color:""),Rt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Gt,ot],attrs:JV,ngContentSelectors:e2,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(an(t2),dt(0,"span",0),Vt(1),F(2,"span",1),Vt(3,1),N(),Vt(4,2),dt(5,"span",2)(6,"span",3)),r&2&&Rt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let e=t;return e})();var Sc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,ud,oe]});let e=t;return e})();var Rc=class{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},pi=class extends Rc{constructor(t,i,n,r,o){super(),this.component=t,this.viewContainerRef=i,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=o}},Hi=class extends Rc{constructor(t,i,n,r){super(),this.templateRef=t,this.viewContainerRef=i,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,i=this.context){return this.context=i,super.attach(t)}detach(){return this.context=void 0,super.detach()}},kb=class extends Rc{constructor(t){super(),this.element=t instanceof mt?t.nativeElement:t}},Gi=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof pi)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Hi)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof kb)return this._attachedPortal=t,this.attachDomPortal(t)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Qu=class extends Gi{constructor(t,i,n,r,o){super(),this.outletElement=t,this._componentFactoryResolver=i,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}attachComponentPortal(t){let n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(n,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(t.injector||this._defaultInjector||Ot.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let i=t.viewContainerRef,n=i.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(n);r!==-1&&i.remove(r)}),this._attachedPortal=t,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Wi=(()=>{let t=class t extends Gi{constructor(n,r,o){super(),this._componentFactoryResolver=n,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Pt,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(l,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,s=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),c=r.createComponent(s,r.length,n.injector||r.injector,n.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=n,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};t.\u0275fac=function(r){return new(r||t)(A(gl),A(so),A(Z))},t.\u0275dir=tt({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[vt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[Gt]});let e=t;return e})();var o2=20,BT=(()=>{let t=class t{constructor(n,r,o){this._ngZone=n,this._platform=r,this._scrolled=new et,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=o2){return this._platform.isBrowser?new Ue(r=>{this._globalSubscription||this._addGlobalListener();let o=n>0?this._scrolled.pipe(Tf(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):G()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let o=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(qt(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,n)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,r){let o=dn(r),s=n.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return If(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(R(q),R(Et),R(Z,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var s2=20,Pb=(()=>{let t=class t{constructor(n,r,o){this._platform=n,this._change=new et,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),c=-s.top||n.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||n.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:c,left:l}}change(n=s2){return n>0?this._change.pipe(Tf(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};t.\u0275fac=function(r){return new(r||t)(R(Et),R(q),R(Z,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var zT=vw(),Ob=class{constructor(t,i){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ee(-this._previousScrollPosition.left),t.style.top=ee(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,i=this._document.body,n=t.style,r=i.style,o=n.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),zT&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),zT&&(n.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,n=this._viewportRuler.getViewportSize();return i.scrollHeight>n.height||i.scrollWidth>n.width}};var Mb=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._ngZone=i,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(qt(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Xu=class{enable(){}disable(){}attach(){}};function Nb(e,t){return t.some(i=>{let n=e.bottom<i.top,r=e.top>i.bottom,o=e.right<i.left,s=e.left>i.right;return n||r||o||s})}function $T(e,t){return t.some(i=>{let n=e.top<i.top,r=e.bottom>i.bottom,o=e.left<i.left,s=e.right>i.right;return n||r||o||s})}var Fb=class{constructor(t,i,n,r){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();Nb(i,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},c2=(()=>{let t=class t{constructor(n,r,o,s){this._scrollDispatcher=n,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Xu,this.close=c=>new Mb(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new Ob(this._viewportRuler,this._document),this.reposition=c=>new Fb(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}};t.\u0275fac=function(r){return new(r||t)(R(BT),R(Pb),R(q),R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zr=class{constructor(t){if(this.scrollStrategy=new Xu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){let i=Object.keys(t);for(let n of i)t[n]!==void 0&&(this[n]=t[n])}}};var Lb=class{constructor(t,i){this.connectionPair=t,this.scrollableViewProperties=i}};var KT=(()=>{let t=class t{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};t.\u0275fac=function(r){return new(r||t)(R(Z))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),l2=(()=>{let t=class t extends KT{constructor(n,r){super(n),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){let l=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};t.\u0275fac=function(r){return new(r||t)(R(Z),R(q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),d2=(()=>{let t=class t extends KT{constructor(n,r,o){super(n),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=bn(s)},this._clickListener=s=>{let c=bn(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){let p=d[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(c)||p.overlayElement.contains(l))break;let g=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(n){if(super.add(n),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};t.\u0275fac=function(r){return new(r||t)(R(Z),R(Et),R(q,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),ss=(()=>{let t=class t{constructor(n,r){this._platform=r,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||Na()){let o=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(n),Na()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};t.\u0275fac=function(r){return new(r||t)(R(Z),R(Et))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),gi=class{constructor(t,i,n,r,o,s,c,l,d,f=!1){this._portalOutlet=t,this._host=i,this._pane=n,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new et,this._attachments=new et,this._detachments=new et,this._locationChanges=Jn.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new et,this._outsidePointerEvents=new et,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ie(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=M(M({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Tt(M({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ee(this._config.width),t.height=ee(this._config.height),t.minWidth=ee(this._config.minWidth),t.minHeight=ee(this._config.minHeight),t.maxWidth=ee(this._config.maxWidth),t.maxHeight=ee(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(t){if(this._animationsDisabled){this._disposeBackdrop(t);return}t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,i,n){let r=yo(i||[]).filter(o=>!!o);r.length&&(n?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let t=this._ngZone.onStable.pipe(me(Zr(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},qT="cdk-overlay-connected-position-bounding-box",u2=/([A-Za-z%]+)$/,Vb=class{get positions(){return this._preferredPositions}constructor(t,i,n,r,o){this._viewportRuler=i,this._document=n,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new et,this._resizeSubscription=Jn.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(qT),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,i=this._overlayRect,n=this._viewportRect,r=this._containerRect,o=[],s;for(let c of this._preferredPositions){let l=this._getOriginPoint(t,r,c),d=this._getOverlayPoint(l,i,c),f=this._getOverlayFit(d,i,n,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,d,n)){o.push({position:c,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:d,originPoint:l,position:c,overlayRect:i})}if(o.length){let c=null,l=-1;for(let d of o){let f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>l&&(l=f,c=d)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Br(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qT),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,i)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,i,n){let r;if(n.originX=="center")r=t.left+t.width/2;else{let s=this._isRtl()?t.right:t.left,c=this._isRtl()?t.left:t.right;r=n.originX=="start"?s:c}i.left<0&&(r-=i.left);let o;return n.originY=="center"?o=t.top+t.height/2:o=n.originY=="top"?t.top:t.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(t,i,n){let r;n.overlayX=="center"?r=-i.width/2:n.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return n.overlayY=="center"?o=-i.height/2:o=n.overlayY=="top"?0:-i.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,i,n,r){let o=GT(i),{x:s,y:c}=t,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(c+=d);let f=0-s,p=s+o.width-n.width,g=0-c,E=c+o.height-n.height,k=this._subtractOverflows(o.width,f,p),O=this._subtractOverflows(o.height,g,E),D=k*O;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:O===o.height,fitsInViewportHorizontally:k==o.width}}_canFitWithFlexibleDimensions(t,i,n){if(this._hasFlexibleDimensions){let r=n.bottom-i.y,o=n.right-i.x,s=HT(this._overlayRef.getConfig().minHeight),c=HT(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||s!=null&&s<=r,d=t.fitsInViewportHorizontally||c!=null&&c<=o;return l&&d}return!1}_pushOverlayOnScreen(t,i,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let r=GT(i),o=this._viewportRect,s=Math.max(t.x+r.width-o.width,0),c=Math.max(t.y+r.height-o.height,0),l=Math.max(o.top-n.top-t.y,0),d=Math.max(o.left-n.left-t.x,0),f=0,p=0;return r.width<=o.width?f=d||-s:f=t.x<this._viewportMargin?o.left-n.left-t.x:0,r.height<=o.height?p=l||-c:p=t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:f,y:p},{x:t.x+f,y:t.y+p}}_applyPosition(t,i){if(this._setTransformOrigin(t),this._setOverlayElementStyles(i,t),this._setBoundingBoxStyles(i,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!h2(this._lastScrollVisibility,n)){let r=new Lb(t,n);this._positionChanges.next(r)}this._lastScrollVisibility=n}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,r=t.overlayY;t.overlayX==="center"?n="center":this._isRtl()?n=t.overlayX==="start"?"right":"left":n=t.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,i){let n=this._viewportRect,r=this._isRtl(),o,s,c;if(i.overlayY==="top")s=t.y,o=n.height-s+this._viewportMargin;else if(i.overlayY==="bottom")c=n.height-t.y+this._viewportMargin*2,o=n.height-c+this._viewportMargin;else{let E=Math.min(n.bottom-t.y+n.top,t.y),k=this._lastBoundingBoxSize.height;o=E*2,s=t.y-E,o>k&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-k/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,d=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,f,p,g;if(d)g=n.width-t.x+this._viewportMargin*2,f=t.x-this._viewportMargin;else if(l)p=t.x,f=n.right-t.x;else{let E=Math.min(n.right-t.x+n.left,t.x),k=this._lastBoundingBoxSize.width;f=E*2,p=t.x-E,f>k&&!this._isInitialRender&&!this._growAfterOpen&&(p=t.x-k/2)}return{top:s,left:p,bottom:c,right:g,width:f,height:o}}_setBoundingBoxStyles(t,i){let n=this._calculateBoundingBoxRect(t,i);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ee(n.height),r.top=ee(n.top),r.bottom=ee(n.bottom),r.width=ee(n.width),r.left=ee(n.left),r.right=ee(n.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ee(o)),s&&(r.maxWidth=ee(s))}this._lastBoundingBoxSize=n,Br(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Br(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Br(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,i){let n={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();Br(n,this._getExactOverlayY(i,t,f)),Br(n,this._getExactOverlayX(i,t,f))}else n.position="static";let c="",l=this._getOffset(i,"x"),d=this._getOffset(i,"y");l&&(c+=`translateX(${l}px) `),d&&(c+=`translateY(${d}px)`),n.transform=c.trim(),s.maxHeight&&(r?n.maxHeight=ee(s.maxHeight):o&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ee(s.maxWidth):o&&(n.maxWidth="")),Br(this._pane.style,n)}_getExactOverlayY(t,i,n){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),t.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ee(o.y);return r}_getExactOverlayX(t,i,n){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n));let s;if(this._isRtl()?s=t.overlayX==="end"?"left":"right":s=t.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=ee(o.x);return r}_getScrollVisibility(){let t=this._getOriginRect(),i=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:$T(t,n),isOriginOutsideView:Nb(t,n),isOverlayClipped:$T(i,n),isOverlayOutsideView:Nb(i,n)}}_subtractOverflows(t,...i){return i.reduce((n,r)=>n-Math.max(r,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+i-this._viewportMargin,width:t-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,i){return i==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&yo(t).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof mt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let i=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+i,height:n,width:i}}};function Br(e,t){for(let i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function HT(e){if(typeof e!="number"&&e!=null){let[t,i]=e.split(u2);return!i||i==="px"?parseFloat(t):null}return e||null}function GT(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function h2(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var WT="cdk-global-overlay-wrapper",jb=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){let i=t.getConfig();this._overlayRef=t,this._width&&!i.width&&t.updateSize({width:this._width}),this._height&&!i.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(WT),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=n,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",E="",k="",O="";l?O="flex-start":f==="center"?(O="center",g?k=p:E=p):g?f==="left"||f==="end"?(O="flex-end",E=p):(f==="right"||f==="start")&&(O="flex-start",k=p):f==="left"||f==="start"?(O="flex-start",E=p):(f==="right"||f==="end")&&(O="flex-end",k=p),t.position=this._cssPosition,t.marginLeft=l?"0":E,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":k,i.justifyContent=O,i.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,n=i.style;i.classList.remove(WT),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},f2=(()=>{let t=class t{constructor(n,r,o,s){this._viewportRuler=n,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new jb}flexibleConnectedTo(n){return new Vb(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};t.\u0275fac=function(r){return new(r||t)(R(Pb),R(Z),R(Et),R(ss))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),m2=0,Kn=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f,p,g,E,k){this.scrollStrategies=n,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=l,this._ngZone=d,this._document=f,this._directionality=p,this._location=g,this._outsideClickDispatcher=E,this._animationsModuleType=k}create(n){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),c=new zr(n);return c.direction=c.direction||this._directionality.value,new gi(s,r,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(n){let r=this._document.createElement("div");return r.id=`cdk-overlay-${m2++}`,r.classList.add("cdk-overlay-pane"),n.appendChild(r),r}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(lr)),new Qu(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};t.\u0275fac=function(r){return new(r||t)(R(c2),R(ss),R(gl),R(f2),R(l2),R(Ot),R(q),R(Z),R(gr),R(Xe),R(d2),R(ze,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function p2(e,t){if(e&1){let i=Ye();F(0,"div",1)(1,"button",2),yt("click",function(){Me(i);let r=At();return Ne(r.action())}),K(2),N()()}if(e&2){let i=At();W(2),gn(" ",i.data.action," ")}}var g2=["label"];function _2(e,t){}var b2=Math.pow(2,31)-1,Dc=class{constructor(t,i){this._overlayRef=i,this._afterDismissed=new et,this._afterOpened=new et,this._onAction=new et,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,b2))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},QT=new $("MatSnackBarData"),as=class{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}},v2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0});let e=t;return e})(),y2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0});let e=t;return e})(),w2=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0});let e=t;return e})(),x2=(()=>{let t=class t{constructor(n,r){this.snackBarRef=n,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}};t.\u0275fac=function(r){return new(r||t)(A(Dc),A(QT))},t.\u0275cmp=rt({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[ot],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,o){r&1&&(F(0,"div",0),K(1),N(),gt(2,p2,3,1,"div",1)),r&2&&(W(),gn(" ",o.data.message,`
`),W(),pe(2,o.hasAction?2:-1))},dependencies:[os,v2,y2,w2],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0});let e=t;return e})(),E2={snackBarState:kl("state",[oa("void, hidden",dr({transform:"scale(0.8)",opacity:0})),oa("visible",dr({transform:"scale(1)",opacity:1})),sa("* => visible",ra("150ms cubic-bezier(0, 0, 0.2, 1)")),sa("* => void, * => hidden",ra("75ms cubic-bezier(0.4, 0.0, 1, 1)",dr({opacity:0})))])},I2=0,T2=(()=>{let t=class t extends Gi{constructor(n,r,o,s,c){super(),this._ngZone=n,this._elementRef=r,this._changeDetectorRef=o,this._platform=s,this.snackBarConfig=c,this._document=V(Z),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new et,this._onExit=new et,this._onEnter=new et,this._animationState="void",this._liveElementId=`mat-snack-bar-container-live-${I2++}`,this.attachDomPortal=l=>{this._assertNotAttached();let d=this._portalOutlet.attachDomPortal(l);return this._afterPortalAttached(),d},c.politeness==="assertive"&&!c.announcementMessage?this._live="assertive":c.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(n){this._assertNotAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._afterPortalAttached(),r}attachTemplatePortal(n){this._assertNotAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._afterPortalAttached(),r}onAnimationEnd(n){let{fromState:r,toState:o}=n;if((o==="void"&&r!=="void"||o==="hidden")&&this._completeExit(),o==="visible"){let s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let n=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(c=>n.classList.add(c)):n.classList.add(r)),this._exposeToModals();let o=this._label.nativeElement,s="mdc-snackbar__label";o.classList.toggle(s,!o.querySelector(`.${s}`))}_exposeToModals(){let n=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],c=s.getAttribute("aria-owns");this._trackedModals.add(s),c?c.indexOf(n)===-1&&s.setAttribute("aria-owns",c+" "+n):s.setAttribute("aria-owns",n)}}_clearFromModals(){this._trackedModals.forEach(n=>{let r=n.getAttribute("aria-owns");if(r){let o=r.replace(this._liveElementId,"").trim();o.length>0?n.setAttribute("aria-owns",o):n.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{let n=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(n&&r){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(o=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}};t.\u0275fac=function(r){return new(r||t)(A(q),A(mt),A(Qe),A(Et),A(as))},t.\u0275cmp=rt({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,o){if(r&1&&(Fe(Wi,7),Fe(g2,7)),r&2){let s;jt(s=Ut())&&(o._portalOutlet=s.first),jt(s=Ut())&&(o._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(r,o){r&1&&qy("@state.done",function(c){return o.onAnimationEnd(c)}),r&2&&$y("@state",o._animationState)},standalone:!0,features:[Gt,ot],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(F(0,"div",1)(1,"div",2,0)(3,"div",3),gt(4,_2,0,0,"ng-template",4),N(),dt(5,"div"),N()()),r&2&&(W(5),te("aria-live",o._live)("role",o._role)("id",o._liveElementId))},dependencies:[Wi],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[E2.snackBarState]}});let e=t;return e})();function C2(){return new as}var A2=new $("mat-snack-bar-default-options",{providedIn:"root",factory:C2}),Zu=(()=>{let t=class t{get _openedSnackBarRef(){let n=this._parentSnackBar;return n?n._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(n){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=n:this._snackBarRefAtThisLevel=n}constructor(n,r,o,s,c,l){this._overlay=n,this._live=r,this._injector=o,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=l,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=x2,this.snackBarContainerComponent=T2,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(n,r){return this._attach(n,r)}openFromTemplate(n,r){return this._attach(n,r)}open(n,r="",o){let s=M(M({},this._defaultConfig),o);return s.data={message:n,action:r},s.announcementMessage===n&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(n,r){let o=r&&r.viewContainerRef&&r.viewContainerRef.injector,s=Ot.create({parent:o||this._injector,providers:[{provide:as,useValue:r}]}),c=new pi(this.snackBarContainerComponent,r.viewContainerRef,s),l=n.attach(c);return l.instance.snackBarConfig=r,l.instance}_attach(n,r){let o=M(M(M({},new as),this._defaultConfig),r),s=this._createOverlay(o),c=this._attachSnackBarContainer(s,o),l=new Dc(c,s);if(n instanceof ar){let d=new Hi(n,null,{$implicit:o.data,snackBarRef:l});l.instance=c.attachTemplatePortal(d)}else{let d=this._createInjector(o,l),f=new pi(n,void 0,d),p=c.attachComponentPortal(f);l.instance=p.instance}return this._breakpointObserver.observe(Iw.HandsetPortrait).pipe(me(s.detachments())).subscribe(d=>{s.overlayElement.classList.toggle(this.handsetCssClass,d.matches)}),o.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(o.announcementMessage,o.politeness)}),this._animateSnackBar(l,o),this._openedSnackBarRef=l,this._openedSnackBarRef}_animateSnackBar(n,r){n.afterDismissed().subscribe(()=>{this._openedSnackBarRef==n&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{n.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):n.containerInstance.enter(),r.duration&&r.duration>0&&n.afterOpened().subscribe(()=>n._dismissAfter(r.duration))}_createOverlay(n){let r=new zr;r.direction=n.direction;let o=this._overlay.position().global(),s=n.direction==="rtl",c=n.horizontalPosition==="left"||n.horizontalPosition==="start"&&!s||n.horizontalPosition==="end"&&s,l=!c&&n.horizontalPosition!=="center";return c?o.left("0"):l?o.right("0"):o.centerHorizontally(),n.verticalPosition==="top"?o.top("0"):o.bottom("0"),r.positionStrategy=o,this._overlay.create(r)}_createInjector(n,r){let o=n&&n.viewContainerRef&&n.viewContainerRef.injector;return Ot.create({parent:o||this._injector,providers:[{provide:Dc,useValue:r},{provide:QT,useValue:n.data}]})}};t.\u0275fac=function(r){return new(r||t)(R(Kn),R(Dw),R(Ot),R(rd),R(t,12),R(A2))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var cs=(()=>{let t=class t{constructor(n,r){this.firestore=n,this._snackBar=r}openSnackBar(n,r){this._snackBar.open(n,r)}getNews(n,r=null,o=10){console.log("getNews called");let s=Gn(this.firestore,`institutes/${n}/newsEvents`),c;return r?c=mi(s,qu("date","desc"),yb(r),$u(o)):c=mi(s,qu("date","desc"),$u(o)),vb(c,{idField:"id"})}getMoreNews(n,r,o=10){return b(this,null,function*(){let s=Gn(this.firestore,`institutes/${n}/newsEvents`),c=mi(s,qu("date","desc"),yb(r),$u(o));return console.log("Fetching more news events..."),(yield ts(c)).docs.map(d=>M({id:d.id},d.data()))})}addNews(n,r){return b(this,null,function*(){try{console.log(r);let o=Gn(this.firestore,`institutes/${n}/newsEvents`);yield zu(o,r),console.log("News added successfully")}catch(o){throw this.openSnackBar("Failed to add news, please try again later","Cancel"),console.error("Error adding news:",o),new Error("Failed to add news. Please try again later.")}})}deleteNews(n,r){let o=Ur(this.firestore,`institutes/${n}/newsEvents/${r}`);return uT(o)}getNewsEventById(n,r){let o=Ur(this.firestore,`institutes/${n}/newsEvents/${r}`);return console.log(o.id),dT(o,{idField:"id"})}getNewsByTitle(n,r){let o=Gn(this.firestore,`institutes/${n}/newsEvents`),s=mi(o,es("title","==",r));return vb(s,{idField:"id"})}uploadImage(n){return b(this,null,function*(){let r=jT(),o=VT(r,`news-images/${n.name}`);return yield FT(o,n),yield LT(o)})}};t.\u0275fac=function(r){return new(r||t)(R(rn),R(Zu))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Yn=(()=>{let t=class t{constructor(n,r){this.firestore=n,this.platformId=r,this.isLocalStorageAvailable=this.checkLocalStorageAvailability()}checkLocalStorageAvailability(){if(Rl(this.platformId))try{let n="test";return localStorage.setItem(n,"testValue"),localStorage.removeItem(n),!0}catch{return!1}return!1}getCustomization(n){return b(this,null,function*(){console.log("getCustomization called");let r=this.getCachedCustomization(n);if(r)return r;let o=Gn(this.firestore,"registrations"),s=mi(o,es("subdomain","==",n)),c=yield ts(s);if(c.empty)throw new Error("Subdomain not registered");console.error(`registration found for subdomain: ${n}`);let l=c.docs.map(d=>d.data())[0];return this.cacheCustomization(n,l),l})}getCachedCustomization(n){if(this.isLocalStorageAvailable){let r=localStorage.getItem(`customization_${n}`);return r?JSON.parse(r):null}return null}cacheCustomization(n,r){this.isLocalStorageAvailable&&localStorage.setItem(`customization_${n}`,JSON.stringify(r))}getSubdomainFromUrl(){return window.location.host.split(".")[0]}};t.\u0275fac=function(r){return new(r||t)(R(rn),R(Ke))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ZT=(()=>{let t=class t{constructor(n,r,o,s){this.route=n,this.router=r,this.newsService=o,this.customizatonservice=s,this.title=""}ngOnInit(){let n=this.route.snapshot.paramMap.get("title");n?(this.title=n,this.newsService.getNewsEventById(this.customizatonservice.getSubdomainFromUrl(),this.decodeTitle(n)).subscribe(r=>{this.newsItem=r})):this.router.navigate(["/news"])}decodeTitle(n){return console.log(n.split("-").pop()),n.split("-").pop()}};t.\u0275fac=function(r){return new(r||t)(A(tn),A(de),A(cs),A(Yn))},t.\u0275cmp=rt({type:t,selectors:[["app-view-news"]],standalone:!0,features:[ot],decls:9,vars:6,consts:[[1,"news-article-container"],[1,"news-article-header"],[1,"news-article-date"],[1,"news-article-content",3,"innerHTML"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"div",1)(2,"h1"),K(3),N(),F(4,"p",2),K(5),El(6,"date"),N()(),dt(7,"mat-divider")(8,"div",3),N()),r&2&&(W(3),Sn(o.newsItem==null?null:o.newsItem.title),W(2),Sn(Wy(6,3,o.newsItem==null||o.newsItem.date==null?null:o.newsItem.date.toDate(),"fullDate")),W(3),xt("innerHTML",o.newsItem==null?null:o.newsItem.content,io))},dependencies:[ge,Sl,Io,Mi],styles:[".news-article-container[_ngcontent-%COMP%]{max-width:800px;min-height:60vh;margin:120px auto;padding:20px;font-family:Georgia,Times New Roman,Times,serif}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]{margin-bottom:40px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.5em;line-height:1.2;margin-bottom:10px}.news-article-container[_ngcontent-%COMP%]   .news-article-header[_ngcontent-%COMP%]   .news-article-date[_ngcontent-%COMP%]{color:#888;font-size:.9em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]{font-size:1.2em;line-height:1.6;color:#333}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1.5em}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;margin:20px 0}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{margin:20px 0;padding:10px 20px;background:#f9f9f9;border-left:5px solid #ccc;font-style:italic}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{background:#f5f5f5;padding:15px;border-radius:5px;overflow-x:auto;margin-bottom:20px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{background:#f4f4f4;padding:2px 4px;border-radius:4px}.news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .news-article-container[_ngcontent-%COMP%]   .news-article-content[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1.5em;margin-bottom:.5em}.mat-divider[_ngcontent-%COMP%]{margin:12px 0}"]});let e=t;return e})();var aC=(()=>{let t=class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}};t.\u0275fac=function(r){return new(r||t)(A(oo),A(mt))},t.\u0275dir=tt({type:t});let e=t;return e})(),S2=(()=>{let t=class t extends aC{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(t)))(o||t)}})(),t.\u0275dir=tt({type:t,features:[Gt]});let e=t;return e})(),qr=new $("");var R2={provide:qr,useExisting:sn(()=>hs),multi:!0};function D2(){let e=co()?co().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var k2=new $(""),hs=(()=>{let t=class t extends aC{constructor(n,r,o){super(n,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!D2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}};t.\u0275fac=function(r){return new(r||t)(A(oo),A(mt),A(k2,8))},t.\u0275dir=tt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&yt("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[re([R2]),Gt]});let e=t;return e})();function Ki(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function cC(e){return e!=null&&typeof e.length=="number"}var fs=new $(""),ch=new $(""),P2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,th=class{static min(t){return O2(t)}static max(t){return M2(t)}static required(t){return lC(t)}static requiredTrue(t){return N2(t)}static email(t){return F2(t)}static minLength(t){return L2(t)}static maxLength(t){return dC(t)}static pattern(t){return V2(t)}static nullValidator(t){return eh(t)}static compose(t){return gC(t)}static composeAsync(t){return _C(t)}};function O2(e){return t=>{if(Ki(t.value)||Ki(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}function M2(e){return t=>{if(Ki(t.value)||Ki(e))return null;let i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}function lC(e){return Ki(e.value)?{required:!0}:null}function N2(e){return e.value===!0?null:{required:!0}}function F2(e){return Ki(e.value)||P2.test(e.value)?null:{email:!0}}function L2(e){return t=>Ki(t.value)||!cC(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function dC(e){return t=>cC(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function V2(e){if(!e)return eh;let t,i;return typeof e=="string"?(i="",e.charAt(0)!=="^"&&(i+="^"),i+=e,e.charAt(e.length-1)!=="$"&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),n=>{if(Ki(n.value))return null;let r=n.value;return t.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function eh(e){return null}function uC(e){return e!=null}function hC(e){return Tl(e)?ie(e):e}function fC(e){let t={};return e.forEach(i=>{t=i!=null?M(M({},t),i):t}),Object.keys(t).length===0?null:t}function mC(e,t){return t.map(i=>i(e))}function j2(e){return!e.validate}function pC(e){return e.map(t=>j2(t)?t:i=>t.validate(i))}function gC(e){if(!e)return null;let t=e.filter(uC);return t.length==0?null:function(i){return fC(mC(i,t))}}function Gb(e){return e!=null?gC(pC(e)):null}function _C(e){if(!e)return null;let t=e.filter(uC);return t.length==0?null:function(i){let n=mC(i,t).map(hC);return Iy(n).pipe(ft(fC))}}function Wb(e){return e!=null?_C(pC(e)):null}function JT(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function bC(e){return e._rawValidators}function vC(e){return e._rawAsyncValidators}function $b(e){return e?Array.isArray(e)?e:[e]:[]}function nh(e,t){return Array.isArray(e)?e.includes(t):e===t}function tC(e,t){let i=$b(t);return $b(e).forEach(r=>{nh(i,r)||i.push(r)}),i}function eC(e,t){return $b(t).filter(i=>!nh(e,i))}var ih=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Wb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,i){return this.control?this.control.hasError(t,i):!1}getError(t,i){return this.control?this.control.getError(t,i):null}},_i=class extends ih{get formDirective(){return null}get path(){return null}},bi=class extends ih{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},rh=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},U2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},U9=Tt(M({},U2),{"[class.ng-submitted]":"isSubmitted"}),ms=(()=>{let t=class t extends rh{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(A(bi,2))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Rt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Gt]});let e=t;return e})(),yC=(()=>{let t=class t extends rh{constructor(n){super(n)}};t.\u0275fac=function(r){return new(r||t)(A(_i,10))},t.\u0275dir=tt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Rt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Gt]});let e=t;return e})();var Pc="VALID",Ju="INVALID",ls="PENDING",Oc="DISABLED";function Kb(e){return(lh(e)?e.validators:e)||null}function B2(e){return Array.isArray(e)?Gb(e):e||null}function Yb(e,t){return(lh(t)?t.asyncValidators:e)||null}function z2(e){return Array.isArray(e)?Wb(e):e||null}function lh(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function wC(e,t,i){let n=e.controls;if(!(t?Object.keys(n):n).length)throw new Dt(1e3,"");if(!n[i])throw new Dt(1001,"")}function xC(e,t,i){e._forEachChild((n,r)=>{if(i[r]===void 0)throw new Dt(1002,"")})}var ds=class{constructor(t,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Pc}get invalid(){return this.status===Ju}get pending(){return this.status==ls}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(tC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(tC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(eC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(eC(t,this._rawAsyncValidators))}hasValidator(t){return nh(this._rawValidators,t)}hasAsyncValidator(t){return nh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ls,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(n=>{n.disable(Tt(M({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Tt(M({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){let i=this._parentMarkedDirty(t.onlySelf);this.status=Pc,this._forEachChild(n=>{n.enable(Tt(M({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Tt(M({},t),{skipPristineCheck:i})),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===ls)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ls,this._hasOwnPendingAsyncValidator=!0;let i=hC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,i={}){this.errors=t,this._updateControlsErrors(i.emitEvent!==!1)}get(t){let i=t;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((n,r)=>n&&n._find(r),this)}getError(t,i){let n=i?this.get(i):this;return n&&n.errors?n.errors[t]:null}hasError(t,i){return!!this.getError(t,i)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Pt,this.statusChanges=new Pt}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?Ju:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ls)?ls:this._anyControlsHaveStatus(Ju)?Ju:Pc}_anyControlsHaveStatus(t){return this._anyControls(i=>i.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lh(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let i=this._parent&&this._parent.dirty;return!t&&!!i&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=B2(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=z2(this._rawAsyncValidators)}},us=class extends ds{constructor(t,i,n){super(Kb(i),Yb(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,i){return this.controls[t]?this.controls[t]:(this.controls[t]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(t,i,n={}){this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(t,i,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],i&&this.registerControl(t,i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,i={}){xC(this,!0,t),Object.keys(t).forEach(n=>{wC(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t={},i={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(t,i,n)=>(t[n]=i.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(i,n)=>n._syncPendingControls()?!0:i);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(i=>{let n=this.controls[i];n&&t(n,i)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[i,n]of Object.entries(this.controls))if(this.contains(i)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(i,n,r)=>((n.enabled||this.disabled)&&(i[r]=n.value),i))}_reduceChildren(t,i){let n=t;return this._forEachChild((r,o)=>{n=i(n,r,o)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var qb=class extends us{};var Fc=new $("CallSetDisabledState",{providedIn:"root",factory:()=>dh}),dh="always";function EC(e,t){return[...t.path,e]}function oh(e,t,i=dh){Qb(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||i==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),q2(e,t),G2(e,t),H2(e,t),$2(e,t)}function nC(e,t,i=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),ah(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function sh(e,t){e.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(t)})}function $2(e,t){if(t.valueAccessor.setDisabledState){let i=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(i),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(i)})}}function Qb(e,t){let i=bC(e);t.validator!==null?e.setValidators(JT(i,t.validator)):typeof i=="function"&&e.setValidators([i]);let n=vC(e);t.asyncValidator!==null?e.setAsyncValidators(JT(n,t.asyncValidator)):typeof n=="function"&&e.setAsyncValidators([n]);let r=()=>e.updateValueAndValidity();sh(t._rawValidators,r),sh(t._rawAsyncValidators,r)}function ah(e,t){let i=!1;if(e!==null){if(t.validator!==null){let r=bC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.validator);o.length!==r.length&&(i=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let r=vC(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==t.asyncValidator);o.length!==r.length&&(i=!0,e.setAsyncValidators(o))}}}let n=()=>{};return sh(t._rawValidators,n),sh(t._rawAsyncValidators,n),i}function q2(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&IC(e,t)})}function H2(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&IC(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function IC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function G2(e,t){let i=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};e.registerOnChange(i),t._registerOnDestroy(()=>{e._unregisterOnChange(i)})}function TC(e,t){e==null,Qb(e,t)}function W2(e,t){return ah(e,t)}function CC(e,t){if(!e.hasOwnProperty("model"))return!1;let i=e.model;return i.isFirstChange()?!0:!Object.is(t,i.currentValue)}function K2(e){return Object.getPrototypeOf(e.constructor)===S2}function AC(e,t){e._syncPendingControls(),t.forEach(i=>{let n=i.control;n.updateOn==="submit"&&n._pendingChange&&(i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function SC(e,t){if(!t)return null;Array.isArray(t);let i,n,r;return t.forEach(o=>{o.constructor===hs?i=o:K2(o)?n=o:r=o}),r||n||i||null}function Y2(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}var Q2={provide:_i,useExisting:sn(()=>Xb)},Mc=Promise.resolve(),Xb=(()=>{let t=class t extends _i{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Pt,this.form=new us({},Gb(n),Wb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Mc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),oh(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Mc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Mc.then(()=>{let r=this._findContainer(n.path),o=new us({});TC(o,n),r.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Mc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Mc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,AC(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}};t.\u0275fac=function(r){return new(r||t)(A(fs,10),A(ch,10),A(Fc,8))},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&yt("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[vt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[re([Q2]),Gt]});let e=t;return e})();function iC(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)}function rC(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Nc=class extends ds{constructor(t=null,i,n){super(Kb(i),Yb(n,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lh(i)&&(i.nonNullable||i.initialValueIsDefault)&&(rC(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,i={}){this.value=this._pendingValue=t,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(t,i={}){this.setValue(t,i)}reset(t=this.defaultValue,i={}){this._applyFormState(t),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){iC(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){iC(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){rC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var X2=e=>e instanceof Nc;var Z2={provide:bi,useExisting:sn(()=>Lc)},oC=Promise.resolve(),Lc=(()=>{let t=class t extends bi{constructor(n,r,o,s,c,l){super(),this._changeDetectorRef=c,this.callSetDisabledState=l,this.control=new Nc,this._registered=!1,this.name="",this.update=new Pt,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=SC(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),CC(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){oh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){oC.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,o=r!==0&&cn(r);oC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?EC(n,this._parent):[n]}};t.\u0275fac=function(r){return new(r||t)(A(_i,9),A(fs,10),A(ch,10),A(qr,10),A(Qe,8),A(Fc,8))},t.\u0275dir=tt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[vt.None,"disabled","isDisabled"],model:[vt.None,"ngModel","model"],options:[vt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[re([Z2]),Gt,Oe]});let e=t;return e})(),RC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})();var DC=new $("");var J2={provide:_i,useExisting:sn(()=>Vc)},Vc=(()=>{let t=class t extends _i{constructor(n,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Pt,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ah(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return oh(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){nC(n.control||null,n,!1),Y2(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,AC(this.form,this.directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,o=this.form.get(n.path);r!==o&&(nC(r||null,n),X2(o)&&(oh(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);TC(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&W2(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Qb(this.form,this),this._oldForm&&ah(this._oldForm,this)}_checkFormPresent(){this.form}};t.\u0275fac=function(r){return new(r||t)(A(fs,10),A(ch,10),A(Fc,8))},t.\u0275dir=tt({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&yt("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[vt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[re([J2]),Gt,Oe]});let e=t;return e})();var tj={provide:bi,useExisting:sn(()=>Zb)},Zb=(()=>{let t=class t extends bi{set isDisabled(n){}constructor(n,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Pt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=SC(this,s)}ngOnChanges(n){this._added||this._setUpControl(),CC(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return EC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};t._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(A(_i,13),A(fs,10),A(ch,10),A(qr,10),A(DC,8))},t.\u0275dir=tt({type:t,selectors:[["","formControlName",""]],inputs:{name:[vt.None,"formControlName","name"],isDisabled:[vt.None,"disabled","isDisabled"],model:[vt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[re([tj]),Gt,Oe]});let e=t;return e})();function ej(e){return typeof e=="number"?e:parseInt(e,10)}var kC=(()=>{let t=class t{constructor(){this._validator=eh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):eh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,features:[Oe]});let e=t;return e})();var nj={provide:fs,useExisting:sn(()=>Jb),multi:!0};var Jb=(()=>{let t=class t extends kC{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=cn,this.createValidator=n=>lC}enabled(n){return n}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&te("required",o._enabled?"":null)},inputs:{required:"required"},features:[re([nj]),Gt]});let e=t;return e})();var ij={provide:fs,useExisting:sn(()=>tv),multi:!0},tv=(()=>{let t=class t extends kC{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>ej(n),this.createValidator=n=>dC(n)}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=ei(t)))(o||t)}})(),t.\u0275dir=tt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,o){r&2&&te("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[re([ij]),Gt]});let e=t;return e})();var PC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({});let e=t;return e})(),Hb=class extends ds{constructor(t,i,n){super(Kb(i),Yb(n,i)),this.controls=t,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,i={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(t,i,n={}){this.controls.splice(t,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,i={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(t,i,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,i={}){xC(this,!1,t),t.forEach((n,r)=>{wC(this,!1,r),this.at(r).setValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(t,i={}){t!=null&&(t.forEach((n,r)=>{this.at(r)&&this.at(r).patchValue(n,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(t=[],i={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((i,n)=>n._syncPendingControls()?!0:i,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((i,n)=>{t(i,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(i=>i.enabled&&t(i))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function sC(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var OC=(()=>{let t=class t{constructor(){this.useNonNullable=!1}get nonNullable(){let n=new t;return n.useNonNullable=!0,n}group(n,r=null){let o=this._reduceControls(n),s={};return sC(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new us(o,s)}record(n,r=null){let o=this._reduceControls(n);return new qb(o,r)}control(n,r,o){let s={};return this.useNonNullable?(sC(r)?s=r:(s.validators=r,s.asyncValidators=o),new Nc(n,Tt(M({},s),{nonNullable:!0}))):new Nc(n,r,o)}array(n,r,o){let s=n.map(c=>this._createControl(c));return new Hb(s,r,o)}_reduceControls(n){let r={};return Object.keys(n).forEach(o=>{r[o]=this._createControl(n[o])}),r}_createControl(n){if(n instanceof Nc)return n;if(n instanceof ds)return n;if(Array.isArray(n)){let r=n[0],o=n.length>1?n[1]:null,s=n.length>2?n[2]:null;return this.control(r,o,s)}else return this.control(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ps=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:Fc,useValue:n.callSetDisabledState??dh}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[PC]});let e=t;return e})(),MC=(()=>{let t=class t{static withConfig(n){return{ngModule:t,providers:[{provide:DC,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Fc,useValue:n.callSetDisabledState??dh}]}}};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[PC]});let e=t;return e})();var ev=class{constructor(t){this._box=t,this._destroyed=new et,this._resizeSubject=new et,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Ue(i=>{let n=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),n.unsubscribe(),this._elementObservables.delete(t)}}).pipe(qt(i=>i.some(n=>n.target===t)),Df({bufferSize:1,refCount:!0}),me(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},NC=(()=>{let t=class t{constructor(){this._observers=new Map,this._ngZone=V(q),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,n]of this._observers)n.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(n,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new ev(o)),this._observers.get(o).observe(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rj=["notch"],oj=["matFormFieldNotchedOutline",""],sj=["*"],aj=["textField"],cj=["iconPrefixContainer"],lj=["textPrefixContainer"],dj=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],uj=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function hj(e,t){e&1&&dt(0,"span",17)}function fj(e,t){if(e&1&&(F(0,"label",16),Vt(1,1),gt(2,hj,1,0,"span",17),N()),e&2){let i=At(2);xt("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),te("for",i._control.disableAutomaticLabeling?null:i._control.id),W(2),pe(2,!i.hideRequiredMarker&&i._control.required?2:-1)}}function mj(e,t){if(e&1&&gt(0,fj,3,5,"label",16),e&2){let i=At();pe(0,i._hasFloatingLabel()?0:-1)}}function pj(e,t){e&1&&dt(0,"div",5)}function gj(e,t){}function _j(e,t){if(e&1&&gt(0,gj,0,0,"ng-template",11),e&2){At(2);let i=Ff(1);xt("ngTemplateOutlet",i)}}function bj(e,t){if(e&1&&(F(0,"div",7),gt(1,_j,1,1,null,11),N()),e&2){let i=At();xt("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),W(),pe(1,i._forceDisplayInfixLabel()?-1:1)}}function vj(e,t){e&1&&(F(0,"div",8,2),Vt(2,2),N())}function yj(e,t){e&1&&(F(0,"div",9,3),Vt(2,3),N())}function wj(e,t){}function xj(e,t){if(e&1&&gt(0,wj,0,0,"ng-template",11),e&2){At();let i=Ff(1);xt("ngTemplateOutlet",i)}}function Ej(e,t){e&1&&(F(0,"div",12),Vt(1,4),N())}function Ij(e,t){e&1&&(F(0,"div",13),Vt(1,5),N())}function Tj(e,t){e&1&&dt(0,"div",14)}function Cj(e,t){if(e&1&&(F(0,"div",18),Vt(1,6),N()),e&2){let i=At();xt("@transitionMessages",i._subscriptAnimationState)}}function Aj(e,t){if(e&1&&(F(0,"mat-hint",20),K(1),N()),e&2){let i=At(2);xt("id",i._hintLabelId),W(),Sn(i.hintLabel)}}function Sj(e,t){if(e&1&&(F(0,"div",19),gt(1,Aj,2,2,"mat-hint",20),Vt(2,7),dt(3,"div",21),Vt(4,8),N()),e&2){let i=At();xt("@transitionMessages",i._subscriptAnimationState),W(),pe(1,i.hintLabel?1:-1)}}var fh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-label"]],standalone:!0});let e=t;return e})();var Rj=new $("MatError");var Dj=0,mh=(()=>{let t=class t{constructor(){this.align="start",this.id=`mat-mdc-hint-${Dj++}`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(cr("id",o.id),te("align",null),Rt("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let e=t;return e})(),kj=new $("MatPrefix");var Pj=new $("MatSuffix");var $C=new $("FloatingLabelParent"),FC=(()=>{let t=class t{get floating(){return this._floating}set floating(n){this._floating=n,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(n){this._monitorResize=n,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(n){this._elementRef=n,this._floating=!1,this._monitorResize=!1,this._resizeObserver=V(NC),this._ngZone=V(q),this._parent=V($C),this._resizeSubscription=new Jn}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return Oj(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};t.\u0275fac=function(r){return new(r||t)(A(mt))},t.\u0275dir=tt({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Rt("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let e=t;return e})();function Oj(e){let t=e;if(t.offsetParent!==null)return t.scrollWidth;let i=t.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let n=i.scrollWidth;return i.remove(),n}var LC="mdc-line-ripple--active",hh="mdc-line-ripple--deactivating",VC=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,c=s.contains(hh);o.propertyName==="opacity"&&c&&s.remove(LC,hh)},r.runOutsideAngular(()=>{n.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let n=this._elementRef.nativeElement.classList;n.remove(hh),n.add(LC)}deactivate(){this._elementRef.nativeElement.classList.add(hh)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(q))},t.\u0275dir=tt({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let e=t;return e})(),jC=(()=>{let t=class t{constructor(n,r){this._elementRef=n,this._ngZone=r,this.open=!1}ngAfterViewInit(){let n=this._elementRef.nativeElement.querySelector(".mdc-floating-label");n?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(n.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>n.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(n){!this.open||!n?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${n}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(q))},t.\u0275cmp=rt({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&Fe(rj,5),r&2){let s;jt(s=Ut())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Rt("mdc-notched-outline--notched",o.open)},inputs:{open:[vt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[ot],attrs:oj,ngContentSelectors:sj,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(an(),dt(0,"div",1),F(1,"div",2,0),Vt(3),N(),dt(4,"div",3))},encapsulation:2,changeDetection:0});let e=t;return e})(),Mj={transitionMessages:kl("transitionMessages",[oa("enter",dr({opacity:1,transform:"translateY(0%)"})),sa("void => enter",[dr({opacity:0,transform:"translateY(-5px)"}),ra("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},nv=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t});let e=t;return e})();var iv=new $("MatFormField"),Nj=new $("MAT_FORM_FIELD_DEFAULT_OPTIONS"),UC=0,BC="fill",Fj="auto",zC="fixed",Lj="translateY(-50%)",qC=(()=>{let t=class t{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(n){this._hideRequiredMarker=kn(n)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||Fj}set floatLabel(n){n!==this._floatLabel&&(this._floatLabel=n,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(n){let r=this._appearance,o=n||this._defaults?.appearance||BC;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||zC}set subscriptSizing(n){this._subscriptSizing=n||this._defaults?.subscriptSizing||zC}get hintLabel(){return this._hintLabel}set hintLabel(n){this._hintLabel=n,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(n){this._explicitFormFieldControl=n}constructor(n,r,o,s,c,l,d,f){this._elementRef=n,this._changeDetectorRef=r,this._ngZone=o,this._dir=s,this._platform=c,this._defaults=l,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance=BC,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${UC++}`,this._hintLabelId=`mat-mdc-hint-${UC++}`,this._subscriptAnimationState="",this._destroyed=new et,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let n=this._control;n.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${n.controlType}`),n.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),n.ngControl&&n.ngControl.valueChanges&&n.ngControl.valueChanges.pipe(me(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(n=>!n._isText),this._hasTextPrefix=!!this._prefixChildren.find(n=>n._isText),this._hasIconSuffix=!!this._suffixChildren.find(n=>!n._isText),this._hasTextSuffix=!!this._suffixChildren.find(n=>n._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Zr(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(me(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(me(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(n){let r=this._control?this._control.ngControl:null;return r&&r[n]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let n=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&n.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?n.push(r.id):this._hintLabel&&n.push(this._hintLabelId),o&&n.push(o.id)}else this._errorChildren&&n.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(n)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;let n=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){n.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdateOnStable=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,c=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+c}px`,p=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;n.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${Lj} translateX(${p})
    )`}_isAttachedToDom(){let n=this._elementRef.nativeElement;if(n.getRootNode){let r=n.getRootNode();return r&&r!==n}return document.documentElement.contains(n)}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(Qe),A(q),A(gr),A(Et),A(Nj,8),A(ze,8),A(Z))},t.\u0275cmp=rt({type:t,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(pn(s,fh,5),pn(s,fh,7),pn(s,nv,5),pn(s,kj,5),pn(s,Pj,5),pn(s,Rj,5),pn(s,mh,5)),r&2){let c;jt(c=Ut())&&(o._labelChildNonStatic=c.first),jt(c=Ut())&&(o._labelChildStatic=c.first),jt(c=Ut())&&(o._formFieldControl=c.first),jt(c=Ut())&&(o._prefixChildren=c),jt(c=Ut())&&(o._suffixChildren=c),jt(c=Ut())&&(o._errorChildren=c),jt(c=Ut())&&(o._hintChildren=c)}},viewQuery:function(r,o){if(r&1&&(Fe(aj,5),Fe(cj,5),Fe(lj,5),Fe(FC,5),Fe(jC,5),Fe(VC,5)),r&2){let s;jt(s=Ut())&&(o._textField=s.first),jt(s=Ut())&&(o._iconPrefixContainer=s.first),jt(s=Ut())&&(o._textPrefixContainer=s.first),jt(s=Ut())&&(o._floatingLabel=s.first),jt(s=Ut())&&(o._notchedOutline=s.first),jt(s=Ut())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Rt("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[re([{provide:iv,useExisting:t},{provide:$C,useExisting:t}]),ot],ngContentSelectors:uj,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=Ye();an(dj),gt(0,mj,1,1,"ng-template",null,0,Ky),F(2,"div",4,1),yt("click",function(l){return Me(s),Ne(o._control.onContainerClick(l))}),gt(4,pj,1,0,"div",5),F(5,"div",6),gt(6,bj,2,2,"div",7)(7,vj,3,0,"div",8)(8,yj,3,0,"div",9),F(9,"div",10),gt(10,xj,1,1,null,11),Vt(11),N(),gt(12,Ej,2,0,"div",12)(13,Ij,2,0,"div",13),N(),gt(14,Tj,1,0,"div",14),N(),F(15,"div",15),gt(16,Cj,2,1)(17,Sj,5,2),N()}if(r&2){let s;W(2),Rt("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),W(2),pe(4,!o._hasOutline()&&!o._control.disabled?4:-1),W(2),pe(6,o._hasOutline()?6:-1),W(),pe(7,o._hasIconPrefix?7:-1),W(),pe(8,o._hasTextPrefix?8:-1),W(2),pe(10,!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),W(2),pe(12,o._hasTextSuffix?12:-1),W(),pe(13,o._hasIconSuffix?13:-1),W(),pe(14,o._hasOutline()?-1:14),W(),Rt("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),W(),pe(16,(s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[FC,jC,o0,VC,mh],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Mj.transitionMessages]},changeDetection:0});let e=t;return e})(),jc=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,ge,ww,oe]});let e=t;return e})();var HC=Oi({passive:!0}),GC=(()=>{let t=class t{constructor(n,r){this._platform=n,this._ngZone=r,this._monitoredElements=new Map}monitor(n){if(!this._platform.isBrowser)return Tn;let r=dn(n),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new et,c="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(c)?(r.classList.add(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(c)&&(r.classList.remove(c),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,HC),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,HC)}}),s}stopMonitoring(n){let r=dn(n),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((n,r)=>this.stopMonitoring(r))}};t.\u0275fac=function(r){return new(r||t)(R(Et),R(q))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var WC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({});let e=t;return e})();var Uj=new $("MAT_INPUT_VALUE_ACCESSOR"),Bj=["button","checkbox","file","hidden","image","radio","range","reset","submit"],zj=0,KC=(()=>{let t=class t{get disabled(){return this._disabled}set disabled(n){this._disabled=kn(n),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(n){this._id=n||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(th.required)??!1}set required(n){this._required=kn(n)}get type(){return this._type}set type(n){this._type=n||"text",this._validateType(),!this._isTextarea&&Vm().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(n){this._errorStateTracker.matcher=n}get value(){return this._inputValueAccessor.value}set value(n){n!==this.value&&(this._inputValueAccessor.value=n,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(n){this._readonly=kn(n)}get errorState(){return this._errorStateTracker.errorState}set errorState(n){this._errorStateTracker.errorState=n}constructor(n,r,o,s,c,l,d,f,p,g){this._elementRef=n,this._platform=r,this.ngControl=o,this._autofillMonitor=f,this._formField=g,this._uid=`mat-input-${zj++}`,this.focused=!1,this.stateChanges=new et,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>Vm().has(O)),this._iOSKeyupListener=O=>{let D=O.target;!D.value&&D.selectionStart===0&&D.selectionEnd===0&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))};let E=this._elementRef.nativeElement,k=E.nodeName.toLowerCase();this._inputValueAccessor=d||E,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&p.runOutsideAngular(()=>{n.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new dd(l,o,c,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=k==="select",this._isTextarea=k==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=E.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(n=>{this.autofilled=n.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(n){this._elementRef.nativeElement.focus(n)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(n){n!==this.focused&&(this.focused=n,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let n=this._elementRef.nativeElement.value;this._previousNativeValue!==n&&(this._previousNativeValue=n,this.stateChanges.next())}_dirtyCheckPlaceholder(){let n=this._getPlaceholder();if(n!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=n,n?r.setAttribute("placeholder",n):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Bj.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let n=this._elementRef.nativeElement.validity;return n&&n.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let n=this._elementRef.nativeElement,r=n.options[0];return this.focused||n.multiple||!this.empty||!!(n.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(n){n.length?this._elementRef.nativeElement.setAttribute("aria-describedby",n.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let n=this._elementRef.nativeElement;return this._isNativeSelect&&(n.multiple||n.size>1)}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(Et),A(bi,10),A(Xb,8),A(Vc,8),A(Bw),A(Uj,10),A(GC),A(q),A(iv,8))},t.\u0275dir=tt({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&yt("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(cr("id",o.id)("disabled",o.disabled)("required",o.required),te("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Rt("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[vt.None,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[re([{provide:nv,useExisting:t}]),Oe]});let e=t;return e})(),YC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,jc,jc,WC,oe]});let e=t;return e})();var qj=["*"];var Hj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Gj=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],Wj=new $("MAT_CARD_CONFIG"),ph=(()=>{let t=class t{constructor(n){this.appearance=n?.appearance||"raised"}};t.\u0275fac=function(r){return new(r||t)(A(Wj,8))},t.\u0275cmp=rt({type:t,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){r&2&&Rt("mat-mdc-card-outlined",o.appearance==="outlined")("mdc-card--outlined",o.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[ot],ngContentSelectors:qj,decls:1,vars:0,template:function(r,o){r&1&&(an(),Vt(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0});let e=t;return e})(),gh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0});let e=t;return e})();var _h=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0});let e=t;return e})(),QC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0});let e=t;return e})(),XC=(()=>{let t=class t{constructor(){this.align="start"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(r,o){r&2&&Rt("mat-mdc-card-actions-align-end",o.align==="end")},inputs:{align:"align"},exportAs:["matCardActions"],standalone:!0});let e=t;return e})(),bh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[ot],ngContentSelectors:Gj,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){r&1&&(an(Hj),Vt(0),F(1,"div",0),Vt(2,1),N(),Vt(3,2))},encapsulation:2,changeDetection:0});let e=t;return e})();var ZC=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-mdc-card-image","mdc-card__media"],standalone:!0});let e=t;return e})();var vh=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,ge,oe]});let e=t;return e})();var gs=class{constructor(t){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof t.crashNumberLimit=="number"?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod=="number"?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{let n="error"in i?i.error:i.reason;n instanceof Error&&this._handleError(n,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,i){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(i)}off(t,i){this._listeners[t]=this._listeners[t].filter(n=>n!==i)}_fire(t,...i){let n=this._listeners[t]||[];for(let r of n)r.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,i){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});let n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&t.context!==void 0&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t)}_shouldRestart(){if(this.crashes.length<=this._crashNumberLimit)return!0;let t=this.crashes[this.crashes.length-1].date,i=this.crashes[this.crashes.length-1-this._crashNumberLimit].date;return(t-i)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}};function Uc(e,t=new Set){let i=[e],n=new Set,r=0;for(;i.length>r;){let o=i[r++];if(!(n.has(o)||!Kj(o)||t.has(o)))if(n.add(o),Symbol.iterator in o)try{for(let s of o)i.push(s)}catch{}else for(let s in o)s!=="defaultValue"&&i.push(o[s])}return n}function Kj(e){let t=Object.prototype.toString.call(e),i=typeof e;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||t==="[object Date]"||t==="[object RegExp]"||t==="[object Module]"||e===void 0||e===null||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function yh(e,t,i=new Set){if(e===t&&Yj(e))return!0;let n=Uc(e,i),r=Uc(t,i);for(let o of n)if(r.has(o))return!0;return!1}function Yj(e){return typeof e=="object"&&e!==null}var Qj=typeof global=="object"&&global&&global.Object===Object&&global,wh=Qj;var Xj=typeof self=="object"&&self&&self.Object===Object&&self,Zj=wh||Xj||Function("return this")(),Zt=Zj;var Jj=Zt.Symbol,vi=Jj;var tA=Object.prototype,tU=tA.hasOwnProperty,eU=tA.toString,Bc=vi?vi.toStringTag:void 0;function nU(e){var t=tU.call(e,Bc),i=e[Bc];try{e[Bc]=void 0;var n=!0}catch{}var r=eU.call(e);return n&&(t?e[Bc]=i:delete e[Bc]),r}var eA=nU;var iU=Object.prototype,rU=iU.toString;function oU(e){return rU.call(e)}var nA=oU;var sU="[object Null]",aU="[object Undefined]",iA=vi?vi.toStringTag:void 0;function cU(e){return e==null?e===void 0?aU:sU:iA&&iA in Object(e)?eA(e):nA(e)}var on=cU;function lU(e){return e!=null&&typeof e=="object"}var Ae=lU;var dU="[object Symbol]";function uU(e){return typeof e=="symbol"||Ae(e)&&on(e)==dU}var rA=uU;var hU=Array.isArray,_s=hU;var fU=/\s/;function mU(e){for(var t=e.length;t--&&fU.test(e.charAt(t)););return t}var oA=mU;var pU=/^\s+/;function gU(e){return e&&e.slice(0,oA(e)+1).replace(pU,"")}var sA=gU;function _U(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ve=_U;var aA=NaN,bU=/^[-+]0x[0-9a-f]+$/i,vU=/^0b[01]+$/i,yU=/^0o[0-7]+$/i,wU=parseInt;function xU(e){if(typeof e=="number")return e;if(rA(e))return aA;if(ve(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ve(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=sA(e);var i=vU.test(e);return i||yU.test(e)?wU(e.slice(2),i?2:8):bU.test(e)?aA:+e}var rv=xU;var EU="[object AsyncFunction]",IU="[object Function]",TU="[object GeneratorFunction]",CU="[object Proxy]";function AU(e){if(!ve(e))return!1;var t=on(e);return t==IU||t==TU||t==EU||t==CU}var xh=AU;var SU=Zt["__core-js_shared__"],Eh=SU;var cA=function(){var e=/[^.]+$/.exec(Eh&&Eh.keys&&Eh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RU(e){return!!cA&&cA in e}var lA=RU;var DU=Function.prototype,kU=DU.toString;function PU(e){if(e!=null){try{return kU.call(e)}catch{}try{return e+""}catch{}}return""}var yi=PU;var OU=/[\\^$.*+?()[\]{}|]/g,MU=/^\[object .+?Constructor\]$/,NU=Function.prototype,FU=Object.prototype,LU=NU.toString,VU=FU.hasOwnProperty,jU=RegExp("^"+LU.call(VU).replace(OU,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UU(e){if(!ve(e)||lA(e))return!1;var t=xh(e)?jU:MU;return t.test(yi(e))}var dA=UU;function BU(e,t){return e?.[t]}var uA=BU;function zU(e,t){var i=uA(e,t);return dA(i)?i:void 0}var qe=zU;var $U=qe(Zt,"WeakMap"),Ih=$U;var hA=Object.create,qU=function(){function e(){}return function(t){if(!ve(t))return{};if(hA)return hA(t);e.prototype=t;var i=new e;return e.prototype=void 0,i}}(),fA=qU;function HU(e,t){var i=-1,n=e.length;for(t||(t=Array(n));++i<n;)t[i]=e[i];return t}var mA=HU;var GU=function(){try{var e=qe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ov=GU;function WU(e,t){for(var i=-1,n=e==null?0:e.length;++i<n&&t(e[i],i,e)!==!1;);return e}var pA=WU;var KU=9007199254740991,YU=/^(?:0|[1-9]\d*)$/;function QU(e,t){var i=typeof e;return t=t??KU,!!t&&(i=="number"||i!="symbol"&&YU.test(e))&&e>-1&&e%1==0&&e<t}var gA=QU;function XU(e,t,i){t=="__proto__"&&ov?ov(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}var Th=XU;function ZU(e,t){return e===t||e!==e&&t!==t}var Ch=ZU;var JU=Object.prototype,tB=JU.hasOwnProperty;function eB(e,t,i){var n=e[t];(!(tB.call(e,t)&&Ch(n,i))||i===void 0&&!(t in e))&&Th(e,t,i)}var Ah=eB;function nB(e,t,i,n){var r=!i;i||(i={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=n?n(i[c],e[c],c,i,e):void 0;l===void 0&&(l=e[c]),r?Th(i,c,l):Ah(i,c,l)}return i}var Yi=nB;var iB=9007199254740991;function rB(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=iB}var Sh=rB;function oB(e){return e!=null&&Sh(e.length)&&!xh(e)}var Rh=oB;var sB=Object.prototype;function aB(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||sB;return e===i}var bs=aB;function cB(e,t){for(var i=-1,n=Array(e);++i<e;)n[i]=t(i);return n}var _A=cB;var lB="[object Arguments]";function dB(e){return Ae(e)&&on(e)==lB}var sv=dB;var bA=Object.prototype,uB=bA.hasOwnProperty,hB=bA.propertyIsEnumerable,fB=sv(function(){return arguments}())?sv:function(e){return Ae(e)&&uB.call(e,"callee")&&!hB.call(e,"callee")},vA=fB;function mB(){return!1}var yA=mB;var EA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wA=EA&&typeof module=="object"&&module&&!module.nodeType&&module,pB=wA&&wA.exports===EA,xA=pB?Zt.Buffer:void 0,gB=xA?xA.isBuffer:void 0,_B=gB||yA,Dh=_B;var bB="[object Arguments]",vB="[object Array]",yB="[object Boolean]",wB="[object Date]",xB="[object Error]",EB="[object Function]",IB="[object Map]",TB="[object Number]",CB="[object Object]",AB="[object RegExp]",SB="[object Set]",RB="[object String]",DB="[object WeakMap]",kB="[object ArrayBuffer]",PB="[object DataView]",OB="[object Float32Array]",MB="[object Float64Array]",NB="[object Int8Array]",FB="[object Int16Array]",LB="[object Int32Array]",VB="[object Uint8Array]",jB="[object Uint8ClampedArray]",UB="[object Uint16Array]",BB="[object Uint32Array]",Bt={};Bt[OB]=Bt[MB]=Bt[NB]=Bt[FB]=Bt[LB]=Bt[VB]=Bt[jB]=Bt[UB]=Bt[BB]=!0;Bt[bB]=Bt[vB]=Bt[kB]=Bt[yB]=Bt[PB]=Bt[wB]=Bt[xB]=Bt[EB]=Bt[IB]=Bt[TB]=Bt[CB]=Bt[AB]=Bt[SB]=Bt[RB]=Bt[DB]=!1;function zB(e){return Ae(e)&&Sh(e.length)&&!!Bt[on(e)]}var IA=zB;function $B(e){return function(t){return e(t)}}var vs=$B;var TA=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zc=TA&&typeof module=="object"&&module&&!module.nodeType&&module,qB=zc&&zc.exports===TA,av=qB&&wh.process,HB=function(){try{var e=zc&&zc.require&&zc.require("util").types;return e||av&&av.binding&&av.binding("util")}catch{}}(),wi=HB;var CA=wi&&wi.isTypedArray,GB=CA?vs(CA):IA,AA=GB;var WB=Object.prototype,KB=WB.hasOwnProperty;function YB(e,t){var i=_s(e),n=!i&&vA(e),r=!i&&!n&&Dh(e),o=!i&&!n&&!r&&AA(e),s=i||n||r||o,c=s?_A(e.length,String):[],l=c.length;for(var d in e)(t||KB.call(e,d))&&!(s&&(d=="length"||r&&(d=="offset"||d=="parent")||o&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||gA(d,l)))&&c.push(d);return c}var kh=YB;function QB(e,t){return function(i){return e(t(i))}}var Ph=QB;var XB=Ph(Object.keys,Object),SA=XB;var ZB=Object.prototype,JB=ZB.hasOwnProperty;function tz(e){if(!bs(e))return SA(e);var t=[];for(var i in Object(e))JB.call(e,i)&&i!="constructor"&&t.push(i);return t}var RA=tz;function ez(e){return Rh(e)?kh(e):RA(e)}var ys=ez;function nz(e){var t=[];if(e!=null)for(var i in Object(e))t.push(i);return t}var DA=nz;var iz=Object.prototype,rz=iz.hasOwnProperty;function oz(e){if(!ve(e))return DA(e);var t=bs(e),i=[];for(var n in e)n=="constructor"&&(t||!rz.call(e,n))||i.push(n);return i}var kA=oz;function sz(e){return Rh(e)?kh(e,!0):kA(e)}var ws=sz;var az=qe(Object,"create"),xi=az;function cz(){this.__data__=xi?xi(null):{},this.size=0}var PA=cz;function lz(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var OA=lz;var dz="__lodash_hash_undefined__",uz=Object.prototype,hz=uz.hasOwnProperty;function fz(e){var t=this.__data__;if(xi){var i=t[e];return i===dz?void 0:i}return hz.call(t,e)?t[e]:void 0}var MA=fz;var mz=Object.prototype,pz=mz.hasOwnProperty;function gz(e){var t=this.__data__;return xi?t[e]!==void 0:pz.call(t,e)}var NA=gz;var _z="__lodash_hash_undefined__";function bz(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=xi&&t===void 0?_z:t,this}var FA=bz;function xs(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}xs.prototype.clear=PA;xs.prototype.delete=OA;xs.prototype.get=MA;xs.prototype.has=NA;xs.prototype.set=FA;var cv=xs;function vz(){this.__data__=[],this.size=0}var LA=vz;function yz(e,t){for(var i=e.length;i--;)if(Ch(e[i][0],t))return i;return-1}var Qi=yz;var wz=Array.prototype,xz=wz.splice;function Ez(e){var t=this.__data__,i=Qi(t,e);if(i<0)return!1;var n=t.length-1;return i==n?t.pop():xz.call(t,i,1),--this.size,!0}var VA=Ez;function Iz(e){var t=this.__data__,i=Qi(t,e);return i<0?void 0:t[i][1]}var jA=Iz;function Tz(e){return Qi(this.__data__,e)>-1}var UA=Tz;function Cz(e,t){var i=this.__data__,n=Qi(i,e);return n<0?(++this.size,i.push([e,t])):i[n][1]=t,this}var BA=Cz;function Es(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Es.prototype.clear=LA;Es.prototype.delete=VA;Es.prototype.get=jA;Es.prototype.has=UA;Es.prototype.set=BA;var Xi=Es;var Az=qe(Zt,"Map"),Zi=Az;function Sz(){this.size=0,this.__data__={hash:new cv,map:new(Zi||Xi),string:new cv}}var zA=Sz;function Rz(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $A=Rz;function Dz(e,t){var i=e.__data__;return $A(t)?i[typeof t=="string"?"string":"hash"]:i.map}var Ji=Dz;function kz(e){var t=Ji(this,e).delete(e);return this.size-=t?1:0,t}var qA=kz;function Pz(e){return Ji(this,e).get(e)}var HA=Pz;function Oz(e){return Ji(this,e).has(e)}var GA=Oz;function Mz(e,t){var i=Ji(this,e),n=i.size;return i.set(e,t),this.size+=i.size==n?0:1,this}var WA=Mz;function Is(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var n=e[t];this.set(n[0],n[1])}}Is.prototype.clear=zA;Is.prototype.delete=qA;Is.prototype.get=HA;Is.prototype.has=GA;Is.prototype.set=WA;var KA=Is;function Nz(e,t){for(var i=-1,n=t.length,r=e.length;++i<n;)e[r+i]=t[i];return e}var Oh=Nz;var Fz=Ph(Object.getPrototypeOf,Object),Ts=Fz;var Lz="[object Object]",Vz=Function.prototype,jz=Object.prototype,YA=Vz.toString,Uz=jz.hasOwnProperty,Bz=YA.call(Object);function zz(e){if(!Ae(e)||on(e)!=Lz)return!1;var t=Ts(e);if(t===null)return!0;var i=Uz.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&YA.call(i)==Bz}var QA=zz;function $z(){this.__data__=new Xi,this.size=0}var XA=$z;function qz(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}var ZA=qz;function Hz(e){return this.__data__.get(e)}var JA=Hz;function Gz(e){return this.__data__.has(e)}var tS=Gz;var Wz=200;function Kz(e,t){var i=this.__data__;if(i instanceof Xi){var n=i.__data__;if(!Zi||n.length<Wz-1)return n.push([e,t]),this.size=++i.size,this;i=this.__data__=new KA(n)}return i.set(e,t),this.size=i.size,this}var eS=Kz;function Cs(e){var t=this.__data__=new Xi(e);this.size=t.size}Cs.prototype.clear=XA;Cs.prototype.delete=ZA;Cs.prototype.get=JA;Cs.prototype.has=tS;Cs.prototype.set=eS;var nS=Cs;function Yz(e,t){return e&&Yi(t,ys(t),e)}var iS=Yz;function Qz(e,t){return e&&Yi(t,ws(t),e)}var rS=Qz;var cS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,oS=cS&&typeof module=="object"&&module&&!module.nodeType&&module,Xz=oS&&oS.exports===cS,sS=Xz?Zt.Buffer:void 0,aS=sS?sS.allocUnsafe:void 0;function Zz(e,t){if(t)return e.slice();var i=e.length,n=aS?aS(i):new e.constructor(i);return e.copy(n),n}var lS=Zz;function Jz(e,t){for(var i=-1,n=e==null?0:e.length,r=0,o=[];++i<n;){var s=e[i];t(s,i,e)&&(o[r++]=s)}return o}var dS=Jz;function t4(){return[]}var Mh=t4;var e4=Object.prototype,n4=e4.propertyIsEnumerable,uS=Object.getOwnPropertySymbols,i4=uS?function(e){return e==null?[]:(e=Object(e),dS(uS(e),function(t){return n4.call(e,t)}))}:Mh,As=i4;function r4(e,t){return Yi(e,As(e),t)}var hS=r4;var o4=Object.getOwnPropertySymbols,s4=o4?function(e){for(var t=[];e;)Oh(t,As(e)),e=Ts(e);return t}:Mh,Nh=s4;function a4(e,t){return Yi(e,Nh(e),t)}var fS=a4;function c4(e,t,i){var n=t(e);return _s(e)?n:Oh(n,i(e))}var Fh=c4;function l4(e){return Fh(e,ys,As)}var mS=l4;function d4(e){return Fh(e,ws,Nh)}var pS=d4;var u4=qe(Zt,"DataView"),Lh=u4;var h4=qe(Zt,"Promise"),Vh=h4;var f4=qe(Zt,"Set"),jh=f4;var gS="[object Map]",m4="[object Object]",_S="[object Promise]",bS="[object Set]",vS="[object WeakMap]",yS="[object DataView]",p4=yi(Lh),g4=yi(Zi),_4=yi(Vh),b4=yi(jh),v4=yi(Ih),Hr=on;(Lh&&Hr(new Lh(new ArrayBuffer(1)))!=yS||Zi&&Hr(new Zi)!=gS||Vh&&Hr(Vh.resolve())!=_S||jh&&Hr(new jh)!=bS||Ih&&Hr(new Ih)!=vS)&&(Hr=function(e){var t=on(e),i=t==m4?e.constructor:void 0,n=i?yi(i):"";if(n)switch(n){case p4:return yS;case g4:return gS;case _4:return _S;case b4:return bS;case v4:return vS}return t});var Ss=Hr;var y4=Object.prototype,w4=y4.hasOwnProperty;function x4(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&w4.call(e,"index")&&(i.index=e.index,i.input=e.input),i}var wS=x4;var E4=Zt.Uint8Array,lv=E4;function I4(e){var t=new e.constructor(e.byteLength);return new lv(t).set(new lv(e)),t}var Rs=I4;function T4(e,t){var i=t?Rs(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}var xS=T4;var C4=/\w*$/;function A4(e){var t=new e.constructor(e.source,C4.exec(e));return t.lastIndex=e.lastIndex,t}var ES=A4;var IS=vi?vi.prototype:void 0,TS=IS?IS.valueOf:void 0;function S4(e){return TS?Object(TS.call(e)):{}}var CS=S4;function R4(e,t){var i=t?Rs(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}var AS=R4;var D4="[object Boolean]",k4="[object Date]",P4="[object Map]",O4="[object Number]",M4="[object RegExp]",N4="[object Set]",F4="[object String]",L4="[object Symbol]",V4="[object ArrayBuffer]",j4="[object DataView]",U4="[object Float32Array]",B4="[object Float64Array]",z4="[object Int8Array]",$4="[object Int16Array]",q4="[object Int32Array]",H4="[object Uint8Array]",G4="[object Uint8ClampedArray]",W4="[object Uint16Array]",K4="[object Uint32Array]";function Y4(e,t,i){var n=e.constructor;switch(t){case V4:return Rs(e);case D4:case k4:return new n(+e);case j4:return xS(e,i);case U4:case B4:case z4:case $4:case q4:case H4:case G4:case W4:case K4:return AS(e,i);case P4:return new n;case O4:case F4:return new n(e);case M4:return ES(e);case N4:return new n;case L4:return CS(e)}}var SS=Y4;function Q4(e){return typeof e.constructor=="function"&&!bs(e)?fA(Ts(e)):{}}var RS=Q4;var X4="[object Map]";function Z4(e){return Ae(e)&&Ss(e)==X4}var DS=Z4;var kS=wi&&wi.isMap,J4=kS?vs(kS):DS,PS=J4;var t$="[object Set]";function e$(e){return Ae(e)&&Ss(e)==t$}var OS=e$;var MS=wi&&wi.isSet,n$=MS?vs(MS):OS,NS=n$;var i$=1,r$=2,o$=4,FS="[object Arguments]",s$="[object Array]",a$="[object Boolean]",c$="[object Date]",l$="[object Error]",LS="[object Function]",d$="[object GeneratorFunction]",u$="[object Map]",h$="[object Number]",VS="[object Object]",f$="[object RegExp]",m$="[object Set]",p$="[object String]",g$="[object Symbol]",_$="[object WeakMap]",b$="[object ArrayBuffer]",v$="[object DataView]",y$="[object Float32Array]",w$="[object Float64Array]",x$="[object Int8Array]",E$="[object Int16Array]",I$="[object Int32Array]",T$="[object Uint8Array]",C$="[object Uint8ClampedArray]",A$="[object Uint16Array]",S$="[object Uint32Array]",Ft={};Ft[FS]=Ft[s$]=Ft[b$]=Ft[v$]=Ft[a$]=Ft[c$]=Ft[y$]=Ft[w$]=Ft[x$]=Ft[E$]=Ft[I$]=Ft[u$]=Ft[h$]=Ft[VS]=Ft[f$]=Ft[m$]=Ft[p$]=Ft[g$]=Ft[T$]=Ft[C$]=Ft[A$]=Ft[S$]=!0;Ft[l$]=Ft[LS]=Ft[_$]=!1;function Uh(e,t,i,n,r,o){var s,c=t&i$,l=t&r$,d=t&o$;if(i&&(s=r?i(e,n,r,o):i(e)),s!==void 0)return s;if(!ve(e))return e;var f=_s(e);if(f){if(s=wS(e),!c)return mA(e,s)}else{var p=Ss(e),g=p==LS||p==d$;if(Dh(e))return lS(e,c);if(p==VS||p==FS||g&&!r){if(s=l||g?{}:RS(e),!c)return l?fS(e,rS(s,e)):hS(e,iS(s,e))}else{if(!Ft[p])return r?e:{};s=SS(e,p,c)}}o||(o=new nS);var E=o.get(e);if(E)return E;o.set(e,s),NS(e)?e.forEach(function(D){s.add(Uh(D,t,i,D,e,o))}):PS(e)&&e.forEach(function(D,z){s.set(z,Uh(D,t,i,z,e,o))});var k=d?l?pS:mS:l?ws:ys,O=f?void 0:k(e);return pA(O||e,function(D,z){O&&(z=D,D=e[z]),Ah(s,z,Uh(D,t,i,z,e,o))}),s}var jS=Uh;var R$=1,D$=4;function k$(e,t){return t=typeof t=="function"?t:void 0,jS(e,R$|D$,t)}var dv=k$;var P$=function(){return Zt.Date.now()},Bh=P$;var O$="Expected a function",M$=Math.max,N$=Math.min;function F$(e,t,i){var n,r,o,s,c,l,d=0,f=!1,p=!1,g=!0;if(typeof e!="function")throw new TypeError(O$);t=rv(t)||0,ve(i)&&(f=!!i.leading,p="maxWait"in i,o=p?M$(rv(i.maxWait)||0,t):o,g="trailing"in i?!!i.trailing:g);function E(X){var w=n,_=r;return n=r=void 0,d=X,s=e.apply(_,w),s}function k(X){return d=X,c=setTimeout(z,t),f?E(X):s}function O(X){var w=X-l,_=X-d,v=t-w;return p?N$(v,o-_):v}function D(X){var w=X-l,_=X-d;return l===void 0||w>=t||w<0||p&&_>=o}function z(){var X=Bh();if(D(X))return Y(X);c=setTimeout(z,O(X))}function Y(X){return c=void 0,g&&n?E(X):(n=r=void 0,s)}function J(){c!==void 0&&clearTimeout(c),d=0,n=l=r=c=void 0}function at(){return c===void 0?s:Y(Bh())}function zt(){var X=Bh(),w=D(X);if(n=arguments,r=this,l=X,w){if(c===void 0)return k(l);if(p)return clearTimeout(c),c=setTimeout(z,t),E(l)}return c===void 0&&(c=setTimeout(z,t)),s}return zt.cancel=J,zt.flush=at,zt}var US=F$;function L$(e){return Ae(e)&&e.nodeType===1&&!QA(e)}var zh=L$;var V$="Expected a function";function j$(e,t,i){var n=!0,r=!0;if(typeof e!="function")throw new TypeError(V$);return ve(i)&&(n="leading"in i?!!i.leading:n,r="trailing"in i?!!i.trailing:r),US(e,t,{leading:n,maxWait:t,trailing:r})}var uv=j$;var Ds=class extends gs{constructor(t,i={}){super(i),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=uv(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),t&&(this._creator=(n,r)=>t.create(n,r)),this._destructor=n=>n.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{let t={},i=[],n=this._config.rootsAttributes||{},r={};for(let[s,c]of Object.entries(this._data.roots))c.isLoaded?(t[s]="",r[s]=n[s]||{}):i.push(s);let o=Tt(M({},this._config),{extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:r,_watchdogInitialData:this._data});return delete o.initialData,o.extraPlugins.push(hv),this._initUsingData?this.create(t,o,o.context):zh(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,i=this._config,n){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData=typeof t=="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=n,this._creator(t,this._config))).then(r=>{this._editor=r,r.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=r.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();let t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){let t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){let t=this._editor,i=t.model.document.roots.filter(c=>c.isAttached()&&c.rootName!="$graveyard"),{plugins:n}=t,r=n.has("CommentsRepository")&&n.get("CommentsRepository"),o=n.has("TrackChanges")&&n.get("TrackChanges"),s={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(c=>{s.roots[c.rootName]={content:JSON.stringify(Array.from(c.getChildren())),attributes:JSON.stringify(Array.from(c.getAttributes())),isLoaded:c._isLoaded}});for(let c of t.model.markers)c._affectsData&&(s.markers[c.name]={rangeJSON:c.getRange().toJSON(),usingOperation:c._managedUsingOperations,affectsData:c._affectsData});return r&&(s.commentThreads=JSON.stringify(r.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(s.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),s}_getEditables(){let t={};for(let i of this.editor.model.document.getRootNames()){let n=this.editor.ui.getEditableElement(i);n&&(t[i]=n)}return t}_isErrorComingFromThisItem(t){return yh(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){return dv(t,(i,n)=>{if(zh(i)||n==="context")return i})}};var hv=class{constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,i){if("name"in i){let n=t.createElement(i.name,i.attributes);if(i.children)for(let r of i.children)n._appendChild(this._createNode(t,r));return n}else return t.createText(i.data,i.attributes)}_restoreEditorData(t){let i=this.editor;Object.entries(this._data.roots).forEach(([n,{content:r,attributes:o}])=>{let s=JSON.parse(r),c=JSON.parse(o),l=i.model.document.getRoot(n);for(let[d,f]of c)t.setAttribute(d,f,l);for(let d of s){let f=this._createNode(t,d);t.insert(f,l,"end")}}),Object.entries(this._data.markers).forEach(([n,r])=>{let{document:o}=i.model,E=r,{rangeJSON:{start:s,end:c}}=E,l=ll(E,["rangeJSON"]),d=o.getRoot(s.root),f=t.createPositionFromPath(d,s.path,s.stickiness),p=t.createPositionFromPath(d,c.path,c.stickiness),g=t.createRange(f,p);t.addMarker(n,M({range:g},l))})}_restoreCollaborationData(){let t=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);t.forEach(n=>{let r=this.editor.config.get("collaboration.channelId"),o=this.editor.plugins.get("CommentsRepository");o.hasCommentThread(n.threadId)&&o.getCommentThread(n.threadId).remove(),o.addCommentThread(M({channelId:r},n))}),i.forEach(n=>{let r=this.editor.plugins.get("TrackChangesEditing");if(r.hasSuggestion(n.id)){let o=r.getSuggestion(n.id);o.attributes=n.attributes}else r.addSuggestionData(n)})}};var nJ=Symbol("MainQueueId");function U$(e,t){}var Se=new Array(256).fill(0).map((e,t)=>("0"+t.toString(16)).slice(-2));function B$(){let e=Math.random()*4294967296>>>0,t=Math.random()*4294967296>>>0,i=Math.random()*4294967296>>>0,n=Math.random()*4294967296>>>0;return"e"+Se[e>>0&255]+Se[e>>8&255]+Se[e>>16&255]+Se[e>>24&255]+Se[t>>0&255]+Se[t>>8&255]+Se[t>>16&255]+Se[t>>24&255]+Se[i>>0&255]+Se[i>>8&255]+Se[i>>16&255]+Se[i>>24&255]+Se[n>>0&255]+Se[n>>8&255]+Se[n>>16&255]+Se[n>>24&255]}var fv="Lock from Angular integration (@ckeditor/ckeditor5-angular)",BS=(()=>{class e{constructor(i,n){this.config={},this.data="",this.tagName="div",this.disableTwoWayDataBinding=!1,this.ready=new Pt,this.change=new Pt,this.blur=new Pt,this.focus=new Pt,this.error=new Pt,this.initiallyDisabled=!1,this.isEditorSettingData=!1,this.id=B$(),this.ngZone=n,this.elementRef=i;let{CKEDITOR_VERSION:r}=window;if(r){let[o]=r.split(".").map(Number);o<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}set disabled(i){this.setDisabledState(i)}get disabled(){return this.editorInstance?this.editorInstance.isReadOnly:this.initiallyDisabled}get editorInstance(){let i=this.editorWatchdog;return this.watchdog&&(i=this.watchdog._watchdogs.get(this.id)),i?i.editor:null}getId(){return this.id}ngOnChanges(i){Object.prototype.hasOwnProperty.call(i,"data")&&i.data&&!i.data.isFirstChange()&&this.writeValue(i.data.currentValue)}ngAfterViewInit(){this.attachToWatchdog()}ngOnDestroy(){return b(this,null,function*(){this.watchdog?yield this.watchdog.remove(this.id):this.editorWatchdog&&this.editorWatchdog.editor&&(yield this.editorWatchdog.destroy(),this.editorWatchdog=void 0)})}writeValue(i){i===null&&(i=""),this.editorInstance?(this.isEditorSettingData=!0,this.editorInstance.data.set(i),this.isEditorSettingData=!1):(this.data=i,this.ready.pipe(Cn()).subscribe(n=>{n.data.set(this.data)}))}registerOnChange(i){this.cvaOnChange=i}registerOnTouched(i){this.cvaOnTouched=i}setDisabledState(i){this.editorInstance&&(i?this.editorInstance.enableReadOnlyMode(fv):this.editorInstance.disableReadOnlyMode(fv)),this.initiallyDisabled=i}attachToWatchdog(){let i=(c,l)=>this.ngZone.runOutsideAngular(()=>b(this,null,function*(){this.elementRef.nativeElement.appendChild(c);let d=yield this.editor.create(c,l);return this.initiallyDisabled&&d.enableReadOnlyMode(fv),this.ngZone.run(()=>{this.ready.emit(d)}),this.setUpEditorEvents(d),d})),n=c=>b(this,null,function*(){yield c.destroy(),this.elementRef.nativeElement.removeChild(this.editorElement)}),r=c=>{z$(this.error)&&this.ngZone.run(()=>this.error.emit(c))},o=document.createElement(this.tagName),s=this.getConfig();if(this.editorElement=o,this.watchdog)this.watchdog.add({id:this.id,type:"editor",creator:i,destructor:n,sourceElementOrData:o,config:s}).catch(c=>{r(c)}),this.watchdog.on("itemError",(c,{itemId:l})=>{l===this.id&&r()});else{let c=new Ds(this.editor,this.editorWatchdogConfig);c.setCreator(i),c.setDestructor(n),c.on("error",r),this.editorWatchdog=c,this.ngZone.runOutsideAngular(()=>{c.create(o,s).catch(l=>{r(l)})})}}getConfig(){if(this.data&&this.config.initialData)throw new Error("Editor data should be provided either using `config.initialData` or `data` properties.");let i=M({},this.config),n=this.config.initialData||this.data;return n&&(i.initialData=n),i}setUpEditorEvents(i){let n=i.model.document,r=i.editing.view.document;n.on("change:data",o=>{this.ngZone.run(()=>{if(!this.disableTwoWayDataBinding){if(this.cvaOnChange&&!this.isEditorSettingData){let s=i.data.get();this.cvaOnChange(s)}this.change.emit({event:o,editor:i})}})}),r.on("focus",o=>{this.ngZone.run(()=>{this.focus.emit({event:o,editor:i})})}),r.on("blur",o=>{this.ngZone.run(()=>{this.cvaOnTouched&&this.cvaOnTouched(),this.blur.emit({event:o,editor:i})})})}}return e.\u0275fac=function(i){return new(i||e)(A(mt),A(q))},e.\u0275cmp=rt({type:e,selectors:[["ckeditor"]],inputs:{editor:"editor",config:"config",data:"data",tagName:"tagName",watchdog:"watchdog",editorWatchdogConfig:"editorWatchdogConfig",disableTwoWayDataBinding:"disableTwoWayDataBinding",disabled:"disabled"},outputs:{ready:"ready",change:"change",blur:"blur",focus:"focus",error:"error"},features:[re([{provide:qr,useExisting:sn(()=>e),multi:!0}]),Oe],decls:1,vars:0,template:function(i,n){i&1&&gt(0,U$,0,0,"ng-template")},encapsulation:2}),e})();function z$(e){return e.observed||e.observers.length>0}var $h=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ht({type:e}),e.\u0275inj=ut({imports:[[ps,ge]]}),e})();function q$(e,t){if(e&1){let i=Ye();F(0,"div")(1,"ckeditor",1),xl("ngModelChange",function(r){Me(i);let o=At();return wl(o.editorData,r)||(o.editorData=r),Ne(r)}),yt("ready",function(r){Me(i);let o=At();return Ne(o.onReady(r))}),N()()}if(e&2){let i=At();W(),xt("editor",i.Editor),yl("ngModel",i.editorData)}}function H$(e,t){e&1&&(F(0,"div"),K(1,"Loading editor..."),N())}var zS=(()=>{let t=class t{constructor(){this.editorData="<p>Hello from CKEditor 5!</p>",this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){typeof window<"u"&&import("./chunk-CNFSKRWH.js").then(n=>{this.Editor=n.default})}writeValue(n){this.editorData=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}onReady(n){n.model.document.on("change:data",()=>{let r=n.getData();this.onChange(r)})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["app-ckeditor"]],standalone:!0,features:[re([{provide:qr,useExisting:sn(()=>t),multi:!0}]),ot],decls:2,vars:2,consts:[[4,"ngIf"],[3,"ngModelChange","ready","editor","ngModel"]],template:function(r,o){r&1&&gt(0,q$,2,2,"div",0)(1,H$,2,0,"div",0),r&2&&(xt("ngIf",o.Editor),W(),xt("ngIf",!o.Editor))},dependencies:[$h,BS,ps,ms,Lc,ge,Si],styles:["[_nghost-%COMP%]{display:block;width:100%}ckeditor[_ngcontent-%COMP%]{display:block;width:100%}"]});let e=t;return e})();var $S=(()=>{let t=class t{constructor(n,r,o){this.fb=n,this.newsService=r,this.customizationService=o,this.maxLength=150,this.newsForm=this.fb.group({title:[""],content:[""],image:[null]})}ngOnInit(){}onFileSelected(n){this.newsForm.patchValue({image:n.target.files[0]})}get remainingChars(){return this.maxLength-(this.newsForm.get("title")?.value.length||0)}onSubmit(){return b(this,null,function*(){if(this.newsForm.valid){let n=this.newsForm.value,r=n.content,o="";console.log("CKEditor Content before submission:",r),n.image&&(o=yield this.newsService.uploadImage(n.image));try{yield this.newsService.addNews(this.customizationService.getSubdomainFromUrl(),{title:n.title,content:r,imageUrl:o,date:new Date}),this.newsForm.reset()}catch(s){console.error("Error adding news:",s)}}else console.warn("Form is invalid")})}};t.\u0275fac=function(r){return new(r||t)(A(OC),A(cs),A(Yn))},t.\u0275cmp=rt({type:t,selectors:[["app-add-news"]],standalone:!0,features:[ot],decls:27,vars:3,consts:[[1,"add-news-content"],[1,"add-news-container"],[3,"ngSubmit","formGroup"],["appearance","fill"],["matInput","","id","title","formControlName","title","type","text","required","","maxlength","150"],["align","end"],[1,"ckeditor-container"],["for","content"],["formControlName","content"],[1,"file-input-container"],["for","image"],["id","image","type","file",3,"change"],["mat-raised-button","","color","primary","type","submit"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"div",1)(2,"form",2),yt("ngSubmit",function(){return o.onSubmit()}),F(3,"mat-card")(4,"mat-card-header")(5,"mat-card-title"),K(6,"Add News or Event article"),N()(),dt(7,"mat-divider"),F(8,"mat-card-content")(9,"mat-form-field",3)(10,"mat-label"),K(11,"Title"),N(),dt(12,"textarea",4),F(13,"mat-hint",5),K(14),N()(),F(15,"div",6)(16,"label",7),K(17,"Content"),N(),dt(18,"app-ckeditor",8),N(),F(19,"div",9)(20,"label",10),K(21,"Image : "),N(),F(22,"input",11),yt("change",function(c){return o.onFileSelected(c)}),N()()(),dt(23,"mat-divider"),F(24,"mat-card-actions")(25,"button",12),K(26,"Add News"),N()()()()()()),r&2&&(W(2),xt("formGroup",o.newsForm),W(12),Hy("",o.remainingChars," / ",o.maxLength,""))},dependencies:[MC,RC,hs,ms,yC,Jb,tv,Vc,Zb,jc,qC,fh,mh,YC,KC,Sc,os,vh,ph,XC,_h,bh,gh,Mi,zS],styles:[".add-news-content[_ngcontent-%COMP%]{width:100%}.add-news-container[_ngcontent-%COMP%]{max-width:1050px;padding:20px;margin:auto}mat-card[_ngcontent-%COMP%]{margin-top:20px}.mat-mdc-form-field[_ngcontent-%COMP%]{max-width:auto!important;width:100%}.ckeditor-container[_ngcontent-%COMP%], .file-input-container[_ngcontent-%COMP%]{margin-top:16px}.mat-divider[_ngcontent-%COMP%]{margin:24px 0}"]});let e=t;return e})();function G$(e,t){e&1&&dt(0,"img",8)}function W$(e,t){if(e&1&&dt(0,"img",9),e&2){let i=At().$implicit;xt("src",i.imageUrl,jy)}}function K$(e,t){if(e&1){let i=Ye();F(0,"mat-card",3),yt("click",function(){let r=Me(i).$implicit,o=At();return Ne(o.viewArticle(r.title,r.id))}),F(1,"mat-card-header")(2,"mat-card-title"),K(3),N(),F(4,"mat-card-subtitle"),K(5),El(6,"date"),N()(),gt(7,G$,1,0,"img",4)(8,W$,1,1,"img",5),dt(9,"mat-divider"),F(10,"mat-card-content"),dt(11,"div",6),F(12,"p",7),K(13,"Read article ->"),N()()()}if(e&2){let i=t.$implicit,n=At();W(3),Sn(i.title),W(2),Sn(Gy(6,5,i.date.toDate())),W(2),xt("ngIf",!i.imageUrl),W(),xt("ngIf",i.imageUrl),W(3),xt("innerHTML",n.sanitizeContent(n.getTruncatedContent(i.content)),io)}}var qS=(()=>{let t=class t{constructor(n,r,o,s){this.newsService=n,this.customizationService=r,this.router=o,this.sanitizer=s,this.newsList=[],this.lastVisibleDoc=null,this.instituteId=typeof window<"u"?this.customizationService.getSubdomainFromUrl():"Test 32"}ngOnInit(){return b(this,null,function*(){typeof window<"u"&&this.loadNews()})}loadNews(){this.newsService.getNews(this.instituteId).subscribe(n=>{n.length>0&&(this.lastVisibleDoc=n[n.length-1]),this.newsList=n,console.log("News list updated:",this.newsList)})}loadMoreNews(){this.lastVisibleDoc&&this.newsService.getMoreNews(this.instituteId,this.lastVisibleDoc).then(n=>{console.log("Fetched more news:",n),n.length>0&&(this.lastVisibleDoc=n[n.length-1],this.newsList=[...this.newsList,...n])})}onScroll(){this.loadMoreNews()}getTruncatedContent(n){return n.length>105?n.substring(0,105)+"...":n}encodeTitle(n){return n.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")}viewArticle(n,r){let o=this.encodeTitle(n)+"-"+r;this.router.navigate(["/view-news",o])}sanitizeContent(n){let r=n.replace(/<style[\s\S]*?<\/style>/gi,"");return this.sanitizer.bypassSecurityTrustHtml(r)}};t.\u0275fac=function(r){return new(r||t)(A(cs),A(Yn),A(de),A(Yf))},t.\u0275cmp=rt({type:t,selectors:[["app-news-events"]],standalone:!0,features:[ot],decls:5,vars:1,consts:[[1,"news-container"],[1,"newslist"],["matRipple","",3,"click",4,"ngFor","ngForOf"],["matRipple","",3,"click"],["mat-card-image","","src","../../assets/newsbg.jpg","class","news-image",4,"ngIf"],["mat-card-image","","class","news-image",3,"src",4,"ngIf"],[1,"news-content",3,"innerHTML"],[1,"readmore"],["mat-card-image","","src","../../assets/newsbg.jpg",1,"news-image"],["mat-card-image","",1,"news-image",3,"src"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"h1"),K(2,"Our News & Events articles"),N(),F(3,"div",1),gt(4,K$,14,7,"mat-card",2),N()()),r&2&&(W(4),xt("ngForOf",o.newsList))},dependencies:[ge,Al,Si,Sl,vh,ph,_h,bh,ZC,QC,gh,Io,Mi,ud,Ym,_w],styles:[".news-container[_ngcontent-%COMP%]{padding:80px 12px;background-color:#f5f5f5}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1% 2% .5%}.news-container[_ngcontent-%COMP%]   .newslist[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}@media screen and (max-width: 425px){.news-container[_ngcontent-%COMP%]{padding:72px 0}.news-container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center}}.mdc-card[_ngcontent-%COMP%]{max-width:480px;margin:1% 2%;cursor:pointer;transition:all .3s cubic-bezier(0,0,.5,1);font-family:Verdana,Geneva,Tahoma,sans-serif}@media screen and (max-width: 425px){.mdc-card[_ngcontent-%COMP%]{max-width:96%}}.mdc-card[_ngcontent-%COMP%]:hover{box-shadow:0 0 40px -8px #00000029,0 0 24px -16px #00000029;transform:scale3d(1.01,1.01,1.03) translate3d(.1rem,-.25rem,20rem)}.mdc-card[_ngcontent-%COMP%]:hover   .readmore[_ngcontent-%COMP%]{opacity:1}.news-content[_ngcontent-%COMP%]{margin:12px 0 24px}.readmore[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#00000080;position:absolute;padding:24px 0 8px;bottom:0;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;opacity:0;transition:all .6s ease-in-out}.news-image[_ngcontent-%COMP%]{max-height:200px;width:auto;object-fit:cover}"]});let e=t;return e})();function Y$(e,t){}var Gr=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var gv=(()=>{let t=class t extends Gi{constructor(n,r,o,s,c,l,d,f){super(),this._elementRef=n,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=c,this._ngZone=l,this._overlayRef=d,this._focusMonitor=f,this._platform=V(Et),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=V(Qe),this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let g=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),g},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{n.removeEventListener("blur",o),n.removeEventListener("mousedown",o),n.removeAttribute("tabindex")};n.addEventListener("blur",o),n.addEventListener("mousedown",o)})),n.focus(r)}_focusByCssSelector(n,r){let o=this._elementRef.nativeElement.querySelector(n);o&&this._forceFocus(o,r)}_trapFocus(){let n=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||n.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=Ma(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let n=this._elementRef.nativeElement,r=Ma();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ma()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(ad),A(Z,8),A(Gr),A(Fa),A(q),A(gi),A(Eo))},t.\u0275cmp=rt({type:t,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Fe(Wi,7),r&2){let s;jt(s=Ut())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&te("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[Gt,ot],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&gt(0,Y$,0,0,"ng-template",0)},dependencies:[Wi],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let e=t;return e})(),$c=class{constructor(t,i){this.overlayRef=t,this.config=i,this.closed=new et,this.disableClose=i.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=i.id,this.keydownEvents.subscribe(n=>{n.keyCode===27&&!this.disableClose&&!id(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{i.closeOnOverlayDetachments!==!1&&this.close()})}close(t,i){if(this.containerInstance){let n=this.closed;this.containerInstance._closeInteractionType=i?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),n.next(t),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",i=""){return this.overlayRef.updateSize({width:t,height:i}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}},Q$=new $("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=V(Kn);return()=>e.scrollStrategies.block()}}),X$=new $("DialogData"),Z$=new $("DefaultDialogConfig");var J$=0,HS=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(n,r,o,s,c,l){this._overlay=n,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et,this._afterOpenedAtThisLevel=new et,this._ariaHiddenElements=new Map,this.afterAllClosed=rr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(An(void 0))),this._scrollStrategy=l}open(n,r){let o=this._defaultOptions||new Gr;r=M(M({},o),r),r.id=r.id||`cdk-dialog-${J$++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),c=this._overlay.create(s),l=new $c(c,r),d=this._attachContainer(c,l,r);return l.containerInstance=d,this._attachDialogContent(n,l,d,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){mv(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){mv(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),mv(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new zr({positionStrategy:n.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,o){let s=o.injector||o.viewContainerRef?.injector,c=[{provide:Gr,useValue:o},{provide:$c,useValue:r},{provide:gi,useValue:n}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,c.push(...o.container.providers(o))):l=gv;let d=new pi(l,o.viewContainerRef,Ot.create({parent:s||this._injector,providers:c}),o.componentFactoryResolver);return n.attach(d).instance}_attachDialogContent(n,r,o,s){if(n instanceof ar){let c=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=M(M({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new Hi(n,null,l,c))}else{let c=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new pi(n,s.viewContainerRef,c,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(n,r,o,s){let c=n.injector||n.viewContainerRef?.injector,l=[{provide:X$,useValue:n.data},{provide:$c,useValue:r}];return n.providers&&(typeof n.providers=="function"?l.push(...n.providers(r,n,o)):l.push(...n.providers)),n.direction&&(!c||!c.get(gr,null,{optional:!0}))&&l.push({provide:gr,useValue:{value:n.direction,change:G()}}),Ot.create({parent:c||s,providers:l})}_removeOpenDialog(n,r){let o=this.openDialogs.indexOf(n);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let n=this._overlayContainer.getContainerElement();if(n.parentElement){let r=n.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==n&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}};t.\u0275fac=function(r){return new(r||t)(R(Kn),R(Ot),R(Z$,8),R(t,12),R(ss),R(Q$))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function mv(e,t){let i=e.length;for(;i--;)t(e[i])}function tq(e,t){}var qc=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},_v="mdc-dialog--open",GS="mdc-dialog--opening",WS="mdc-dialog--closing",eq=150,nq=75,iq=(()=>{let t=class t extends gv{constructor(n,r,o,s,c,l,d,f,p){super(n,r,o,s,c,l,d,p),this._animationMode=f,this._animationStateChanged=new Pt,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?YS(this._config.enterAnimationDuration)??eq:0,this._exitAnimationDuration=this._animationsEnabled?YS(this._config.exitAnimationDuration)??nq:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(KS,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(GS,_v)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(_v),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(_v),this._animationsEnabled?(this._hostElement.style.setProperty(KS,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(WS)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(n){this._actionSectionCount+=n,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(GS,WS)}_waitForAnimationToComplete(n,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,n)}_requestAnimationFrame(n){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(n):n()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(n){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:n})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(n){let r=super.attachComponentPortal(n);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(ad),A(Z,8),A(qc),A(Fa),A(q),A(gi),A(ze,8),A(Eo))},t.\u0275cmp=rt({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(cr("id",o._config.id),te("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),Rt("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[Gt,ot],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(F(0,"div",0)(1,"div",1),gt(2,tq,0,0,"ng-template",2),N()())},dependencies:[Wi],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let e=t;return e})(),KS="--mat-dialog-transition-duration";function YS(e){return e==null?null:typeof e=="number"?e:e.endsWith("ms")?vo(e.substring(0,e.length-2)):e.endsWith("s")?vo(e.substring(0,e.length-1))*1e3:e==="0"?0:null}var qh=function(e){return e[e.OPEN=0]="OPEN",e[e.CLOSING=1]="CLOSING",e[e.CLOSED=2]="CLOSED",e}(qh||{}),Hc=class{constructor(t,i,n){this._ref=t,this._containerInstance=n,this._afterOpened=new et,this._beforeClosed=new et,this._state=qh.OPEN,this.disableClose=i.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),n._animationStateChanged.pipe(qt(r=>r.state==="opened"),Ie(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe(qt(r=>r.state==="closed"),Ie(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Zr(this.backdropClick(),this.keydownEvents().pipe(qt(r=>r.keyCode===27&&!this.disableClose&&!id(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),rq(this,r.type==="keydown"?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(qt(i=>i.state==="closing"),Ie(1)).subscribe(i=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),i.totalTime+100)}),this._state=qh.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let i=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?i.left(t.left):i.right(t.right):i.centerHorizontally(),t&&(t.top||t.bottom)?t.top?i.top(t.top):i.bottom(t.bottom):i.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",i=""){return this._ref.updateSize(t,i),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=qh.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function rq(e,t,i){return e._closeInteractionType=t,e.close(i)}var oq=new $("MatMdcDialogData"),sq=new $("mat-mdc-dialog-default-options"),aq=new $("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let e=V(Kn);return()=>e.scrollStrategies.block()}});var cq=0,QS=(()=>{let t=class t{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(n,r,o,s,c,l,d,f){this._overlay=n,this._defaultOptions=s,this._scrollStrategy=c,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new et,this._afterOpenedAtThisLevel=new et,this.dialogConfigClass=qc,this.afterAllClosed=rr(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(An(void 0))),this._dialog=r.get(HS),this._dialogRefConstructor=Hc,this._dialogContainerType=iq,this._dialogDataToken=oq}open(n,r){let o;r=M(M({},this._defaultOptions||new qc),r),r.id=r.id||`mat-mdc-dialog-${cq++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(n,Tt(M({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Gr,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(c,l,d)=>(o=new this._dialogRefConstructor(c,r,d),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(n){let r=n.length;for(;r--;)n[r].close()}};t.\u0275fac=function(r){return new(r||t)(R(Kn),R(Ot),R(Xe,8),R(sq,8),R(aq),R(t,12),R(ss),R(ze,8))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var ZS=(()=>{let t=class t{constructor(n,r){this.authService=n,this.dialogRef=r}onGoogleSignIn(){this.authService.googleSignIn().then(()=>{console.log("Successfully logged in")}).catch(n=>{console.error("Error during Google sign-in:",n)})}onCancel(){this.dialogRef.close()}};t.\u0275fac=function(r){return new(r||t)(A(ks),A(Hc))},t.\u0275cmp=rt({type:t,selectors:[["app-auth"]],standalone:!0,features:[ot],decls:19,vars:0,consts:[[1,"auth-container"],[1,"auth-card"],[1,"cancel-button",3,"click"],[1,"largeOr"],[1,"or"],[1,"google-signin-button",3,"click"],["src","https://developers.google.com/identity/images/g-logo.png","alt","Google logo"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),yt("click",function(){return o.onCancel()}),K(3,"\u2716"),N(),F(4,"h1"),K(5,"Welcome"),N(),F(6,"div")(7,"h2"),K(8,"Login with email"),N(),F(9,"div"),K(10,"Upcoming login with Email and password"),N()(),F(11,"div",3),dt(12,"hr"),F(13,"div",4),K(14," or "),N(),dt(15,"hr"),N(),F(16,"button",5),yt("click",function(){return o.onGoogleSignIn()}),dt(17,"img",6),K(18," Sign in with Google "),N()()())},styles:[".google-signin-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#fff;color:#757575;border:1px solid #dadce0;border-radius:4px;font-size:16px;padding:10px 20px;cursor:pointer;transition:background-color .3s,box-shadow .3s;width:100%}.google-signin-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:20px}.google-signin-button[_ngcontent-%COMP%]:hover{background-color:#f7f7f7;box-shadow:0 1px 3px #0000001a}.auth-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]{position:relative;background-color:#fff;border-radius:.3em;padding:16px 44px;text-align:center;min-width:420px}.auth-container[_ngcontent-%COMP%]   .auth-card[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;background:none;border:none;font-size:20px;cursor:pointer}.largeOr[_ngcontent-%COMP%]{display:flex;align-items:center;color:#0009}.largeOr[_ngcontent-%COMP%]   .or[_ngcontent-%COMP%]{padding:12px}hr[_ngcontent-%COMP%]{margin:24px 0;width:100%}"]});let e=t;return e})();var ks=(()=>{let t=class t{constructor(n,r,o){this.auth=n,this.firestore=r,this.dialog=o,this.user$=ng(this.auth)}openAuthDialog(){this.dialog.open(ZS)}googleSignIn(){return cE(this.auth,new Yp)}signOut(){return lE(this.auth)}getUserRole(){return ng(this.auth).pipe(ke(n=>{if(n){let r=Ur(this.firestore,`users/${n.email}`);return ie(hT(r)).pipe(ft(o=>o.exists()?o.data().role:"user"))}else return G("user")}))}};t.\u0275fac=function(r){return new(r||t)(R(Ar),R(rn),R(QS))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var JS=(()=>{let t=class t{constructor(n,r,o,s){this.document=n,this.renderer=r,this.customizationService=o,this.authService=s,this.subdomain="",this.about=""}openSignIn(){this.authService.openAuthDialog()}onWindowScroll(){let n=document.getElementById("header"),r=document.getElementById("sticky-nav"),o=document.getElementById("spacer"),s=window.pageYOffset;if(n&&o){let c=n.offsetHeight-60,l=Math.max(32,50-18*(s/c)),d=Math.min(s);n.querySelector("h1").style.fontSize=`${l}px`,o.style.height=`${d}px`,n.style.opacity=s>=c?"0":"1"}r&&(r.style.opacity=s>=(n?.offsetHeight||0)-60?"1":"0")}ngOnInit(){return b(this,null,function*(){if(typeof window<"u"){this.subdomain=this.customizationService.getSubdomainFromUrl();try{let n=yield this.customizationService.getCustomization(this.subdomain);n&&(this.subdomain=n.websiteTitle),n.themeColor?this.setThemeColor(n.themeColor):this.setThemeColor("#027359"),n.about?this.about=n.about:this.about="Welcome to "+this.subdomain}catch(n){console.error("Error fetching customization data:",n)}}})}setThemeColor(n){this.renderer.setStyle(this.document.documentElement,"--primary-color",n),this.document.documentElement.style.setProperty("--primary-color",n),setTimeout(()=>{let r=getComputedStyle(this.document.documentElement)},1e3)}};t.\u0275fac=function(r){return new(r||t)(A(Z),A(oo),A(Yn),A(ks))},t.\u0275cmp=rt({type:t,selectors:[["app-home"]],hostBindings:function(r,o){r&1&&yt("scroll",function(){return o.onWindowScroll()},!1,Uy)},standalone:!0,features:[ot],decls:21,vars:3,consts:[[1,"container"],["id","header",1,"float-header"],["id","spacer"],["id","institute-name"],["id","sticky-nav",1,"sticky-nav"],["id","main-content",1,"main"],[1,"about"],[1,"about_content"],[1,"news-content",3,"innerHTML"],["mat-flat-button","","color","primary"],["mat-stroked-button","",3,"click"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"header",1),dt(2,"div",2),F(3,"h1",3),K(4),N()(),F(5,"nav",4)(6,"h1"),K(7),N()(),F(8,"main",5),dt(9,"mat-divider"),F(10,"div",6)(11,"div",7)(12,"h1"),K(13,"About us"),N(),dt(14,"div",8),F(15,"div")(16,"button",9),K(17,"Enroll now"),N(),F(18,"button",10),yt("click",function(){return o.openSignIn()}),K(19,"Sign In"),N()()()(),dt(20,"app-news-events"),N()()),r&2&&(W(4),gn(" ",o.subdomain," "),W(3),gn(" ",o.subdomain," "),W(7),xt("innerHTML",o.about,io))},dependencies:[qS,Io,Mi,Sc,os],styles:["[_ngcontent-%COMP%]:root{--primary-color: #333}.container[_ngcontent-%COMP%]{padding-bottom:50vh}.float-header[_ngcontent-%COMP%]{height:70vh;background-color:var(--primary-color);display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;transition:opacity .02s,font-size .1s}.float-header[_ngcontent-%COMP%]   #spacer[_ngcontent-%COMP%]{height:0;transition:height .1s}.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-transform:capitalize;font-family:Inter,sans-serif;font-size:50px;color:#fff;transition:font-size .1s;margin:0}@media screen and (max-width: 425px){.float-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:50px}}.sticky-nav[_ngcontent-%COMP%]{position:fixed;top:0;width:100%;background-color:var(--primary-color);display:flex;justify-content:center;align-items:center;height:60px;z-index:1000;opacity:0;transition:opacity .02s;box-shadow:0 1px 2px #0000004d,0 1px 3px 1px #0000004d}.sticky-nav[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;color:#fff;margin:0}.about[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:200px 16px 150px}.about[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin:12px 0 36px}.about[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:32px 12px 0 0;font-size:18px}.about[_ngcontent-%COMP%]   .about_content[_ngcontent-%COMP%]{max-width:1020px;font-family:Inter,sans-serif;font-size:20px;font-weight:500;line-height:30px}"]});let e=t;return e})();var tR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=rt({type:t,selectors:[["app-dashboard"]],standalone:!0,features:[ot],decls:2,vars:0,template:function(r,o){r&1&&(F(0,"p"),K(1,"dashboard works!"),N())}});let e=t;return e})();var eR=(()=>{let t=class t{constructor(n,r){this.router=n,this._location=r}backClicked(){this._location.back()}};t.\u0275fac=function(r){return new(r||t)(A(de),A(Xe))},t.\u0275cmp=rt({type:t,selectors:[["app-error-404"]],standalone:!0,features:[ot],decls:19,vars:1,consts:[[1,"content"],["href","/home"],[3,"click"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"h1")(2,"b")(3,"u"),K(4,"Error 404"),N(),K(5," : "),N(),K(6," You tried looking for "),F(7,"span"),K(8),N(),K(9," page"),N(),F(10,"h1"),K(11,"Sorry, we couldn't find the requested resource :("),N(),F(12,"a",1)(13,"p"),K(14,"Click here to go to home page"),N()(),F(15,"p"),K(16,"OR"),N(),F(17,"button",2),yt("click",function(){return o.backClicked()}),K(18,"Go back"),N()()),r&2&&(W(8),Sn(o.router.url))},styles:[".content[_ngcontent-%COMP%]{min-height:60vh;text-align:justify;padding:100px 20px;flex-direction:column;justify-content:center;align-items:center;display:flex}span[_ngcontent-%COMP%]{color:#044;background-color:#faebd7;padding:4px}p[_ngcontent-%COMP%]{margin-top:20px}"]});let e=t;return e})();var nR=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:JS},{path:"dashboard",component:tR},{path:"add-news",component:$S},{path:"view-news/:title",component:ZT},{path:"**",component:eR}];var lq="@",dq=(()=>{let t=class t{constructor(n,r,o,s,c){this.doc=n,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=V(By,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-GCGUH46T.js")).catch(r=>{throw new Dt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(n,r){let o=this.delegate.createRenderer(n,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new vv(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(n,r);s.use(l)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(r){ro()},t.\u0275prov=U({token:t,factory:t.\u0275fac});let e=t;return e})(),vv=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let i of this.replay)i(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,i){return this.delegate.createElement(t,i)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,i){this.delegate.appendChild(t,i)}insertBefore(t,i,n,r){this.delegate.insertBefore(t,i,n,r)}removeChild(t,i,n){this.delegate.removeChild(t,i,n)}selectRootElement(t,i){return this.delegate.selectRootElement(t,i)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,i,n,r){this.delegate.setAttribute(t,i,n,r)}removeAttribute(t,i,n){this.delegate.removeAttribute(t,i,n)}addClass(t,i){this.delegate.addClass(t,i)}removeClass(t,i){this.delegate.removeClass(t,i)}setStyle(t,i,n,r){this.delegate.setStyle(t,i,n,r)}removeStyle(t,i,n){this.delegate.removeStyle(t,i,n)}setProperty(t,i,n){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(t,i,n)),this.delegate.setProperty(t,i,n)}setValue(t,i){this.delegate.setValue(t,i)}listen(t,i,n){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(t,i,n)),this.delegate.listen(t,i,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(lq)}};function iR(e="animations"){return bl("NgAsyncAnimations"),We([{provide:_l,useFactory:(t,i,n)=>new dq(t,i,n,e),deps:[Z,Fl,q]},{provide:ze,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var rR={production:!0,firebaseConfig:{apiKey:"AIzaSyATgCP-L090V221ytPLZS3IWmrP5mBQpcs",authDomain:"growth-tutorials-saas.firebaseapp.com",projectId:"growth-tutorials-saas",storageBucket:"growth-tutorials-saas.appspot.com",messagingSenderId:"112132007998",appId:"1:112132007998:web:a21348190de17b6e0f896f",measurementId:"G-7170ZK3RHF"}};var oR={providers:[T0(),iR(),gx(()=>_x(rR.firebaseConfig)),sE(()=>aE()),lT(()=>fT()),hw(nR)]};var uq=["*",[["mat-toolbar-row"]]],hq=["*","mat-toolbar-row"],fq=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=tt({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0});let e=t;return e})(),sR=(()=>{let t=class t{constructor(n,r,o){this._elementRef=n,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}};t.\u0275fac=function(r){return new(r||t)(A(mt),A(Et),A(Z))},t.\u0275cmp=rt({type:t,selectors:[["mat-toolbar"]],contentQueries:function(r,o,s){if(r&1&&pn(s,fq,5),r&2){let c;jt(c=Ut())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){r&2&&(vl(o.color?"mat-"+o.color:""),Rt("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",o._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[ot],ngContentSelectors:hq,decls:2,vars:0,template:function(r,o){r&1&&(an(uq),Vt(0),Vt(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0});let e=t;return e})();var aR=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275mod=ht({type:t}),t.\u0275inj=ut({imports:[oe,oe]});let e=t;return e})();function pq(e,t){if(e&1){let i=Ye();F(0,"li")(1,"input",7),yt("change",function(){let r=Me(i).$implicit,o=At(2);return Ne(o.markAsCompleted(r.id))}),N(),K(2),N()}if(e&2){let i=t.$implicit;W(),xt("checked",i.completed),W(),gn(" ",i.text," ")}}function gq(e,t){if(e&1){let i=Ye();F(0,"div",3)(1,"ul"),gt(2,pq,3,2,"li",4),N(),F(3,"input",5),xl("ngModelChange",function(r){Me(i);let o=At();return wl(o.newObservation,r)||(o.newObservation=r),Ne(r)}),N(),F(4,"button",6),yt("click",function(){Me(i);let r=At();return Ne(r.addObservation())}),K(5,"Add"),N()()}if(e&2){let i=At();W(2),xt("ngForOf",i.observations),W(),yl("ngModel",i.newObservation)}}var cR=(()=>{let t=class t{constructor(n,r,o){this.firestore=n,this.route=r,this.router=o,this.observations=[],this.newObservation="",this.pageUrl="",this.expanded=!1}ngOnInit(){this.pageUrl=this.router.url,this.loadObservations()}loadObservations(){return b(this,null,function*(){let n=Gn(this.firestore,"observations"),r=mi(n,es("page","==",this.pageUrl)),o=yield ts(r);this.observations=o.docs.map(s=>M({id:s.id},s.data()))})}addObservation(){return b(this,null,function*(){this.newObservation.trim()&&(yield zu(Gn(this.firestore,"observations"),{page:this.pageUrl,text:this.newObservation,completed:!1}),this.newObservation="",this.loadObservations())})}markAsCompleted(n){return b(this,null,function*(){let r=Ur(this.firestore,"observations",n);yield mT(r,{completed:!0}),this.loadObservations()})}toggleList(){this.expanded=!this.expanded}};t.\u0275fac=function(r){return new(r||t)(A(rn),A(tn),A(de))},t.\u0275cmp=rt({type:t,selectors:[["app-observation-list"]],standalone:!0,features:[ot],decls:4,vars:3,consts:[[1,"observation-list"],[1,"header",3,"click"],["class","content",4,"ngIf"],[1,"content"],[4,"ngFor","ngForOf"],["type","text","placeholder","Add new observation",3,"ngModelChange","ngModel"],[3,"click"],["type","checkbox",3,"change","checked"]],template:function(r,o){r&1&&(F(0,"div",0)(1,"div",1),yt("click",function(){return o.toggleList()}),K(2,"Observation List"),N(),gt(3,gq,6,2,"div",2),N()),r&2&&(Rt("expanded",o.expanded),W(3),xt("ngIf",o.expanded))},dependencies:[ge,Al,Si,ps,hs,ms,Lc],styles:[".observation-list[_ngcontent-%COMP%]{position:fixed;bottom:50px;right:10px;width:300px;background:#fff;box-shadow:0 0 10px #0000001a;border-radius:5px;transition:transform .3s ease;transform:translateY(100%)}.observation-list.expanded[_ngcontent-%COMP%]{transform:translateY(0)}.observation-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:10px;background:#3f51b5;color:#fff;cursor:pointer}.observation-list[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{padding:10px}.observation-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.observation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:5px}.observation-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-right:10px}"]});let e=t;return e})();function _q(e,t){if(e&1){let i=Ye();F(0,"mat-toolbar",3)(1,"a",4),K(2),N(),F(3,"span",5),yt("click",function(){Me(i);let r=At(2);return Ne(r.openSignIn())}),K(4," Sign In "),N()()}if(e&2){let i=At(2);W(2),gn(" ",i.title,"")}}function bq(e,t){e&1&&dt(0,"app-observation-list")}function vq(e,t){if(e&1&&(F(0,"div"),gt(1,_q,5,1,"mat-toolbar",1),F(2,"content"),dt(3,"router-outlet"),N(),F(4,"div",2),K(5,"GT Gurukul \xA9 2024"),N(),gt(6,bq,1,0,"app-observation-list",0),N()),e&2){let i=At();W(),xt("ngIf",i.checkhome()),W(5),xt("ngIf",i.showObservationList)}}var lR=(()=>{let t=class t{constructor(n,r,o,s,c,l,d,f){this.customizationService=n,this.titleService=r,this.location=o,this.router=s,this.viewportScroller=c,this._snackBar=l,this.route=d,this.authService=f,this.title="",this.themeColor="#3f51b5",this.header="defaultHeader",this.location_path="",this.subdomainChecked=!1,this.showObservationList=!1,console.log("AppComponent constructor")}openSignIn(){this.authService.openAuthDialog()}openSnackBar(n,r){this._snackBar.open(n,r)}ngOnInit(){return b(this,null,function*(){this.router.events.pipe(qt(r=>r instanceof _n)).subscribe(()=>{this.viewportScroller.scrollToPosition([0,0])});let n="";typeof window<"u"&&(n=this.customizationService.getSubdomainFromUrl());try{let r=yield this.customizationService.getCustomization(n);r&&(this.title=r.websiteTitle,this.themeColor=r.themeColor,this.header=r.header,this.applyThemeColor(),this.setTitle(r.websiteTitle),console.log(r.status),r.status==="disabled"||r.status==="pending"?this.redirectToRegistration(n):this.subdomainChecked=!0)}catch(r){r.message==="Subdomain not registered"?this.redirectToRegistration(n):console.error(r)}this.route.queryParams.subscribe(r=>{console.log(r.obsl),this.showObservationList=r.obsl==="1"})})}checkhome(){return!(this.location.path()=="/home"||this.location.path()=="/"||this.location.path().includes("/home"))}applyThemeColor(){let n=document.querySelector("meta[name=theme-color]");if(document.documentElement.style.setProperty("--theme-color",this.themeColor),n)n.setAttribute("content",this.themeColor);else{let r=document.createElement("meta");r.name="theme-color",r.content=this.themeColor,document.getElementsByTagName("head")[0].appendChild(r)}}setTitle(n){this.titleService.setTitle(n)}redirectToRegistration(n){window.location.href=`https://register.growthtutorials.in/register?request=${n}`}redirectToInstitutes(n){window.location.href=`https://register.growthtutorials.in/institutes?request=${n}`}};t.\u0275fac=function(r){return new(r||t)(A(Yn),A(Vl),A(Xe),A(de),A(Dl),A(Zu),A(tn),A(ks))},t.\u0275cmp=rt({type:t,selectors:[["app-root"]],standalone:!0,features:[ot],decls:1,vars:1,consts:[[4,"ngIf"],["class","navbar",4,"ngIf"],[1,"footer"],[1,"navbar"],["href","home"],[3,"click"]],template:function(r,o){r&1&&gt(0,vq,7,2,"div",0),r&2&&xt("ngIf",o.subdomainChecked)},dependencies:[Rm,aR,sR,ge,Si,$h,cR],styles:["[_ngcontent-%COMP%]:root{--theme-color: #3f51b5}.navbar[_ngcontent-%COMP%]{border-top:8px solid var(--theme-color);color:var(--theme-color);padding:0 24px;font-size:24px;position:sticky;top:0;z-index:1000;transition:opacity .02s;box-shadow:0 1px 2px #0000001a,0 1px 3px 1px #0000001a;display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:inherit}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-family:Lucida Sans,Lucida Sans Regular,Lucida Grande,Lucida Sans Unicode,Geneva,Verdana,sans-serif;cursor:pointer;color:#00f;font-weight:100}.navbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{text-decoration:underline}.logo[_ngcontent-%COMP%]{height:36px;width:36px;border-radius:50%;float:left;padding:0 8px 0 0;margin-top:-2px}content[_ngcontent-%COMP%]{min-height:89vh;display:block}.footer[_ngcontent-%COMP%]{text-align:center;background-color:#00000003;padding:8px 0;box-shadow:0 0 1px #0003;border-bottom:16px solid #1b1b1b}@media screen and (max-width: 425px){.footer[_ngcontent-%COMP%]{margin:100px 0 0}}"]});let e=t;return e})();I0(lR,oR).catch(e=>console.error(e));
